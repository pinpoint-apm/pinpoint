/*! pinpoint - v1.5.2 - 2016-03-15 - go + snap.svg + d3 + amcharts*//*
 * GoJS v1.5.19 JavaScript Library for HTML Diagrams
 * Northwoods Software, http://www.nwoods.com/
 * GoJS and Northwoods Software are registered trademarks of Northwoods Software Corporation.
 * Copyright (C) 1998-2016 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: http://www.gojs.net/1.5.19/doc/license.html.
 */
(function(window) { var g,da={};if(!window.document||void 0===window.document.createElement("canvas").getContext)throw window.console&&window.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");
	Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return f.apply(a,e.concat(d.call(arguments)))}function c(){}var d=Array.prototype.slice,e=d.call(arguments,1),f=this;c.prototype=this.prototype;b.prototype=new c;return b});
	(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),f=Math.max(8,16-(c-a)),h=window.setTimeout(function(){b(c+f)},f);a=c+f;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
		function(a){window.clearTimeout(a)})})();da.Debug=null;
	var u={Xc:1,Ec:2,Nc:4,Mc:8,Em:void 0!==window.navigator&&0<window.navigator.userAgent.indexOf("534.30")&&0<window.navigator.userAgent.indexOf("Android"),aH:void 0!==window.navigator&&0<window.navigator.userAgent.indexOf("MSIE 10.0"),bH:void 0!==window.navigator&&0<window.navigator.userAgent.indexOf("Trident/7"),GJ:void 0!==window.navigator&&0<window.navigator.userAgent.indexOf("Edge/"),Fm:void 0!==window.navigator&&void 0!==window.navigator.platform&&0<=window.navigator.platform.toUpperCase().indexOf("MAC"),
		MD:void 0!==window.navigator&&void 0!==window.navigator.platform&&null!==window.navigator.platform.match(/(iPhone|iPod|iPad)/i),gD:function(a,b,c){var d=-1;return function(){var e=this,f=arguments;-1!==d&&u.clearTimeout(d);d=u.setTimeout(function(){d=-1;c||a.apply(e,f)},b);c&&!d&&a.apply(e,f)}},setTimeout:function(a,b){return window.setTimeout(a,b)},clearTimeout:function(a){window.clearTimeout(a)},setInterval:function(a,b){return window.setInterval(a,b)},clearInterval:function(a){window.clearInterval(a)},
		createElement:function(a){return window.document.createElement(a)},k:function(a){throw Error(a);},J:function(a,b){if(a.Ea){var c="The object is frozen, so its properties cannot be set: "+a.toString();void 0!==b&&(c+="  to value: "+b);u.k(c)}},C:function(a,b,c,d){a instanceof b||(c=u.getTypeName(c),void 0!==d&&(c+="."+d),u.Kd(a,b,c))},j:function(a,b,c,d){typeof a!==b&&(c=u.getTypeName(c),void 0!==d&&(c+="."+d),u.Kd(a,b,c))},ze:function(a,b,c){"number"===typeof a&&isFinite(a)||(b=u.getTypeName(b),void 0!==
		c&&(b+="."+c),u.k(b+" must be a real number type, and not NaN or Infinity: "+a))},rb:function(a,b,c,d){a instanceof ea&&a.Ae===b||(c=u.getTypeName(c),void 0!==d&&(c+="."+d),u.Kd(a,"a constant of class "+u.sg(b),c))},eJ:function(a,b){"string"===typeof a?fa(a)||u.k('Color "'+a+'" is not a valid color string for '+b):a instanceof ga||u.k("Value for "+b+" must be a color string or a Brush, not "+a)},Kd:function(a,b,c,d){b=u.getTypeName(b);c=u.getTypeName(c);void 0!==d&&(c+="."+d);"string"===typeof a?
			u.k(c+" value is not an instance of "+b+': "'+a+'"'):u.k(c+" value is not an instance of "+b+": "+a)},xa:function(a,b,c,d){c=u.getTypeName(c);void 0!==d&&(c+="."+d);u.k(c+" is not in the range "+b+": "+a)},Wc:function(a){u.k(u.sg(a)+" constructor cannot take any arguments.")},Nb:function(a){u.k("Collection was modified during iteration: "+a.toString()+"\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration.")},
		trace:function(a){window.console&&window.console.log(a)},Ta:function(a){return"object"===typeof a&&null!==a},isArray:function(a){return Array.isArray(a)||a instanceof NodeList||a instanceof HTMLCollection},dH:function(a){return Array.isArray(a)},Ry:function(a,b,c){u.isArray(a)||u.Kd(a,"Array or NodeList or HTMLCollection",b,c)},qb:function(a){return a.length},Pk:function(a){return Array.prototype.slice.call(a)},hb:function(a,b){Array.isArray(a);return a[b]},RC:function(a,b,c){Array.isArray(a)?a[b]=
			c:u.k("Cannot replace an object in an HTMLCollection or NodeList at "+b)},Qy:function(a,b){if(Array.isArray(a))return a.indexOf(b);for(var c=a.length,d=0;d<c;d++)if(a[d]===b)return d;return-1},zi:function(a,b,c){Array.isArray(a)?b>=a.length?a.push(c):a.splice(b,0,c):u.k("Cannot insert an object into an HTMLCollection or NodeList: "+c+" at "+b)},Ai:function(a,b){Array.isArray(a)?b>=a.length?a.pop():a.splice(b,1):u.k("Cannot remove an object from an HTMLCollection or NodeList at "+b)},Yw:[],K:function(){var a=
			u.Yw.pop();return void 0===a?new w:a},fc:function(a,b){var c=u.Yw.pop();if(void 0===c)return new w(a,b);c.x=a;c.y=b;return c},v:function(a){u.Yw.push(a)},yA:[],ul:function(){var a=u.yA.pop();return void 0===a?new ia:a},Oj:function(a){u.yA.push(a)},Zw:[],Sf:function(){var a=u.Zw.pop();return void 0===a?new z:a},Vj:function(a,b,c,d){var e=u.Zw.pop();if(void 0===e)return new z(a,b,c,d);e.x=a;e.y=b;e.width=c;e.height=d;return e},ic:function(a){u.Zw.push(a)},zA:[],lh:function(){var a=u.zA.pop();return void 0===
		a?new ja:a},Ye:function(a){u.zA.push(a)},$w:null,p:function(){var a=u.$w;return null!==a?(u.$w=null,a):new ka},q:function(a){a.reset();u.$w=a},xA:[],gb:function(){var a=u.xA.pop();return void 0===a?[]:a},sa:function(a){a.length=0;u.xA.push(a)},nh:Object.freeze([]),xl:1,gc:function(a){a.__gohashid=u.xl++},Js:function(a){var b=a.__gohashid;void 0===b&&(b=u.xl++,a.__gohashid=b);return b},Uc:function(a){return a.__gohashid},fa:function(a,b){b.jx=a;da[a]=b},Ia:function(a,b){function c(){}c.prototype=b.prototype;
			a.prototype=new c;a.prototype.constructor=a},Nh:function(a){a.AF=!0},defineProperty:function(a,b,c,d,e){u.j(a,"function","Util.defineProperty:classfunc");u.j(b,"object","Util.defineProperty:propobj");u.j(c,"function","Util.defineProperty:getter");u.j(d,"function","Util.defineProperty:setter");for(var f in b){b=b[f];c={get:c,set:d};if(void 0!==e)for(var h in e)c[h]=e[h];Object.defineProperty(a.prototype,f,c);e=Object.getOwnPropertyDescriptor(a.prototype,f);b&&e&&Object.defineProperty(a.prototype,b,
			e);break}},GI:!1,u:function(a,b,c,d){u.j(a,"function","Util.defineReadOnlyProperty:classfunc");u.j(b,"object","Util.defineReadOnlyProperty:propobj");u.j(c,"function","Util.defineReadOnlyProperty:getter");for(var e in b){var f=b[e];b={get:c,set:function(a){u.k('The property "'+f+'" is read-only and cannot be set to '+a)}};if(void 0!==d)for(var h in d)b[h]=d[h];Object.defineProperty(a.prototype,e,b);d=Object.getOwnPropertyDescriptor(a.prototype,e);f&&d&&Object.defineProperty(a.prototype,f,d);break}},
		Xd:function(a,b){for(var c in b)b[c]=!0;a.prototype.UB=b},getTypeName:function(a){return void 0===a?"":"string"===typeof a?a:"function"===typeof a?u.sg(a):null===a?"*":""},sg:function(a){if("function"===typeof a){if(a.jx)return a.jx;if(a.name)return a.name;var b=a.toString(),c=b.indexOf("("),b=b.substring(9,c).trim();if(""!==b)return a.jx=b}else if("object"===typeof a&&a.constructor)return u.sg(a.constructor);return typeof a},s:function(a,b,c){u.j(a,"function","Util.defineEnumValue:classfunc");u.j(b,
			"string","Util.defineEnumValue:name");u.j(c,"number","Util.defineEnumValue:num");c=new ea(a,b,c);Object.freeze(c);a[b]=c;var d=a.Et;d instanceof la||(d=new la("string",ea),a.Et=d);d.add(b,c);return c},sb:function(a,b){if(!a||!b)return null;var c=void 0;try{"function"===typeof b?c=b(a):"function"===typeof a.getAttribute?(c=a.getAttribute(b),null===c&&(c=void 0)):c=a[b]}catch(d){}return c},Pa:function(a,b,c){if(a&&b)try{"function"===typeof b?b(a,c):"function"===typeof a.setAttribute?a.setAttribute(b,
			c):a[b]=c}catch(d){}},pt:function(a,b){u.j(a,"object","Setting properties requires Objects as arguments");u.j(b,"object","Setting properties requires Objects as arguments");var c=a instanceof B,d=a instanceof D,e;for(e in b){""===e&&u.k("Setting properties requires non-empty property names");var f=a,h=e;if(c||d){var k=e.indexOf(".");if(0<k){var l=e.substring(0,k);if(c)f=a.je(l);else if(f=a[l],void 0===f||null===f)f=a.tb[l];u.Ta(f)?h=e.substr(k+1):u.k("Unable to find object named: "+l+" in "+a.toString()+
			" when trying to set property: "+e)}}if("_"!==h[0]&&!u.kz(f,h))if(d&&u.kz(a.tb,h))f=a.tb;else if(d&&ma(a,h)){a.Ly(h,b[h]);continue}else u.k('Trying to set undefined property "'+h+'" on object: '+f.toString());f[h]=b[e];"_"===h[0]&&(k=f.Cl,u.isArray(k)||(k=[],f.Cl=k),k.push(h))}},kz:function(a,b){if(a.hasOwnProperty(b))return!0;for(var c=Object.getPrototypeOf(a);c&&c!==Function;){if(c.hasOwnProperty(b))return!0;var d=c.UB;if(d&&d[b])return!0;c=Object.getPrototypeOf(c)}return!1},VC:function(a,b){if(!u.Ta(b)||
			b instanceof Element||b instanceof CanvasRenderingContext2D||b instanceof oa||b instanceof pa)return"";var c="",d;for(d in b)if("string"!==typeof d)""===c&&(c=b+"\n"),c+="  "+d+" is not a string property\n";else if("_"!==d.charAt(0)&&!(2>=d.length)){var e=u.sb(b,d);null===e||"function"===typeof e||u.kz(b,d)||(""===c&&(c=b+"\n"),c+='  unknown property "'+d+'" has value: '+e+" at "+a+"\n")}return c},Mv:function(a,b){if(null!==b&&"number"!==typeof b&&"string"!==typeof b&&"boolean"!==typeof b&&"function"!==
			typeof b)if(void 0!==u.Uc(b)){if(!u.dv.contains(b))if(u.dv.add(b),u.Lu.add(u.VC(a,b)),b instanceof E||b instanceof F||b instanceof la)for(var c=b.i;c.next();)u.Mv(a+"["+c.key+"]",c.value);else for(c in b){var d=u.sb(b,c);if(void 0!==d&&null!==d&&u.Ta(d)&&d!==b.UB){if(b instanceof qa){if(d===b.ej)continue}else if(b instanceof B){if("data"===c||d===b.sh)continue;if("itemArray"===c||d===b.hi)continue;if(b instanceof G&&d===b.Bk)continue}else if(!(b instanceof D))if(b instanceof sa){if("archetypeGroupData"===
			c||d===b.ex)continue}else if(b instanceof ua){if("archetypeLinkData"===c||d===b.hx)continue;if("archetypeLabelNodeData"===c||d===b.gx)continue}else if(b instanceof va){if("archetypeNodeData"===c||d===b.ik)continue}else if(b instanceof J){if("nodeDataArray"===c||d===b.nf)continue;if("linkDataArray"===c||d===b.Dh||d===b.Sl)continue;if(d===b.sc)continue;if(d===b.wh)continue}else if(b instanceof xa||b instanceof ya||b instanceof Aa)continue;u.Mv(a+"."+c,d)}}}else if(Array.isArray(b))for(c=0;c<b.length;c++)u.Mv(a+
			"["+c+"]",b[c]);else u.Lu.add(u.VC(a,b))},check:function(a){void 0===u.dv?u.dv=new F(Object):u.dv.clear();u.Lu=new Ba;u.Mv("",a);a=u.Lu.toString();u.Lu=null;return a},PH:function(a){for(var b=[],c=0;256>c;c++)b[c]=c;for(var d=0,e=0,c=0;256>c;c++)d=(d+b[c]+119)%256,e=b[c],b[c]=b[d],b[d]=e;for(var d=c=0,f="",h=0;h<a.length;h++)c=(c+1)%256,d=(d+b[c])%256,e=b[c],b[c]=b[d],b[d]=e,f+=String.fromCharCode(a.charCodeAt(h)^b[(b[c]+b[d])%256]);return f},PG:function(a){for(var b=[],c=0;256>c;c++)b["0123456789abcdef".charAt(c>>
			4)+"0123456789abcdef".charAt(c&15)]=String.fromCharCode(c);a.length%2&&(a="0"+a);for(var d=[],e=0,c=0;c<a.length;c+=2)d[e++]=b[a.substr(c,2)];a=d.join("");return""===a?"0":a},Fa:function(a){return u.PH(u.PG(a))},wl:null,adym:"7da71ca0ad381e90",XF:"@COLOR1",YF:"@COLOR2"};
	u.wl=function(){var a=window.document.createElement("canvas"),b=a.getContext("2d");b[u.Fa("7ca11abfd022028846")]=u.Fa("398c3597c01238");for(var c=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22412913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],d=1;5>d;d++)b[u.Fa("7ca11abfd7330390")](u.Fa(c[d-1]),10,15*d+0);b[u.Fa("7ca11abfd022028846")]=u.Fa("39f046ebb36e4b");for(d=1;5>d;d++)b[u.Fa("7ca11abfd7330390")](u.Fa(c[d-
	1]),10,15*d+0);if(4!==c.length||"5"!==c[0][0]||"7"!==c[3][0])u.s=function(a,b){var c=new ea(a,b,2);Object.freeze(c);a[b]=c;var d=a.Et;d instanceof la||(d=new la("string",ea),a.Et=d);d.add(b,c);return c};return a}();function ea(a,b,c){u.gc(this);this.HA=a;this.Ub=b;this.FF=c}ea.prototype.toString=function(){return u.sg(this.HA)+"."+this.Ub};u.u(ea,{Ae:"classType"},function(){return this.HA});u.u(ea,{name:"name"},function(){return this.Ub});u.u(ea,{value:"value"},function(){return this.FF});var Da;
	ea.findName=Da=function(a,b){if(null===b||""===b)return null;u.j(a,"function","findName:classfunc");u.j(b,"string","EnumValue.findName:name");var c=a.Et;return c instanceof la?c.ua(b):null};function Ba(){this.FA=[]}Ba.prototype.toString=function(){return this.FA.join("")};Ba.prototype.add=function(a){""!==a&&this.FA.push(a)};function pa(){}
	function Fa(a){void 0===a&&(a=42);this.seed=a;this.Rw=48271;this.Dt=2147483647;this.vA=this.Dt/this.Rw;this.gF=this.Dt%this.Rw;this.cF=1/this.Dt;this.random()}Fa.prototype.random=function(){var a=this.seed%this.vA*this.Rw-this.seed/this.vA*this.gF;this.seed=0<a?a:a+this.Dt;return this.seed*this.cF};function Ha(){}u.u(Ha,{i:"iterator"},function(){return this});Ha.prototype.reset=Ha.prototype.reset=function(){};Ha.prototype.next=Ha.prototype.hasNext=Ha.prototype.next=function(){return!1};
	Ha.prototype.first=Ha.prototype.first=function(){return null};Ha.prototype.any=function(){return!1};Ha.prototype.all=function(){return!0};Ha.prototype.each=function(){};u.u(Ha,{count:"count"},function(){return 0});Ha.prototype.Wf=function(){};Ha.prototype.toString=function(){return"EmptyIterator"};var Ia=new Ha;function Ja(a){this.key=-1;this.value=a}u.Xd(Ja,{key:!0,value:!0});u.u(Ja,{i:"iterator"},function(){return this});Ja.prototype.reset=Ja.prototype.reset=function(){this.key=-1};
	Ja.prototype.next=Ja.prototype.hasNext=Ja.prototype.next=function(){return-1===this.key?(this.key=0,!0):!1};Ja.prototype.first=Ja.prototype.first=function(){this.key=0;return this.value};Ja.prototype.any=function(a){this.key=-1;return a(this.value)};Ja.prototype.all=function(a){this.key=-1;return a(this.value)};Ja.prototype.each=function(a){this.key=-1;a(this.value)};u.u(Ja,{count:"count"},function(){return 1});Ja.prototype.Wf=function(){this.value=null};
	Ja.prototype.toString=function(){return"SingletonIterator("+this.value+")"};function Ka(a){this.yd=a;this.sj=null;this.reset()}u.Xd(Ka,{key:!0,value:!0});u.u(Ka,{i:"iterator"},function(){return this});u.defineProperty(Ka,{Lm:"predicate"},function(){return this.sj},function(a){this.sj=a});Ka.prototype.reset=Ka.prototype.reset=function(){var a=this.yd;a.xd=null;this.Xa=a.U;this.vd=-1};
	Ka.prototype.next=Ka.prototype.hasNext=Ka.prototype.next=function(){var a=this.yd;if(a.U!==this.Xa){if(0>this.key)return!1;u.Nb(a)}var a=a.n,b=a.length,c=++this.vd,d=this.sj;if(null!==d)for(;c<b;){var e=a[c];if(d(e))return this.key=this.vd=c,this.value=e,!0;c++}else{if(c<b)return this.key=c,this.value=a[c],!0;this.Wf()}return!1};
	Ka.prototype.first=Ka.prototype.first=function(){var a=this.yd;this.Xa=a.U;this.vd=0;var a=a.n,b=a.length,c=this.sj;if(null!==c){for(var d=0;d<b;){var e=a[d];if(c(e))return this.key=this.vd=d,this.value=e;d++}return null}return 0<b?(e=a[0],this.key=0,this.value=e):null};Ka.prototype.any=function(a){var b=this.yd;b.xd=null;var c=b.U;this.vd=-1;for(var d=b.n,e=d.length,f=this.sj,h=0;h<e;h++){var k=d[h];if(null===f||f(k)){if(a(k))return!0;b.U!==c&&u.Nb(b)}}return!1};
	Ka.prototype.all=function(a){var b=this.yd;b.xd=null;var c=b.U;this.vd=-1;for(var d=b.n,e=d.length,f=this.sj,h=0;h<e;h++){var k=d[h];if(null===f||f(k)){if(!a(k))return!1;b.U!==c&&u.Nb(b)}}return!0};Ka.prototype.each=function(a){var b=this.yd;b.xd=null;var c=b.U;this.vd=-1;for(var d=b.n,e=d.length,f=this.sj,h=0;h<e;h++){var k=d[h];if(null===f||f(k))a(k),b.U!==c&&u.Nb(b)}};u.u(Ka,{count:"count"},function(){var a=this.sj;if(null!==a){for(var b=0,c=this.yd.n,d=c.length,e=0;e<d;e++)a(c[e])&&b++;return b}return this.yd.n.length});
	Ka.prototype.Wf=function(){this.key=-1;this.value=null;this.Xa=-1;this.sj=null;this.yd.xd=this};Ka.prototype.toString=function(){return"ListIterator@"+this.vd+"/"+this.yd.count};function La(a){this.yd=a;this.reset()}u.Xd(La,{key:!0,value:!0});u.u(La,{i:"iterator"},function(){return this});La.prototype.reset=La.prototype.reset=function(){var a=this.yd;a.Jn=null;this.Xa=a.U;this.vd=a.n.length};
	La.prototype.next=La.prototype.hasNext=La.prototype.next=function(){var a=this.yd;if(a.U!==this.Xa){if(0>this.key)return!1;u.Nb(a)}var b=--this.vd;if(0<=b)return this.key=b,this.value=a.n[b],!0;this.Wf();return!1};La.prototype.first=La.prototype.first=function(){var a=this.yd;this.Xa=a.U;var b=a.n;this.vd=a=b.length-1;return 0<=a?(b=b[a],this.key=a,this.value=b):null};
	La.prototype.any=function(a){var b=this.yd;b.Jn=null;var c=b.U,d=b.n,e=d.length;this.vd=e;for(e-=1;0<=e;e--){if(a(d[e]))return!0;b.U!==c&&u.Nb(b)}return!1};La.prototype.all=function(a){var b=this.yd;b.Jn=null;var c=b.U,d=b.n,e=d.length;this.vd=e;for(e-=1;0<=e;e--){if(!a(d[e]))return!1;b.U!==c&&u.Nb(b)}return!0};La.prototype.each=function(a){var b=this.yd;b.Jn=null;var c=b.U,d=b.n,e=d.length;this.vd=e;for(e-=1;0<=e;e--)a(d[e]),b.U!==c&&u.Nb(b)};u.u(La,{count:"count"},function(){return this.yd.n.length});
	La.prototype.Wf=function(){this.key=-1;this.value=null;this.Xa=-1;this.yd.Jn=this};La.prototype.toString=function(){return"ListIteratorBackwards("+this.vd+"/"+this.yd.count+")"};
	function E(a){u.gc(this);this.Ea=!1;this.n=[];this.U=0;this.Jn=this.xd=null;void 0===a||null===a?this.pa=null:"string"===typeof a?"object"===a||"string"===a||"number"===a||"boolean"===a||"function"===a?this.pa=a:u.xa(a,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"===typeof a?this.pa=a===Object?"object":a===String?"string":a===Number?"number":a===Boolean?"boolean":a===Function?"function":a:u.xa(a,"null, a primitive type name, or a class type",
		"List constructor: type")}u.fa("List",E);E.prototype.Pd=function(){var a=this.U;a++;999999999<a&&(a=0);this.U=a};E.prototype.freeze=E.prototype.freeze=function(){this.Ea=!0;return this};E.prototype.thaw=E.prototype.Ma=function(){this.Ea=!1;return this};E.prototype.toString=function(){return"List("+u.getTypeName(this.pa)+")#"+u.Uc(this)};E.prototype.add=E.prototype.push=E.prototype.add=function(a){null!==a&&(u.J(this,a),this.n.push(a),this.Pd())};
	E.prototype.addAll=E.prototype.Td=function(a){if(null===a)return this;u.J(this);var b=this.n;if(u.isArray(a))for(var c=u.qb(a),d=0;d<c;d++){var e=u.hb(a,d);b.push(e)}else for(a=a.i;a.next();)e=a.value,b.push(e);this.Pd();return this};E.prototype.clear=E.prototype.clear=function(){u.J(this);this.n.length=0;this.Pd()};E.prototype.contains=E.prototype.has=E.prototype.contains=function(a){return null===a?!1:-1!==this.n.indexOf(a)};
	E.prototype.indexOf=E.prototype.indexOf=function(a){return null===a?-1:this.n.indexOf(a)};E.prototype.elt=E.prototype.get=E.prototype.ja=function(a){var b=this.n;(0>a||a>=b.length)&&u.xa(a,"0 <= i < length",E,"elt:i");return b[a]};E.prototype.setElt=E.prototype.set=E.prototype.Cg=function(a,b){var c=this.n;(0>a||a>=c.length)&&u.xa(a,"0 <= i < length",E,"setElt:i");u.J(this,a);c[a]=b};E.prototype.first=E.prototype.first=function(){var a=this.n;return 0===a.length?null:a[0]};
	E.prototype.last=E.prototype.Hd=function(){var a=this.n,b=a.length;return 0<b?a[b-1]:null};E.prototype.pop=E.prototype.pop=function(){u.J(this);var a=this.n;return 0<a.length?a.pop():null};E.prototype.any=function(a){for(var b=this.n,c=this.U,d=b.length,e=0;e<d;e++){if(a(b[e]))return!0;this.U!==c&&u.Nb(this)}return!1};E.prototype.all=function(a){for(var b=this.n,c=this.U,d=b.length,e=0;e<d;e++){if(!a(b[e]))return!1;this.U!==c&&u.Nb(this)}return!0};
	E.prototype.each=function(a){for(var b=this.n,c=this.U,d=b.length,e=0;e<d;e++)a(b[e]),this.U!==c&&u.Nb(this)};E.prototype.insertAt=E.prototype.Yd=function(a,b){0>a&&u.xa(a,">= 0",E,"insertAt:i");u.J(this,a);var c=this.n;a>=c.length?c.push(b):c.splice(a,0,b);this.Pd();return!0};E.prototype.remove=E.prototype["delete"]=E.prototype.remove=function(a){if(null===a)return!1;u.J(this,a);var b=this.n;a=b.indexOf(a);if(-1===a)return!1;a===b.length-1?b.pop():b.splice(a,1);this.Pd();return!0};
	E.prototype.removeAt=E.prototype.jd=function(a){var b=this.n;(0>a||a>=b.length)&&u.xa(a,"0 <= i < length",E,"removeAt:i");u.J(this,a);a===b.length-1?b.pop():b.splice(a,1);this.Pd()};E.prototype.removeRange=E.prototype.removeRange=function(a,b){var c=this.n;(0>a||a>=c.length)&&u.xa(a,"0 <= from < length",E,"elt:from");(0>b||b>=c.length)&&u.xa(b,"0 <= to < length",E,"elt:to");u.J(this,a);var d=c.slice((b||a)+1||c.length);c.length=0>a?c.length+a:a;c.push.apply(c,d);this.Pd()};
	E.prototype.copy=function(){for(var a=new E(this.pa),b=this.n,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};E.prototype.toArray=E.prototype.Ke=function(){for(var a=this.n,b=this.count,c=Array(b),d=0;d<b;d++)c[d]=a[d];return c};E.prototype.toSet=function(){for(var a=new F(this.pa),b=this.n,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};E.prototype.sort=E.prototype.sort=function(a){u.J(this);this.n.sort(a);this.Pd();return this};
	E.prototype.sortRange=E.prototype.jp=function(a,b,c){var d=this.n,e=d.length;void 0===b&&(b=0);void 0===c&&(c=e);u.J(this);var f=c-b;if(1>=f)return this;(0>b||b>=e-1)&&u.xa(b,"0 <= from < length",E,"sortRange:from");if(2===f)return c=d[b],e=d[b+1],0<a(c,e)&&(d[b]=e,d[b+1]=c,this.Pd()),this;if(0===b)if(c>=e)d.sort(a);else for(f=d.slice(0,c),f.sort(a),a=0;a<c;a++)d[a]=f[a];else if(c>=e)for(f=d.slice(b),f.sort(a),a=b;a<e;a++)d[a]=f[a-b];else for(f=d.slice(b,c),f.sort(a),a=b;a<c;a++)d[a]=f[a-b];this.Pd();
		return this};E.prototype.reverse=E.prototype.reverse=function(){u.J(this);this.n.reverse();this.Pd();return this};u.u(E,{count:"count"},function(){return this.n.length});u.u(E,{size:"size"},function(){return this.n.length});u.u(E,{length:"length"},function(){return this.n.length});u.u(E,{i:"iterator"},function(){if(0>=this.n.length)return Ia;var a=this.xd;return null!==a?(a.reset(),a):new Ka(this)});
	u.u(E,{Gm:"iteratorBackwards"},function(){if(0>=this.n.length)return Ia;var a=this.Jn;return null!==a?(a.reset(),a):new La(this)});function Ma(a){this.Gk=a;this.reset()}u.Xd(Ma,{key:!0,value:!0});u.u(Ma,{i:"iterator"},function(){return this});Ma.prototype.reset=Ma.prototype.reset=function(){var a=this.Gk;a.xd=null;this.Xa=a.U;this.Cb=null};
	Ma.prototype.next=Ma.prototype.hasNext=Ma.prototype.next=function(){var a=this.Gk;if(a.U!==this.Xa){if(null===this.key)return!1;u.Nb(a)}var b=this.Cb,b=null===b?a.bb:b.Sb;if(null!==b)return this.Cb=b,this.value=b.value,this.key=b.key,!0;this.Wf();return!1};Ma.prototype.first=Ma.prototype.first=function(){var a=this.Gk;this.Xa=a.U;a=a.bb;if(null!==a){this.Cb=a;var b=a.value;this.key=a.key;return this.value=b}return null};
	Ma.prototype.any=function(a){var b=this.Gk;b.xd=null;var c=b.U;this.Cb=null;for(var d=b.bb;null!==d;){if(a(d.value))return!0;b.U!==c&&u.Nb(b);d=d.Sb}return!1};Ma.prototype.all=function(a){var b=this.Gk;b.xd=null;var c=b.U;this.Cb=null;for(var d=b.bb;null!==d;){if(!a(d.value))return!1;b.U!==c&&u.Nb(b);d=d.Sb}return!0};Ma.prototype.each=function(a){var b=this.Gk;b.xd=null;var c=b.U;this.Cb=null;for(var d=b.bb;null!==d;)a(d.value),b.U!==c&&u.Nb(b),d=d.Sb};u.u(Ma,{count:"count"},function(){return this.Gk.Zc});
	Ma.prototype.Wf=function(){this.value=this.key=null;this.Xa=-1;this.Gk.xd=this};Ma.prototype.toString=function(){return null!==this.Cb?"SetIterator@"+this.Cb.value:"SetIterator"};
	function F(a){u.gc(this);this.Ea=!1;void 0===a||null===a?this.pa=null:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.pa=a:u.xa(a,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"===typeof a?this.pa=a===Object?"object":a===String?"string":a===Number?"number":a:u.xa(a,"null, a primitive type name, or a class type","Set constructor: type");this.$c={};this.Zc=0;this.xd=null;this.U=0;this.Ch=this.bb=null}u.fa("Set",F);
	F.prototype.Pd=function(){var a=this.U;a++;999999999<a&&(a=0);this.U=a};F.prototype.freeze=F.prototype.freeze=function(){this.Ea=!0;return this};F.prototype.thaw=F.prototype.Ma=function(){this.Ea=!1;return this};F.prototype.toString=function(){return"Set("+u.getTypeName(this.pa)+")#"+u.Uc(this)};
	F.prototype.add=F.prototype.add=function(a){if(null===a)return!1;u.J(this,a);var b=a;u.Ta(a)&&(b=u.Js(a));return void 0===this.$c[b]?(this.Zc++,a=new Pa(a,a),this.$c[b]=a,b=this.Ch,null===b?this.bb=a:(a.Vn=b,b.Sb=a),this.Ch=a,this.Pd(),!0):!1};F.prototype.addAll=F.prototype.Td=function(a){if(null===a)return this;u.J(this);if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++)this.add(u.hb(a,c));else for(a=a.i;a.next();)this.add(a.value);return this};
	F.prototype.contains=F.prototype.has=F.prototype.contains=function(a){if(null===a)return!1;var b=a;return u.Ta(a)&&(b=u.Uc(a),void 0===b)?!1:void 0!==this.$c[b]};F.prototype.containsAll=function(a){if(null===a)return!0;for(a=a.i;a.next();)if(!this.contains(a.value))return!1;return!0};F.prototype.containsAny=function(a){if(null===a)return!0;for(a=a.i;a.next();)if(this.contains(a.value))return!0;return!1};F.prototype.first=F.prototype.first=function(){var a=this.bb;return null===a?null:a.value};
	F.prototype.any=function(a){for(var b=this.U,c=this.bb;null!==c;){if(a(c.value))return!0;this.U!==b&&u.Nb(this);c=c.Sb}return!1};F.prototype.all=function(a){for(var b=this.U,c=this.bb;null!==c;){if(!a(c.value))return!1;this.U!==b&&u.Nb(this);c=c.Sb}return!0};F.prototype.each=function(a){for(var b=this.U,c=this.bb;null!==c;)a(c.value),this.U!==b&&u.Nb(this),c=c.Sb};
	F.prototype.remove=F.prototype["delete"]=F.prototype.remove=function(a){if(null===a)return!1;u.J(this,a);var b=a;if(u.Ta(a)&&(b=u.Uc(a),void 0===b))return!1;a=this.$c[b];if(void 0===a)return!1;var c=a.Sb,d=a.Vn;null!==c&&(c.Vn=d);null!==d&&(d.Sb=c);this.bb===a&&(this.bb=c);this.Ch===a&&(this.Ch=d);delete this.$c[b];this.Zc--;this.Pd();return!0};
	F.prototype.removeAll=F.prototype.jE=function(a){if(null===a)return this;u.J(this);if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++)this.remove(u.hb(a,c));else for(a=a.i;a.next();)this.remove(a.value);return this};F.prototype.retainAll=function(a){if(null===a||0===this.count)return this;u.J(this);var b=new F(this.pa);b.Td(a);a=new E(this.pa);for(var c=this.i;c.next();)b.contains(c.value)||a.add(c.value);for(b=a.i;b.next();)this.remove(b.value);return this};
	F.prototype.clear=F.prototype.clear=function(){u.J(this);this.$c={};this.Zc=0;this.Ch=this.bb=null;this.Pd()};F.prototype.copy=function(){var a=new F(this.pa),b=this.$c,c;for(c in b)a.add(b[c].value);return a};F.prototype.toArray=F.prototype.Ke=function(){var a=Array(this.Zc),b=this.$c,c=0,d;for(d in b)a[c]=b[d].value,c++;return a};F.prototype.toList=function(){var a=new E(this.pa),b=this.$c,c;for(c in b)a.add(b[c].value);return a};u.u(F,{count:"count"},function(){return this.Zc});
	u.u(F,{size:"size"},function(){return this.Zc});u.u(F,{i:"iterator"},function(){if(0>=this.Zc)return Ia;var a=this.xd;return null!==a?(a.reset(),a):new Ma(this)});function Qa(a){this.Wa=a;this.reset()}u.Xd(Qa,{key:!0,value:!0});u.u(Qa,{i:"iterator"},function(){return this});Qa.prototype.reset=Qa.prototype.reset=function(){this.Xa=this.Wa.U;this.Cb=null};
	Qa.prototype.next=Qa.prototype.hasNext=Qa.prototype.next=function(){var a=this.Wa;if(a.U!==this.Xa){if(null===this.key)return!1;u.Nb(a)}var b=this.Cb,b=null===b?a.bb:b.Sb;if(null!==b)return this.Cb=b,this.value=this.key=a=b.key,!0;this.Wf();return!1};Qa.prototype.first=Qa.prototype.first=function(){var a=this.Wa;this.Xa=a.U;a=a.bb;return null!==a?(this.Cb=a,this.value=this.key=a=a.key):null};
	Qa.prototype.any=function(a){var b=this.Wa,c=b.U;this.Cb=null;for(var d=b.bb;null!==d;){if(a(d.key))return!0;b.U!==c&&u.Nb(b);d=d.Sb}return!1};Qa.prototype.all=function(a){var b=this.Wa,c=b.U;this.Cb=null;for(var d=b.bb;null!==d;){if(!a(d.key))return!1;b.U!==c&&u.Nb(b);d=d.Sb}return!0};Qa.prototype.each=function(a){var b=this.Wa,c=b.U;this.Cb=null;for(var d=b.bb;null!==d;)a(d.key),b.U!==c&&u.Nb(b),d=d.Sb};u.u(Qa,{count:"count"},function(){return this.Wa.Zc});
	Qa.prototype.Wf=function(){this.value=this.key=null;this.Xa=-1};Qa.prototype.toString=function(){return null!==this.Cb?"MapKeySetIterator@"+this.Cb.value:"MapKeySetIterator"};function Ra(a){u.gc(this);this.Ea=!0;this.Wa=a}u.Ia(Ra,F);Ra.prototype.freeze=function(){return this};Ra.prototype.Ma=function(){return this};Ra.prototype.toString=function(){return"MapKeySet("+this.Wa.toString()+")"};
	Ra.prototype.add=Ra.prototype.set=Ra.prototype.add=function(){u.k("This Set is read-only: "+this.toString());return!1};Ra.prototype.contains=Ra.prototype.has=Ra.prototype.contains=function(a){return this.Wa.contains(a)};Ra.prototype.remove=Ra.prototype["delete"]=Ra.prototype.remove=function(){u.k("This Set is read-only: "+this.toString());return!1};Ra.prototype.clear=Ra.prototype.clear=function(){u.k("This Set is read-only: "+this.toString())};
	Ra.prototype.first=Ra.prototype.first=function(){var a=this.Wa.bb;return null!==a?a.key:null};Ra.prototype.any=function(a){for(var b=this.Wa.bb;null!==b;){if(a(b.key))return!0;b=b.Sb}return!1};Ra.prototype.all=function(a){for(var b=this.Wa.bb;null!==b;){if(!a(b.key))return!1;b=b.Sb}return!0};Ra.prototype.each=function(a){for(var b=this.Wa.bb;null!==b;)a(b.key),b=b.Sb};Ra.prototype.copy=function(){return new Ra(this.Wa)};
	Ra.prototype.toSet=function(){var a=new F(this.Wa.yq),b=this.Wa.$c,c;for(c in b)a.add(b[c].key);return a};Ra.prototype.toArray=Ra.prototype.Ke=function(){var a=this.Wa.$c,b=Array(this.Wa.Zc),c=0,d;for(d in a)b[c]=a[d].key,c++;return b};Ra.prototype.toList=function(){var a=new E(this.pa),b=this.Wa.$c,c;for(c in b)a.add(b[c].key);return a};u.u(Ra,{count:"count"},function(){return this.Wa.Zc});u.u(Ra,{size:"size"},function(){return this.Wa.Zc});
	u.u(Ra,{i:"iterator"},function(){return 0>=this.Wa.Zc?Ia:new Qa(this.Wa)});function Sa(a){this.Wa=a;this.reset()}u.Xd(Sa,{key:!0,value:!0});u.u(Sa,{i:"iterator"},function(){return this});Sa.prototype.reset=Sa.prototype.reset=function(){var a=this.Wa;a.Kn=null;this.Xa=a.U;this.Cb=null};
	Sa.prototype.next=Sa.prototype.hasNext=Sa.prototype.next=function(){var a=this.Wa;if(a.U!==this.Xa){if(null===this.key)return!1;u.Nb(a)}var b=this.Cb,b=null===b?a.bb:b.Sb;if(null!==b)return this.Cb=b,this.value=b.value,this.key=b.key,!0;this.Wf();return!1};Sa.prototype.first=Sa.prototype.first=function(){var a=this.Wa;this.Xa=a.U;a=a.bb;if(null!==a){this.Cb=a;var b=a.value;this.key=a.key;return this.value=b}return null};
	Sa.prototype.any=function(a){var b=this.Wa;b.Kn=null;var c=b.U;this.Cb=null;for(var d=b.bb;null!==d;){if(a(d.value))return!0;b.U!==c&&u.Nb(b);d=d.Sb}return!1};Sa.prototype.all=function(a){var b=this.Wa;b.Kn=null;var c=b.U;this.Cb=null;for(var d=b.bb;null!==d;){if(!a(d.value))return!1;b.U!==c&&u.Nb(b);d=d.Sb}return!0};Sa.prototype.each=function(a){var b=this.Wa;b.Kn=null;var c=b.U;this.Cb=null;for(var d=b.bb;null!==d;)a(d.value),b.U!==c&&u.Nb(b),d=d.Sb};u.u(Sa,{count:"count"},function(){return this.Wa.Zc});
	Sa.prototype.Wf=function(){this.value=this.key=null;this.Xa=-1;this.Wa.Kn=this};Sa.prototype.toString=function(){return null!==this.Cb?"MapValueSetIterator@"+this.Cb.value:"MapValueSetIterator"};function Pa(a,b){this.key=a;this.value=b;this.Vn=this.Sb=null}u.Xd(Pa,{key:!0,value:!0});Pa.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};function Ua(a){this.Wa=a;this.reset()}u.Xd(Ua,{key:!0,value:!0});u.u(Ua,{i:"iterator"},function(){return this});
	Ua.prototype.reset=Ua.prototype.reset=function(){var a=this.Wa;a.xd=null;this.Xa=a.U;this.Cb=null};Ua.prototype.next=Ua.prototype.hasNext=Ua.prototype.next=function(){var a=this.Wa;if(a.U!==this.Xa){if(null===this.key)return!1;u.Nb(a)}var b=this.Cb,b=null===b?a.bb:b.Sb;if(null!==b)return this.Cb=b,this.key=b.key,this.value=b.value,!0;this.Wf();return!1};
	Ua.prototype.first=Ua.prototype.first=function(){var a=this.Wa;this.Xa=a.U;a=a.bb;return null!==a?(this.Cb=a,this.key=a.key,this.value=a.value,a):null};Ua.prototype.any=function(a){var b=this.Wa;b.xd=null;var c=b.U;this.Cb=null;for(var d=b.bb;null!==d;){if(a(d))return!0;b.U!==c&&u.Nb(b);d=d.Sb}return!1};Ua.prototype.all=function(a){var b=this.Wa;b.xd=null;var c=b.U;this.Cb=null;for(var d=b.bb;null!==d;){if(!a(d))return!1;b.U!==c&&u.Nb(b);d=d.Sb}return!0};
	Ua.prototype.each=function(a){var b=this.Wa;b.xd=null;var c=b.U;this.Cb=null;for(var d=b.bb;null!==d;)a(d),b.U!==c&&u.Nb(b),d=d.Sb};u.u(Ua,{count:"count"},function(){return this.Wa.Zc});Ua.prototype.Wf=function(){this.value=this.key=null;this.Xa=-1;this.Wa.xd=this};Ua.prototype.toString=function(){return null!==this.Cb?"MapIterator@"+this.Cb:"MapIterator"};
	function la(a,b){u.gc(this);this.Ea=!1;void 0===a||null===a?this.yq=null:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.yq=a:u.xa(a,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"===typeof a?this.yq=a===Object?"object":a===String?"string":a===Number?"number":a:u.xa(a,"null, a primitive type name, or a class type","Map constructor: keytype");void 0===b||null===b?this.vv=null:"string"===typeof b?"object"===b||"string"===b||"boolean"===b||"number"===
	b||"function"===b?this.vv=b:u.xa(b,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"===typeof b?this.vv=b===Object?"object":b===String?"string":b===Number?"number":b===Boolean?"boolean":b===Function?"function":b:u.xa(b,"null, a primitive type name, or a class type","Map constructor: valtype");this.$c={};this.Zc=0;this.Kn=this.xd=null;this.U=0;this.Ch=this.bb=null}u.fa("Map",la);
	la.prototype.Pd=function(){var a=this.U;a++;999999999<a&&(a=0);this.U=a};la.prototype.freeze=la.prototype.freeze=function(){this.Ea=!0;return this};la.prototype.thaw=la.prototype.Ma=function(){this.Ea=!1;return this};la.prototype.toString=function(){return"Map("+u.getTypeName(this.yq)+","+u.getTypeName(this.vv)+")#"+u.Uc(this)};
	la.prototype.add=la.prototype.set=la.prototype.add=function(a,b){u.J(this,a);var c=a;u.Ta(a)&&(c=u.Js(a));var d=this.$c[c];if(void 0===d)return this.Zc++,d=new Pa(a,b),this.$c[c]=d,c=this.Ch,null===c?this.bb=d:(d.Vn=c,c.Sb=d),this.Ch=d,this.Pd(),!0;d.value=b;return!1};la.prototype.addAll=la.prototype.Td=function(a){if(null===a)return this;if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++){var d=u.hb(a,c);this.add(d.key,d.value)}else for(a=a.i;a.next();)this.add(a.key,a.value);return this};
	la.prototype.first=la.prototype.first=function(){return this.bb};la.prototype.any=function(a){for(var b=this.U,c=this.bb;null!==c;){if(a(c))return!0;this.U!==b&&u.Nb(this);c=c.Sb}return!1};la.prototype.all=function(a){for(var b=this.U,c=this.bb;null!==c;){if(!a(c))return!1;this.U!==b&&u.Nb(this);c=c.Sb}return!0};la.prototype.each=function(a){for(var b=this.U,c=this.bb;null!==c;)a(c),this.U!==b&&u.Nb(this),c=c.Sb};
	la.prototype.contains=la.prototype.has=la.prototype.contains=function(a){var b=a;return u.Ta(a)&&(b=u.Uc(a),void 0===b)?!1:void 0!==this.$c[b]};la.prototype.getValue=la.prototype.get=la.prototype.ua=function(a){var b=a;if(u.Ta(a)&&(b=u.Uc(a),void 0===b))return null;a=this.$c[b];return void 0===a?null:a.value};
	la.prototype.remove=la.prototype["delete"]=la.prototype.remove=function(a){if(null===a)return!1;u.J(this,a);var b=a;if(u.Ta(a)&&(b=u.Uc(a),void 0===b))return!1;a=this.$c[b];if(void 0===a)return!1;var c=a.Sb,d=a.Vn;null!==c&&(c.Vn=d);null!==d&&(d.Sb=c);this.bb===a&&(this.bb=c);this.Ch===a&&(this.Ch=d);delete this.$c[b];this.Zc--;this.Pd();return!0};la.prototype.clear=la.prototype.clear=function(){u.J(this);this.$c={};this.Zc=0;this.Ch=this.bb=null;this.Pd()};
	la.prototype.copy=function(){var a=new la(this.yq,this.vv),b=this.$c,c;for(c in b){var d=b[c];a.add(d.key,d.value)}return a};la.prototype.toArray=la.prototype.Ke=function(){var a=this.$c,b=Array(this.Zc),c=0,d;for(d in a){var e=a[d];b[c]=new Pa(e.key,e.value);c++}return b};la.prototype.toKeySet=la.prototype.Oi=function(){return new Ra(this)};u.u(la,{count:"count"},function(){return this.Zc});u.u(la,{size:"size"},function(){return this.Zc});
	u.u(la,{i:"iterator"},function(){if(0>=this.count)return Ia;var a=this.xd;return null!==a?(a.reset(),a):new Ua(this)});u.u(la,{PJ:"iteratorKeys"},function(){return 0>=this.count?Ia:new Qa(this)});u.u(la,{RD:"iteratorValues"},function(){if(0>=this.count)return Ia;var a=this.Kn;return null!==a?(a.reset(),a):new Sa(this)});function w(a,b){void 0===a?this.y=this.x=0:(this.x=a,this.y=b);this.Ea=!1}u.fa("Point",w);u.Nh(w);u.Xd(w,{x:!0,y:!0});w.prototype.assign=function(a){this.x=a.x;this.y=a.y};
	w.prototype.setTo=w.prototype.m=function(a,b){this.x=a;this.y=b;return this};w.prototype.set=w.prototype.set=function(a){this.J();this.x=a.x;this.y=a.y;return this};w.prototype.copy=function(){var a=new w;a.x=this.x;a.y=this.y;return a};g=w.prototype;g.La=function(){this.Ea=!0;Object.freeze(this);return this};g.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()};g.freeze=function(){this.Ea=!0;return this};
	g.Ma=function(){Object.isFrozen(this)&&u.k("cannot thaw constant: "+this);this.Ea=!1;return this};g.J=function(a){if(this.Ea){var b="The Point is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);u.k(b)}};w.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new w(c,e)}return new w};
	w.stringify=function(a){return a instanceof w?a.x.toString()+" "+a.y.toString():a.toString()};w.prototype.toString=function(){return"Point("+this.x+","+this.y+")"};w.prototype.equals=w.prototype.L=function(a){return a instanceof w?this.x===a.x&&this.y===a.y:!1};w.prototype.equalTo=w.prototype.Uv=function(a,b){return this.x===a&&this.y===b};w.prototype.equalsApprox=w.prototype.De=function(a){return K.D(this.x,a.x)&&K.D(this.y,a.y)};
	w.prototype.add=w.prototype.add=function(a){this.J();this.x+=a.x;this.y+=a.y;return this};w.prototype.subtract=w.prototype.wt=function(a){this.J();this.x-=a.x;this.y-=a.y;return this};w.prototype.offset=w.prototype.offset=function(a,b){this.J();this.x+=a;this.y+=b;return this};
	w.prototype.rotate=w.prototype.rotate=function(a){this.J();if(0===a)return this;var b=this.x,c=this.y;if(0===b&&0===c)return this;var d=0,e=0;360<=a?a-=360:0>a&&(a+=360);90===a?(d=0,e=1):180===a?(d=-1,e=0):270===a?(d=0,e=-1):(a=a*Math.PI/180,d=Math.cos(a),e=Math.sin(a));this.x=d*b-e*c;this.y=e*b+d*c;return this};w.prototype.scale=w.prototype.scale=function(a,b){this.x*=a;this.y*=b;return this};w.prototype.distanceSquaredPoint=w.prototype.Lj=function(a){var b=a.x-this.x;a=a.y-this.y;return b*b+a*a};
	w.prototype.distanceSquared=w.prototype.yo=function(a,b){var c=a-this.x,d=b-this.y;return c*c+d*d};w.prototype.normalize=w.prototype.normalize=function(){this.J();var a=this.x,b=this.y,c=Math.sqrt(a*a+b*b);0<c&&(this.x=a/c,this.y=b/c);return this};w.prototype.directionPoint=w.prototype.Gi=function(a){return Va(a.x-this.x,a.y-this.y)};w.prototype.direction=w.prototype.direction=function(a,b){return Va(a-this.x,b-this.y)};
	function Va(a,b){if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;var c=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?c=0>b?c+180:180-c:0>b&&(c=360-c);return c}w.prototype.projectOntoLineSegment=function(a,b,c,d){K.Im(a,b,c,d,this.x,this.y,this);return this};w.prototype.projectOntoLineSegmentPoint=function(a,b){K.Im(a.x,a.y,b.x,b.y,this.x,this.y,this);return this};w.prototype.snapToGrid=function(a,b,c,d){K.ys(this.x,this.y,a,b,c,d,this);return this};
	w.prototype.snapToGridPoint=function(a,b){K.ys(this.x,this.y,a.x,a.y,b.width,b.height,this);return this};w.prototype.setRectSpot=w.prototype.qt=function(a,b){this.J();this.x=a.x+b.x*a.width+b.offsetX;this.y=a.y+b.y*a.height+b.offsetY;return this};w.prototype.setSpot=w.prototype.st=function(a,b,c,d,e){this.J();this.x=a+e.x*c+e.offsetX;this.y=b+e.y*d+e.offsetY;return this};w.prototype.transform=function(a){a.ab(this);return this};function Wa(a,b){b.Qh(a);return a}var Xa;
	w.distanceLineSegmentSquared=Xa=function(a,b,c,d,e,f){var h=e-c,k=f-d,l=h*h+k*k;c-=a;d-=b;var m=-c*h-d*k;if(0>=m||m>=l)return h=e-a,k=f-b,Math.min(c*c+d*d,h*h+k*k);a=h*d-k*c;return a*a/l};var Ya;w.distanceSquared=Ya=function(a,b,c,d){a=c-a;b=d-b;return a*a+b*b};var Za;w.direction=Za=function(a,b,c,d){a=c-a;b=d-b;if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;d=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?d=0>b?d+180:180-d:0>b&&(d=360-d);return d};
	w.prototype.isReal=w.prototype.I=function(){return isFinite(this.x)&&isFinite(this.y)};function ia(a,b){void 0===a?this.height=this.width=0:(this.width=a,this.height=b);this.Ea=!1}u.fa("Size",ia);u.Nh(ia);u.Xd(ia,{width:!0,height:!0});ia.prototype.assign=function(a){this.width=a.width;this.height=a.height};ia.prototype.setTo=ia.prototype.m=function(a,b){this.width=a;this.height=b;return this};ia.prototype.set=ia.prototype.set=function(a){this.J();this.width=a.width;this.height=a.height;return this};
	ia.prototype.copy=function(){var a=new ia;a.width=this.width;a.height=this.height;return a};g=ia.prototype;g.La=function(){this.Ea=!0;Object.freeze(this);return this};g.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()};g.freeze=function(){this.Ea=!0;return this};g.Ma=function(){Object.isFrozen(this)&&u.k("cannot thaw constant: "+this);this.Ea=!1;return this};
	g.J=function(a){if(this.Ea){var b="The Size is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);u.k(b)}};ia.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new ia(c,e)}return new ia};ia.stringify=function(a){return a instanceof ia?a.width.toString()+" "+a.height.toString():a.toString()};
	ia.prototype.toString=function(){return"Size("+this.width+","+this.height+")"};ia.prototype.equals=ia.prototype.L=function(a){return a instanceof ia?this.width===a.width&&this.height===a.height:!1};ia.prototype.equalTo=ia.prototype.Uv=function(a,b){return this.width===a&&this.height===b};ia.prototype.equalsApprox=ia.prototype.De=function(a){return K.D(this.width,a.width)&&K.D(this.height,a.height)};ia.prototype.isReal=ia.prototype.I=function(){return isFinite(this.width)&&isFinite(this.height)};
	function z(a,b,c,d){void 0===a?this.height=this.width=this.y=this.x=0:a instanceof w?b instanceof w?(this.x=Math.min(a.x,b.x),this.y=Math.min(a.y,b.y),this.width=Math.abs(a.x-b.x),this.height=Math.abs(a.y-b.y)):b instanceof ia?(this.x=a.x,this.y=a.y,this.width=b.width,this.height=b.height):u.k("Incorrect arguments supplied to Rect constructor"):(this.x=a,this.y=b,this.width=c,this.height=d);this.Ea=!1}u.fa("Rect",z);u.Nh(z);u.Xd(z,{x:!0,y:!0,width:!0,height:!0});
	z.prototype.assign=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};function bb(a,b,c){a.width=b;a.height=c}z.prototype.setTo=z.prototype.m=function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d;return this};z.prototype.set=z.prototype.set=function(a){this.J();this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this};z.prototype.setPoint=z.prototype.yf=function(a){this.J();this.x=a.x;this.y=a.y;return this};
	z.prototype.setSize=function(a){this.J();this.width=a.width;this.height=a.height;return this};z.prototype.copy=function(){var a=new z;a.x=this.x;a.y=this.y;a.width=this.width;a.height=this.height;return a};g=z.prototype;g.La=function(){this.Ea=!0;Object.freeze(this);return this};g.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()};g.freeze=function(){this.Ea=!0;return this};g.Ma=function(){Object.isFrozen(this)&&u.k("cannot thaw constant: "+this);this.Ea=!1;return this};
	g.J=function(a){if(this.Ea){var b="The Rect is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);u.k(b)}};z.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var f=0;""===a[b];)b++;(d=a[b++])&&(f=parseFloat(d));for(var h=0;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return new z(c,e,f,h)}return new z};
	z.stringify=function(a){return a instanceof z?a.x.toString()+" "+a.y.toString()+" "+a.width.toString()+" "+a.height.toString():a.toString()};z.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"};z.prototype.equals=z.prototype.L=function(a){return a instanceof z?this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height:!1};z.prototype.equalTo=z.prototype.Uv=function(a,b,c,d){return this.x===a&&this.y===b&&this.width===c&&this.height===d};
	z.prototype.equalsApprox=z.prototype.De=function(a){return K.D(this.x,a.x)&&K.D(this.y,a.y)&&K.D(this.width,a.width)&&K.D(this.height,a.height)};z.prototype.containsPoint=z.prototype.Da=function(a){return this.x<=a.x&&this.x+this.width>=a.x&&this.y<=a.y&&this.y+this.height>=a.y};z.prototype.containsRect=z.prototype.Kj=function(a){return this.x<=a.x&&a.x+a.width<=this.x+this.width&&this.y<=a.y&&a.y+a.height<=this.y+this.height};
	z.prototype.contains=z.prototype.contains=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);return this.x<=a&&a+c<=this.x+this.width&&this.y<=b&&b+d<=this.y+this.height};z.prototype.reset=function(){this.J();this.height=this.width=this.y=this.x=0};z.prototype.offset=z.prototype.offset=function(a,b){this.J();this.x+=a;this.y+=b;return this};z.prototype.inflate=z.prototype.Jf=function(a,b){return hb(this,b,a,b,a)};
	z.prototype.addMargin=z.prototype.Av=function(a){return hb(this,a.top,a.right,a.bottom,a.left)};z.prototype.subtractMargin=z.prototype.tI=function(a){return hb(this,-a.top,-a.right,-a.bottom,-a.left)};z.prototype.grow=function(a,b,c,d){return hb(this,a,b,c,d)};function hb(a,b,c,d,e){a.J();var f=a.width;c+e<=-f?(a.x+=f/2,a.width=0):(a.x-=e,a.width+=c+e);c=a.height;b+d<=-c?(a.y+=c/2,a.height=0):(a.y-=b,a.height+=b+d);return a}z.prototype.intersectRect=function(a){return ib(this,a.x,a.y,a.width,a.height)};
	z.prototype.intersect=function(a,b,c,d){return ib(this,a,b,c,d)};function ib(a,b,c,d,e){a.J();var f=Math.max(a.x,b),h=Math.max(a.y,c);b=Math.min(a.x+a.width,b+d);c=Math.min(a.y+a.height,c+e);a.x=f;a.y=h;a.width=Math.max(0,b-f);a.height=Math.max(0,c-h);return a}z.prototype.intersectsRect=z.prototype.tg=function(a){return this.GD(a.x,a.y,a.width,a.height)};
	z.prototype.intersects=z.prototype.GD=function(a,b,c,d){var e=this.width,f=this.x;if(Infinity!==e&&Infinity!==c&&(e+=f,c+=a,isNaN(c)||isNaN(e)||f>c||a>e))return!1;a=this.height;c=this.y;return Infinity!==a&&Infinity!==d&&(a+=c,d+=b,isNaN(d)||isNaN(a)||c>d||b>a)?!1:!0};function jb(a,b){var c=a.width,d=b.width+10+10,e=a.x,f=b.x-10;if(e>d+f||f>c+e)return!1;c=a.height;d=b.height+10+10;e=a.y;f=b.y-10;return e>d+f||f>c+e?!1:!0}z.prototype.unionPoint=z.prototype.Pi=function(a){return kb(this,a.x,a.y,0,0)};
	z.prototype.unionRect=z.prototype.Uh=function(a){return kb(this,a.x,a.y,a.width,a.height)};z.prototype.union=z.prototype.XE=function(a,b,c,d){this.J();void 0===c&&(c=0);void 0===d&&(d=0);return kb(this,a,b,c,d)};function kb(a,b,c,d,e){var f=Math.min(a.x,b),h=Math.min(a.y,c);b=Math.max(a.x+a.width,b+d);c=Math.max(a.y+a.height,c+e);a.x=f;a.y=h;a.width=b-f;a.height=c-h;return a}
	z.prototype.setSpot=z.prototype.st=function(a,b,c){this.J();this.x=a-c.offsetX-c.x*this.width;this.y=b-c.offsetY-c.y*this.height;return this};var qb;z.contains=qb=function(a,b,c,d,e,f,h,k){void 0===h&&(h=0);void 0===k&&(k=0);return a<=e&&e+h<=a+c&&b<=f&&f+k<=b+d};z.intersects=function(a,b,c,d,e,f,h,k){c+=a;h+=e;if(a>h||e>c)return!1;a=d+b;k+=f;return b>k||f>a?!1:!0};u.defineProperty(z,{left:"left"},function(){return this.x},function(a){this.J(a);this.x=a});
	u.defineProperty(z,{top:"top"},function(){return this.y},function(a){this.J(a);this.y=a});u.defineProperty(z,{right:"right"},function(){return this.x+this.width},function(a){this.J(a);this.x+=a-(this.x+this.width)});u.defineProperty(z,{bottom:"bottom"},function(){return this.y+this.height},function(a){this.J(a);this.y+=a-(this.y+this.height)});u.defineProperty(z,{position:"position"},function(){return new w(this.x,this.y)},function(a){this.J(a);this.x=a.x;this.y=a.y});
	u.defineProperty(z,{size:"size"},function(){return new ia(this.width,this.height)},function(a){this.J(a);this.width=a.width;this.height=a.height});u.defineProperty(z,{Ok:"center"},function(){return new w(this.x+this.width/2,this.y+this.height/2)},function(a){this.J(a);this.x=a.x-this.width/2;this.y=a.y-this.height/2});u.defineProperty(z,{ma:"centerX"},function(){return this.x+this.width/2},function(a){this.J(a);this.x=a-this.width/2});
	u.defineProperty(z,{ya:"centerY"},function(){return this.y+this.height/2},function(a){this.J(a);this.y=a-this.height/2});z.prototype.isReal=z.prototype.I=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};z.prototype.isEmpty=function(){return 0===this.width&&0===this.height};
	function rb(a,b,c,d){void 0===a?this.left=this.bottom=this.right=this.top=0:void 0===b?this.left=this.bottom=this.right=this.top=a:void 0===c?(d=b,this.top=a,this.right=b,this.bottom=a,this.left=d):void 0!==d?(this.top=a,this.right=b,this.bottom=c,this.left=d):u.k("Invalid arguments to Margin constructor");this.Ea=!1}u.fa("Margin",rb);u.Nh(rb);u.Xd(rb,{top:!0,right:!0,bottom:!0,left:!0});rb.prototype.assign=function(a){this.top=a.top;this.right=a.right;this.bottom=a.bottom;this.left=a.left};
	rb.prototype.setTo=rb.prototype.m=function(a,b,c,d){this.J();this.top=a;this.right=b;this.bottom=c;this.left=d;return this};rb.prototype.set=rb.prototype.set=function(a){this.J();this.top=a.top;this.right=a.right;this.bottom=a.bottom;this.left=a.left;return this};rb.prototype.copy=function(){var a=new rb;a.top=this.top;a.right=this.right;a.bottom=this.bottom;a.left=this.left;return a};g=rb.prototype;g.La=function(){this.Ea=!0;Object.freeze(this);return this};
	g.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()};g.freeze=function(){this.Ea=!0;return this};g.Ma=function(){Object.isFrozen(this)&&u.k("cannot thaw constant: "+this);this.Ea=!1;return this};g.J=function(a){if(this.Ea){var b="The Margin is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);u.k(b)}};
	rb.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=NaN;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));if(isNaN(c))return new rb;for(var e=NaN;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));if(isNaN(e))return new rb(c);for(var f=NaN;""===a[b];)b++;(d=a[b++])&&(f=parseFloat(d));if(isNaN(f))return new rb(c,e);for(var h=NaN;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return isNaN(h)?new rb(c,e):new rb(c,e,f,h)}return new rb};
	rb.stringify=function(a){return a instanceof rb?a.top.toString()+" "+a.right.toString()+" "+a.bottom.toString()+" "+a.left.toString():a.toString()};rb.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"};rb.prototype.equals=rb.prototype.L=function(a){return a instanceof rb?this.top===a.top&&this.right===a.right&&this.bottom===a.bottom&&this.left===a.left:!1};
	rb.prototype.equalTo=rb.prototype.Uv=function(a,b,c,d){return this.top===a&&this.right===b&&this.bottom===c&&this.left===d};rb.prototype.equalsApprox=rb.prototype.De=function(a){return K.D(this.top,a.top)&&K.D(this.right,a.right)&&K.D(this.bottom,a.bottom)&&K.D(this.left,a.left)};rb.prototype.isReal=rb.prototype.I=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)};function ja(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0}u.Nh(ja);
	u.Xd(ja,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0});ja.prototype.set=ja.prototype.set=function(a){this.m11=a.m11;this.m12=a.m12;this.m21=a.m21;this.m22=a.m22;this.dx=a.dx;this.dy=a.dy;return this};ja.prototype.copy=function(){var a=new ja;a.m11=this.m11;a.m12=this.m12;a.m21=this.m21;a.m22=this.m22;a.dx=this.dx;a.dy=this.dy;return a};ja.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"};
	ja.prototype.equals=ja.prototype.L=function(a){return a instanceof ja?this.m11===a.m11&&this.m12===a.m12&&this.m21===a.m21&&this.m22===a.m22&&this.dx===a.dx&&this.dy===a.dy:!1};ja.prototype.isIdentity=ja.prototype.Ps=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy};ja.prototype.reset=ja.prototype.reset=function(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0;return this};
	ja.prototype.multiply=ja.prototype.multiply=function(a){var b=this.m12*a.m11+this.m22*a.m12,c=this.m11*a.m21+this.m21*a.m22,d=this.m12*a.m21+this.m22*a.m22,e=this.m11*a.dx+this.m21*a.dy+this.dx,f=this.m12*a.dx+this.m22*a.dy+this.dy;this.m11=this.m11*a.m11+this.m21*a.m12;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=f;return this};
	ja.prototype.multiplyInverted=ja.prototype.aE=function(a){var b=1/(a.m11*a.m22-a.m12*a.m21),c=a.m22*b,d=-a.m12*b,e=-a.m21*b,f=a.m11*b,h=b*(a.m21*a.dy-a.m22*a.dx),k=b*(a.m12*a.dx-a.m11*a.dy);a=this.m12*c+this.m22*d;b=this.m11*e+this.m21*f;e=this.m12*e+this.m22*f;f=this.m11*h+this.m21*k+this.dx;h=this.m12*h+this.m22*k+this.dy;this.m11=this.m11*c+this.m21*d;this.m12=a;this.m21=b;this.m22=e;this.dx=f;this.dy=h;return this};
	ja.prototype.invert=ja.prototype.pz=function(){var a=1/(this.m11*this.m22-this.m12*this.m21),b=-this.m12*a,c=-this.m21*a,d=this.m11*a,e=a*(this.m21*this.dy-this.m22*this.dx),f=a*(this.m12*this.dx-this.m11*this.dy);this.m11=this.m22*a;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=f;return this};
	ja.prototype.rotate=ja.prototype.rotate=function(a,b,c){360<=a?a-=360:0>a&&(a+=360);if(0===a)return this;this.translate(b,c);var d=0,e=0;90===a?(d=0,e=1):180===a?(d=-1,e=0):270===a?(d=0,e=-1):(e=a*Math.PI/180,d=Math.cos(e),e=Math.sin(e));a=this.m12*d+this.m22*e;var f=this.m11*-e+this.m21*d,h=this.m12*-e+this.m22*d;this.m11=this.m11*d+this.m21*e;this.m12=a;this.m21=f;this.m22=h;this.translate(-b,-c);return this};
	ja.prototype.translate=ja.prototype.translate=function(a,b){this.dx+=this.m11*a+this.m21*b;this.dy+=this.m12*a+this.m22*b;return this};ja.prototype.scale=ja.prototype.scale=function(a,b){void 0===b&&(b=a);this.m11*=a;this.m12*=a;this.m21*=b;this.m22*=b;return this};ja.prototype.transformPoint=ja.prototype.ab=function(a){var b=a.x,c=a.y;a.x=b*this.m11+c*this.m21+this.dx;a.y=b*this.m12+c*this.m22+this.dy;return a};
	ja.prototype.invertedTransformPoint=ja.prototype.Qh=function(a){var b=1/(this.m11*this.m22-this.m12*this.m21),c=-this.m12*b,d=this.m11*b,e=b*(this.m12*this.dx-this.m11*this.dy),f=a.x,h=a.y;a.x=f*this.m22*b+h*-this.m21*b+b*(this.m21*this.dy-this.m22*this.dx);a.y=f*c+h*d+e;return a};
	ja.prototype.transformRect=ja.prototype.VE=function(a){var b=a.x,c=a.y,d=b+a.width,e=c+a.height,f=this.m11,h=this.m12,k=this.m21,l=this.m22,m=this.dx,n=this.dy,p=b*f+c*k+m,q=b*h+c*l+n,r=d*f+c*k+m,c=d*h+c*l+n,s=b*f+e*k+m,b=b*h+e*l+n,f=d*f+e*k+m,d=d*h+e*l+n,e=p,h=q,p=Math.min(p,r),e=Math.max(e,r),h=Math.min(h,c),q=Math.max(q,c),p=Math.min(p,s),e=Math.max(e,s),h=Math.min(h,b),q=Math.max(q,b),p=Math.min(p,f),e=Math.max(e,f),h=Math.min(h,d),q=Math.max(q,d);a.x=p;a.y=h;a.width=e-p;a.height=q-h;return a};
	function L(a,b,c,d){void 0===a?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.x=a,this.y=b,this.offsetX=c,this.offsetY=d);this.Ea=!1}u.fa("Spot",L);u.Nh(L);u.Xd(L,{x:!0,y:!0,offsetX:!0,offsetY:!0});L.prototype.assign=function(a){this.x=a.x;this.y=a.y;this.offsetX=a.offsetX;this.offsetY=a.offsetY};L.prototype.setTo=L.prototype.m=function(a,b,c,d){this.J();this.x=a;this.y=b;this.offsetX=c;this.offsetY=d;return this};
	L.prototype.set=L.prototype.set=function(a){this.J();this.x=a.x;this.y=a.y;this.offsetX=a.offsetX;this.offsetY=a.offsetY;return this};L.prototype.copy=function(){var a=new L;a.x=this.x;a.y=this.y;a.offsetX=this.offsetX;a.offsetY=this.offsetY;return a};g=L.prototype;g.La=function(){this.Ea=!0;Object.freeze(this);return this};g.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()};g.freeze=function(){this.Ea=!0;return this};
	g.Ma=function(){Object.isFrozen(this)&&u.k("cannot thaw constant: "+this);this.Ea=!1;return this};g.J=function(a){if(this.Ea){var b="The Spot is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);u.k(b)}};function sb(a,b){a.x=NaN;a.y=NaN;a.offsetX=b;return a}var tb;
	L.parse=tb=function(a){if("string"===typeof a){a=a.trim();if("None"===a)return vb;if("TopLeft"===a)return xb;if("Top"===a||"TopCenter"===a||"MiddleTop"===a)return Db;if("TopRight"===a)return Gb;if("Left"===a||"LeftCenter"===a||"MiddleLeft"===a)return Hb;if("Center"===a)return Ib;if("Right"===a||"RightCenter"===a||"MiddleRight"===a)return Jb;if("BottomLeft"===a)return Kb;if("Bottom"===a||"BottomCenter"===a||"MiddleBottom"===a)return Ub;if("BottomRight"===a)return Vb;if("TopSide"===a)return Wb;if("LeftSide"===
		a)return Xb;if("RightSide"===a)return Yb;if("BottomSide"===a)return Zb;if("TopBottomSides"===a)return $b;if("LeftRightSides"===a)return ac;if("TopLeftSides"===a)return bc;if("TopRightSides"===a)return cc;if("BottomLeftSides"===a)return hc;if("BottomRightSides"===a)return ic;if("NotTopSide"===a)return lc;if("NotLeftSide"===a)return mc;if("NotRightSide"===a)return rc;if("NotBottomSide"===a)return sc;if("AllSides"===a)return tc;if("Default"===a)return uc;a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;
		var d=a[b++];void 0!==d&&0<d.length&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;d=a[b++];void 0!==d&&0<d.length&&(e=parseFloat(d));for(var f=0;""===a[b];)b++;d=a[b++];void 0!==d&&0<d.length&&(f=parseFloat(d));for(var h=0;""===a[b];)b++;d=a[b++];void 0!==d&&0<d.length&&(h=parseFloat(d));return new L(c,e,f,h)}return new L};L.stringify=function(a){return a instanceof L?a.pd()?a.x.toString()+" "+a.y.toString()+" "+a.offsetX.toString()+" "+a.offsetY.toString():a.toString():a.toString()};
	L.prototype.toString=function(){return this.pd()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.L(vb)?"None":this.L(xb)?"TopLeft":this.L(Db)?"Top":this.L(Gb)?"TopRight":this.L(Hb)?"Left":this.L(Ib)?"Center":this.L(Jb)?"Right":this.L(Kb)?"BottomLeft":this.L(Ub)?"Bottom":this.L(Vb)?"BottomRight":this.L(Wb)?"TopSide":this.L(Xb)?"LeftSide":this.L(Yb)?"RightSide":this.L(Zb)?"BottomSide":this.L($b)?"TopBottomSides":this.L(ac)?
		"LeftRightSides":this.L(bc)?"TopLeftSides":this.L(cc)?"TopRightSides":this.L(hc)?"BottomLeftSides":this.L(ic)?"BottomRightSides":this.L(lc)?"NotTopSide":this.L(mc)?"NotLeftSide":this.L(rc)?"NotRightSide":this.L(sc)?"NotBottomSide":this.L(tc)?"AllSides":this.L(uc)?"Default":"None"};L.prototype.equals=L.prototype.L=function(a){return a instanceof L?(this.x===a.x||isNaN(this.x)&&isNaN(a.x))&&(this.y===a.y||isNaN(this.y)&&isNaN(a.y))&&this.offsetX===a.offsetX&&this.offsetY===a.offsetY:!1};
	L.prototype.opposite=function(){return new L(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)};L.prototype.includesSide=function(a){if(!this.Io()||!a.Io())return!1;a=a.offsetY;return(this.offsetY&a)===a};L.prototype.isSpot=L.prototype.pd=function(){return!isNaN(this.x)&&!isNaN(this.y)};L.prototype.isNoSpot=L.prototype.ne=function(){return isNaN(this.x)||isNaN(this.y)};L.prototype.isSide=L.prototype.Io=function(){return this.ne()&&1===this.offsetX&&0!==this.offsetY};
	L.prototype.isDefault=L.prototype.Kc=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY};var vb;L.None=vb=sb(new L(0,0,0,0),0).La();var uc;L.Default=uc=sb(new L(0,0,-1,0),-1).La();var xb;L.TopLeft=xb=(new L(0,0,0,0)).La();var Db;L.TopCenter=Db=(new L(.5,0,0,0)).La();var Gb;L.TopRight=Gb=(new L(1,0,0,0)).La();var Hb;L.LeftCenter=Hb=(new L(0,.5,0,0)).La();var Ib;L.Center=Ib=(new L(.5,.5,0,0)).La();var Jb;L.RightCenter=Jb=(new L(1,.5,0,0)).La();var Kb;
	L.BottomLeft=Kb=(new L(0,1,0,0)).La();var Ub;L.BottomCenter=Ub=(new L(.5,1,0,0)).La();var Vb;L.BottomRight=Vb=(new L(1,1,0,0)).La();var vc;L.MiddleTop=vc=Db;var wc;L.MiddleLeft=wc=Hb;var xc;L.MiddleRight=xc=Jb;var Cc;L.MiddleBottom=Cc=Ub;L.Top=Db;var Dc;L.Left=Dc=Hb;var Ec;L.Right=Ec=Jb;L.Bottom=Ub;var Wb;L.TopSide=Wb=sb(new L(0,0,1,u.Xc),1).La();var Xb;L.LeftSide=Xb=sb(new L(0,0,1,u.Ec),1).La();var Yb;L.RightSide=Yb=sb(new L(0,0,1,u.Nc),1).La();var Zb;L.BottomSide=Zb=sb(new L(0,0,1,u.Mc),1).La();
	var $b;L.TopBottomSides=$b=sb(new L(0,0,1,u.Xc|u.Mc),1).La();var ac;L.LeftRightSides=ac=sb(new L(0,0,1,u.Ec|u.Nc),1).La();var bc;L.TopLeftSides=bc=sb(new L(0,0,1,u.Xc|u.Ec),1).La();var cc;L.TopRightSides=cc=sb(new L(0,0,1,u.Xc|u.Nc),1).La();var hc;L.BottomLeftSides=hc=sb(new L(0,0,1,u.Mc|u.Ec),1).La();var ic;L.BottomRightSides=ic=sb(new L(0,0,1,u.Mc|u.Nc),1).La();var lc;L.NotTopSide=lc=sb(new L(0,0,1,u.Ec|u.Nc|u.Mc),1).La();var mc;L.NotLeftSide=mc=sb(new L(0,0,1,u.Xc|u.Nc|u.Mc),1).La();var rc;
	L.NotRightSide=rc=sb(new L(0,0,1,u.Xc|u.Ec|u.Mc),1).La();var sc;L.NotBottomSide=sc=sb(new L(0,0,1,u.Xc|u.Ec|u.Nc),1).La();var tc;L.AllSides=tc=sb(new L(0,0,1,u.Xc|u.Ec|u.Nc|u.Mc),1).La();function Lc(){this.af=[1,0,0,1,0,0]}Lc.prototype.copy=function(){var a=new Lc;a.af[0]=this.af[0];a.af[1]=this.af[1];a.af[2]=this.af[2];a.af[3]=this.af[3];a.af[4]=this.af[4];a.af[5]=this.af[5];return a};function Mc(a){this.type=a;this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0;this.YC=[]}
	Mc.prototype.addColorStop=function(a,b){this.YC.push({offset:a,color:b})};
	function Nc(a,b,c){this.fillStyle="#000000";this.font="10px sans-serif";this.globalAlpha=1;this.lineCap="butt";this.ow=0;this.lineJoin="miter";this.lineWidth=1;this.miterLimit=10;this.shadowBlur=0;this.shadowColor="rgba(0, 0, 0, 0)";this.shadowOffsetY=this.shadowOffsetX=0;this.strokeStyle="#000000";this.textAlign="start";this.document=b||document;this.nD=c;this.lw=null;this.path=[];this.Fi=new Lc;this.stack=[];this.sf=[];this.Sv=a;this.IH="http://www.w3.org/2000/svg";this.width=this.Sv.width;this.height=
		this.Sv.height;this.sl=Oc(this,"svg",{width:this.width+"px",height:this.height+"px",FK:"0 0 "+this.Sv.width+" "+this.Sv.height});this.sl.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg");this.sl.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");Uc(this,1,0,0,1,0,0);a=u.xl++;b=Oc(this,"clipPath",{id:"mainClip"+a});b.appendChild(Oc(this,"rect",{x:0,y:0,width:this.width,height:this.height}));this.sl.appendChild(b);this.sf[0].setAttributeNS(null,
		"clip-path","url(#mainClip"+a+")")}g=Nc.prototype;g.arc=function(a,b,c,d,e,f){Vc(this,a,b,c,d,e,f)};g.beginPath=function(){this.path=[]};g.bezierCurveTo=function(a,b,c,d,e,f){this.path.push(["C",a,b,c,d,e,f])};g.clearRect=function(){};g.clip=function(){Wc(this,"clipPath",this.path,new Lc)};g.closePath=function(){this.path.push(["z"])};g.createLinearGradient=function(a,b,c,d){var e=new Mc("linear");e.x1=a;e.y1=b;e.x2=c;e.y2=d;return e};g.createPattern=function(){};
	g.createRadialGradient=function(a,b,c,d,e,f){var h=new Mc("radial");h.x1=a;h.y1=b;h.r1=c;h.x2=d;h.y2=e;h.r2=f;return h};
	g.drawImage=function(a,b,c,d,e,f,h,k,l){a=[b,c,d,e,f,h,k,l,a];b=this.Fi;e=a[8];c="";e instanceof HTMLCanvasElement&&(c=e.toDataURL());e instanceof HTMLImageElement&&(c=e.src);c={x:0,y:0,width:a[6],height:a[7],href:c};d="";f=a[6]/a[2];h=a[7]/a[3];if(0!==a[4]||0!==a[5])d+=" translate("+a[4]+", "+a[5]+")";if(1!==f||1!==h)d+=" scale("+f+", "+h+")";if(0!==a[0]||0!==a[1])d+=" translate("+-a[0]+", "+-a[1]+")";if(0!==a[0]||0!==a[1]||a[2]!==e.naturalWidth||a[3]!==e.naturalHeight)e="CLIP"+u.xl++,f=Oc(this,
		"clipPath",{id:e}),f.appendChild(Oc(this,"rect",{x:a[0],y:a[1],width:a[2],height:a[3]})),this.sl.appendChild(f),c["clip-path"]="url(#"+e+")";Xc(this,"image",c,b,d);this.addElement("image",c)};g.fill=function(){Wc(this,"fill",this.path,this.Fi)};g.fillRect=function(a,b,c,d){Yc(this,"fill",[a,b,c,d],this.Fi)};
	g.fillText=function(a,b,c){a=[a,b,c];b=this.textAlign;"left"===b?b="start":"right"===b?b="end":"center"===b&&(b="middle");b={x:a[1],y:a[2],style:"font: "+this.font,"text-anchor":b};Xc(this,"fill",b,this.Fi);this.addElement("text",b,a[0])};g.lineTo=function(a,b){this.path.push(["L",a,b])};g.moveTo=function(a,b){this.path.push(["M",a,b])};g.quadraticCurveTo=function(a,b,c,d){this.path.push(["Q",a,b,c,d])};g.rect=function(a,b,c,d){this.path.push(["M",a,b],["L",a+c,b],["L",a+c,b+d],["L",a,b+d],["z"])};
	g.restore=function(){this.Fi=this.stack.pop();this.path=this.stack.pop();var a=this.stack.pop();this.fillStyle=a.fillStyle;this.font=a.font;this.globalAlpha=a.globalAlpha;this.lineCap=a.lineCap;this.ow=a.ow;this.lineJoin=a.lineJoin;this.lineWidth=a.lineWidth;this.miterLimit=a.miterLimit;this.shadowBlur=a.shadowBlur;this.shadowColor=a.shadowColor;this.shadowOffsetX=a.shadowOffsetX;this.shadowOffsetY=a.shadowOffsetY;this.strokeStyle=a.strokeStyle;this.textAlign=a.textAlign};
	g.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,ow:this.ow,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var a=[],b=0;b<this.path.length;b++)a.push(this.path[b]);this.stack.push(a);this.stack.push(this.Fi.copy())};
	g.setTransform=function(a,b,c,d,e,f){1===a&&0===b&&0===c&&1===d&&0===e&&0===f||Uc(this,a,b,c,d,e,f)};g.scale=function(){};g.stroke=function(){Wc(this,"stroke",this.path,this.Fi)};g.strokeRect=function(a,b,c,d){Yc(this,"stroke",[a,b,c,d],this.Fi)};function Oc(a,b,c,d){a=a.document.createElementNS(a.IH,b);if(u.Ta(c))for(var e in c)a.setAttributeNS("href"===e?"http://www.w3.org/1999/xlink":"",e,c[e]);void 0!==d&&(a.textContent=d);return a}
	g.addElement=function(a,b,c){a=Oc(this,a,b,c);0<this.sf.length?this.sf[this.sf.length-1].appendChild(a):this.sl.appendChild(a);return this.lw=a};
	function Xc(a,b,c,d,e){1!==a.globalAlpha&&(c.opacity=a.globalAlpha);"fill"==b?(/^rgba\(/.test(a.fillStyle)?(a=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(a.fillStyle),c.fill="rgb("+a[1]+","+a[2]+","+a[3]+")",c["fill-opacity"]=a[4]):c.fill=a.fillStyle instanceof Mc?Zc(a,a.fillStyle):a.fillStyle,c.stroke="none"):"stroke"==b&&(c.fill="none",/^rgba\(/.test(a.strokeStyle)?(b=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(a.strokeStyle),
		c.stroke="rgb("+b[1]+","+b[2]+","+b[3]+")",c["stroke-opacity"]=b[4]):c.stroke=a.strokeStyle instanceof Mc?Zc(a,a.strokeStyle):a.strokeStyle,c["stroke-width"]=a.lineWidth,c["stroke-linecap"]=a.lineCap,c["stroke-linejoin"]=a.lineJoin,c["stroke-miterlimit"]=a.miterLimit);d=d.af;d="matrix("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")";void 0!==e&&(d+=e);c.transform=d}
	function Zc(a,b){var c="GRAD"+u.xl++,d;if("linear"===b.type)d={x1:b.x1,x2:b.x2,y1:b.y1,y2:b.y2,id:c,gradientUnits:"userSpaceOnUse"},d=Oc(a,"linearGradient",d);else if("radial"===b.type)d={x1:b.x1,x2:b.x2,y1:b.y1,y2:b.y2,r1:b.r1,r2:b.r2,id:c},d=Oc(a,"radialGradient",d);else throw Error("invalid gradient");for(var e=b.YC,f=e.length,h=[],k=0;k<f;k++){var l=e[k],m=l.color,l={offset:l.offset,"stop-color":m};/^rgba\(/.test(m)&&(m=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(m),
		l["stop-color"]="rgb("+m[1]+","+m[2]+","+m[3]+")",l["stop-opacity"]=m[4]);h.push(l)}h.sort(function(a,b){return a.offset>b.offset?1:-1});for(k=0;k<f;k++)d.appendChild(Oc(a,"stop",h[k]));a.sl.appendChild(d);return"url(#"+c+")"}function Yc(a,b,c,d){c={x:c[0],y:c[1],width:c[2],height:c[3]};Xc(a,b,c,d);a.addElement("rect",c)}
	function Wc(a,b,c,d){for(var e=[],f=0;f<c.length;f++){var h=u.Pk(c[f]),k=[h.shift()];if("A"==k[0])k.push(h.shift()+","+h.shift(),h.shift(),h.shift()+","+h.shift(),h.shift()+","+h.shift());else for(;h.length;)k.push(h.shift()+","+h.shift());e.push(k.join(" "))}c={d:e.join(" ")};Xc(a,b,c,d);"clipPath"===b?(b="CLIP"+u.xl++,d=Oc(a,"clipPath",{id:b}),d.appendChild(Oc(a,"path",c)),a.sl.appendChild(d),0<a.sf.length&&a.sf[a.sf.length-1].setAttributeNS(null,"clip-path","url(#"+b+")")):a.addElement("path",
		c)}function Vc(a,b,c,d,e,f,h){var k=Math.abs(e-f);if(e!=f){var l=b+d*Math.cos(f);f=c+d*Math.sin(f);k>=2*Math.PI?(Vc(a,b,c,d,e,e+Math.PI,h),Vc(a,b,c,d,e+Math.PI,e+2*Math.PI,h),a.path.push(["M",l,f])):(b+=d*Math.cos(e),c+=d*Math.sin(e),k=180*k/Math.PI,e=h?0:1,h=180<=k==!!h?0:1,0!==a.path.length?a.path.push(["L",b,c]):a.path.push(["M",b,c]),a.path.push(["A",d,d,k,h,e,l,f]))}}function Uc(a,b,c,d,e,f,h){var k=new Lc;k.af=[b,c,d,e,f,h];b={};Xc(a,"g",b,k);k=a.addElement("g",b);a.sf.push(k)}
	g.$a=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var a="SHADOW"+u.xl++,b=this.addElement("filter",{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),c,d,e,f,h;c=Oc(this,"feGaussianBlur",{"in":"SourceAlpha",result:"blur",xK:this.shadowBlur/2});d=Oc(this,"feFlood",{"in":"blur",result:"flood","flood-color":this.shadowColor});e=Oc(this,"feComposite",{"in":"flood",in2:"blur",operator:"in",result:"comp"});f=Oc(this,"feOffset",{"in":"comp",result:"offsetBlur",
		dx:this.shadowOffsetX,dy:this.shadowOffsetY});h=Oc(this,"feMerge",{});h.appendChild(Oc(this,"feMergeNode",{"in":"offsetBlur"}));h.appendChild(Oc(this,"feMergeNode",{"in":"SourceGraphic"}));b.appendChild(c);b.appendChild(d);b.appendChild(e);b.appendChild(f);b.appendChild(h);0<this.sf.length&&this.sf[this.sf.length-1].setAttributeNS(null,"filter","url(#"+a+")")}};
	function oa(a,b){this.ownerDocument=void 0===b?document:b;var c=this.ownerDocument.createElement("canvas");c.tabIndex=0;this.Ed=c;c.getContext&&c.getContext("2d")||u.k("Browser does not support HTML Canvas Element");this.dG=c.getContext("2d");c.Y=a;Object.seal(this)}g=oa.prototype;g.getContext=function(){return this.dG};g.toDataURL=function(a,b){return this.Ed.toDataURL(a,b)};g.getBoundingClientRect=function(){return this.Ed.getBoundingClientRect()};g.focus=function(){return this.Ed.focus()};
	g.addEventListener=function(a,b,c){this.Ed.addEventListener(a,b,c)};g.removeEventListener=function(a,b,c){this.Ed.removeEventListener(a,b,c)};u.defineProperty(oa,{width:"width"},function(){return this.Ed.width},function(a){this.Ed.width=a});u.defineProperty(oa,{height:"height"},function(){return this.Ed.height},function(a){this.Ed.height=a});u.defineProperty(oa,{style:"style"},function(){return this.Ed.style},function(a){this.Ed.style=a});
	var K={ta:4*((Math.sqrt(2)-1)/3),Wj:(new w(0,0)).La(),jF:(new z(0,0,0,0)).La(),pp:(new rb(0,0,0,0)).La(),hF:(new rb(2,2,2,2)).La(),iF:(new ia(Infinity,Infinity)).La(),eF:(new w(-Infinity,-Infinity)).La(),dF:(new w(Infinity,Infinity)).La(),qp:(new ia(0,0)).La(),Vw:(new ia(1,1)).La(),op:(new ia(6,6)).La(),Sw:(new ia(8,8)).La(),fF:(new w(NaN,NaN)).La(),Ww:new pa,Ri:new pa,wA:null,sqrt:function(a){if(0>=a)return 0;var b=K.wA;if(null===b){for(var b=[],c=0;2E3>=c;c++)b[c]=Math.sqrt(c);K.wA=b}return 1>a?
		(c=1/a,2E3>=c?1/b[c|0]:Math.sqrt(a)):2E3>=a?b[a|0]:Math.sqrt(a)},D:function(a,b){var c=a-b;return.5>c&&-.5<c},cb:function(a,b){var c=a-b;return 5E-8>c&&-5E-8<c},rd:function(a,b,c,d,e,f,h){0>=e&&(e=1E-6);var k=0,l=0,m=0,n=0;a<c?(l=a,k=c):(l=c,k=a);b<d?(n=b,m=d):(n=d,m=b);if(a===c)return n<=h&&h<=m&&a-e<=f&&f<=a+e;if(b===d)return l<=f&&f<=k&&b-e<=h&&h<=b+e;k+=e;l-=e;if(l<=f&&f<=k&&(m+=e,n-=e,n<=h&&h<=m))if(k-l>m-n)if(a-c>e||c-a>e){if(f=(d-b)/(c-a)*(f-a)+b,f-e<=h&&h<=f+e)return!0}else return!0;else if(b-
		d>e||d-b>e){if(h=(c-a)/(d-b)*(h-b)+a,h-e<=f&&f<=h+e)return!0}else return!0;return!1},Kv:function(a,b,c,d,e,f,h,k,l,m,n,p){if(K.rd(a,b,h,k,p,c,d)&&K.rd(a,b,h,k,p,e,f))return K.rd(a,b,h,k,p,m,n);var q=(a+c)/2,r=(b+d)/2,s=(c+e)/2,t=(d+f)/2;e=(e+h)/2;f=(f+k)/2;d=(q+s)/2;c=(r+t)/2;var s=(s+e)/2,t=(t+f)/2,v=(d+s)/2,x=(c+t)/2;return K.Kv(a,b,q,r,d,c,v,x,l,m,n,p)||K.Kv(v,x,s,t,e,f,h,k,l,m,n,p)},UF:function(a,b,c,d,e,f,h,k,l){var m=(c+e)/2,n=(d+f)/2;l.x=(((a+c)/2+m)/2+(m+(e+h)/2)/2)/2;l.y=(((b+d)/2+n)/2+(n+
		(f+k)/2)/2)/2;return l},TF:function(a,b,c,d,e,f,h,k){var l=(c+e)/2,m=(d+f)/2;return Za(((a+c)/2+l)/2,((b+d)/2+m)/2,(l+(e+h)/2)/2,(m+(f+k)/2)/2)},po:function(a,b,c,d,e,f,h,k,l,m){if(K.rd(a,b,h,k,l,c,d)&&K.rd(a,b,h,k,l,e,f))kb(m,a,b,0,0),kb(m,h,k,0,0);else{var n=(a+c)/2,p=(b+d)/2,q=(c+e)/2,r=(d+f)/2;e=(e+h)/2;f=(f+k)/2;d=(n+q)/2;c=(p+r)/2;var q=(q+e)/2,r=(r+f)/2,s=(d+q)/2,t=(c+r)/2;K.po(a,b,n,p,d,c,s,t,l,m);K.po(s,t,q,r,e,f,h,k,l,m)}return m},ye:function(a,b,c,d,e,f,h,k,l,m){if(K.rd(a,b,h,k,l,c,d)&&
		K.rd(a,b,h,k,l,e,f))0===m.length&&(m.push(a),m.push(b)),m.push(h),m.push(k);else{var n=(a+c)/2,p=(b+d)/2,q=(c+e)/2,r=(d+f)/2;e=(e+h)/2;f=(f+k)/2;d=(n+q)/2;c=(p+r)/2;var q=(q+e)/2,r=(r+f)/2,s=(d+q)/2,t=(c+r)/2;K.ye(a,b,n,p,d,c,s,t,l,m);K.ye(s,t,q,r,e,f,h,k,l,m)}return m},Pz:function(a,b,c,d,e,f,h,k,l,m){if(K.rd(a,b,e,f,m,c,d))return K.rd(a,b,e,f,m,k,l);var n=(a+c)/2,p=(b+d)/2;c=(c+e)/2;d=(d+f)/2;var q=(n+c)/2,r=(p+d)/2;return K.Pz(a,b,n,p,q,r,h,k,l,m)||K.Pz(q,r,c,d,e,f,h,k,l,m)},pK:function(a,b,c,
																																																																																																																													   d,e,f,h){h.x=((a+c)/2+(c+e)/2)/2;h.y=((b+d)/2+(d+f)/2)/2;return h},Oz:function(a,b,c,d,e,f,h,k){if(K.rd(a,b,e,f,h,c,d))kb(k,a,b,0,0),kb(k,e,f,0,0);else{var l=(a+c)/2,m=(b+d)/2;c=(c+e)/2;d=(d+f)/2;var n=(l+c)/2,p=(m+d)/2;K.Oz(a,b,l,m,n,p,h,k);K.Oz(n,p,c,d,e,f,h,k)}return k},Zo:function(a,b,c,d,e,f,h,k){if(K.rd(a,b,e,f,h,c,d))0===k.length&&(k.push(a),k.push(b)),k.push(e),k.push(f);else{var l=(a+c)/2,m=(b+d)/2;c=(c+e)/2;d=(d+f)/2;var n=(l+c)/2,p=(m+d)/2;K.Zo(a,b,l,m,n,p,h,k);K.Zo(n,p,c,d,e,f,h,k)}return k},
		ls:function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){0>=q&&(q=1E-6);if(K.rd(a,b,h,k,q,c,d)&&K.rd(a,b,h,k,q,e,f)){var s=(a-h)*(m-p)-(b-k)*(l-n);if(0===s)return!1;q=((a*k-b*h)*(l-n)-(a-h)*(l*p-m*n))/s;s=((a*k-b*h)*(m-p)-(b-k)*(l*p-m*n))/s;if((l>n?l-n:n-l)<(m>p?m-p:p-m)){if(h=l=0,b<k?(l=b,h=k):(l=k,h=b),s<l||s>h)return!1}else if(a<h?l=a:(l=h,h=a),q<l||q>h)return!1;r.x=q;r.y=s;return!0}var s=(a+c)/2,t=(b+d)/2;c=(c+e)/2;d=(d+f)/2;e=(e+h)/2;f=(f+k)/2;var v=(s+c)/2,x=(t+d)/2;c=(c+e)/2;d=(d+f)/2;var A=(v+c)/2,y=(x+d)/
			2,C=(n-l)*(n-l)+(p-m)*(p-m),I=!1;K.ls(a,b,s,t,v,x,A,y,l,m,n,p,q,r)&&(b=(r.x-l)*(r.x-l)+(r.y-m)*(r.y-m),b<C&&(C=b,I=!0));a=r.x;s=r.y;K.ls(A,y,c,d,e,f,h,k,l,m,n,p,q,r)&&(b=(r.x-l)*(r.x-l)+(r.y-m)*(r.y-m),b<C?I=!0:(r.x=a,r.y=s));return I},ms:function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=0;0>=q&&(q=1E-6);if(K.rd(a,b,h,k,q,c,d)&&K.rd(a,b,h,k,q,e,f)){q=(a-h)*(m-p)-(b-k)*(l-n);if(0===q)return r;var s=((a*k-b*h)*(l-n)-(a-h)*(l*p-m*n))/q,t=((a*k-b*h)*(m-p)-(b-k)*(l*p-m*n))/q;if(s>=n)return r;if((l>n?l-n:n-l)<
			(m>p?m-p:p-m)){if(a=l=0,b<k?(l=b,a=k):(l=k,a=b),t<l||t>a)return r}else if(a<h?(l=a,a=h):l=h,s<l||s>a)return r;0<q?r++:0>q&&r--}else{var s=(a+c)/2,t=(b+d)/2,v=(c+e)/2,x=(d+f)/2;e=(e+h)/2;f=(f+k)/2;d=(s+v)/2;c=(t+x)/2;var v=(v+e)/2,x=(x+f)/2,A=(d+v)/2,y=(c+x)/2,r=r+K.ms(a,b,s,t,d,c,A,y,l,m,n,p,q),r=r+K.ms(A,y,v,x,e,f,h,k,l,m,n,p,q)}return r},Im:function(a,b,c,d,e,f,h){if(K.cb(a,c)){var k=0;c=0;b<d?(k=b,c=d):(k=d,c=b);d=f;if(d<k)return h.x=a,h.y=k,!1;if(d>c)return h.x=a,h.y=c,!1;h.x=a;h.y=d;return!0}if(K.cb(b,
				d)){a<c?k=a:(k=c,c=a);d=e;if(d<k)return h.x=k,h.y=b,!1;if(d>c)return h.x=c,h.y=b,!1;h.x=d;h.y=b;return!0}k=((a-e)*(a-c)+(b-f)*(b-d))/((c-a)*(c-a)+(d-b)*(d-b));if(-5E-6>k)return h.x=a,h.y=b,!1;if(1.000005<k)return h.x=c,h.y=d,!1;h.x=a+k*(c-a);h.y=b+k*(d-b);return!0},bh:function(a,b,c,d,e,f,h,k,l){if(K.D(a,c)&&K.D(b,d))return l.x=a,l.y=b,!1;if(K.cb(e,h)){if(K.cb(a,c))return K.Im(a,b,c,d,e,f,l),!1;f=(d-b)/(c-a)*(e-a)+b;return K.Im(a,b,c,d,e,f,l)}k=(k-f)/(h-e);if(K.cb(a,c)){f=k*(a-e)+f;c=h=0;b<d?(h=b,
			c=d):(h=d,c=b);if(f<h)return l.x=a,l.y=h,!1;if(f>c)return l.x=a,l.y=c,!1;l.x=a;l.y=f;return!0}h=(d-b)/(c-a);if(K.cb(k,h))return K.Im(a,b,c,d,e,f,l),!1;e=(h*a-k*e+f-b)/(h-k);if(K.cb(h,0)){a<c?h=a:(h=c,c=a);if(e<h)return l.x=h,l.y=b,!1;if(e>c)return l.x=c,l.y=b,!1;l.x=e;l.y=b;return!0}f=h*(e-a)+b;return K.Im(a,b,c,d,e,f,l)},RJ:function(a,b,c,d,e){return K.bh(c.x,c.y,d.x,d.y,a.x,a.y,b.x,b.y,e)},zJ:function(a,b,c,d,e,f,h,k,l,m){function n(c,d){var e=(c-a)*(c-a)+(d-b)*(d-b);e<p&&(p=e,l.x=c,l.y=d)}var p=
			Infinity;n(l.x,l.y);var q=0,r=0,s=0,t=0;e<h?(q=e,r=h):(q=h,r=e);f<k?(s=e,t=h):(s=h,t=e);q=(r-q)/2+m;m=(t-s)/2+m;e=(e+h)/2;f=(f+k)/2;if(0===q||0===m)return l;if(.5>(c>a?c-a:a-c)){q=1-(c-e)*(c-e)/(q*q);if(0>q)return l;q=Math.sqrt(q);d=-m*q+f;n(c,m*q+f);n(c,d)}else{c=(d-b)/(c-a);d=1/(q*q)+c*c/(m*m);k=2*c*(b-c*a)/(m*m)-2*c*f/(m*m)-2*e/(q*q);q=k*k-4*d*(2*c*a*f/(m*m)-2*b*f/(m*m)+f*f/(m*m)+e*e/(q*q)-1+(b-c*a)*(b-c*a)/(m*m));if(0>q)return l;q=Math.sqrt(q);m=(-k+q)/(2*d);n(m,c*m-c*a+b);q=(-k-q)/(2*d);n(q,
			c*q-c*a+b)}return l},bl:function(a,b,c,d,e,f,h,k,l){var m=1E21,n=a,p=b;if(K.bh(a,b,a,d,e,f,h,k,l)){var q=(l.x-e)*(l.x-e)+(l.y-f)*(l.y-f);q<m&&(m=q,n=l.x,p=l.y)}K.bh(c,b,c,d,e,f,h,k,l)&&(q=(l.x-e)*(l.x-e)+(l.y-f)*(l.y-f),q<m&&(m=q,n=l.x,p=l.y));K.bh(a,b,c,b,e,f,h,k,l)&&(q=(l.x-e)*(l.x-e)+(l.y-f)*(l.y-f),q<m&&(m=q,n=l.x,p=l.y));K.bh(a,d,c,d,e,f,h,k,l)&&(q=(l.x-e)*(l.x-e)+(l.y-f)*(l.y-f),q<m&&(m=q,n=l.x,p=l.y));l.x=n;l.y=p;return 1E21>m},ew:function(a,b,c){var d=b.x,e=b.y,f=c.x,h=c.y,k=a.left,l=a.right,
			m=a.top,n=a.bottom;return d===f?(f=a=0,e<h?(a=e,f=h):(a=h,f=e),k<=d&&d<=l&&a<=n&&f>=m):e===h?(d<f?a=d:(a=f,f=d),m<=e&&e<=n&&a<=l&&f>=k):a.Da(b)||a.Da(c)||K.dw(k,m,l,m,d,e,f,h)||K.dw(l,m,l,n,d,e,f,h)||K.dw(l,n,k,n,d,e,f,h)||K.dw(k,n,k,m,d,e,f,h)?!0:!1},dw:function(a,b,c,d,e,f,h,k){return 0>=K.Ov(a,b,c,d,e,f)*K.Ov(a,b,c,d,h,k)&&0>=K.Ov(e,f,h,k,a,b)*K.Ov(e,f,h,k,c,d)},Ov:function(a,b,c,d,e,f){c-=a;d-=b;a=e-a;b=f-b;f=a*d-b*c;0===f&&(f=a*c+b*d,0<f&&(f=(a-c)*c+(b-d)*d,0>f&&(f=0)));return 0>f?-1:0<f?1:0},
		dt:function(a){0>a&&(a+=360);360<=a&&(a-=360);return a},fD:function(a,b,c,d,e,f){var h=Math.PI;f||(d*=h/180,e*=h/180);f=d<e?1:-1;var k=[],l=h/2,m=d;for(d=Math.min(2*h,Math.abs(e-d));1E-5<d;)e=m+f*Math.min(d,l),k.push(K.jG(c,m,e,a,b)),d-=Math.abs(e-m),m=e;return k},jG:function(a,b,c,d,e){var f=(c-b)/2,h=a*Math.cos(f),k=a*Math.sin(f),l=-k,m=h*h+l*l,n=m+h*h+l*k,m=4/3*(Math.sqrt(2*m*n)-n)/(h*k-l*h),k=h-m*l,h=l+m*h,l=-h,m=f+b,f=Math.cos(m),m=Math.sin(m);return[d+a*Math.cos(b),e+a*Math.sin(b),d+k*f-h*m,
			e+k*m+h*f,d+k*f-l*m,e+k*m+l*f,d+a*Math.cos(c),e+a*Math.sin(c)]},ys:function(a,b,c,d,e,f,h){c=Math.floor((a-c)/e)*e+c;d=Math.floor((b-d)/f)*f+d;var k=c;c+e-a<e/2&&(k=c+e);a=d;d+f-b<f/2&&(a=d+f);h.m(k,a);return h},xD:function(a,b){var c=Math.max(a,b),d=Math.min(a,b),e=1,f=1;do e=c%d,c=f=d,d=e;while(0<e);return f},sG:function(a,b,c,d){var e=0>c,f=0>d,h=0,k=h=0;a<b?(h=1,k=0):(h=0,k=1);var l=0,m=0,n=0,l=0===h?a:b,m=0===h?c:d;if(0===h?e:f)m=-m;h=k;n=0===h?c:d;if(0===h?e:f)n=-n;return K.tG(l,0===h?a:b,m,
			n,0,0)},tG:function(a,b,c,d,e,f){e=0;if(0<d)if(0<c){f=a*a;e=b*b;a*=c;var h=b*d,k=-e+h,l=-e+Math.sqrt(a*a+h*h);b=k;for(var m=0;9999999999>m;++m){b=.5*(k+l);if(b===k||b===l)break;var n=a/(b+f),p=h/(b+e),n=n*n+p*p-1;if(0<n)k=b;else if(0>n)l=b;else break}c=f*c/(b+f)-c;d=e*d/(b+e)-d;e=Math.sqrt(c*c+d*d)}else e=Math.abs(d-b);else d=a*a-b*b,e=a*c,e<d?(d=e/d,e=a*d,f=b*Math.sqrt(Math.abs(1-d*d)),c=e-c,e=Math.sqrt(c*c+f*f)):e=Math.abs(c-a);return e}};
	function $c(a){1<arguments.length&&u.k("Geometry constructor can take at most one optional argument, the Geometry type.");u.gc(this);this.Ea=!1;void 0===a&&(a=ad);this.pa=a;this.Bb=this.pb=this.tc=this.nc=0;this.Zi=new E(bd);this.ku=this.Zi.U;this.Vt=(new z).freeze();this.Ua=!0;this.si=xb;this.ti=Vb;this.Dn=this.En=NaN;this.ci=cd}u.fa("Geometry",$c);u.Nh($c);
	$c.prototype.copy=function(){var a=new $c;a.pa=this.pa;a.nc=this.nc;a.tc=this.tc;a.pb=this.pb;a.Bb=this.Bb;for(var b=this.Zi.n,c=b.length,d=a.Zi,e=0;e<c;e++){var f=b[e].copy();d.add(f)}a.ku=this.ku;a.Vt.assign(this.Vt);a.Ua=this.Ua;a.si=this.si.Z();a.ti=this.ti.Z();a.En=this.En;a.Dn=this.Dn;a.ci=this.ci;return a};var dd;$c.Line=dd=u.s($c,"Line",0);var md;$c.Rectangle=md=u.s($c,"Rectangle",1);var nd;$c.Ellipse=nd=u.s($c,"Ellipse",2);var ad;$c.Path=ad=u.s($c,"Path",3);
	$c.prototype.La=function(){this.freeze();Object.freeze(this);return this};$c.prototype.freeze=function(){this.Ea=!0;var a=this.ub;a.freeze();for(var a=a.n,b=a.length,c=0;c<b;c++)a[c].freeze();return this};$c.prototype.Ma=function(){Object.isFrozen(this)&&u.k("cannot thaw constant: "+this);this.Ea=!1;var a=this.ub;a.Ma();for(var a=a.n,b=a.length,c=0;c<b;c++)a[c].Ma();return this};
	$c.prototype.equalsApprox=$c.prototype.De=function(a){if(!(a instanceof $c))return!1;if(this.type!==a.type)return this.type===dd&&a.type===ad?od(this,a):a.type===dd&&this.type===ad?od(a,this):!1;if(this.type===ad){var b=this.ub.n;a=a.ub.n;var c=b.length;if(c!==a.length)return!1;for(var d=0;d<c;d++)if(!b[d].De(a[d]))return!1;return!0}return K.D(this.va,a.va)&&K.D(this.wa,a.wa)&&K.D(this.F,a.F)&&K.D(this.G,a.G)};
	function od(a,b){if(a.type!==dd||b.type!==ad)return!1;if(1===b.ub.count){var c=b.ub.ja(0);if(1===c.Ha.count&&K.D(a.va,c.va)&&K.D(a.wa,c.wa)&&(c=c.Ha.ja(0),c.type===pd&&K.D(a.F,c.F)&&K.D(a.G,c.G)))return!0}return!1}var qd;$c.stringify=qd=function(a){return a.toString()};
	$c.prototype.toString=function(a){void 0===a&&(a=-1);switch(this.type){case dd:return 0>a?"M"+this.va.toString()+" "+this.wa.toString()+"L"+this.F.toString()+" "+this.G.toString():"M"+this.va.toFixed(a)+" "+this.wa.toFixed(a)+"L"+this.F.toFixed(a)+" "+this.G.toFixed(a);case md:var b=new z(this.va,this.wa,0,0);b.XE(this.F,this.G,0,0);return 0>a?"M"+b.x.toString()+" "+b.y.toString()+"H"+b.right.toString()+"V"+b.bottom.toString()+"H"+b.left.toString()+"z":"M"+b.x.toFixed(a)+" "+b.y.toFixed(a)+"H"+b.right.toFixed(a)+
	"V"+b.bottom.toFixed(a)+"H"+b.left.toFixed(a)+"z";case nd:b=new z(this.va,this.wa,0,0);b.XE(this.F,this.G,0,0);if(0>a){var c=b.left.toString()+" "+(b.y+b.height/2).toString(),d=b.right.toString()+" "+(b.y+b.height/2).toString();return"M"+c+"A"+(b.width/2).toString()+" "+(b.height/2).toString()+" 0 0 1 "+d+"A"+(b.width/2).toString()+" "+(b.height/2).toString()+" 0 0 1 "+c}c=b.left.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);d=b.right.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);return"M"+c+"A"+(b.width/
		2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+d+"A"+(b.width/2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+c;case ad:for(var b="",c=this.ub.n,d=c.length,e=0;e<d;e++){var f=c[e];0<e&&(b+=" x ");f.Os&&(b+="F ");b+=f.toString(a)}return b;default:return this.type.toString()}};var rd;
	$c.fillPath=rd=function(a){"string"!==typeof a&&u.Kd(a,"string",$c,"fillPath:str");a=a.split(/[Xx]/);for(var b=a.length,c="",d=0;d<b;d++)var e=a[d],c=null!==e.match(/[Ff]/)?0===d?c+e:c+("X"+(" "===e[0]?"":" ")+e):c+((0===d?"":"X ")+"F"+(" "===e[0]?"":" ")+e);return c};var sd;
	$c.parse=sd=function(a,b){function c(){return m>=t-1?!0:null!==l[m+1].match(/[A-Za-z]/)}function d(){m++;return l[m]}function e(){var a=new w(parseFloat(d()),parseFloat(d()));n===n.toLowerCase()&&(a.x=s.x+a.x,a.y=s.y+a.y);return a}function f(){return s=e()}function h(){return r=e()}function k(){return"c"!==p.toLowerCase()&&"s"!==p.toLowerCase()?s:new w(2*s.x-r.x,2*s.y-r.y)}void 0===b&&(b=!1);"string"!==typeof a&&u.Kd(a,"string",$c,"parse:str");a=a.replace(/,/gm," ");a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,
		"$1 $2");a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2");a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2");a=a.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2");a=a.replace(/([0-9])([+\-])/gm,"$1 $2");a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");a=a.replace(/[\s\r\t\n]+/gm," ");a=a.replace(/^\s+|\s+$/g,"");for(var l=a.split(" "),m=-1,n="",p="",q=new w(0,0),r=new w(0,0),s=new w(0,
		0),t=l.length,v=u.p(),x=!1,A=!1,y=!0;!(m>=t-1);)if(p=n,n=d(),""!==n)switch(n.toUpperCase()){case "X":y=!0;A=x=!1;break;case "M":var C=f();null===v.Tb||!0===y?(M(v,C.x,C.y,x,!1,!A),y=!1):v.moveTo(C.x,C.y);for(q=s;!c();)C=f(),v.lineTo(C.x,C.y);break;case "L":for(;!c();)C=f(),v.lineTo(C.x,C.y);break;case "H":for(;!c();)s=C=new w((n===n.toLowerCase()?s.x:0)+parseFloat(d()),s.y),v.lineTo(s.x,s.y);break;case "V":for(;!c();)s=C=new w(s.x,(n===n.toLowerCase()?s.y:0)+parseFloat(d())),v.lineTo(s.x,s.y);break;
		case "C":for(;!c();){var I=e(),H=h(),C=f();O(v,I.x,I.y,H.x,H.y,C.x,C.y)}break;case "S":for(;!c();)I=k(),H=h(),C=f(),O(v,I.x,I.y,H.x,H.y,C.x,C.y);break;case "Q":for(;!c();)H=h(),C=f(),td(v,H.x,H.y,C.x,C.y);break;case "T":for(;!c();)r=H=k(),C=f(),td(v,H.x,H.y,C.x,C.y);break;case "B":for(;!c();){var C=parseFloat(d()),I=parseFloat(d()),H=parseFloat(d()),R=parseFloat(d()),aa=parseFloat(d()),S=aa,N=!1;c()||(S=parseFloat(d()),c()||(N=0!==parseFloat(d())));n===n.toLowerCase()&&(H+=s.x,R+=s.y);v.arcTo(C,I,
			H,R,aa,S,N)}break;case "A":for(;!c();)I=Math.abs(parseFloat(d())),H=Math.abs(parseFloat(d())),R=parseFloat(d()),aa=!!parseFloat(d()),S=!!parseFloat(d()),C=f(),ud(v,I,H,R,aa,S,C.x,C.y);break;case "Z":C=v.o.ub.n[v.o.ub.length-1];P(v);s=q;break;case "F":C="";for(I=1;l[m+I];)if(null!==l[m+I].match(/[Uu]/))I++;else if(null===l[m+I].match(/[A-Za-z]/))I++;else{C=l[m+I];break}C.match(/[Mm]/)?x=!0:vd(v);break;case "U":C="";for(I=1;l[m+I];)if(null!==l[m+I].match(/[Ff]/))I++;else if(null===l[m+I].match(/[A-Za-z]/))I++;
		else{C=l[m+I];break}C.match(/[Mm]/)?A=!0:v.$a(!1)}q=v.o;u.q(v);if(b)for(v=q.ub.i;v.next();)C=v.value,C.Os=!0;return q};function wd(a,b){for(var c=a.length,d=u.K(),e=0;e<c;e++){var f=a[e];d.x=f[0];d.y=f[1];b.ab(d);f[0]=d.x;f[1]=d.y;d.x=f[2];d.y=f[3];b.ab(d);f[2]=d.x;f[3]=d.y;d.x=f[4];d.y=f[5];b.ab(d);f[4]=d.x;f[5]=d.y;d.x=f[6];d.y=f[7];b.ab(d);f[6]=d.x;f[7]=d.y}u.v(d)}
	$c.prototype.wz=function(){if(this.Ua||this.ku!==this.ub.U)return!0;for(var a=this.ub.n,b=a.length,c=0;c<b;c++)if(a[c].wz())return!0;return!1};$c.prototype.oA=function(){this.Ua=!1;this.ku=this.ub.U;for(var a=this.ub.n,b=a.length,c=0;c<b;c++)a[c].oA()};$c.prototype.lg=function(){var a=this.Vt;a.Ma();isNaN(this.En)||isNaN(this.Dn)?a.m(0,0,0,0):a.m(0,0,this.En,this.Dn);xd(this,a,!1);kb(a,0,0,0,0);a.freeze()};
	$c.prototype.computeBoundsWithoutOrigin=$c.prototype.aG=function(){var a=new z;xd(this,a,!0);return a};
	function xd(a,b,c){switch(a.type){case dd:case md:case nd:c?b.m(a.nc,a.tc,0,0):kb(b,a.nc,a.tc,0,0);kb(b,a.pb,a.Bb,0,0);break;case ad:var d=a.ub;a=d.n;for(var d=d.length,e=0;e<d;e++){var f=a[e];c&&0===e?b.m(f.va,f.wa,0,0):kb(b,f.va,f.wa,0,0);for(var h=f.Ha.n,k=h.length,l=f.va,m=f.wa,n=0;n<k;n++){var p=h[n];switch(p.type){case pd:case yd:l=p.F;m=p.G;kb(b,l,m,0,0);break;case zd:K.po(l,m,p.Rb,p.jc,p.ef,p.ff,p.F,p.G,.5,b);l=p.F;m=p.G;break;case Ad:K.Oz(l,m,p.Rb,p.jc,p.F,p.G,.5,b);l=p.F;m=p.G;break;case Bd:case Gd:var q=
		p.type===Bd?Hd(p,f):Id(p,f,l,m),r=q.length;if(0===r){l=p.ma;m=p.ya;kb(b,l,m,0,0);break}for(var p=null,s=0;s<r;s++)p=q[s],K.po(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],.5,b);null!==p&&(l=p[6],m=p[7]);break;default:u.k("Unknown Segment type: "+p.type)}}}break;default:u.k("Unknown Geometry type: "+a.type)}}$c.prototype.normalize=$c.prototype.normalize=function(){u.J(this);var a=this.aG();this.offset(-a.x,-a.y);return new w(-a.x,-a.y)};
	$c.prototype.offset=$c.prototype.offset=function(a,b){u.J(this);this.transform(1,0,0,1,a,b);return this};$c.prototype.scale=$c.prototype.scale=function(a,b){u.J(this);this.transform(a,0,0,b,0,0);return this};$c.prototype.rotate=$c.prototype.rotate=function(a,b,c){u.J(this);void 0===b&&(b=0);void 0===c&&(c=0);var d=u.lh();d.reset();d.rotate(a,b,c);this.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);u.Ye(d);return this};
	$c.prototype.transform=$c.prototype.transform=function(a,b,c,d,e,f){var h=0,k=0;switch(this.type){case dd:case md:case nd:h=this.nc;k=this.tc;this.nc=h*a+k*c+e;this.tc=h*b+k*d+f;h=this.pb;k=this.Bb;this.pb=h*a+k*c+e;this.Bb=h*b+k*d+f;break;case ad:for(var l=this.ub.n,m=l.length,n=0;n<m;n++){var p=l[n],h=p.va,k=p.wa;p.va=h*a+k*c+e;p.wa=h*b+k*d+f;for(var p=p.Ha.n,q=p.length,r=0;r<q;r++){var s=p[r];switch(s.type){case pd:case yd:h=s.F;k=s.G;s.F=h*a+k*c+e;s.G=h*b+k*d+f;break;case zd:h=s.Rb;k=s.jc;s.Rb=
		h*a+k*c+e;s.jc=h*b+k*d+f;h=s.ef;k=s.ff;s.ef=h*a+k*c+e;s.ff=h*b+k*d+f;h=s.F;k=s.G;s.F=h*a+k*c+e;s.G=h*b+k*d+f;break;case Ad:h=s.Rb;k=s.jc;s.Rb=h*a+k*c+e;s.jc=h*b+k*d+f;h=s.F;k=s.G;s.F=h*a+k*c+e;s.G=h*b+k*d+f;break;case Bd:h=s.ma;k=s.ya;s.ma=h*a+k*c+e;s.ya=h*b+k*d+f;0!==b&&(h=180*Math.atan2(b,a)/Math.PI,0>h&&(h+=360),s.Je+=h);0>a&&(s.Je=180-s.Je,s.Qf=-s.Qf);0>d&&(s.Je=-s.Je,s.Qf=-s.Qf);s.radiusX*=Math.sqrt(a*a+c*c);void 0!==s.radiusY&&(s.radiusY*=Math.sqrt(b*b+d*d));break;case Gd:h=s.F;k=s.G;s.F=h*
		a+k*c+e;s.G=h*b+k*d+f;0!==b&&(h=180*Math.atan2(b,a)/Math.PI,0>h&&(h+=360),s.Qi+=h);0>a&&(s.Qi=180-s.Qi,s.fl=!s.fl);0>d&&(s.Qi=-s.Qi,s.fl=!s.fl);s.radiusX*=Math.sqrt(a*a+c*c);s.radiusY*=Math.sqrt(b*b+d*d);break;default:u.k("Unknown Segment type: "+s.type)}}}}this.Ua=!0;return this};
	$c.prototype.Zr=function(a,b){var c=this.nc,d=this.tc,e=this.pb,f=this.Bb,h=Math.min(c,e),k=Math.min(d,f),c=Math.abs(e-c),d=Math.abs(f-d),f=u.K();f.x=h;f.y=k;b.ab(f);e=new bd(f.x,f.y);f.x=h+c;f.y=k;b.ab(f);e.Ha.add(new Jd(pd,f.x,f.y));f.x=h+c;f.y=k+d;b.ab(f);e.Ha.add(new Jd(pd,f.x,f.y));f.x=h;f.y=k+d;b.ab(f);e.Ha.add((new Jd(pd,f.x,f.y)).close());u.v(f);a.type=ad;a.ub.add(e);return a};
	$c.prototype.Da=function(a,b,c,d){var e=a.x,f=a.y,h=this.lb.x-20;a=a.y;for(var k=0,l=0,m=0,n=0,p=0,q=0,r=this.ub.n,s=r.length,t=0;t<s;t++){var v=r[t];if(v.Os){if(c&&v.Da(e,f,b))return!0;for(var x=v.Ha,l=v.va,m=v.wa,A=l,y=m,C=x.n,I=0;I<=x.length;I++){var H,R;I!==x.length?(H=C[I],R=H.type,p=H.F,q=H.G):(R=pd,p=A,q=y);switch(R){case yd:n=Kd(e,f,h,a,l,m,A,y);if(isNaN(n))return!0;k+=n;A=p;y=q;break;case pd:n=Kd(e,f,h,a,l,m,p,q);if(isNaN(n))return!0;k+=n;break;case zd:n=K.ms(l,m,H.Rb,H.jc,H.ef,H.ff,p,q,
		h,a,e,f,.5);k+=n;break;case Ad:n=K.ms(l,m,(l+2*H.Rb)/3,(m+2*H.jc)/3,(H.Rb+2*p)/3,(H.Rb+2*p)/3,p,q,h,a,e,f,.5);k+=n;break;case Bd:case Gd:R=H.type===Bd?Hd(H,v):Id(H,v,l,m);var aa=R.length;if(0===aa){n=Kd(e,f,h,a,l,m,H.ma,H.ya);if(isNaN(n))return!0;k+=n;break}for(var S=null,N=0;N<aa;N++){S=R[N];if(0===N){n=Kd(e,f,h,a,l,m,S[0],S[1]);if(isNaN(n))return!0;k+=n}n=K.ms(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],h,a,e,f,.5);k+=n}null!==S&&(p=S[6],q=S[7]);break;default:u.k("Unknown Segment type: "+H.type)}l=
		p;m=q}if(0!==k)return!0;k=0}else if(v.Da(e,f,d?b:b+2))return!0}return 0!==k};function Kd(a,b,c,d,e,f,h,k){if(K.rd(e,f,h,k,.05,a,b))return NaN;var l=(a-c)*(f-k);if(0===l)return 0;var m=((a*d-b*c)*(e-h)-(a-c)*(e*k-f*h))/l;b=(a*d-b*c)*(f-k)/l;if(m>=a)return 0;if((e>h?e-h:h-e)<(f>k?f-k:k-f)){if(e=a=0,f<k?(a=f,e=k):(a=k,e=f),b<a||b>e)return 0}else if(e<h?(a=e,e=h):a=h,m<a||m>e)return 0;return 0<l?1:-1}function Ld(a,b,c,d){a=a.ub.n;for(var e=a.length,f=0;f<e;f++)if(a[f].Da(b,c,d))return!0;return!1}
	$c.prototype.getPointAlongPath=function(a){(0>a||1<a)&&u.xa(a,"0 <= fraction <= 1",$c,"getPointAlongPath:fraction");var b=this.ub.first(),c=u.gb(),d=[];d.push(b.va);d.push(b.wa);for(var e=b.va,f=b.wa,h=e,k=f,l=b.Ha.n,m=l.length,n=0;n<m;n++){var p=l[n];switch(p.pa){case yd:c.push(d);d=[];d.push(p.F);d.push(p.G);e=p.F;f=p.G;h=e;k=f;break;case pd:d.push(p.F);d.push(p.G);e=p.F;f=p.G;break;case zd:K.ye(e,f,p.cd,p.xe,p.eg,p.fg,p.pb,p.Bb,.5,d);e=p.F;f=p.G;break;case Ad:K.Zo(e,f,p.cd,p.xe,p.pb,p.Bb,.5,d);
		e=p.F;f=p.G;break;case Bd:var q=Hd(p,b),r=q.length;if(0===r){d.push(p.ma);d.push(p.ya);e=p.ma;f=p.ya;break}for(var s=0;s<r;s++){var t=q[s];K.ye(e,f,t[2],t[3],t[4],t[5],t[6],t[7],.5,d);e=t[6];f=t[7]}break;case Gd:q=Id(p,b,e,f);r=q.length;for(s=0;s<r;s++)t=q[s],K.ye(e,f,t[2],t[3],t[4],t[5],t[6],t[7],.5,d),e=t[6],f=t[7];break;default:u.k("Segment not of valid type")}p.Bh&&(d.push(h),d.push(k))}c.push(d);q=0;h=c.length;for(k=d=b=0;k<h;k++)for(l=c[k],m=l.length,n=0;n<m;n+=2)e=l[n],f=l[n+1],0!==n&&(p=Math.sqrt(Ya(b,
		d,e,f)),q+=p),b=e,d=f;a*=q;for(k=q=0;k<h;k++)for(l=c[k],m=l.length,n=0;n<m;n++){e=l[n];f=l[n+1];if(0!==n){p=Math.sqrt(Ya(b,d,e,f));if(q+p>a)return n=(a-q)/p,u.sa(c),new w(b+(e-b)*n,d+(f-d)*n);q+=p}b=e;d=f}u.sa(c);return null};u.defineProperty($c,{type:"type"},function(){return this.pa},function(a){this.pa!==a&&(u.J(this,a),this.pa=a,this.Ua=!0)});u.defineProperty($c,{va:"startX"},function(){return this.nc},function(a){this.nc!==a&&(u.J(this,a),this.nc=a,this.Ua=!0)});
	u.defineProperty($c,{wa:"startY"},function(){return this.tc},function(a){this.tc!==a&&(u.J(this,a),this.tc=a,this.Ua=!0)});u.defineProperty($c,{F:"endX"},function(){return this.pb},function(a){this.pb!==a&&(u.J(this,a),this.pb=a,this.Ua=!0)});u.defineProperty($c,{G:"endY"},function(){return this.Bb},function(a){this.Bb!==a&&(u.J(this,a),this.Bb=a,this.Ua=!0)});u.defineProperty($c,{ub:"figures"},function(){return this.Zi},function(a){this.Zi!==a&&(u.J(this,a),this.Zi=a,this.Ua=!0)});
	$c.prototype.add=$c.prototype.add=function(a){this.Zi.add(a);return this};u.defineProperty($c,{A:"spot1"},function(){return this.si},function(a){u.J(this,a);this.si=a.Z()});u.defineProperty($c,{B:"spot2"},function(){return this.ti},function(a){u.J(this,a);this.ti=a.Z()});u.defineProperty($c,{Cd:"defaultStretch"},function(){return this.ci},function(a){u.J(this,a);this.ci=a});u.u($c,{lb:"bounds"},function(){this.wz()&&(this.oA(),this.lg());return this.Vt});
	function bd(a,b,c,d){u.gc(this);this.Ea=!1;void 0===c&&(c=!0);this.Jl=c;void 0===d&&(d=!0);this.Fn=d;this.nc=void 0!==a?a:0;this.tc=void 0!==b?b:0;this.Zn=new E(Jd);this.ev=this.Zn.U;this.Ua=!0}u.fa("PathFigure",bd);u.Nh(bd);bd.prototype.copy=function(){var a=new bd;a.Jl=this.Jl;a.Fn=this.Fn;a.nc=this.nc;a.tc=this.tc;for(var b=this.Zn.n,c=b.length,d=a.Zn,e=0;e<c;e++){var f=b[e].copy();d.add(f)}a.ev=this.ev;a.Ua=this.Ua;return a};
	bd.prototype.equalsApprox=bd.prototype.De=function(a){if(!(a instanceof bd&&K.D(this.va,a.va)&&K.D(this.wa,a.wa)))return!1;var b=this.Ha.n;a=a.Ha.n;var c=b.length;if(c!==a.length)return!1;for(var d=0;d<c;d++)if(!b[d].De(a[d]))return!1;return!0};g=bd.prototype;g.toString=function(a){void 0===a&&(a=-1);for(var b=0>a?"M"+this.va.toString()+" "+this.wa.toString():"M"+this.va.toFixed(a)+" "+this.wa.toFixed(a),c=this.Ha.n,d=c.length,e=0;e<d;e++)b+=" "+c[e].toString(a);return b};
	g.freeze=function(){this.Ea=!0;var a=this.Ha;a.freeze();for(var b=a.n,a=a.length,c=0;c<a;c++)b[c].freeze();return this};g.Ma=function(){this.Ea=!1;var a=this.Ha;a.Ma();for(var a=a.n,b=a.length,c=0;c<b;c++)a[c].Ma();return this};g.wz=function(){if(this.Ua)return!0;var a=this.Ha;if(this.ev!==a.U)return!0;for(var a=a.n,b=a.length,c=0;c<b;c++)if(a[c].Ua)return!0;return!1};g.oA=function(){this.Ua=!1;var a=this.Ha;this.ev=a.U;for(var a=a.n,b=a.length,c=0;c<b;c++){var d=a[c];d.Ua=!1;d.Vf=null}};
	u.defineProperty(bd,{Os:"isFilled"},function(){return this.Jl},function(a){u.J(this,a);this.Jl=a});u.defineProperty(bd,{il:"isShadowed"},function(){return this.Fn},function(a){u.J(this,a);this.Fn=a});u.defineProperty(bd,{va:"startX"},function(){return this.nc},function(a){u.J(this,a);this.nc=a;this.Ua=!0});u.defineProperty(bd,{wa:"startY"},function(){return this.tc},function(a){u.J(this,a);this.tc=a;this.Ua=!0});
	u.defineProperty(bd,{Ha:"segments"},function(){return this.Zn},function(a){u.J(this,a);this.Zn=a;this.Ua=!0});bd.prototype.add=bd.prototype.add=function(a){this.Zn.add(a);return this};
	bd.prototype.Da=function(a,b,c){for(var d=this.va,e=this.wa,f=d,h=e,k=this.Ha.n,l=k.length,m=0;m<l;m++){var n=k[m];switch(n.type){case yd:f=n.F;h=n.G;d=n.F;e=n.G;break;case pd:if(K.rd(d,e,n.F,n.G,c,a,b))return!0;d=n.F;e=n.G;break;case zd:if(K.Kv(d,e,n.Rb,n.jc,n.ef,n.ff,n.F,n.G,.5,a,b,c))return!0;d=n.F;e=n.G;break;case Ad:if(K.Pz(d,e,n.Rb,n.jc,n.F,n.G,.5,a,b,c))return!0;d=n.F;e=n.G;break;case Bd:case Gd:var p=n.type===Bd?Hd(n,this):Id(n,this,d,e),q=p.length;if(0===q){if(K.rd(d,e,n.ma,n.ya,c,a,b))return!0;
		d=n.ma;e=n.ya;break}for(var r=null,s=0;s<q;s++)if(r=p[s],0===s&&K.rd(d,e,r[0],r[1],c,a,b)||K.Kv(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],.5,a,b,c))return!0;null!==r&&(d=r[6],e=r[7]);break;default:u.k("Unknown Segment type: "+n.type)}if(n.fw&&(d!==f||e!==h)&&K.rd(d,e,f,h,c,a,b))return!0}return!1};
	function Jd(a,b,c,d,e,f,h,k){u.gc(this);this.Ea=!1;void 0===a&&(a=pd);this.pa=a;this.pb=void 0!==b?b:0;this.Bb=void 0!==c?c:0;a===Gd?(void 0!==f&&(a=f%360,0>a&&(a+=360),this.cd=a),void 0!==d&&(this.eg=Math.max(d,0)),void 0!==e&&(this.fg=Math.max(e,0)),this.Mn=!!h,this.cn=!!k):(void 0!==d&&(this.cd=d),void 0!==e&&(this.xe=e),void 0!==f&&(a===Bd&&(f=Math.max(f,0)),this.eg=f),void 0!==h&&"number"===typeof h&&(a===Bd&&(h=Math.max(h,0)),this.fg=h));this.Bh=!1;this.Ua=!0;this.Vf=null}
	u.fa("PathSegment",Jd);u.Nh(Jd);Jd.prototype.copy=function(){var a=new Jd;a.pa=this.pa;a.pb=this.pb;a.Bb=this.Bb;void 0!==this.cd&&(a.cd=this.cd);void 0!==this.xe&&(a.xe=this.xe);void 0!==this.eg&&(a.eg=this.eg);void 0!==this.fg&&(a.fg=this.fg);void 0!==this.Mn&&(a.Mn=this.Mn);void 0!==this.cn&&(a.cn=this.cn);a.Bh=this.Bh;a.Ua=this.Ua;return a};
	Jd.prototype.equalsApprox=Jd.prototype.De=function(a){if(!(a instanceof Jd)||this.type!==a.type||this.fw!==a.fw)return!1;switch(this.type){case yd:case pd:return K.D(this.F,a.F)&&K.D(this.G,a.G);case zd:return K.D(this.F,a.F)&&K.D(this.G,a.G)&&K.D(this.Rb,a.Rb)&&K.D(this.jc,a.jc)&&K.D(this.ef,a.ef)&&K.D(this.ff,a.ff);case Ad:return K.D(this.F,a.F)&&K.D(this.G,a.G)&&K.D(this.Rb,a.Rb)&&K.D(this.jc,a.jc);case Bd:return K.D(this.Je,a.Je)&&K.D(this.Qf,a.Qf)&&K.D(this.ma,a.ma)&&K.D(this.ya,a.ya)&&K.D(this.radiusX,
			a.radiusX)&&K.D(this.radiusY,a.radiusY);case Gd:return this.fl===a.fl&&this.iw===a.iw&&K.D(this.Qi,a.Qi)&&K.D(this.F,a.F)&&K.D(this.G,a.G)&&K.D(this.radiusX,a.radiusX)&&K.D(this.radiusY,a.radiusY);default:return!1}};
	Jd.prototype.toString=function(a){void 0===a&&(a=-1);var b="";switch(this.type){case yd:b=0>a?"M"+this.F.toString()+" "+this.G.toString():"M"+this.F.toFixed(a)+" "+this.G.toFixed(a);break;case pd:b=0>a?"L"+this.F.toString()+" "+this.G.toString():"L"+this.F.toFixed(a)+" "+this.G.toFixed(a);break;case zd:b=0>a?"C"+this.Rb.toString()+" "+this.jc.toString()+" "+this.ef.toString()+" "+this.ff.toString()+" "+this.F.toString()+" "+this.G.toString():"C"+this.Rb.toFixed(a)+" "+this.jc.toFixed(a)+" "+this.ef.toFixed(a)+
	" "+this.ff.toFixed(a)+" "+this.F.toFixed(a)+" "+this.G.toFixed(a);break;case Ad:b=0>a?"Q"+this.Rb.toString()+" "+this.jc.toString()+" "+this.F.toString()+" "+this.G.toString():"Q"+this.Rb.toFixed(a)+" "+this.jc.toFixed(a)+" "+this.F.toFixed(a)+" "+this.G.toFixed(a);break;case Bd:b=0>a?"B"+this.Je.toString()+" "+this.Qf.toString()+" "+this.ma.toString()+" "+this.ya.toString()+" "+this.radiusX:"B"+this.Je.toFixed(a)+" "+this.Qf.toFixed(a)+" "+this.ma.toFixed(a)+" "+this.ya.toFixed(a)+" "+this.radiusX;
		break;case Gd:b=0>a?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.Qi.toString()+" "+(this.iw?1:0)+" "+(this.fl?1:0)+" "+this.F.toString()+" "+this.G.toString():"A"+this.radiusX.toFixed(a)+" "+this.radiusY.toFixed(a)+" "+this.Qi.toFixed(a)+" "+(this.iw?1:0)+" "+(this.fl?1:0)+" "+this.F.toFixed(a)+" "+this.G.toFixed(a);break;default:b=this.type.toString()}return b+(this.Bh?"z":"")};var yd;Jd.Move=yd=u.s(Jd,"Move",0);var pd;Jd.Line=pd=u.s(Jd,"Line",1);var zd;
	Jd.Bezier=zd=u.s(Jd,"Bezier",2);var Ad;Jd.QuadraticBezier=Ad=u.s(Jd,"QuadraticBezier",3);var Bd;Jd.Arc=Bd=u.s(Jd,"Arc",4);var Gd;Jd.SvgArc=Gd=u.s(Jd,"SvgArc",4);Jd.prototype.freeze=function(){this.Ea=!0;return this};Jd.prototype.Ma=function(){this.Ea=!1;return this};Jd.prototype.close=Jd.prototype.close=function(){this.Bh=!0;return this};
	function Hd(a,b){if(null!==a.Vf&&!1===b.Ua)return a.Vf;var c=a.radiusX,d=a.radiusY;void 0===d&&(d=c);if(0===c||0===d)return a.Vf=[],a.Vf;var e=a.cd,f=a.xe,h=K.fD(0,0,c<d?c:d,a.Je,a.Je+a.Qf,!1);if(c!==d){var k=u.lh();k.reset();c<d?k.scale(1,d/c):k.scale(c/d,1);wd(h,k);u.Ye(k)}c=h.length;for(d=0;d<c;d++)k=h[d],k[0]+=e,k[1]+=f,k[2]+=e,k[3]+=f,k[4]+=e,k[5]+=f,k[6]+=e,k[7]+=f;a.Vf=h;return a.Vf}
	function Id(a,b,c,d){function e(a,b,c,d){return(a*d<b*c?-1:1)*Math.acos(f(a,b,c,d))}function f(a,b,c,d){return(a*c+b*d)/(Math.sqrt(a*a+b*b)*Math.sqrt(c*c+d*d))}if(null!==a.Vf&&!1===b.Ua)return a.Vf;b=a.eg;var h=a.fg;if(0===b||0===h)return a.Vf=[],a.Vf;var k=Math.PI/180*a.cd,l=a.Mn,m=a.cn,n=a.pb,p=a.Bb,q=Math.cos(k),r=Math.sin(k),s=q*(c-n)/2+r*(d-p)/2,k=-r*(c-n)/2+q*(d-p)/2,t=s*s/(b*b)+k*k/(h*h);1<t&&(b*=Math.sqrt(t),h*=Math.sqrt(t));t=(l===m?-1:1)*Math.sqrt((b*b*h*h-b*b*k*k-h*h*s*s)/(b*b*k*k+h*h*
			s*s));isNaN(t)&&(t=0);l=t*b*k/h;t=t*-h*s/b;isNaN(l)&&(l=0);isNaN(t)&&(t=0);c=(c+n)/2+q*l-r*t;d=(d+p)/2+r*l+q*t;p=e(1,0,(s-l)/b,(k-t)/h);q=(s-l)/b;n=(k-t)/h;s=(-s-l)/b;l=(-k-t)/h;k=e(q,n,s,l);s=f(q,n,s,l);-1>=s?k=Math.PI:1<=s&&(k=0);!m&&0<k&&(k-=2*Math.PI);m&&0>k&&(k+=2*Math.PI);m=b>h?1:b/h;s=b>h?h/b:1;b=K.fD(0,0,b>h?b:h,p,p+k,!0);h=u.lh();h.reset();h.translate(c,d);h.rotate(a.cd,0,0);h.scale(m,s);wd(b,h);u.Ye(h);a.Vf=b;return a.Vf}
	u.defineProperty(Jd,{fw:"isClosed"},function(){return this.Bh},function(a){this.Bh!==a&&(this.Bh=a,this.Ua=!0)});u.defineProperty(Jd,{type:"type"},function(){return this.pa},function(a){u.J(this,a);this.pa=a;this.Ua=!0});u.defineProperty(Jd,{F:"endX"},function(){return this.pb},function(a){u.J(this,a);this.pb=a;this.Ua=!0});u.defineProperty(Jd,{G:"endY"},function(){return this.Bb},function(a){u.J(this,a);this.Bb=a;this.Ua=!0});
	u.defineProperty(Jd,{Rb:"point1X"},function(){return this.cd},function(a){u.J(this,a);this.cd=a;this.Ua=!0});u.defineProperty(Jd,{jc:"point1Y"},function(){return this.xe},function(a){u.J(this,a);this.xe=a;this.Ua=!0});u.defineProperty(Jd,{ef:"point2X"},function(){return this.eg},function(a){u.J(this,a);this.eg=a;this.Ua=!0});u.defineProperty(Jd,{ff:"point2Y"},function(){return this.fg},function(a){u.J(this,a);this.fg=a;this.Ua=!0});
	u.defineProperty(Jd,{ma:"centerX"},function(){return this.cd},function(a){u.J(this,a);this.cd=a;this.Ua=!0});u.defineProperty(Jd,{ya:"centerY"},function(){return this.xe},function(a){u.J(this,a);this.xe=a;this.Ua=!0});u.defineProperty(Jd,{radiusX:"radiusX"},function(){return this.eg},function(a){0>a&&u.xa(a,">= zero",Jd,"radiusX");u.J(this,a);this.eg=a;this.Ua=!0});
	u.defineProperty(Jd,{radiusY:"radiusY"},function(){return this.fg},function(a){0>a&&u.xa(a,">= zero",Jd,"radiusY");u.J(this,a);this.fg=a;this.Ua=!0});u.defineProperty(Jd,{Je:"startAngle"},function(){return this.pb},function(a){this.pb!==a&&(u.J(this,a),a%=360,0>a&&(a+=360),this.pb=a,this.Ua=!0)});u.defineProperty(Jd,{Qf:"sweepAngle"},function(){return this.Bb},function(a){u.J(this,a);360<a&&(a=360);-360>a&&(a=-360);this.Bb=a;this.Ua=!0});
	u.defineProperty(Jd,{fl:"isClockwiseArc"},function(){return this.cn},function(a){u.J(this,a);this.cn=a;this.Ua=!0});u.defineProperty(Jd,{iw:"isLargeArc"},function(){return this.Mn},function(a){u.J(this,a);this.Mn=a;this.Ua=!0});u.defineProperty(Jd,{Qi:"xAxisRotation"},function(){return this.cd},function(a){a%=360;0>a&&(a+=360);u.J(this,a);this.cd=a;this.Ua=!0});
	function Md(){this.Y=null;this.Iy=(new w(0,0)).freeze();this.Ex=(new w(0,0)).freeze();this.St=this.Ou=0;this.Bu="";this.tv=this.hu=!1;this.du=this.Ut=0;this.Si=this.ou=this.xu=!1;this.Xp=null;this.sv=0;this.gg=this.pv=null}u.fa("InputEvent",Md);
	Md.prototype.copy=function(){var a=new Md;a.Y=this.Y;a.Iy.assign(this.gf);a.Ex.assign(this.da);a.Ou=this.Ou;a.St=this.St;a.Bu=this.Bu;a.hu=this.hu;a.tv=this.tv;a.Ut=this.Ut;a.du=this.du;a.xu=this.xu;a.ou=this.ou;a.Si=this.Si;a.Xp=this.Xp;a.sv=this.sv;a.pv=this.pv;a.gg=this.gg;return a};
	Md.prototype.toString=function(){var a="^";0!==this.hd&&(a+="M:"+this.hd);0!==this.button&&(a+="B:"+this.button);""!==this.key&&(a+="K:"+this.key);0!==this.Te&&(a+="C:"+this.Te);0!==this.Uk&&(a+="D:"+this.Uk);this.Tc&&(a+="h");this.bubbles&&(a+="b");null!==this.da&&(a+="@"+this.da.toString());return a};u.defineProperty(Md,{g:"diagram"},function(){return this.Y},function(a){this.Y=a});u.defineProperty(Md,{gf:"viewPoint"},function(){return this.Iy},function(a){u.C(a,w,Md,"viewPoint");this.Iy.assign(a)});
	u.defineProperty(Md,{da:"documentPoint"},function(){return this.Ex},function(a){u.C(a,w,Md,"documentPoint");this.Ex.assign(a)});u.defineProperty(Md,{hd:"modifiers"},function(){return this.Ou},function(a){this.Ou=a});u.defineProperty(Md,{button:"button"},function(){return this.St},function(a){this.St=a});u.defineProperty(Md,{key:"key"},function(){return this.Bu},function(a){this.Bu=a});u.defineProperty(Md,{Wk:"down"},function(){return this.hu},function(a){this.hu=a});
	u.defineProperty(Md,{up:"up"},function(){return this.tv},function(a){this.tv=a});u.defineProperty(Md,{Te:"clickCount"},function(){return this.Ut},function(a){this.Ut=a});u.defineProperty(Md,{Uk:"delta"},function(){return this.du},function(a){this.du=a});u.defineProperty(Md,{Qs:"isMultiTouch"},function(){return this.xu},function(a){this.xu=a});u.defineProperty(Md,{Tc:"handled"},function(){return this.ou},function(a){this.ou=a});
	u.defineProperty(Md,{bubbles:"bubbles"},function(){return this.Si},function(a){this.Si=a});u.defineProperty(Md,{event:"event"},function(){return this.Xp},function(a){this.Xp=a});u.u(Md,{jl:"isTouchEvent"},function(){var a=window.TouchEvent;return a&&this.event instanceof a?!0:(a=window.PointerEvent)&&this.event instanceof a&&"touch"===this.event.pointerType});u.defineProperty(Md,{timestamp:"timestamp"},function(){return this.sv},function(a){this.sv=a});
	u.defineProperty(Md,{Dg:"targetDiagram"},function(){return this.pv},function(a){this.pv=a});u.defineProperty(Md,{pe:"targetObject"},function(){return this.gg},function(a){this.gg=a});u.defineProperty(Md,{control:"control"},function(){return 0!==(this.hd&1)},function(a){this.hd=a?this.hd|1:this.hd&-2});u.defineProperty(Md,{shift:"shift"},function(){return 0!==(this.hd&4)},function(a){this.hd=a?this.hd|4:this.hd&-5});
	u.defineProperty(Md,{alt:"alt"},function(){return 0!==(this.hd&2)},function(a){this.hd=a?this.hd|2:this.hd&-3});u.defineProperty(Md,{Zs:"meta"},function(){return 0!==(this.hd&8)},function(a){this.hd=a?this.hd|8:this.hd&-9});u.defineProperty(Md,{left:"left"},function(){return 0===this.button},function(a){this.button=a?0:2});u.defineProperty(Md,{$J:"middle"},function(){return 1===this.button},function(a){this.button=a?1:0});
	u.defineProperty(Md,{right:"right"},function(){return 2===this.button},function(a){this.button=a?2:0});function Nd(){this.Y=null;this.Ub="";this.Xu=this.kv=null;this.Tt=!1}u.fa("DiagramEvent",Nd);Nd.prototype.copy=function(){var a=new Nd;a.Y=this.Y;a.Ub=this.Ub;a.kv=this.kv;a.Xu=this.Xu;a.Tt=this.Tt;return a};Nd.prototype.toString=function(){var a="*"+this.name;this.cancel&&(a+="x");null!==this.iA&&(a+=":"+this.iA.toString());null!==this.Nz&&(a+="("+this.Nz.toString()+")");return a};
	u.defineProperty(Nd,{g:"diagram"},function(){return this.Y},function(a){this.Y=a});u.defineProperty(Nd,{name:"name"},function(){return this.Ub},function(a){this.Ub=a});u.defineProperty(Nd,{iA:"subject"},function(){return this.kv},function(a){this.kv=a});u.defineProperty(Nd,{Nz:"parameter"},function(){return this.Xu},function(a){this.Xu=a});u.defineProperty(Nd,{cancel:"cancel"},function(){return this.Tt},function(a){this.Tt=a});
	function Zd(){this.Dp=$d;this.Yl=this.Nu="";this.Yq=this.Zq=this.cr=this.dr=this.br=this.Y=this.Od=null}u.fa("ChangedEvent",Zd);var ae;Zd.Transaction=ae=u.s(Zd,"Transaction",-1);var $d;Zd.Property=$d=u.s(Zd,"Property",0);var be;Zd.Insert=be=u.s(Zd,"Insert",1);var ce;Zd.Remove=ce=u.s(Zd,"Remove",2);Zd.prototype.clear=Zd.prototype.clear=function(){this.Yq=this.Zq=this.cr=this.dr=this.br=this.Y=this.Od=null};
	Zd.prototype.copy=function(){var a=new Zd;a.Od=this.Od;a.Y=this.Y;a.Dp=this.Dp;a.Nu=this.Nu;a.Yl=this.Yl;a.br=this.br;var b=this.dr;a.dr=u.Ta(b)&&"function"===typeof b.Z?b.Z():b;b=this.cr;a.cr=u.Ta(b)&&"function"===typeof b.Z?b.Z():b;b=this.Zq;a.Zq=u.Ta(b)&&"function"===typeof b.Z?b.Z():b;b=this.Yq;a.Yq=u.Ta(b)&&"function"===typeof b.Z?b.Z():b;return a};
	Zd.prototype.toString=function(){var a="",a=this.Bd===ae?a+"* ":this.Bd===$d?a+(null!==this.ha?"!m":"!d"):a+((null!==this.ha?"!m":"!d")+this.Bd);this.propertyName&&"string"===typeof this.propertyName&&(a+=" "+this.propertyName);this.Lf&&this.Lf!==this.propertyName&&(a+=" "+this.Lf);a+=": ";this.Bd===ae?null!==this.oldValue&&(a+=" "+this.oldValue):(null!==this.object&&(a+=de(this.object)),null!==this.oldValue&&(a+="  old: "+de(this.oldValue)),null!==this.Ag&&(a+=" "+this.Ag),null!==this.newValue&&
	(a+="  new: "+de(this.newValue)),null!==this.yg&&(a+=" "+this.yg));return a};Zd.prototype.getValue=Zd.prototype.ua=function(a){return a?this.oldValue:this.newValue};Zd.prototype.getParam=function(a){return a?this.Ag:this.yg};Zd.prototype.canUndo=Zd.prototype.canUndo=function(){return null!==this.ha||null!==this.g?!0:!1};Zd.prototype.undo=Zd.prototype.undo=function(){this.canUndo()&&(null!==this.ha?this.ha.qm(this,!0):null!==this.g&&this.g.qm(this,!0))};
	Zd.prototype.canRedo=Zd.prototype.canRedo=function(){return null!==this.ha||null!==this.g?!0:!1};Zd.prototype.redo=Zd.prototype.redo=function(){this.canRedo()&&(null!==this.ha?this.ha.qm(this,!1):null!==this.g&&this.g.qm(this,!1))};u.defineProperty(Zd,{ha:"model"},function(){return this.Od},function(a){this.Od=a});u.defineProperty(Zd,{g:"diagram"},function(){return this.Y},function(a){this.Y=a});u.defineProperty(Zd,{Bd:"change"},function(){return this.Dp},function(a){this.Dp=a});
	u.defineProperty(Zd,{Lf:"modelChange"},function(){return this.Nu},function(a){this.Nu=a});u.defineProperty(Zd,{propertyName:"propertyName"},function(){return this.Yl},function(a){this.Yl=a});u.u(Zd,{hH:"isTransactionFinished"},function(){return this.Dp===ae&&("CommittedTransaction"===this.Yl||"FinishedUndo"===this.Yl||"FinishedRedo"===this.Yl)});u.defineProperty(Zd,{object:"object"},function(){return this.br},function(a){this.br=a});
	u.defineProperty(Zd,{oldValue:"oldValue"},function(){return this.dr},function(a){this.dr=a});u.defineProperty(Zd,{Ag:"oldParam"},function(){return this.cr},function(a){this.cr=a});u.defineProperty(Zd,{newValue:"newValue"},function(){return this.Zq},function(a){this.Zq=a});u.defineProperty(Zd,{yg:"newParam"},function(){return this.Yq},function(a){this.Yq=a});
	function J(a){1<arguments.length&&u.k("Model constructor can only take one optional argument, the Array of node data.");u.gc(this);this.yx=this.Ub="";this.vk=!1;this.hy={};this.nf=[];this.sc=new la(null,Object);this.Ul="key";this.Yt=this.Gu=null;this.px=this.qx=!1;this.$q="category";this.wh=new la(null,F);this.jj=null;this.ri=!1;this.Hy=null;this.ga=new ee;void 0!==a&&(this.dh=a)}u.fa("Model",J);J.prototype.clear=J.prototype.clear=function(){this.nf=[];this.sc.clear();this.wh.clear();this.ga.clear()};
	g=J.prototype;g.Bt=function(){var a="";""!==this.name&&(a+=',\n  "name": '+this.quote(this.name));""!==this.Sk&&(a+=',\n  "dataFormat": '+this.quote(this.Sk));this.nb&&(a+=',\n  "isReadOnly": '+this.nb);"key"!==this.Km&&"string"===typeof this.Km&&(a+=',\n  "nodeKeyProperty": '+this.quote(this.Km));this.Yy&&(a+=',\n  "copiesArrays": true');this.Xy&&(a+=',\n  "copiesArrayObjects": true');"category"!==this.Jm&&"string"===typeof this.Jm&&(a+=',\n  "nodeCategoryProperty": '+this.quote(this.Jm));return a};
	g.qA=function(){var a="",b=this.$s,c=!1,d;for(d in b)if(!fe(d,b[d])){c=!0;break}c&&(a=',\n  "modelData": '+oe(this,b));return a+',\n  "nodeDataArray": '+pe(this,this.dh,!0)};g.gt=function(a){a.name&&(this.name=a.name);a.dataFormat&&(this.Sk=a.dataFormat);a.isReadOnly&&(this.nb=a.isReadOnly);a.nodeKeyProperty&&(this.Km=a.nodeKeyProperty);a.copiesArrays&&(this.Yy=a.copiesArrays);a.copiesArrayObjects&&(this.Xy=a.copiesArrayObjects);a.nodeCategoryProperty&&(this.Jm=a.nodeCategoryProperty)};
	g.Rz=function(a){var b=a.modelData;u.Ta(b)&&(this.it(b),this.$s=b);a=a.nodeDataArray;u.isArray(a)&&(this.it(a),this.dh=a)};g.toString=function(a){void 0===a&&(a=0);if(1<a)return this.lA();var b=(""!==this.name?this.name:"")+" Model";if(0<a){b+="\n node data:";a=this.dh;for(var c=u.qb(a),d=0;d<c;d++)var e=u.hb(a,d),b=b+(" "+this.wb(e)+":"+de(e))}return b};
	J.prototype.toJson=J.prototype.toJSON=J.prototype.lA=function(a){void 0===a&&(a=this.constructor===J?"go.Model":this.constructor===Q?"go.GraphLinksModel":this.constructor===qe?"go.TreeModel":u.sg(this));return'{ "class": '+this.quote(a)+this.Bt()+this.qA()+"}"};
	J.fromJson=J.fromJSON=function(a,b){void 0===b&&(b=null);null!==b&&u.C(b,J,J,"fromJson:model");var c=null;if("string"===typeof a)if(window.JSON&&window.JSON.parse)try{c=window.JSON.parse(a)}catch(d){}else u.trace("WARNING: no JSON.parse available");else"object"===typeof a?c=a:u.k("Unable to construct a Model from: "+a);if(null===b){var e;e=null;var f=c["class"];if("string"===typeof f)try{var h=null;0===f.indexOf("go.")?(f=f.substr(3),h=da[f]):(h=da[f],void 0===h&&(h=window[f]));"function"===typeof h&&
	(e=new h)}catch(k){}null===e||e instanceof J?b=e:u.k("Unable to construct a Model of declared class: "+c["class"])}null===b&&(b=new Q);b.gt(c);b.Rz(c);return b};
	J.prototype.replaceJsonObjects=J.prototype.it=function(a){if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++){var d=u.hb(a,c);u.Ta(d)&&u.RC(a,c,this.it(d))}else if(u.Ta(a)){for(c in a)if(d=a[c],u.Ta(d)&&(d=this.it(d),a[c]=d,"points"===c&&Array.isArray(d))){for(var e=0===d.length%2,f=0;f<d.length;f++)if("number"!==typeof d[f]){e=!1;break}if(e){e=new E(w);for(f=0;f<d.length/2;f++)e.add(new w(d[2*f],d[2*f+1]));e.freeze();a[c]=e}}if("object"===typeof a){c=a;d=a["class"];if("NaN"===d)c=NaN;else if("Date"===
		d)c=new Date(a.value);else if("go.Point"===d)c=new w(re(a.x),re(a.y));else if("go.Size"===d)c=new ia(re(a.width),re(a.height));else if("go.Rect"===d)c=new z(re(a.x),re(a.y),re(a.width),re(a.height));else if("go.Margin"===d)c=new rb(re(a.top),re(a.right),re(a.bottom),re(a.left));else if("go.Spot"===d)c="string"===typeof a["enum"]?tb(a["enum"]):new L(re(a.x),re(a.y),re(a.offsetX),re(a.offsetY));else if("go.Brush"===d){if(c=new ga,c.type=Da(ga,a.type),"string"===typeof a.color&&(c.color=a.color),a.start instanceof
		L&&(c.start=a.start),a.end instanceof L&&(c.end=a.end),"number"===typeof a.startRadius&&(c.vt=re(a.startRadius)),"number"===typeof a.endRadius&&(c.vs=re(a.endRadius)),a=a.colorStops,u.Ta(a))for(b in a)c.addColorStop(parseFloat(b),a[b])}else"go.Geometry"===d&&(b=null,b="string"===typeof a.path?sd(a.path):new $c,b.type=Da($c,a.type),"number"===typeof a.startX&&(b.va=re(a.startX)),"number"===typeof a.startY&&(b.wa=re(a.startY)),"number"===typeof a.endX&&(b.F=re(a.endX)),"number"===typeof a.endY&&(b.G=
		re(a.endY)),a.spot1 instanceof L&&(b.A=a.spot1),a.spot2 instanceof L&&(b.B=a.spot2),c=b);a=c}}return a};
	J.prototype.quote=function(a){for(var b="",c=a.length,d=0;d<c;d++){var e=a[d];if('"'===e||"\\"===e)b+="\\"+e;else if("\b"===e)b+="\\b";else if("\f"===e)b+="\\f";else if("\n"===e)b+="\\n";else if("\r"===e)b+="\\r";else if("\t"===e)b+="\\t";else var f=a.charCodeAt(d),b=16>f?b+("\\u000"+a.charCodeAt(d).toString(16)):32>f?b+("\\u00"+a.charCodeAt(d).toString(16)):8232===f?b+"\\u2028":8233===f?b+"\\u2029":b+e}return'"'+b+'"'};
	J.prototype.writeJsonValue=J.prototype.Ct=function(a){return void 0===a?"undefined":null===a?"null":!0===a?"true":!1===a?"false":"string"===typeof a?this.quote(a):"number"===typeof a?Infinity===a?"9e9999":-Infinity===a?"-9e9999":isNaN(a)?'{"class":"NaN"}':a.toString():a instanceof Date?'{"class":"Date", "value":"'+a.toJSON()+'"}':a instanceof Number?this.Ct(a.valueOf()):u.isArray(a)?pe(this,a):u.Ta(a)?oe(this,a):"function"===typeof a?"null":a.toString()};
	function pe(a,b,c){void 0===c&&(c=!1);var d=u.qb(b);if(0>=d)return"[]";var e=new Ba;e.add("[ ");c&&1<d&&e.add("\n");for(var f=0;f<d;f++){var h=u.hb(b,f);void 0!==h&&(0<f&&(e.add(","),c&&e.add("\n")),e.add(a.Ct(h)))}c&&1<d&&e.add("\n");e.add(" ]");return e.toString()}function fe(a,b){return void 0===b||"__gohashid"===a||"_"===a[0]||"function"===typeof b?!0:!1}function se(a){return isNaN(a)?"NaN":Infinity===a?"9e9999":-Infinity===a?"-9e9999":a}
	function oe(a,b){var c=b;if(c instanceof w){var d=c;b={"class":"go.Point",x:se(d.x),y:se(d.y)}}else if(c instanceof ia){var e=c;b={"class":"go.Size",width:se(e.width),height:se(e.height)}}else if(c instanceof z)b={"class":"go.Rect",x:se(c.x),y:se(c.y),width:se(c.width),height:se(c.height)};else if(c instanceof rb)b={"class":"go.Margin",top:se(c.top),right:se(c.right),bottom:se(c.bottom),left:se(c.left)};else if(c instanceof L)e=c,b=e.pd()?{"class":"go.Spot",x:se(e.x),y:se(e.y),offsetX:se(e.offsetX),
		offsetY:se(e.offsetY)}:{"class":"go.Spot","enum":e.toString()};else if(c instanceof ga){b={"class":"go.Brush",type:c.type.name};if(c.type===te)b.color=c.color;else if(c.type===ue||c.type===ve)b.start=c.start,b.end=c.end,c.type===ve&&(0!==c.vt&&(b.startRadius=se(c.vt)),isNaN(c.vs)||(b.endRadius=se(c.vs)));if(null!==c.qs){for(var f={},h=c.qs.i;h.next();)f[h.key]=h.value;b.colorStops=f}}else if(c instanceof $c)b={"class":"go.Geometry",type:c.type.name},0!==c.va&&(b.startX=se(c.va)),0!==c.wa&&(b.startY=
		se(c.wa)),0!==c.F&&(b.endX=se(c.F)),0!==c.G&&(b.endY=se(c.G)),c.A.L(xb)||(b.spot1=c.A),c.B.L(Vb)||(b.spot2=c.B),c.type===ad&&(b.path=qd(c));else if(c instanceof T||c instanceof D||c instanceof we||c instanceof J||c instanceof xe||c instanceof sa||c instanceof Je||c instanceof xa||c instanceof ee||c instanceof Ke)return u.trace("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: "+c.toString()),"{}";f="{";c=!0;for(d in b)if(e=u.sb(b,d),!fe(d,
			e))if(c?c=!1:f+=", ",f+='"'+d+'":',"points"===d&&e instanceof E&&e.pa===w){h=e;e="[";for(h=h.i;h.next();){var k=h.value;1<e.length&&(e+=",");e+=a.Ct(k.x);e+=",";e+=a.Ct(k.y)}e+="]";f+=e}else f+=a.Ct(e);return f+"}"}function re(a){return"number"===typeof a?a:"NaN"===a?NaN:"9e9999"===a?Infinity:"-9e9999"===a?-Infinity:parseFloat(a)}u.defineProperty(J,{name:"name"},function(){return this.Ub},function(a){var b=this.Ub;b!==a&&(u.j(a,"string",J,"name"),this.Ub=a,this.h("name",b,a))});
	u.defineProperty(J,{Sk:"dataFormat"},function(){return this.yx},function(a){var b=this.yx;b!==a&&(u.j(a,"string",J,"dataFormat"),this.yx=a,this.h("dataFormat",b,a))});u.defineProperty(J,{nb:"isReadOnly"},function(){return this.vk},function(a){var b=this.vk;b!==a&&(u.j(a,"boolean",J,"isReadOnly"),this.vk=a,this.h("isReadOnly",b,a))});u.defineProperty(J,{$s:"modelData"},function(){return this.hy},function(a){var b=this.hy;b!==a&&(u.j(a,"object",J,"modelData"),this.hy=a,this.h("modelData",b,a),this.Ob(a))});
	J.prototype.addChangedListener=J.prototype.Ky=function(a){u.j(a,"function",J,"addChangedListener:listener");null===this.jj&&(this.jj=new E("function"));this.jj.add(a)};J.prototype.removeChangedListener=J.prototype.Uz=function(a){u.j(a,"function",J,"removeChangedListener:listener");null!==this.jj&&(this.jj.remove(a),0===this.jj.count&&(this.jj=null))};
	J.prototype.Lv=function(a){this.fb||this.ga.DD(a);if(null!==this.jj){var b=this.jj,c=b.length;if(1===c)b=b.ja(0),b(a);else if(0!==c)for(var d=b.Ke(),e=0;e<c;e++)b=d[e],b(a)}};J.prototype.raiseChangedEvent=J.prototype.Cc=function(a,b,c,d,e,f,h){Le(this,"",a,b,c,d,e,f,h)};J.prototype.raiseChanged=J.prototype.h=function(a,b,c,d,e){Le(this,"",$d,a,this,b,c,d,e)};J.prototype.raiseDataChanged=J.prototype.Qz=function(a,b,c,d,e,f){Le(this,"",$d,b,a,c,d,e,f)};
	function Le(a,b,c,d,e,f,h,k,l){void 0===k&&(k=null);void 0===l&&(l=null);var m=new Zd;m.ha=a;m.Bd=c;m.Lf=b;m.propertyName=d;m.object=e;m.oldValue=f;m.Ag=k;m.newValue=h;m.yg=l;a.Lv(m)}u.defineProperty(J,{ga:"undoManager"},function(){return this.Hy},function(a){var b=this.Hy;b!==a&&(u.C(a,ee,J,"undoManager"),null!==b&&b.SH(this),this.Hy=a,null!==a&&a.MF(this))});u.defineProperty(J,{fb:"skipsUndoManager"},function(){return this.ri},function(a){u.j(a,"boolean",J,"skipsUndoManager");this.ri=a});
	J.prototype.qm=function(a,b){if(null!==a&&a.ha===this)if(a.Bd===$d){var c=a.object,d=a.propertyName,e=a.ua(b);u.Pa(c,d,e)}else a.Bd===be?"nodeDataArray"===a.Lf?(c=a.newValue,u.Ta(c)&&(d=this.wb(c),void 0!==d&&(b?(u.Ai(this.nf,a.yg),this.sc.remove(d)):(u.zi(this.nf,a.yg,c),this.sc.add(d,c))))):""===a.Lf?(c=a.object,!u.isArray(c)&&a.propertyName&&(c=u.sb(a.object,a.propertyName)),u.isArray(c)&&(d=a.newValue,e=a.yg,b?u.Ai(c,e):u.zi(c,e,d))):u.k("unknown ChangedEvent.Insert object: "+a.toString()):a.Bd===
	ce?"nodeDataArray"===a.Lf?(c=a.oldValue,u.Ta(c)&&(d=this.wb(c),void 0!==d&&(b?(u.zi(this.nf,a.Ag,c),this.sc.add(d,c)):(u.Ai(this.nf,a.Ag),this.sc.remove(d))))):""===a.Lf?(c=a.object,!u.isArray(c)&&a.propertyName&&(c=u.sb(a.object,a.propertyName)),u.isArray(c)&&(d=a.oldValue,e=a.Ag,b?u.zi(c,e,d):u.Ai(c,e))):u.k("unknown ChangedEvent.Remove object: "+a.toString()):a.Bd!==ae&&u.k("unknown ChangedEvent: "+a.toString())};J.prototype.startTransaction=J.prototype.Wb=function(a){return this.ga.Wb(a)};
	J.prototype.commitTransaction=J.prototype.Wd=function(a){return this.ga.Wd(a)};J.prototype.rollbackTransaction=J.prototype.cp=function(){return this.ga.cp()};J.prototype.updateTargetBindings=J.prototype.Ob=function(a,b){void 0===b&&(b="");Le(this,"SourceChanged",ae,b,a,null,null)};
	u.defineProperty(J,{Km:"nodeKeyProperty"},function(){return this.Ul},function(a){var b=this.Ul;b!==a&&(Me(a,J,"nodeKeyProperty"),0<this.sc.count&&u.k("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Ul=a,this.h("nodeKeyProperty",b,a))});function Me(a,b,c){"string"!==typeof a&&"function"!==typeof a&&u.Kd(a,"string or function",b,c)}
	J.prototype.getKeyForNodeData=J.prototype.wb=function(a){if(null!==a){var b=this.Ul;if(""!==b&&(b=u.sb(a,b),void 0!==b)){if(Ne(b))return b;u.k("Key value for node data "+a+" is not a number or a string: "+b)}}};
	J.prototype.setKeyForNodeData=J.prototype.cA=function(a,b){void 0!==b&&null!==b&&Ne(b)||u.Kd(b,"number or string",J,"setKeyForNodeData:key");if(null!==a){var c=this.Ul;if(""!==c)if(this.Ue(a)){var d=u.sb(a,c);d!==b&&null===this.rf(b)&&(u.Pa(a,c,b),this.sc.remove(d),this.sc.add(b,a),Le(this,"nodeKey",$d,c,a,d,b),"string"===typeof c&&this.Ob(a,c),this.ht(d,b))}else u.Pa(a,c,b)}};
	u.defineProperty(J,{TJ:"makeUniqueKeyFunction"},function(){return this.Gu},function(a){var b=this.Gu;b!==a&&(null!==a&&u.j(a,"function",J,"makeUniqueKeyFunction"),this.Gu=a,this.h("makeUniqueKeyFunction",b,a))});function Ne(a){return"number"===typeof a||"string"===typeof a}J.prototype.containsNodeData=J.prototype.Ue=function(a){a=this.wb(a);return void 0===a?!1:this.sc.contains(a)};
	J.prototype.findNodeDataForKey=J.prototype.rf=function(a){null===a&&u.k("Model.findNodeDataForKey:key must not be null");return void 0!==a&&Ne(a)?this.sc.ua(a):null};
	u.defineProperty(J,{dh:"nodeDataArray"},function(){return this.nf},function(a){var b=this.nf;if(b!==a){u.Ry(a,J,"nodeDataArray");this.sc.clear();this.nA();for(var c=u.qb(a),d=0;d<c;d++){var e=u.hb(a,d);if(!u.Ta(e)){u.k("Model.nodeDataArray must only contain Objects, not: "+e);return}u.Js(e)}this.nf=a;for(var f=new E(Object),d=0;d<c;d++){var e=u.hb(a,d),h=this.wb(e);void 0===h?f.add(e):null!==this.sc.ua(h)?f.add(e):this.sc.add(h,e)}for(d=f.i;d.next();)e=d.value,this.UD(e),f=this.wb(e),void 0!==f&&
	this.sc.add(f,e);Le(this,"nodeDataArray",$d,"nodeDataArray",this,b,a);for(d=0;d<c;d++)e=u.hb(a,d),this.bp(e),this.ap(e);this.XC();u.dH(a)||(this.nb=!0)}});
	J.prototype.makeNodeDataKeyUnique=J.prototype.UD=function(a){if(null!==a){var b=this.Ul;if(""!==b){var c=this.wb(a);if(void 0===c||this.sc.contains(c)){var d=this.Gu;if(null!==d&&(c=d(this,a),void 0!==c&&null!==c&&!this.sc.contains(c))){u.Pa(a,b,c);return}if("string"===typeof c){for(d=2;this.sc.contains(c+d);)d++;u.Pa(a,b,c+d)}else if(void 0===c||"number"===typeof c){for(d=-this.sc.count-1;this.sc.contains(d);)d--;u.Pa(a,b,d)}else u.k("Model.getKeyForNodeData returned something other than a string or a number: "+
		c)}}}};J.prototype.addNodeData=J.prototype.lm=function(a){if(null!==a){u.Js(a);var b=this.wb(a);if(void 0===b||this.sc.ua(b)!==a)this.UD(a),b=this.wb(a),void 0===b?u.k("Model.makeNodeDataKeyUnique failed on "+a+".  Data not added to Model."):(this.sc.add(b,a),b=u.qb(this.nf),u.zi(this.nf,b,a),Le(this,"nodeDataArray",be,"nodeDataArray",this,null,a,null,b),this.bp(a),this.ap(a))}};
	J.prototype.addNodeDataCollection=function(a){if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++)this.lm(u.hb(a,c));else for(a=a.i;a.next();)this.lm(a.value)};J.prototype.removeNodeData=J.prototype.Wz=function(a){if(null!==a){var b=this.wb(a);void 0!==b&&this.sc.contains(b)&&(this.sc.remove(b),b=u.Qy(this.nf,a),0>b||(u.Ai(this.nf,b),Le(this,"nodeDataArray",ce,"nodeDataArray",this,a,null,b,null),this.At(a)))}};
	J.prototype.removeNodeDataCollection=function(a){if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++)this.Wz(u.hb(a,c));else for(a=a.i;a.next();)this.Wz(a.value)};g=J.prototype;g.ht=function(a,b){var c=Oe(this,a);c instanceof F&&this.wh.add(b,c)};g.nA=function(){};g.bp=function(){};g.ap=function(){};g.At=function(){};function Pe(a,b,c){if(void 0!==b){var d=a.wh.ua(b);null===d&&(d=new F(Object),a.wh.add(b,d));d.add(c)}}
	function Qe(a,b,c){if(void 0!==b){var d=a.wh.ua(b);d instanceof F&&(void 0===c||null===c?a.wh.remove(b):(d.remove(c),0===d.count&&a.wh.remove(b)))}}function Oe(a,b){if(void 0===b)return null;var c=a.wh.ua(b);return c instanceof F?c:null}J.prototype.clearUnresolvedReferences=J.prototype.XC=function(a){void 0===a?this.wh.clear():this.wh.remove(a)};
	u.defineProperty(J,{hJ:"copyNodeDataFunction"},function(){return this.Yt},function(a){var b=this.Yt;b!==a&&(null!==a&&u.j(a,"function",J,"copyNodeDataFunction"),this.Yt=a,this.h("copyNodeDataFunction",b,a))});u.defineProperty(J,{Yy:"copiesArrays"},function(){return this.qx},function(a){var b=this.qx;b!==a&&(null!==a&&u.j(a,"boolean",J,"copiesArrays"),this.qx=a,this.h("copiesArrays",b,a))});
	u.defineProperty(J,{Xy:"copiesArrayObjects"},function(){return this.px},function(a){var b=this.px;b!==a&&(null!==a&&u.j(a,"boolean",J,"copiesArrayObjects"),this.px=a,this.h("copiesArrayObjects",b,a))});J.prototype.copyNodeData=function(a){if(null===a)return null;var b=null,b=this.Yt,b=null!==b?b(a,this):Re(this,a,!0);u.Ta(b)&&u.gc(b);return b};
	function Re(a,b,c){if(a.Yy&&Array.isArray(b)){var d=[];for(c=0;c<b.length;c++){var e=Re(a,b[c],a.Xy);d.push(e)}u.gc(d);return d}if(c&&u.Ta(b)){c=(c=b.constructor)?new c:{};for(d in b)if("__gohashid"!==d){var e=u.sb(b,d),f;f=e;f instanceof T||f instanceof D||f instanceof we||f instanceof Se||f instanceof Te||f instanceof xe||f instanceof sa||f instanceof Je||f instanceof Md||f instanceof Nd?("_"!==d[0]&&u.trace('Warning: found GraphObject or Diagram reference when copying model data on property "'+
		d+'" of data object: '+b.toString()+"  \nModel data should not have any references to a Diagram or any part of a diagram, such as: "+f.toString()),f=!0):f=f instanceof J||f instanceof ee||f instanceof Ke||f instanceof Zd?!0:!1;f||(e=Re(a,e,!1));u.Pa(c,d,e)}u.gc(c);return c}return b}var Ue=!1;
	J.prototype.setDataProperty=function(a,b,c){if(this.Ue(a))if(b===this.Km)this.cA(a,c);else{if(b===this.Jm){this.Fw(a,c);return}}else!Ue&&a instanceof T&&(Ue=!0,u.trace('Model.setDataProperty is modifying a GraphObject, "'+a.toString()+'"'),u.trace("  Is that really your intent?"));var d=u.sb(a,b);d!==c&&(u.Pa(a,b,c),this.Qz(a,b,d,c))};J.prototype.addArrayItem=function(a,b){this.XG(a,-1,b)};
	J.prototype.insertArrayItem=J.prototype.XG=function(a,b,c){a===this.nf&&u.k("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray");0>b&&(b=u.qb(a));u.zi(a,b,c);Le(this,"",be,"",a,null,c,null,b)};J.prototype.removeArrayItem=function(a,b){void 0===b&&(b=-1);a===this.nf&&u.k("Model.removeArrayItem should not be called on the Model.nodeDataArray");-1===b&&(b=u.qb(a)-1);var c=u.hb(a,b);u.Ai(a,b);Le(this,"",ce,"",a,c,null,b,null)};
	u.defineProperty(J,{Jm:"nodeCategoryProperty"},function(){return this.$q},function(a){var b=this.$q;b!==a&&(Me(a,J,"nodeCategoryProperty"),this.$q=a,this.h("nodeCategoryProperty",b,a))});J.prototype.getCategoryForNodeData=J.prototype.gz=function(a){if(null===a)return"";var b=this.$q;if(""===b)return"";b=u.sb(a,b);if(void 0===b)return"";if("string"===typeof b)return b;u.k("getCategoryForNodeData found a non-string category for "+a+": "+b);return""};
	J.prototype.setCategoryForNodeData=J.prototype.Fw=function(a,b){u.j(b,"string",J,"setCategoryForNodeData:cat");if(null!==a){var c=this.$q;if(""!==c)if(this.Ue(a)){var d=u.sb(a,c);void 0===d&&(d="");d!==b&&(u.Pa(a,c,b),Le(this,"nodeCategory",$d,c,a,d,b))}else u.Pa(a,c,b)}};
	function Q(a,b){2<arguments.length&&u.k("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data.");J.call(this);this.Dh=[];this.Sl=new F(Object);this.ik=this.Xt=null;this.fj="from";this.ij="to";this.Fq=this.Eq="";this.Bq="category";this.Eh="";this.Qu="isGroup";this.pj="group";this.sx=!1;void 0!==a&&(this.dh=a);void 0!==b&&(this.Qj=b)}u.Ia(Q,J);u.fa("GraphLinksModel",Q);
	Q.prototype.clear=Q.prototype.clear=function(){J.prototype.clear.call(this);this.Dh=[];this.Sl.clear()};g=Q.prototype;g.toString=function(a){void 0===a&&(a=0);if(2<=a)return this.lA();var b=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<a){b+="\n node data:";a=this.dh;for(var c=u.qb(a),d=0,d=0;d<c;d++)var e=u.hb(a,d),b=b+(" "+this.wb(e)+":"+de(e));b+="\n link data:";a=this.Qj;c=u.qb(a);for(d=0;d<c;d++)e=u.hb(a,d),b+=" "+this.$k(e)+"--\x3e"+this.cl(e)}return b};
	g.Bt=function(){var a=J.prototype.Bt.call(this),b="";"category"!==this.Us&&"string"===typeof this.Us&&(b+=',\n  "linkCategoryProperty": '+this.quote(this.Us));"from"!==this.Mo&&"string"===typeof this.Mo&&(b+=',\n  "linkFromKeyProperty": '+this.quote(this.Mo));"to"!==this.Oo&&"string"===typeof this.Oo&&(b+=',\n  "linkToKeyProperty": '+this.quote(this.Oo));""!==this.Vs&&"string"===typeof this.Vs&&(b+=',\n  "linkFromPortIdProperty": '+this.quote(this.Vs));""!==this.Xs&&"string"===typeof this.Xs&&(b+=
		',\n  "linkToPortIdProperty": '+this.quote(this.Xs));""!==this.Ws&&"string"===typeof this.Ws&&(b+=',\n  "linkLabelKeysProperty": '+this.quote(this.Ws));"isGroup"!==this.ct&&"string"===typeof this.ct&&(b+=',\n  "nodeIsGroupProperty": '+this.quote(this.ct));"group"!==this.Xo&&"string"===typeof this.Xo&&(b+=',\n  "nodeGroupKeyProperty": '+this.quote(this.Xo));return a+b};g.qA=function(){var a=J.prototype.qA.call(this),b=',\n  "linkDataArray": '+pe(this,this.Qj,!0);return a+b};
	g.gt=function(a){J.prototype.gt.call(this,a);a.linkFromKeyProperty&&(this.Mo=a.linkFromKeyProperty);a.linkToKeyProperty&&(this.Oo=a.linkToKeyProperty);a.linkFromPortIdProperty&&(this.Vs=a.linkFromPortIdProperty);a.linkToPortIdProperty&&(this.Xs=a.linkToPortIdProperty);a.linkCategoryProperty&&(this.Us=a.linkCategoryProperty);a.linkLabelKeysProperty&&(this.Ws=a.linkLabelKeysProperty);a.nodeIsGroupProperty&&(this.ct=a.nodeIsGroupProperty);a.nodeGroupKeyProperty&&(this.Xo=a.nodeGroupKeyProperty)};
	g.Rz=function(a){J.prototype.Rz.call(this,a);a=a.linkDataArray;u.isArray(a)&&(this.it(a),this.Qj=a)};g.qm=function(a,b){var c=null;if(a.Bd===be){if("linkDataArray"===a.Lf?c=this.Dh:"linkLabelKeys"===a.Lf&&(c=this.Pj(a.object)),u.isArray(c)){b?u.Ai(c,a.yg):u.zi(c,a.yg,a.newValue);return}}else if(a.Bd===ce&&("linkDataArray"===a.Lf?c=this.Dh:"linkLabelKeys"===a.Lf&&(c=this.Pj(a.object)),u.isArray(c))){b?u.zi(c,a.Ag,a.oldValue):u.Ai(c,a.Ag);return}J.prototype.qm.call(this,a,b)};
	u.defineProperty(Q,{Py:"archetypeNodeData"},function(){return this.ik},function(a){var b=this.ik;b!==a&&(null!==a&&u.C(a,Object,Q,"archetypeNodeData"),this.ik=a,this.h("archetypeNodeData",b,a))});Q.prototype.Hm=function(a){if(void 0!==a){var b=this.ik;if(null!==b){var c=this.rf(a);null===c&&(c=this.copyNodeData(b),u.Pa(c,this.Ul,a),this.lm(c))}return a}};
	u.defineProperty(Q,{Mo:"linkFromKeyProperty"},function(){return this.fj},function(a){var b=this.fj;b!==a&&(Me(a,Q,"linkFromKeyProperty"),this.fj=a,this.h("linkFromKeyProperty",b,a))});Q.prototype.getFromKeyForLinkData=Q.prototype.$k=function(a){if(null!==a){var b=this.fj;if(""!==b&&(b=u.sb(a,b),void 0!==b)){if(Ne(b))return b;u.k("FromKey value for link data "+a+" is not a number or a string: "+b)}}};
	Q.prototype.setFromKeyForLinkData=Q.prototype.Gw=function(a,b){null===b&&(b=void 0);void 0===b||Ne(b)||u.Kd(b,"number or string",Q,"setFromKeyForLinkData:key");if(null!==a){var c=this.fj;if(""!==c)if(b=this.Hm(b),this.Di(a)){var d=u.sb(a,c);d!==b&&(Qe(this,d,a),u.Pa(a,c,b),null===this.rf(b)&&Pe(this,b,a),Le(this,"linkFromKey",$d,c,a,d,b),"string"===typeof c&&this.Ob(a,c))}else u.Pa(a,c,b)}};
	u.defineProperty(Q,{Oo:"linkToKeyProperty"},function(){return this.ij},function(a){var b=this.ij;b!==a&&(Me(a,Q,"linkToKeyProperty"),this.ij=a,this.h("linkToKeyProperty",b,a))});Q.prototype.getToKeyForLinkData=Q.prototype.cl=function(a){if(null!==a){var b=this.ij;if(""!==b&&(b=u.sb(a,b),void 0!==b)){if(Ne(b))return b;u.k("ToKey value for link data "+a+" is not a number or a string: "+b)}}};
	Q.prototype.setToKeyForLinkData=Q.prototype.Iw=function(a,b){null===b&&(b=void 0);void 0===b||Ne(b)||u.Kd(b,"number or string",Q,"setToKeyForLinkData:key");if(null!==a){var c=this.ij;if(""!==c)if(b=this.Hm(b),this.Di(a)){var d=u.sb(a,c);d!==b&&(Qe(this,d,a),u.Pa(a,c,b),null===this.rf(b)&&Pe(this,b,a),Le(this,"linkToKey",$d,c,a,d,b),"string"===typeof c&&this.Ob(a,c))}else u.Pa(a,c,b)}};
	u.defineProperty(Q,{Vs:"linkFromPortIdProperty"},function(){return this.Eq},function(a){var b=this.Eq;b!==a&&(Me(a,Q,"linkFromPortIdProperty"),this.Eq=a,this.h("linkFromPortIdProperty",b,a))});Q.prototype.getFromPortIdForLinkData=Q.prototype.FG=function(a){if(null===a)return"";var b=this.Eq;if(""===b)return"";a=u.sb(a,b);return void 0===a?"":a};
	Q.prototype.setFromPortIdForLinkData=Q.prototype.bA=function(a,b){u.j(b,"string",Q,"setFromPortIdForLinkData:portname");if(null!==a){var c=this.Eq;if(""!==c)if(this.Di(a)){var d=u.sb(a,c);void 0===d&&(d="");d!==b&&(u.Pa(a,c,b),Le(this,"linkFromPortId",$d,c,a,d,b),"string"===typeof c&&this.Ob(a,c))}else u.Pa(a,c,b)}};u.defineProperty(Q,{Xs:"linkToPortIdProperty"},function(){return this.Fq},function(a){var b=this.Fq;b!==a&&(Me(a,Q,"linkToPortIdProperty"),this.Fq=a,this.h("linkToPortIdProperty",b,a))});
	Q.prototype.getToPortIdForLinkData=Q.prototype.IG=function(a){if(null===a)return"";var b=this.Fq;if(""===b)return"";a=u.sb(a,b);return void 0===a?"":a};Q.prototype.setToPortIdForLinkData=Q.prototype.fA=function(a,b){u.j(b,"string",Q,"setToPortIdForLinkData:portname");if(null!==a){var c=this.Fq;if(""!==c)if(this.Di(a)){var d=u.sb(a,c);void 0===d&&(d="");d!==b&&(u.Pa(a,c,b),Le(this,"linkToPortId",$d,c,a,d,b),"string"===typeof c&&this.Ob(a,c))}else u.Pa(a,c,b)}};
	u.defineProperty(Q,{Ws:"linkLabelKeysProperty"},function(){return this.Eh},function(a){var b=this.Eh;b!==a&&(Me(a,Q,"linkLabelKeysProperty"),this.Eh=a,this.h("linkLabelKeysProperty",b,a))});Q.prototype.getLabelKeysForLinkData=Q.prototype.Pj=function(a){if(null===a)return u.nh;var b=this.Eh;if(""===b)return u.nh;a=u.sb(a,b);return void 0===a?u.nh:a};
	Q.prototype.setLabelKeysForLinkData=Q.prototype.FE=function(a,b){u.Ry(b,Q,"setLabelKeysForLinkData:arr");if(null!==a){var c=this.Eh;if(""!==c)if(this.Di(a)){var d=u.sb(a,c);void 0===d&&(d=u.nh);if(d!==b){for(var e=u.qb(d),f=0;f<e;f++){var h=u.hb(d,f);Qe(this,h,a)}u.Pa(a,c,b);e=u.qb(b);for(f=0;f<e;f++)h=u.hb(b,f),null===this.rf(h)&&Pe(this,h,a);Le(this,"linkLabelKeys",$d,c,a,d,b);"string"===typeof c&&this.Ob(a,c)}}else u.Pa(a,c,b)}};
	Q.prototype.addLabelKeyForLinkData=Q.prototype.My=function(a,b){if(null!==b&&void 0!==b&&(Ne(b)||u.Kd(b,"number or string",Q,"addLabelKeyForLinkData:key"),null!==a)){var c=this.Eh;if(""!==c){var d=u.sb(a,c);void 0===d?(c=[],c.push(b),this.FE(a,c)):u.isArray(d)?0<=u.Qy(d,b)||(u.zi(d,Infinity,b),this.Di(a)&&(null===this.rf(b)&&Pe(this,b,a),Le(this,"linkLabelKeys",be,c,a,null,b))):u.k(c+" property is not an Array; cannot addLabelKeyForLinkData: "+a)}}};
	Q.prototype.removeLabelKeyForLinkData=Q.prototype.mE=function(a,b){if(null!==b&&void 0!==b&&(Ne(b)||u.Kd(b,"number or string",Q,"removeLabelKeyForLinkData:key"),null!==a)){var c=this.Eh;if(""!==c){var d=u.sb(a,c);if(u.isArray(d)){var e=u.Qy(d,b);0>e||(u.Ai(d,e),this.Di(a)&&(Qe(this,b,a),Le(this,"linkLabelKeys",ce,c,a,b,null)))}else void 0!==d&&u.k(c+" property is not an Array; cannot removeLabelKeyforLinkData: "+a)}}};
	u.defineProperty(Q,{Qj:"linkDataArray"},function(){return this.Dh},function(a){var b=this.Dh;if(b!==a){u.Ry(a,Q,"linkDataArray");for(var c=u.qb(a),d=0;d<c;d++){var e=u.hb(a,d);if(!u.Ta(e)){u.k("GraphLinksModel.linkDataArray must only contain Objects, not: "+e);return}u.Js(e)}this.Dh=a;for(var f=new F(Object),d=0;d<c;d++)e=u.hb(a,d),f.add(e);this.Sl=f;Le(this,"linkDataArray",$d,"linkDataArray",this,b,a);for(d=0;d<c;d++)e=u.hb(a,d),Ve(this,e)}});
	Q.prototype.containsLinkData=Q.prototype.Di=function(a){return null===a?!1:this.Sl.contains(a)};Q.prototype.addLinkData=Q.prototype.zv=function(a){if(null!==a){if(void 0===u.Uc(a))u.gc(a);else if(this.Di(a))return;this.Sl.add(a);var b=u.qb(this.Dh);u.zi(this.Dh,b,a);Le(this,"linkDataArray",be,"linkDataArray",this,null,a,null,b);Ve(this,a)}};Q.prototype.addLinkDataCollection=function(a){if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++)this.zv(u.hb(a,c));else for(a=a.i;a.next();)this.zv(a.value)};
	Q.prototype.removeLinkData=Q.prototype.Vz=function(a){if(null!==a){this.Sl.remove(a);var b=this.Dh.indexOf(a);if(!(0>b)){u.Ai(this.Dh,b);Le(this,"linkDataArray",ce,"linkDataArray",this,a,null,b,null);b=this.$k(a);Qe(this,b,a);b=this.cl(a);Qe(this,b,a);var c=this.Pj(a);if(u.isArray(c))for(var d=u.qb(c),e=0;e<d;e++)b=u.hb(c,e),Qe(this,b,a)}}};Q.prototype.removeLinkDataCollection=function(a){if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++)this.Vz(u.hb(a,c));else for(a=a.i;a.next();)this.Vz(a.value)};
	function Ve(a,b){var c=a.$k(b),c=a.Hm(c);null===a.rf(c)&&Pe(a,c,b);c=a.cl(b);c=a.Hm(c);null===a.rf(c)&&Pe(a,c,b);var d=a.Pj(b);if(u.isArray(d))for(var e=u.qb(d),f=0;f<e;f++)c=u.hb(d,f),null===a.rf(c)&&Pe(a,c,b)}u.defineProperty(Q,{gJ:"copyLinkDataFunction"},function(){return this.Xt},function(a){var b=this.Xt;b!==a&&(null!==a&&u.j(a,"function",Q,"copyLinkDataFunction"),this.Xt=a,this.h("copyLinkDataFunction",b,a))});
	Q.prototype.copyLinkData=Q.prototype.eD=function(a){if(null===a)return null;var b=null,b=this.Xt;if(null!==b)b=b(a,this);else{var b=new a.constructor,c;for(c in a)if("__gohashid"!==c){var d=u.sb(a,c);u.Pa(b,c,d)}}null!==b&&(u.gc(b),""!==this.fj&&u.Pa(b,this.fj,void 0),""!==this.ij&&u.Pa(b,this.ij,void 0),""!==this.Eh&&u.Pa(b,this.Eh,[]));return b};
	u.defineProperty(Q,{ct:"nodeIsGroupProperty"},function(){return this.Qu},function(a){var b=this.Qu;b!==a&&(Me(a,Q,"nodeIsGroupProperty"),this.Qu=a,this.h("nodeIsGroupProperty",b,a))});Q.prototype.isGroupForNodeData=Q.prototype.uz=function(a){if(null===a)return!1;var b=this.Qu;return""===b?!1:u.sb(a,b)?!0:!1};u.defineProperty(Q,{Xo:"nodeGroupKeyProperty"},function(){return this.pj},function(a){var b=this.pj;b!==a&&(Me(a,Q,"nodeGroupKeyProperty"),this.pj=a,this.h("nodeGroupKeyProperty",b,a))});
	u.defineProperty(Q,{um:"copiesGroupKeyOfNodeData"},function(){return this.sx},function(a){this.sx!==a&&(u.j(a,"boolean",Q,"copiesGroupKeyOfNodeData"),this.sx=a)});Q.prototype.getGroupKeyForNodeData=Q.prototype.Cm=function(a){if(null!==a){var b=this.pj;if(""!==b&&(b=u.sb(a,b),void 0!==b)){if(Ne(b))return b;u.k("GroupKey value for node data "+a+" is not a number or a string: "+b)}}};
	Q.prototype.setGroupKeyForNodeData=Q.prototype.Hw=function(a,b){null===b&&(b=void 0);void 0===b||Ne(b)||u.Kd(b,"number or string",Q,"setGroupKeyForNodeData:key");if(null!==a){var c=this.pj;if(""!==c)if(this.Ue(a)){var d=u.sb(a,c);d!==b&&(Qe(this,d,a),u.Pa(a,c,b),null===this.rf(b)&&Pe(this,b,a),Le(this,"nodeGroupKey",$d,c,a,d,b),"string"===typeof c&&this.Ob(a,c))}else u.Pa(a,c,b)}};
	Q.prototype.copyNodeData=function(a){if(null===a)return null;a=J.prototype.copyNodeData.call(this,a);this.um||""===this.pj||u.Pa(a,this.pj,void 0);return a};
	Q.prototype.setDataProperty=function(a,b,c){if(this.Ue(a))if(b===this.Km)this.cA(a,c);else{if(b===this.Jm){this.Fw(a,c);return}if(b===this.Xo){this.Hw(a,c);return}b===this.ct&&u.k("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+b)}else if(this.Di(a)){if(b===this.Mo){this.Gw(a,c);return}if(b===this.Oo){this.Iw(a,c);return}if(b===this.Vs){this.bA(a,c);return}if(b===this.Xs){this.fA(a,c);return}if(b===this.Us){this.EE(a,c);return}if(b===this.Ws){this.FE(a,c);return}}else!Ue&&
	a instanceof T&&(Ue=!0,u.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, "'+a.toString()+'"'),u.trace("  Is that really your intent?"));var d=u.sb(a,b);d!==c&&(u.Pa(a,b,c),this.Qz(a,b,d,c))};g=Q.prototype;
	g.ht=function(a,b){J.prototype.ht.call(this,a,b);for(var c=this.sc.i;c.next();)this.Yz(c.value,a,b);for(var d=this.Sl.i;d.next();){var e=c.value,f=a,h=b;if(this.$k(e)===f){var k=this.fj;u.Pa(e,k,h);Le(this,"linkFromKey",$d,k,e,f,h);"string"===typeof k&&this.Ob(e,k)}this.cl(e)===f&&(k=this.ij,u.Pa(e,k,h),Le(this,"linkToKey",$d,k,e,f,h),"string"===typeof k&&this.Ob(e,k));var l=this.Pj(e);if(u.isArray(l))for(var m=u.qb(l),k=this.Eh,n=0;n<m;n++)u.hb(l,n)===f&&(u.RC(l,n,h),Le(this,"linkLabelKeys",be,k,
		e,f,h))}};g.Yz=function(a,b,c){if(this.Cm(a)===b){var d=this.pj;u.Pa(a,d,c);Le(this,"nodeGroupKey",$d,d,a,b,c);"string"===typeof d&&this.Ob(a,d)}};g.nA=function(){J.prototype.nA.call(this);for(var a=this.Qj,b=u.qb(a),c=0;c<b;c++){var d=u.hb(a,c);Ve(this,d)}};
	g.bp=function(a){J.prototype.bp.call(this,a);a=this.wb(a);var b=Oe(this,a);if(null!==b){for(var c=new E(Object),b=b.i;b.next();){var d=b.value;if(this.Ue(d)){if(this.Cm(d)===a){var e=this.pj;Le(this,"nodeGroupKey",$d,e,d,a,a);"string"===typeof e&&this.Ob(d,e);c.add(d)}}else{this.$k(d)===a&&(e=this.fj,Le(this,"linkFromKey",$d,e,d,a,a),"string"===typeof e&&this.Ob(d,e),c.add(d));this.cl(d)===a&&(e=this.ij,Le(this,"linkToKey",$d,e,d,a,a),"string"===typeof e&&this.Ob(d,e),c.add(d));var f=this.Pj(d);if(u.isArray(f))for(var h=
		u.qb(f),e=this.Eh,k=0;k<h;k++)u.hb(f,k)===a&&(Le(this,"linkLabelKeys",be,e,d,a,a),c.add(d))}}for(c=c.i;c.next();)Qe(this,a,c.value)}};g.ap=function(a){J.prototype.ap.call(this,a);var b=this.Cm(a);null===this.rf(b)&&Pe(this,b,a)};g.At=function(a){J.prototype.At.call(this,a);var b=this.Cm(a);Qe(this,b,a)};u.defineProperty(Q,{Us:"linkCategoryProperty"},function(){return this.Bq},function(a){var b=this.Bq;b!==a&&(Me(a,Q,"linkCategoryProperty"),this.Bq=a,this.h("linkCategoryProperty",b,a))});
	Q.prototype.getCategoryForLinkData=Q.prototype.$v=function(a){if(null===a)return"";var b=this.Bq;if(""===b)return"";b=u.sb(a,b);if(void 0===b)return"";if("string"===typeof b)return b;u.k("getCategoryForLinkData found a non-string category for "+a+": "+b);return""};
	Q.prototype.setCategoryForLinkData=Q.prototype.EE=function(a,b){u.j(b,"string",Q,"setCategoryForLinkData:cat");if(null!==a){var c=this.Bq;if(""===c)return"";if(this.Di(a)){var d=u.sb(a,c);void 0===d&&(d="");d!==b&&(u.Pa(a,c,b),Le(this,"linkCategory",$d,c,a,d,b),"string"===typeof c&&this.Ob(a,c))}else u.Pa(a,c,b)}};
	function qe(a){1<arguments.length&&u.k("TreeModel constructor can only take one optional argument, the Array of node data.");J.call(this);this.qj="parent";this.tx=!1;this.gr="parentLinkCategory";void 0!==a&&(this.dh=a)}u.Ia(qe,J);u.fa("TreeModel",qe);qe.prototype.toString=function(a){void 0===a&&(a=0);if(2<=a)return this.lA();var b=(""!==this.name?this.name:"")+" TreeModel";if(0<a){b+="\n node data:";a=this.dh;for(var c=u.qb(a),d=0;d<c;d++)var e=u.hb(a,d),b=b+(" "+this.wb(e)+":"+de(e))}return b};
	qe.prototype.Bt=function(){var a=J.prototype.Bt.call(this),b="";"parent"!==this.Yo&&"string"===typeof this.Yo&&(b+=',\n  "nodeParentKeyProperty": '+this.quote(this.Yo));return a+b};qe.prototype.gt=function(a){J.prototype.gt.call(this,a);a.nodeParentKeyProperty&&(this.Yo=a.nodeParentKeyProperty)};qe.prototype.Hm=function(a){return a};
	u.defineProperty(qe,{Yo:"nodeParentKeyProperty"},function(){return this.qj},function(a){var b=this.qj;b!==a&&(Me(a,qe,"nodeParentKeyProperty"),this.qj=a,this.h("nodeParentKeyProperty",b,a))});u.defineProperty(qe,{vm:"copiesParentKeyOfNodeData"},function(){return this.tx},function(a){this.tx!==a&&(u.j(a,"boolean",qe,"copiesParentKeyOfNodeData"),this.tx=a)});
	qe.prototype.getParentKeyForNodeData=qe.prototype.Dm=function(a){if(null!==a){var b=this.qj;if(""!==b&&(b=u.sb(a,b),void 0!==b)){if(Ne(b))return b;u.k("ParentKey value for node data "+a+" is not a number or a string: "+b)}}};
	qe.prototype.setParentKeyForNodeData=qe.prototype.kh=function(a,b){null===b&&(b=void 0);void 0===b||Ne(b)||u.Kd(b,"number or string",qe,"setParentKeyForNodeData:key");if(null!==a){var c=this.qj;if(""!==c)if(b=this.Hm(b),this.Ue(a)){var d=u.sb(a,c);d!==b&&(Qe(this,d,a),u.Pa(a,c,b),null===this.rf(b)&&Pe(this,b,a),Le(this,"nodeParentKey",$d,c,a,d,b),"string"===typeof c&&this.Ob(a,c))}else u.Pa(a,c,b)}};
	u.defineProperty(qe,{nK:"parentLinkCategoryProperty"},function(){return this.gr},function(a){var b=this.gr;b!==a&&(Me(a,qe,"parentLinkCategoryProperty"),this.gr=a,this.h("parentLinkCategoryProperty",b,a))});qe.prototype.getParentLinkCategoryForNodeData=qe.prototype.HG=function(a){if(null===a)return"";var b=this.gr;if(""===b)return"";b=u.sb(a,b);if(void 0===b)return"";if("string"===typeof b)return b;u.k("getParentLinkCategoryForNodeData found a non-string category for "+a+": "+b);return""};
	qe.prototype.setParentLinkCategoryForNodeData=qe.prototype.hI=function(a,b){u.j(b,"string",qe,"setParentLinkCategoryForNodeData:cat");if(null!==a){var c=this.gr;if(""===c)return"";if(this.Ue(a)){var d=u.sb(a,c);void 0===d&&(d="");d!==b&&(u.Pa(a,c,b),Le(this,"parentLinkCategory",$d,c,a,d,b),"string"===typeof c&&this.Ob(a,c))}else u.Pa(a,c,b)}};qe.prototype.copyNodeData=function(a){if(null===a)return null;a=J.prototype.copyNodeData.call(this,a);this.vm||""===this.qj||u.Pa(a,this.qj,void 0);return a};
	qe.prototype.setDataProperty=function(a,b,c){if(this.Ue(a))if(b===this.Km)this.cA(a,c);else{if(b===this.Jm){this.Fw(a,c);return}if(b===this.Yo){this.kh(a,c);return}}else!Ue&&a instanceof T&&(Ue=!0,u.trace('TreeModel.setDataProperty is modifying a GraphObject, "'+a.toString()+'"'),u.trace("  Is that really your intent?"));var d=u.sb(a,b);d!==c&&(u.Pa(a,b,c),this.Qz(a,b,d,c))};g=qe.prototype;g.ht=function(a,b){J.prototype.ht.call(this,a,b);for(var c=this.sc.i;c.next();)this.Yz(c.value,a,b)};
	g.Yz=function(a,b,c){if(this.Dm(a)===b){var d=this.qj;u.Pa(a,d,c);Le(this,"nodeParentKey",$d,d,a,b,c);"string"===typeof d&&this.Ob(a,d)}};g.bp=function(a){J.prototype.bp.call(this,a);a=this.wb(a);var b=Oe(this,a);if(null!==b){for(var c=new E(Object),b=b.i;b.next();){var d=b.value;if(this.Ue(d)&&this.Dm(d)===a){var e=this.qj;Le(this,"nodeParentKey",$d,e,d,a,a);"string"===typeof e&&this.Ob(d,e);c.add(d)}}for(c=c.i;c.next();)Qe(this,a,c.value)}};
	g.ap=function(a){J.prototype.ap.call(this,a);var b=this.Dm(a),b=this.Hm(b);null===this.rf(b)&&Pe(this,b,a)};g.At=function(a){J.prototype.At.call(this,a);var b=this.Dm(a);Qe(this,b,a)};
	function bf(a,b,c){u.gc(this);this.Ea=!1;void 0===a?a="":u.j(a,"string",bf,"constructor:targetprop");void 0===b?b=a:u.j(b,"string",bf,"constructor:sourceprop");void 0===c?c=null:null!==c&&u.j(c,"function",bf,"constructor:conv");this.mC=-1;this.gg=null;this.qv=a;this.ov=this.By=0;this.hC=null;this.Fy=!1;this.hv=b;this.ox=c;this.gy=cf;this.ix=null}u.fa("Binding",bf);var cf;bf.OneWay=cf=u.s(bf,"OneWay",1);var df;bf.TwoWay=df=u.s(bf,"TwoWay",2);
	bf.parseEnum=function(a,b){u.j(a,"function",bf,"parseEnum:ctor");u.rb(b,a,bf,"parseEnum:defval");return function(c){c=Da(a,c);return null===c?b:c}};var de;bf.toString=de=function(a){var b=a;u.Ta(a)&&(a.text?b=a.text:a.name?b=a.name:void 0!==a.key?b=a.key:void 0!==a.id?b=a.id:a.constructor===Object&&(a.Text?b=a.Text:a.Name?b=a.Name:void 0!==a.Key?b=a.Key:void 0!==a.Id?b=a.Id:void 0!==a.ID&&(b=a.ID)));return void 0===b?"undefined":null===b?"null":b.toString()};
	bf.prototype.toString=function(){return"Binding("+this.Nw+":"+this.KE+(-1!==this.tl?" "+this.tl:"")+" "+this.mode.name+")"};bf.prototype.freeze=function(){this.Ea=!0;return this};bf.prototype.Ma=function(){this.Ea=!1;return this};u.defineProperty(bf,{tl:null},function(){return this.mC},function(a){u.J(this);u.j(a,"number",bf,"targetId");this.mC=a});u.defineProperty(bf,{Nw:"targetProperty"},function(){return this.qv},function(a){u.J(this);u.j(a,"string",bf,"targetProperty");this.qv=a});
	u.defineProperty(bf,{Om:"sourceName"},function(){return this.hC},function(a){u.J(this);null!==a&&u.j(a,"string",bf,"sourceName");this.hC=a;null!==a&&(this.Fy=!1)});u.defineProperty(bf,{yt:"toModel"},function(){return this.Fy},function(a){u.J(this);u.j(a,"boolean",bf,"toModel");this.Fy=a});u.defineProperty(bf,{KE:"sourceProperty"},function(){return this.hv},function(a){u.J(this);u.j(a,"string",bf,"sourceProperty");this.hv=a});
	u.defineProperty(bf,{eG:"converter"},function(){return this.ox},function(a){u.J(this);null!==a&&u.j(a,"function",bf,"converter");this.ox=a});u.defineProperty(bf,{SF:"backConverter"},function(){return this.ix},function(a){u.J(this);null!==a&&u.j(a,"function",bf,"backConverter");this.ix=a});u.defineProperty(bf,{mode:"mode"},function(){return this.gy},function(a){u.J(this);u.rb(a,bf,bf,"mode");this.gy=a});
	bf.prototype.makeTwoWay=function(a){void 0===a&&(a=null);null!==a&&u.j(a,"function",bf,"makeTwoWay");this.mode=df;this.SF=a;return this};bf.prototype.ofObject=bf.prototype.tw=function(a){void 0===a&&(a="");this.Om=a;this.yt=!1;return this};bf.prototype.ofModel=function(){this.Om=null;this.yt=!0;return this};bf.prototype.ofData=function(){this.Om=null;this.yt=!1;return this};function ef(a,b,c){a=a.Om;var d=null;return d=null===a||""===a?b:"."===a?c:".."===a?c.S:b.je(a)}
	bf.prototype.updateTarget=bf.prototype.YE=function(a,b,c){var d=this.hv;if(void 0===c||d===c){c=this.qv;var e=this.ox;if(null===e&&""===c)u.trace("Binding error: target property is the empty string: "+this.toString());else{var f=b;""!==d&&(f=u.sb(b,d));if(void 0!==f)if(null===e)""!==c&&u.Pa(a,c,f);else try{if(""!==c){var h=e(f,a);u.Pa(a,c,h)}else e(f,a)}catch(k){}}}};
	bf.prototype.updateSource=bf.prototype.Ow=function(a,b,c,d){void 0===d&&(d=null);if(this.gy===df){var e=this.qv;if(void 0===c||e===c){c=this.hv;var f=this.ix;if(null!==f||""!==c){var h=a;""!==e&&(h=u.sb(a,e));if(void 0!==h)if(null===f)null!==d&&d.ha?d.ha.setDataProperty(b,c,h):u.Pa(b,c,h);else try{if(""!==c){var k=f(h,b);null!==d&&d.ha?d.ha.setDataProperty(b,c,k):u.Pa(b,c,k)}else f(h,b)}catch(l){}}}}};function Ke(){this.lF=(new E(Zd)).freeze();this.Ub="";this.nB=!1}u.fa("Transaction",Ke);
	Ke.prototype.toString=function(a){var b="Transaction: "+this.name+" "+this.Wg.count.toString()+(this.Ns?"":", incomplete");if(void 0!==a&&0<a){a=this.Wg.count;for(var c=0;c<a;c++){var d=this.Wg.ja(c);null!==d&&(b+="\n  "+d.toString())}}return b};Ke.prototype.clear=Ke.prototype.clear=function(){var a=this.Wg;a.Ma();for(var b=a.count-1;0<=b;b--){var c=a.ja(b);null!==c&&c.clear()}a.clear();a.freeze()};Ke.prototype.canUndo=Ke.prototype.canUndo=function(){return this.Ns};
	Ke.prototype.undo=Ke.prototype.undo=function(){if(this.canUndo())for(var a=this.Wg.count-1;0<=a;a--){var b=this.Wg.ja(a);null!==b&&b.undo()}};Ke.prototype.canRedo=Ke.prototype.canRedo=function(){return this.Ns};Ke.prototype.redo=Ke.prototype.redo=function(){if(this.canRedo())for(var a=this.Wg.count,b=0;b<a;b++){var c=this.Wg.ja(b);null!==c&&c.redo()}};u.u(Ke,{Wg:"changes"},function(){return this.lF});u.defineProperty(Ke,{name:"name"},function(){return this.Ub},function(a){this.Ub=a});
	u.defineProperty(Ke,{Ns:"isComplete"},function(){return this.nB},function(a){this.nB=a});function ee(){this.iy=new F(J);this.Ne=!1;this.sF=(new E(Ke)).freeze();this.Kg=-1;this.CB=999;this.gi=!1;this.cu=null;this.Jk=0;this.GA=!1;this.Qg=(new E("string")).freeze();this.Rn=new E("number");this.Mx=!0;this.Zx=!1}u.fa("UndoManager",ee);
	ee.prototype.toString=function(a){for(var b="UndoManager "+this.Ji+"<"+this.history.count+"<="+this.VD,b=b+"[",c=this.bE.count,d=0;d<c;d++)0<d&&(b+=" "),b+=this.bE.ja(d);b+="]";if(void 0!==a&&0<a)for(c=this.history.count,d=0;d<c;d++)b+="\n "+this.history.ja(d).toString(a-1);return b};
	ee.prototype.clear=ee.prototype.clear=function(){var a=this.history;a.Ma();for(var b=a.count-1;0<=b;b--){var c=a.ja(b);null!==c&&c.clear()}a.clear();this.Kg=-1;a.freeze();this.gi=!1;this.cu=null;this.Jk=0;this.Qg.Ma();this.Qg.clear();this.Qg.freeze();this.Rn.clear()};ee.prototype.addModel=ee.prototype.MF=function(a){this.iy.add(a)};ee.prototype.removeModel=ee.prototype.SH=function(a){this.iy.remove(a)};
	ee.prototype.startTransaction=ee.prototype.Wb=function(a){void 0===a&&(a="");null===a&&(a="");if(this.eb)return!1;!0===this.Mx&&(this.Mx=!1,this.Jk++,this.Rc("StartingFirstTransaction",a,this.Ei),0<this.Jk&&this.Jk--);this.isEnabled&&(this.Qg.Ma(),this.Qg.add(a),this.Qg.freeze(),null===this.Ei?this.Rn.add(0):this.Rn.add(this.Ei.Wg.count));this.Jk++;var b=1===this.Le;b&&this.Rc("StartedTransaction",a,this.Ei);return b};
	ee.prototype.commitTransaction=ee.prototype.Wd=function(a){void 0===a&&(a="");return ff(this,!0,a)};ee.prototype.rollbackTransaction=ee.prototype.cp=function(){return ff(this,!1,"")};
	function ff(a,b,c){if(a.eb)return!1;a.Sy&&1>a.Le&&u.trace("Ending transaction without having started a transaction: "+c);var d=1===a.Le;d&&b&&a.isEnabled&&a.Rc("CommittingTransaction",c,a.Ei);var e=0;if(0<a.Le&&(a.Jk--,a.isEnabled)){var f=a.Qg.count;0<f&&(""===c&&(c=a.Qg.ja(0)),a.Qg.Ma(),a.Qg.jd(f-1),a.Qg.freeze());f=a.Rn.count;0<f&&(e=a.Rn.ja(f-1),a.Rn.jd(f-1))}f=a.Ei;if(d){if(b){a.Zx=!1;if(a.isEnabled&&null!==f){b=f;b.Ns=!0;b.name=c;d=a.history;d.Ma();for(e=d.count-1;e>a.Ji;e--)f=d.ja(e),null!==
	f&&f.clear(),d.jd(e),a.Zx=!0;e=a.VD;0===e&&(e=1);0<e&&d.count>=e&&(f=d.ja(0),null!==f&&f.clear(),d.jd(0),a.Kg--);d.add(b);a.Kg++;d.freeze();f=b}a.Rc("CommittedTransaction",c,f)}else{a.gi=!0;try{a.isEnabled&&null!==f&&(f.Ns=!0,f.undo())}finally{a.Rc("RolledBackTransaction",c,f),a.gi=!1}null!==f&&f.clear()}a.cu=null;return!0}if(a.isEnabled&&!b&&null!==f){a=e;c=f.Wg;for(b=c.count-1;b>=a;b--)d=c.ja(b),null!==d&&d.undo(),c.Ma(),c.jd(b);c.freeze()}return!1}
	ee.prototype.canUndo=ee.prototype.canUndo=function(){if(!this.isEnabled||0<this.Le||this.eb)return!1;var a=this.TE;return null!==a&&a.canUndo()?!0:!1};ee.prototype.undo=ee.prototype.undo=function(){if(this.canUndo()){var a=this.TE;try{this.Rc("StartingUndo","Undo",a),this.gi=!0,this.Kg--,a.undo()}catch(b){u.trace("undo error: "+b.toString())}finally{this.gi=!1,this.Rc("FinishedUndo","Undo",a)}}};
	ee.prototype.canRedo=ee.prototype.canRedo=function(){if(!this.isEnabled||0<this.Le||this.eb)return!1;var a=this.SE;return null!==a&&a.canRedo()?!0:!1};ee.prototype.redo=ee.prototype.redo=function(){if(this.canRedo()){var a=this.SE;try{this.Rc("StartingRedo","Redo",a),this.gi=!0,this.Kg++,a.redo()}catch(b){u.trace("redo error: "+b.toString())}finally{this.gi=!1,this.Rc("FinishedRedo","Redo",a)}}};
	ee.prototype.Rc=function(a,b,c){void 0===c&&(c=null);var d=new Zd;d.Bd=ae;d.propertyName=a;d.object=c;d.oldValue=b;for(a=this.BH;a.next();)b=a.value,d.ha=b,b.Lv(d)};ee.prototype.handleChanged=ee.prototype.DD=function(a){if(this.isEnabled&&!this.eb&&!this.skipsEvent(a)){var b=this.Ei;null===b&&(this.cu=b=new Ke);var c=a.copy(),b=b.Wg;b.Ma();b.add(c);b.freeze();this.Sy&&0>=this.Le&&!this.Mx&&(a=a.g,null!==a&&!1===a.mf||u.trace("Change not within a transaction: "+c.toString()))}};
	ee.prototype.skipsEvent=function(a){if(null===a||0>a.Bd.value)return!0;a=a.object;if(a instanceof T){if(a=a.layer,null!==a&&a.zc)return!0}else if(a instanceof we&&a.zc)return!0;return!1};u.u(ee,{BH:"models"},function(){return this.iy.i});u.defineProperty(ee,{isEnabled:"isEnabled"},function(){return this.Ne},function(a){this.Ne=a});u.u(ee,{TE:"transactionToUndo"},function(){return 0<=this.Ji&&this.Ji<=this.history.count-1?this.history.ja(this.Ji):null});
	u.u(ee,{SE:"transactionToRedo"},function(){return this.Ji<this.history.count-1?this.history.ja(this.Ji+1):null});u.u(ee,{eb:"isUndoingRedoing"},function(){return this.gi});u.u(ee,{history:"history"},function(){return this.sF});u.defineProperty(ee,{VD:"maxHistoryLength"},function(){return this.CB},function(a){this.CB=a});u.u(ee,{Ji:"historyIndex"},function(){return this.Kg});u.u(ee,{Ei:"currentTransaction"},function(){return this.cu});u.u(ee,{Le:"transactionLevel"},function(){return this.Jk});
	u.u(ee,{ND:"isInTransaction"},function(){return 0<this.Jk});u.defineProperty(ee,{Sy:"checksTransactionLevel"},function(){return this.GA},function(a){this.GA=a});u.u(ee,{bE:"nestedTransactionNames"},function(){return this.Qg});function sa(){0<arguments.length&&u.Wc(sa);u.gc(this);this.Y=null;this.JA=!0;this.LA=this.MA=this.XA=this.NA=!1;this.Ak=this.ex=null;this.EC=1.05;this.VA=1;this.$x=NaN;this.zB=null;this.FC=NaN}u.fa("CommandHandler",sa);var gf=null,hf="";sa.prototype.toString=function(){return"CommandHandler"};
	u.u(sa,{g:"diagram"},function(){return this.Y});sa.prototype.Dc=function(a){this.Y=a};
	sa.prototype.doKeyDown=function(){var a=this.g;if(null!==a){var b=a.N,c=u.Fm?b.Zs:b.control,d=b.shift,e=b.alt,f=b.key;!c||"C"!==f&&"Insert"!==f?c&&"X"===f||d&&"Del"===f?this.canCutSelection()&&this.cutSelection():c&&"V"===f||d&&"Insert"===f?this.canPasteSelection()&&this.pasteSelection():c&&"Y"===f||e&&d&&"Backspace"===f?this.canRedo()&&this.redo():c&&"Z"===f||e&&"Backspace"===f?this.canUndo()&&this.undo():"Del"===f||"Backspace"===f?this.canDeleteSelection()&&this.deleteSelection():c&&"A"===f?this.canSelectAll()&&
	this.selectAll():"Esc"===f?this.canStopCommand()&&this.stopCommand():"Up"===f?a.Se&&(c?a.scroll("pixel","up"):a.scroll("line","up")):"Down"===f?a.Se&&(c?a.scroll("pixel","down"):a.scroll("line","down")):"Left"===f?a.Re&&(c?a.scroll("pixel","left"):a.scroll("line","left")):"Right"===f?a.Re&&(c?a.scroll("pixel","right"):a.scroll("line","right")):"PageUp"===f?d&&a.Re?a.scroll("page","left"):a.Se&&a.scroll("page","up"):"PageDown"===f?d&&a.Re?a.scroll("page","right"):a.Se&&a.scroll("page","down"):"Home"===
	f?(b=a.Dd,c&&a.Se?a.position=new w(a.position.x,b.y):!c&&a.Re&&(a.position=new w(b.x,a.position.y))):"End"===f?(b=a.Dd,d=a.ob,c&&a.Se?a.position=new w(d.x,b.bottom-d.height):!c&&a.Re&&(a.position=new w(b.right-d.width,d.y))):"Subtract"===f?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===f?this.canIncreaseZoom()&&this.increaseZoom():c&&"0"===f?this.canResetZoom()&&this.resetZoom():d&&"Z"===f?this.canZoomToFit()&&this.zoomToFit():c&&!d&&"G"===f?this.canGroupSelection()&&this.groupSelection():c&&
	d&&"G"===f?this.canUngroupSelection()&&this.ungroupSelection():b.event&&113===b.event.which?this.canEditTextBlock()&&this.editTextBlock():b.event&&93===b.event.which?this.canShowContextMenu()&&this.showContextMenu():b.bubbles=!0:this.canCopySelection()&&this.copySelection()}};sa.prototype.doKeyUp=function(){var a=this.g;null!==a&&(a.N.bubbles=!0)};sa.prototype.stopCommand=function(){var a=this.g;if(null!==a){var b=a.Va;b instanceof jf&&a.pf&&a.Nv();null!==b&&b.doCancel()}};
	sa.prototype.canStopCommand=function(){return!0};sa.prototype.selectAll=function(){var a=this.g;if(null!==a){a.na();try{a.ac="wait";a.Ba("ChangingSelection");for(var b=a.Sj;b.next();)b.value.Za=!0;for(var c=a.zg;c.next();)c.value.Za=!0;for(var d=a.links;d.next();)d.value.Za=!0}finally{a.Ba("ChangedSelection"),a.ac=""}}};sa.prototype.canSelectAll=function(){var a=this.g;return null!==a&&a.pf};
	sa.prototype.deleteSelection=function(){var a=this.g;if(null!==a&&!a.Ba("SelectionDeleting",a.selection))try{a.ac="wait";a.Wb("Delete");a.Ba("ChangingSelection");for(var b=new F(G),c=a.selection.i;c.next();)kf(b,c.value,!0,this.qG?Infinity:0,!0,function(a){return a.canDelete()});a.Xz(b,!0);a.Ba("SelectionDeleted",b)}finally{a.Ba("ChangedSelection"),a.Wd("Delete"),a.ac=""}};sa.prototype.canDeleteSelection=function(){var a=this.g;return null===a||a.nb||a.uf||!a.mm||0===a.selection.count?!1:!0};
	function kf(a,b,c,d,e,f){void 0===f&&(f=null);if(!(a.contains(b)||null!==f&&!f(b)||b instanceof lf))if(a.add(b),b instanceof U){if(c&&b instanceof V)for(var h=b.Lc;h.next();)kf(a,h.value,c,d,e,f);if(e)for(h=b.oe;h.next();){var k=h.value;if(!a.contains(k)){var l=k.W,m=k.ca;null!==l&&a.contains(l)&&null!==m&&a.contains(m)?kf(a,k,c,d,e,f):null!==l&&null!==m||kf(a,k,c,d,e,f)}}if(1<d)for(b=b.tD();b.next();)kf(a,b.value,c,d-1,e,f)}else if(b instanceof W)for(h=b.vg;h.next();)kf(a,h.value,c,d,e,f)}
	sa.prototype.uo=function(a,b,c){var d=new la(G,G);for(a=a.i;a.next();)mf(this,a.value,b,d,c);if(null!==b){c=b.ha;a=!1;null!==b.tb.Fd&&(a=b.tb.Fd.Hi);for(var e=new F(W),f=new la(W,W),h=d.i;h.next();){var k=h.value;if(k instanceof W){var l=k;a||null!==l.W&&null!==l.ca||e.add(l)}else if(c instanceof qe&&k instanceof U&&null!==k.data){var l=c,m=k,k=h.key,n=k.Am();null!==n&&(n=d.ua(n),null!==n?(l.kh(m.data,l.wb(n.data)),l=b.og(m.data),k=k.Bs(),null!==k&&null!==l&&f.add(k,l)):l.kh(m.data,void 0))}}0<e.count&&
	b.Xz(e,!1);if(0<f.count)for(b=f.i;b.next();)d.add(b.key,b.value)}for(b=d.i;b.next();)b.value.Ob();return d};
	function mf(a,b,c,d,e){if(null===b||e&&!b.canCopy())return null;if(d.contains(b))return d.ua(b);var f=null,h=b.data;if(null!==h&&null!==c){var k=c.ha;b instanceof W?k instanceof Q&&(h=k.eD(h),u.Ta(h)&&(k.zv(h),f=c.og(h))):(h=k.copyNodeData(h),u.Ta(h)&&(k.lm(h),f=c.Ph(h)))}else nf(b),f=b.copy(),null!==c&&null!==f&&c.add(f);if(!(f instanceof G))return null;f.Za=!1;f.Yg=!1;d.add(b,f);if(b instanceof U){for(k=b.oe;k.next();){h=k.value;if(h.W===b){var l=d.ua(h);null!==l&&(l.W=f)}h.ca===b&&(l=d.ua(h),null!==
	l&&(l.ca=f))}if(b instanceof V&&f instanceof V)for(k=f,b=b.Lc;b.next();)h=mf(a,b.value,c,d,e),h instanceof W||null===h||(h.Sa=k)}else if(b instanceof W)for(k=b.W,null!==k&&(k=d.ua(k),null!==k&&(f.W=k)),k=b.ca,null!==k&&(k=d.ua(k),null!==k&&(f.ca=k)),b=b.vg;b.next();)k=mf(a,b.value,c,d,e),null!==k&&(k.ce=f);return f}
	sa.prototype.copySelection=function(){var a=this.g;if(null!==a){for(var b=new F(G),a=a.selection.i;a.next();)kf(b,a.value,!0,this.hG?Infinity:0,this.fG,function(a){return a.canCopy()});this.copyToClipboard(b)}};sa.prototype.canCopySelection=function(){var a=this.g;return null!==a&&a.Ij&&a.Ny&&0!==a.selection.count?!0:!1};sa.prototype.cutSelection=function(){this.copySelection();this.deleteSelection()};
	sa.prototype.canCutSelection=function(){var a=this.g;return null!==a&&!a.nb&&!a.uf&&a.Ij&&a.mm&&a.Ny&&0!==a.selection.count?!0:!1};sa.prototype.copyToClipboard=function(a){var b=this.g;if(null!==b){var c=null;if(null===a)gf=null,hf="";else{var c=b.ha,d=!1,e=!1,f=null;try{if(c instanceof qe){var h=c,d=h.vm;h.vm=this.dD}c instanceof Q&&(h=c,e=h.um,h.um=this.cD);f=b.uo(a,null,!0)}finally{c instanceof qe&&(c.vm=d),c instanceof Q&&(c.um=e),c=new E(G),c.Td(f),gf=c,hf=b.ha.Sk}}b.Ba("ClipboardChanged",c)}};
	sa.prototype.pasteFromClipboard=function(){var a=new F(G),b=gf;if(null===b)return a;var c=this.g;if(null===c||hf!==c.ha.Sk)return a;var d=c.ha,e=!1,f=!1,h=null;try{if(d instanceof qe){var k=d,e=k.vm;k.vm=this.dD}d instanceof Q&&(k=d,f=k.um,k.um=this.cD);h=c.uo(b,c,!1)}finally{for(d instanceof qe&&(d.vm=e),d instanceof Q&&(d.um=f),b=h.i;b.next();)c=b.value,d=b.key,c.location.I()||(d.location.I()?c.location=d.location:!c.position.I()&&d.position.I()&&(c.position=d.position)),a.add(c)}return a};
	sa.prototype.pasteSelection=function(a){void 0===a&&(a=null);var b=this.g;if(null!==b)try{b.ac="wait";b.Wb("Paste");b.Ba("ChangingSelection");var c=this.pasteFromClipboard();0<c.count&&of(b);for(var d=c.i;d.next();)d.value.Za=!0;b.Ba("ChangedSelection");if(null!==a){var e=b.computePartsBounds(b.selection);if(e){var f=b.tb.Fd;null===f&&(f=new uf,f.Dc(b));var h=f.computeEffectiveCollection(b.selection);f.moveParts(h,new w(a.x-e.ma,a.y-e.ya),!1)}}b.Ba("ClipboardPasted",c)}finally{b.Wd("Paste"),b.ac=
		""}};sa.prototype.canPasteSelection=function(){var a=this.g;return null===a||a.nb||a.uf||!a.mo||!a.Ny||null===gf||hf!==a.ha.Sk?!1:!0};sa.prototype.undo=function(){var a=this.g;null!==a&&a.ga.undo()};sa.prototype.canUndo=function(){var a=this.g;return null===a||a.nb||a.uf?!1:a.NC&&a.ga.canUndo()};sa.prototype.redo=function(){var a=this.g;null!==a&&a.ga.redo()};sa.prototype.canRedo=function(){var a=this.g;return null===a||a.nb||a.uf?!1:a.NC&&a.ga.canRedo()};
	sa.prototype.decreaseZoom=function(a){void 0===a&&(a=1/this.Qw);u.ze(a,sa,"decreaseZoom:factor");var b=this.g;null!==b&&b.oo===vf&&(a*=b.scale,a<b.$g||a>b.Zg||(b.scale=a))};sa.prototype.canDecreaseZoom=function(a){void 0===a&&(a=1/this.Qw);u.ze(a,sa,"canDecreaseZoom:factor");var b=this.g;if(null===b||b.oo!==vf)return!1;a*=b.scale;return a<b.$g||a>b.Zg?!1:b.Iv};
	sa.prototype.increaseZoom=function(a){void 0===a&&(a=this.Qw);u.ze(a,sa,"increaseZoom:factor");var b=this.g;null!==b&&b.oo===vf&&(a*=b.scale,a<b.$g||a>b.Zg||(b.scale=a))};sa.prototype.canIncreaseZoom=function(a){void 0===a&&(a=this.Qw);u.ze(a,sa,"canIncreaseZoom:factor");var b=this.g;if(null===b||b.oo!==vf)return!1;a*=b.scale;return a<b.$g||a>b.Zg?!1:b.Iv};sa.prototype.resetZoom=function(a){void 0===a&&(a=this.Qv);u.ze(a,sa,"resetZoom:newscale");var b=this.g;null===b||a<b.$g||a>b.Zg||(b.scale=a)};
	sa.prototype.canResetZoom=function(a){void 0===a&&(a=this.Qv);u.ze(a,sa,"canResetZoom:newscale");var b=this.g;return null===b||a<b.$g||a>b.Zg?!1:b.Iv};sa.prototype.zoomToFit=function(){var a=this.g;if(null!==a){var b=a.scale,c=a.position;b!==this.FC||isNaN(this.$x)?(this.$x=b,this.zB=c.copy(),a.zoomToFit(),a.cf(),this.FC=a.scale):(a.scale=this.$x,a.position=this.zB)}};sa.prototype.canZoomToFit=function(){var a=this.g;return null===a?!1:a.Iv};
	sa.prototype.collapseTree=function(a){void 0===a&&(a=null);var b=this.g;if(null===b)return!1;try{b.Wb("Collapse Tree");var c=new E(U);if(null!==a&&a.Vc)a.collapseTree(),c.add(a);else for(var d=b.selection.i;d.next();){var e=d.value;e instanceof U&&(a=e,a.Vc&&(a.collapseTree(),c.add(a)))}b.Ba("TreeCollapsed",c)}finally{b.Wd("Collapse Tree")}};
	sa.prototype.canCollapseTree=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb)return!1;if(null!==a){if(!a.Vc)return!1;if(0<a.Zv().count)return!0}else for(a=b.selection.i;a.next();)if(b=a.value,b instanceof U&&b.Vc&&0<b.Zv().count)return!0;return!1};
	sa.prototype.expandTree=function(a){void 0===a&&(a=null);var b=this.g;if(null===b)return!1;try{b.Wb("Expand Tree");var c=new E(U);if(null===a||a.Vc)for(var d=b.selection.i;d.next();){var e=d.value;e instanceof U&&(a=e,a.Vc||(a.expandTree(),c.add(a)))}else a.expandTree(),c.add(a);b.Ba("TreeExpanded",c)}finally{b.Wd("Expand Tree")}};
	sa.prototype.canExpandTree=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb)return!1;if(null!==a){if(a.Vc)return!1;if(0<a.Zv().count)return!0}else for(a=b.selection.i;a.next();)if(b=a.value,b instanceof U&&!b.Vc&&0<b.Zv().count)return!0;return!1};
	sa.prototype.groupSelection=function(){var a=this.g;if(null!==a){var b=a.ha;if(b instanceof Q){var c=this.OC;if(null!==c){var d=null;try{a.ac="wait";a.Wb("Group");a.Ba("ChangingSelection");for(var e=new E(G),f=a.selection.i;f.next();){var h=f.value;h.Gd()&&h.canGroup()&&e.add(h)}for(var k=new E(G),l=e.i;l.next();){for(var m=l.value,f=!1,n=e.i;n.next();)if(m.Rh(n.value)){f=!0;break}f||k.add(m)}if(0<k.count){var p=k.first().Sa;if(null!==p)for(;null!==p;){for(var e=!1,q=k.i;q.next();)if(!q.value.Rh(p)){e=
		!0;break}if(e)p=p.Sa;else break}if(c instanceof V)nf(c),d=c.copy(),null!==d&&a.add(d);else if(b.uz(c)){var r=b.copyNodeData(c);u.Ta(r)&&(b.lm(r),d=a.Yv(r))}if(null!==d){null!==p&&this.isValidMember(p,d)&&(d.Sa=p);for(var s=k.i;s.next();){var t=s.value;this.isValidMember(d,t)&&(t.Sa=d)}a.select(d)}}a.Ba("ChangedSelection");a.Ba("SelectionGrouped",d)}finally{a.Wd("Group"),a.ac=""}}}}};
	sa.prototype.canGroupSelection=function(){var a=this.g;if(null===a||a.nb||a.uf||!a.mo||!a.Dv||!(a.ha instanceof Q)||null===this.OC)return!1;for(a=a.selection.i;a.next();){var b=a.value;if(b.Gd()&&b.canGroup())return!0}return!1};function wf(a){var b=u.gb();for(a=a.i;a.next();){var c=a.value;c instanceof W||b.push(c)}a=new F(G);for(var c=b.length,d=0;d<c;d++){for(var e=b[d],f=!0,h=0;h<c;h++)if(e.Rh(b[h])){f=!1;break}f&&a.add(e)}u.sa(b);return a}
	sa.prototype.isValidMember=function(a,b){if(null===b||a===b||b instanceof W)return!1;if(null!==a){if(a===b||a.Rh(b))return!1;var c=a.Cz;if(null!==c&&!c(a,b)||null===a.data&&null!==b.data||null!==a.data&&null===b.data)return!1}c=this.Cz;return null!==c?c(a,b):!0};
	sa.prototype.ungroupSelection=function(a){void 0===a&&(a=null);var b=this.g;if(null!==b){var c=b.ha;if(c instanceof Q)try{b.ac="wait";b.Wb("Ungroup");b.Ba("ChangingSelection");var d=new E(V);if(null!==a)d.add(a);else for(var e=b.selection.i;e.next();){var f=e.value;f instanceof V&&(a=f,a.canUngroup()&&d.add(a))}if(0<d.count){b.Nv();for(var h=d.i;h.next();){var k=h.value;k.expandSubGraph();var l=k.Sa,m=null!==l&&null!==l.data?c.wb(l.data):void 0,n=new E(G);n.Td(k.Lc);for(var p=n.i;p.next();){var q=
		p.value;q.Za=!0;if(!(q instanceof W)){var r=q.data;null!==r?c.Hw(r,m):q.Sa=l}}b.remove(k)}}b.Ba("ChangedSelection");b.Ba("SelectionUngrouped",d,n)}finally{b.Wd("Ungroup"),b.ac=""}}};sa.prototype.canUngroupSelection=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb||b.uf||!b.mm||!b.Hv||!(b.ha instanceof Q))return!1;if(null!==a){if(a.canUngroup())return!0}else for(a=b.selection.i;a.next();)if(b=a.value,b instanceof V&&b.canUngroup())return!0;return!1};
	sa.prototype.addTopLevelParts=function(a,b){for(var c=!0,d=wf(a).i;d.next();){var e=d.value;null!==e.Sa&&(!b||this.isValidMember(null,e)?e.Sa=null:c=!1)}return c};sa.prototype.collapseSubGraph=function(a){void 0===a&&(a=null);var b=this.g;if(null===b)return!1;try{b.Wb("Collapse SubGraph");var c=new E(V);if(null!==a&&a.be)a.collapseSubGraph(),c.add(a);else for(var d=b.selection.i;d.next();){var e=d.value;e instanceof V&&(a=e,a.be&&(a.collapseSubGraph(),c.add(a)))}b.Ba("SubGraphCollapsed",c)}finally{b.Wd("Collapse SubGraph")}};
	sa.prototype.canCollapseSubGraph=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb)return!1;if(null!==a)return a.be?!0:!1;for(a=b.selection.i;a.next();)if(b=a.value,b instanceof V&&b.be)return!0;return!1};
	sa.prototype.expandSubGraph=function(a){void 0===a&&(a=null);var b=this.g;if(null===b)return!1;try{b.Wb("Expand SubGraph");var c=new E(V);if(null===a||a.be)for(var d=b.selection.i;d.next();){var e=d.value;e instanceof V&&(a=e,a.be||(a.expandSubGraph(),c.add(a)))}else a.expandSubGraph(),c.add(a);b.Ba("SubGraphExpanded",c)}finally{b.Wd("Expand SubGraph")}};
	sa.prototype.canExpandSubGraph=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb)return!1;if(null!==a)return a.be?!1:!0;for(a=b.selection.i;a.next();)if(b=a.value,b instanceof V&&!b.be)return!0;return!1};
	sa.prototype.editTextBlock=function(a){void 0===a&&(a=null);null!==a&&u.C(a,qa,sa,"editTextBlock");var b=this.g;if(null!==b){var c=b.tb.jA;if(null!==c){if(null===a){a=null;for(var d=b.selection.i;d.next();){var e=d.value;if(e.canEdit()){a=e;break}}if(null===a)return;a=a.ws(function(a){return a instanceof qa&&a.cz})}null!==a&&(b.Va=null,c.Fg=a,b.Va=c)}}};
	sa.prototype.canEditTextBlock=function(a){void 0===a&&(a=null);null!==a&&u.C(a,qa,sa,"canEditTextBlock");var b=this.g;if(null===b||b.nb||b.uf||!b.Gv||null===b.tb.jA)return!1;if(null!==a){if(a=a.T,null!==a&&a.canEdit())return!0}else for(b=b.selection.i;b.next();)if(a=b.value,a.canEdit()&&(a=a.ws(function(a){return a instanceof qa&&a.cz}),null!==a))return!0;return!1};
	sa.prototype.showContextMenu=function(a){var b=this.g;if(null!==b){var c=b.tb.Wy;if(null!==c&&(void 0===a&&(a=0<b.selection.count?b.selection.first():b),a=c.findObjectWithContextMenu(a),null!==a)){var d=new Md,e=null;a instanceof T?e=a.mb(Ib):b.eH||(e=b.ob,e=new w(e.x+e.width/2,e.y+e.height/2));null!==e&&(d.gf=b.UE(e),d.da=e,b.N=d);b.Va=c;xf(c,!1,a)}}};
	sa.prototype.canShowContextMenu=function(a){var b=this.g;if(null===b)return!1;var c=b.tb.Wy;if(null===c)return!1;void 0===a&&(a=0<b.selection.count?b.selection.first():b);return null===c.findObjectWithContextMenu(a)?!1:!0};u.defineProperty(sa,{fG:"copiesConnectedLinks"},function(){return this.JA},function(a){u.j(a,"boolean",sa,"copiesConnectedLinks");this.JA=a});u.defineProperty(sa,{hG:"copiesTree"},function(){return this.NA},function(a){u.j(a,"boolean",sa,"copiesTree");this.NA=a});
	u.defineProperty(sa,{qG:"deletesTree"},function(){return this.XA},function(a){u.j(a,"boolean",sa,"deletesTree");this.XA=a});u.defineProperty(sa,{dD:"copiesParentKey"},function(){return this.MA},function(a){u.j(a,"boolean",sa,"copiesParentKey");this.MA=a});u.defineProperty(sa,{cD:"copiesGroupKey"},function(){return this.LA},function(a){u.j(a,"boolean",sa,"copiesGroupKey");this.LA=a});
	u.defineProperty(sa,{OC:"archetypeGroupData"},function(){return this.ex},function(a){null!==a&&u.C(a,Object,sa,"archetypeGroupData");var b=this.g;null!==b&&(b=b.ha,b instanceof Q&&(a instanceof V||b.uz(a)||u.k("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+a)));this.ex=a});u.defineProperty(sa,{Cz:"memberValidation"},function(){return this.Ak},function(a){null!==a&&u.j(a,"function",sa,"memberValidation");this.Ak=a});
	u.defineProperty(sa,{Qv:"defaultScale"},function(){return this.VA},function(a){u.ze(a,sa,"defaultScale");0<a||u.k("defaultScale must be larger than zero, not: "+a);this.VA=a});u.defineProperty(sa,{Qw:"zoomFactor"},function(){return this.EC},function(a){u.ze(a,sa,"zoomFactor");1<a||u.k("zoomFactor must be larger than 1.0, not: "+a);this.EC=a});function xe(){0<arguments.length&&u.Wc(xe);u.gc(this);this.Y=null;this.Ub="";this.Ne=!0;this.lB=!1;this.AC=null;this.xv=-1}u.fa("Tool",xe);
	xe.prototype.Dc=function(a){this.Y=a};xe.prototype.toString=function(){return""!==this.name?this.name+" Tool":u.sg(Object.getPrototypeOf(this))};xe.prototype.updateAdornments=function(){};xe.prototype.canStart=function(){return this.isEnabled};xe.prototype.doStart=function(){};xe.prototype.doActivate=function(){this.oa=!0};xe.prototype.doDeactivate=function(){this.oa=!1};xe.prototype.doStop=function(){};xe.prototype.doCancel=function(){this.stopTool()};
	xe.prototype.stopTool=function(){var a=this.g;null!==a&&a.Va===this&&(a.Va=null,a.ac="")};xe.prototype.doMouseDown=function(){!this.oa&&this.canStart()&&this.doActivate()};xe.prototype.doMouseMove=function(){};xe.prototype.doMouseUp=function(){this.stopTool()};xe.prototype.doMouseWheel=function(){};xe.prototype.canStartMultiTouch=function(){return!0};
	xe.prototype.standardPinchZoomStart=function(){var a=this.g;if(null!==a){var b=a.N.event,c=null,d=null;if(void 0!==b.targetTouches){if(2>b.targetTouches.length)return;c=b.targetTouches[0];d=b.targetTouches[1]}else if(null!==a.Df[0])c=a.Df[0],d=a.Df[1];else return;this.doCancel();if(a.zn){a.Nx=!0;a.MB=a.scale;var e=a.Ab,f=a.zb,h=a.jb.getBoundingClientRect(),k=c.clientX-e/h.width*h.left,l=c.clientY-f/h.height*h.top,c=d,d=c.clientX-e/h.width*h.left-k,f=c.clientY-f/h.height*h.top-l,f=Math.sqrt(d*d+f*
		f);a.iC=f;b.preventDefault();b.cancelBubble=!0}else yf(a)}};
	xe.prototype.standardPinchZoomMove=function(){var a=this.g;if(null!==a){var b=a.N.event;this.doCancel();yf(a);var c=null,d=null;if(void 0!==b.targetTouches){if(2>b.targetTouches.length)return;c=b.targetTouches[0];d=b.targetTouches[1]}else if(null!==a.Df[0])c=a.Df[0],d=a.Df[1];else return;if(a.zn&&a.Nx){var e=a.Ab,f=a.zb,h=a.jb.getBoundingClientRect(),k=c,c=k.clientX-e/h.width*h.left,l=k.clientY-f/h.height*h.top,k=d,d=k.clientX-e/h.width*h.left,f=k.clientY-f/h.height*h.top,h=d-c,e=f-l,h=Math.sqrt(h*
			h+e*e)/a.iC,c=new w((Math.min(d,c)+Math.max(d,c))/2,(Math.min(f,l)+Math.max(f,l))/2),l=a.MB*h,d=a.Eb;l!==a.scale&&d.canResetZoom(l)&&(f=a.Sm,a.Sm=c,d.resetZoom(l),a.Sm=f);b.preventDefault();b.cancelBubble=!0}}};xe.prototype.doKeyDown=function(){var a=this.g;null!==a&&"Esc"===a.N.key&&this.doCancel()};xe.prototype.doKeyUp=function(){};xe.prototype.startTransaction=xe.prototype.Wb=function(a){void 0===a&&(a=this.name);this.zf=null;var b=this.g;return null===b?!1:b.Wb(a)};
	xe.prototype.stopTransaction=xe.prototype.Uj=function(){var a=this.g;return null===a?!1:null===this.zf?a.cp():a.Wd(this.zf)};
	xe.prototype.standardMouseSelect=function(){var a=this.g;if(null!==a&&a.pf){var b=a.N,c=a.As(b.da,!1);if(null!==c)if(u.Fm?b.Zs:b.control){a.Ba("ChangingSelection");for(b=c;null!==b&&!b.canSelect();)b=b.Sa;null!==b&&(b.Za=!b.Za);a.Ba("ChangedSelection")}else if(b.shift){if(!c.Za){a.Ba("ChangingSelection");for(b=c;null!==b&&!b.canSelect();)b=b.Sa;null!==b&&(b.Za=!0);a.Ba("ChangedSelection")}}else{if(!c.Za){for(b=c;null!==b&&!b.canSelect();)b=b.Sa;null!==b&&a.select(b)}}else!b.left||(u.Fm?b.Zs:b.control)||
	b.shift||a.Nv()}};xe.prototype.standardMouseClick=function(a,b){void 0===a&&(a=null);void 0===b&&(b=function(a){return!a.layer.zc});var c=this.g;if(null!==c){var d=c.N,e=c.ke(d.da,a,b);d.pe=e;zf(e,d,c)}};
	function zf(a,b,c){var d=0;b.left?d=1===b.Te?1:2===b.Te?2:1:b.right&&1===b.Te&&(d=3);var e="";if(null!==a){switch(d){case 1:e="ObjectSingleClicked";break;case 2:e="ObjectDoubleClicked";break;case 3:e="ObjectContextClicked"}0!==d&&c.Ba(e,a)}else{switch(d){case 1:e="BackgroundSingleClicked";break;case 2:e="BackgroundDoubleClicked";break;case 3:e="BackgroundContextClicked"}0!==d&&c.Ba(e)}if(null!==a)for(b.Tc=!1;null!==a;){c=null;switch(d){case 1:c=a.click;break;case 2:c=a.us?a.us:a.click;break;case 3:c=
		a.Vy}if(null!==c&&(c(b,a),b.Tc))break;a=a.S}else{a=null;switch(d){case 1:a=c.click;break;case 2:a=c.us?c.us:c.click;break;case 3:a=c.Vy}null!==a&&a(b)}}
	xe.prototype.standardMouseOver=function(){var a=this.g;if(null!==a){var b=a.N;if(null!==b.g&&!0!==a.Mb.bd){var c=a.fb;a.fb=!0;var d=a.ke(b.da,null,null);b.pe=d;var e=!1;if(d!==a.fn){var f=a.fn,h=f;a.fn=d;this.doCurrentObjectChanged(f,d);for(b.Tc=!1;null!==f;){var k=f.$D;if(null!==k){if(d===f)break;if(null!==d&&d.gl(f))break;k(b,f,d);e=!0;if(b.Tc)break}f=f.S}f=h;for(b.Tc=!1;null!==d;){k=d.ZD;if(null!==k){if(f===d)break;if(null!==f&&f.gl(d))break;k(b,d,f);e=!0;if(b.Tc)break}d=d.S}d=a.fn}if(null!==d){f=
		d;for(k="";null!==f;){k=f.cursor;if(""!==k)break;f=f.S}a.ac=k;b.Tc=!1;for(f=d;null!==f;){k=f.Gz;if(null!==k&&(k(b,f),e=!0,b.Tc))break;f=f.S}}else a.ac="",k=a.Gz,null!==k&&(k(b),e=!0);e&&a.de();a.fb=c}}};xe.prototype.doCurrentObjectChanged=function(){};
	xe.prototype.standardMouseWheel=function(){var a=this.g;if(null!==a){var b=a.N,c=b.Uk;if(0!==c&&a.Dd.I()){var d=a.Eb,e=a.tb.at;if((e===Af&&!b.shift||e===Bf&&b.control)&&(0<c?d.canIncreaseZoom():d.canDecreaseZoom()))e=a.Sm,a.Sm=b.gf,0<c?d.increaseZoom():d.decreaseZoom(),a.Sm=e,b.bubbles=!1;else if(e===Af&&b.shift||e===Bf&&!b.control){d=a.position.copy();e=0<c?c:-c;if(!b.shift&&a.Se){var f=a.nt,e=e/40*f;0<c?a.scroll("pixel","up",e):a.scroll("pixel","down",e)}else b.shift&&a.Re&&(f=a.mt,e=e/40*f,0<c?
		a.scroll("pixel","left",e):a.scroll("pixel","right",e));a.position.L(d)||(b.bubbles=!1)}}}};xe.prototype.standardWaitAfter=function(a){u.j(a,"number",xe,"standardWaitAfter:delay");this.cancelWaitAfter();var b=this;this.xv=u.setTimeout(function(){b.doWaitAfter()},a)};xe.prototype.cancelWaitAfter=function(){-1!==this.xv&&u.clearTimeout(this.xv);this.xv=-1};xe.prototype.doWaitAfter=function(){};
	xe.prototype.findToolHandleAt=function(a,b){var c=this.g;if(null===c)return null;c=c.ke(a,null,function(a){a=a.T;return null===a?!1:null!==a.uc});if(null===c)return null;var d=c.T;return null===d||d.Jc!==b?null:c};xe.prototype.isBeyondDragSize=function(a,b){var c=this.g;if(null===c)return!1;void 0===a&&(a=c.vc.gf);void 0===b&&(b=c.N.gf);var d=c.tb.vG,e=d.width,d=d.height;c.vc.jl&&(e+=6,d+=6);return Math.abs(b.x-a.x)>e||Math.abs(b.y-a.y)>d};u.u(xe,{g:"diagram"},function(){return this.Y});
	u.defineProperty(xe,{name:"name"},function(){return this.Ub},function(a){u.j(a,"string",xe,"name");this.Ub=a});u.defineProperty(xe,{isEnabled:"isEnabled"},function(){return this.Ne},function(a){u.j(a,"boolean",xe,"isEnabled");this.Ne=a});u.defineProperty(xe,{oa:"isActive"},function(){return this.lB},function(a){u.j(a,"boolean",xe,"isActive");this.lB=a});u.defineProperty(xe,{zf:"transactionResult"},function(){return this.AC},function(a){null!==a&&u.j(a,"string",xe,"transactionResult");this.AC=a});
	function uf(){0<arguments.length&&u.Wc(uf);xe.call(this);this.name="Dragging";this.KA=this.pB=!0;this.kq=this.cB=!1;this.tB=!0;this.Ox=(new ia(NaN,NaN)).freeze();this.Px=xb;this.Qx=(new w(NaN,NaN)).freeze();this.bB=!1;this.$A=this.IA=this.aB=this.QA=this.qi=null;this.Tp=this.rB=!1;this.co=new w(NaN,NaN);this.iv=new w;this.lv=!1;this.gv=this.oB=!0;this.qn=100;this.Yi=[];this.rF=(new F(G)).freeze()}u.Ia(uf,xe);u.fa("DraggingTool",uf);
	u.defineProperty(uf,{LD:"isCopyEnabled"},function(){return this.pB},function(a){u.j(a,"boolean",uf,"isCopyEnabled");this.pB=a});u.defineProperty(uf,{gG:"copiesEffectiveCollection"},function(){return this.KA},function(a){u.j(a,"boolean",uf,"copiesEffectiveCollection");this.KA=a});u.defineProperty(uf,{wG:"dragsTree"},function(){return this.cB},function(a){u.j(a,"boolean",uf,"dragsTree");this.cB=a});
	u.defineProperty(uf,{hw:"isGridSnapEnabled"},function(){return this.kq},function(a){u.j(a,"boolean",uf,"isGridSnapEnabled");this.kq=a});u.defineProperty(uf,{YG:"isComplexRoutingRealtime"},function(){return this.oB},function(a){u.j(a,"boolean",uf,"isComplexRoutingRealtime");this.oB=a});u.defineProperty(uf,{$G:"isGridSnapRealtime"},function(){return this.tB},function(a){u.j(a,"boolean",uf,"isGridSnapRealtime");this.tB=a});
	u.defineProperty(uf,{CD:"gridSnapCellSize"},function(){return this.Ox},function(a){u.C(a,ia,uf,"gridSnapCellSize");this.Ox.L(a)||(this.Ox=a=a.Z())});u.defineProperty(uf,{JG:"gridSnapCellSpot"},function(){return this.Px},function(a){u.C(a,L,uf,"gridSnapCellSpot");this.Px.L(a)||(this.Px=a=a.Z())});u.defineProperty(uf,{KG:"gridSnapOrigin"},function(){return this.Qx},function(a){u.C(a,w,uf,"gridSnapOrigin");this.Qx.L(a)||(this.Qx=a=a.Z())});
	u.defineProperty(uf,{Hi:"dragsLink"},function(){return this.bB},function(a){u.j(a,"boolean",uf,"dragsLink");this.bB=a});u.defineProperty(uf,{ts:"currentPart"},function(){return this.QA},function(a){null!==a&&u.C(a,G,uf,"currentPart");this.QA=a});u.defineProperty(uf,{oc:"copiedParts"},function(){return this.IA},function(a){this.IA=a});u.defineProperty(uf,{cc:"draggedParts"},function(){return this.aB},function(a){this.aB=a});
	u.u(uf,{wJ:"draggingParts"},function(){return null!==this.oc?this.oc.Oi():null!==this.cc?this.cc.Oi():this.rF});u.defineProperty(uf,{Sc:"draggedLink"},function(){return this.$A},function(a){null!==a&&u.C(a,W,uf,"draggedLink");this.$A=a});u.defineProperty(uf,{gw:"isDragOutStarted"},function(){return this.rB},function(a){this.rB=a});u.defineProperty(uf,{Tj:"startPoint"},function(){return this.iv},function(a){u.C(a,w,uf,"startPoint");this.iv.L(a)||(this.iv=a=a.Z())});
	u.defineProperty(uf,{iD:"delay"},function(){return this.qn},function(a){u.j(a,"number",uf,"delay");this.qn=a});uf.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||!a.Nk&&!a.Ij&&!a.Cv||!a.pf)return!1;var b=a.N;return!b.left||a.Va!==this&&(!this.isBeyondDragSize()||b.jl&&b.timestamp-a.vc.timestamp<this.qn)?!1:null!==this.findDraggablePart()};
	uf.prototype.findDraggablePart=function(){var a=this.g;if(null===a)return null;a=a.As(a.vc.da,!1);if(null===a)return null;for(;null!==a&&!a.canSelect();)a=a.Sa;return null!==a&&(a.canMove()||a.canCopy())?a:null};uf.prototype.standardMouseSelect=function(){var a=this.g;if(null!==a&&a.pf){var b=a.As(a.vc.da,!1);if(null!==b){for(;null!==b&&!b.canSelect();)b=b.Sa;this.ts=b;this.ts.Za||(a.Ba("ChangingSelection"),b=a.N,(u.Fm?b.Zs:b.control)||b.shift||of(a),this.ts.Za=!0,a.Ba("ChangedSelection"))}}};
	uf.prototype.doActivate=function(){var a=this.g;if(null!==a){this.standardMouseSelect();var b=this.ts;null!==b&&(b.canMove()||b.canCopy())&&(this.oa=!0,this.co.set(a.position),Cf(this,a.selection),this.Yi.length=0,this.cc=this.computeEffectiveCollection(a.selection),a.ut=!0,Df(this,this.cc),this.Wb("Drag"),this.Tj=a.vc.da,a.Ge=!0,a.Cv&&(this.gw=!0,this.Tp=!1,Ef=this,Ff=this.g,this.doSimulatedDragOut()))}};
	function Cf(a,b){if(a.Hi){var c=a.g;null!==c&&c.nm&&(c.ha instanceof Q&&1===b.count&&b.first()instanceof W?(a.Sc=b.first(),a.Sc.canRelinkFrom()&&a.Sc.canRelinkTo()&&a.Sc.ns(),a.qi=c.tb.iE,null===a.qi&&(a.qi=new Gf,a.qi.Dc(c))):(a.Sc=null,a.qi=null))}}
	uf.prototype.computeEffectiveCollection=function(a){var b=null!==this.g&&this.g.Va===this,c=new la(G);if(null===a)return c;for(var d=a.i;d.next();)Hf(this,c,d.value,b);if(null!==this.Sc&&this.Hi)return c;for(d=a.i;d.next();)a=d.value,a instanceof W&&(b=a.W,null===b||c.contains(b)?(b=a.ca,null===b||c.contains(b)||c.remove(a)):c.remove(a));return c};function If(a){return void 0===a?new Jf(K.Wj):new Jf(a.copy())}
	function Hf(a,b,c,d){if(!b.contains(c)&&(!d||c.canMove()||c.canCopy()))if(c instanceof U){b.add(c,If(c.location));if(c instanceof V)for(var e=c.Lc;e.next();)Hf(a,b,e.value,d);for(e=c.oe;e.next();){var f=e.value;if(!b.contains(f)){var h=f.W,k=f.ca;null!==h&&b.contains(h)&&null!==k&&b.contains(k)&&Hf(a,b,f,d)}}if(a.wG)for(c=c.tD();c.next();)Hf(a,b,c.value,d)}else if(c instanceof W)for(f=c,b.add(f,If()),e=f.vg;e.next();)Hf(a,b,e.value,d);else c instanceof lf||b.add(c,If(c.location))}
	uf.prototype.doDeactivate=function(){this.oa=!1;var a=this.g;null!==a&&Kf(a);Zf(this);$f(this,this.cc);this.cc=null;this.Tp=this.gw=!1;if(0<ag.count){for(var b=ag.length,c=0;c<b;c++){var d=ag.ja(c);bg(d);cg(d);Zf(d);null!==d.g&&Kf(d.g)}ag.clear()}bg(this);this.co.m(NaN,NaN);Ef=Ff=null;cg(this);a.Ge=!1;a.ac="";a.ut=!1;this.Uj()};function Zf(a){var b=a.g;if(null!==b){var c=b.fb;b.fb=!0;dg(a,b.N,null);b.fb=c}a.Yi.length=0}
	function eg(){var a=Ef;cg(a);fg(a);var b=a.g;null!==b&&a.co.I()&&(b.position=a.co);null!==b&&Kf(b)}uf.prototype.doCancel=function(){cg(this);fg(this);var a=this.g;null!==a&&this.co.I()&&(a.position=this.co);this.stopTool()};function Df(a,b){if(null!==b){a.lv=!0;for(var c=b.i;c.next();){var d=c.key;d instanceof W&&(d.kp=!0)}}}function $f(a,b){if(null!==b){for(var c=b.i;c.next();){var d=c.key;d instanceof W&&(d.kp=!1,d.el&&gg(d)&&d.Vb())}a.lv=!1}}
	uf.prototype.doKeyDown=function(){var a=this.g;null!==a&&(a=a.N,null!==a&&this.oa&&("Esc"===a.key?this.doCancel():this.doMouseMove()))};uf.prototype.doKeyUp=function(){var a=this.g;null!==a&&null!==a.N&&this.oa&&this.doMouseMove()};function hg(a,b){for(var c=Infinity,d=Infinity,e=-Infinity,f=-Infinity,h=a.i;h.next();){var k=h.value;if(k.Gd()&&k.Ga()){var l=k.location,k=l.x,l=l.y;isNaN(k)||isNaN(l)||(k<c&&(c=k),l<d&&(d=l),k>e&&(e=k),l>f&&(f=l))}}Infinity===c?b.m(0,0,0,0):b.m(c,d,e-c,f-d)}
	function ig(a,b){if(null===a.oc){var c=a.g;if(!(null===c||b&&(c.nb||c.uf))&&null!==a.cc){var d=c.ga;d.isEnabled&&d.ND?null!==d.Ei&&0<d.Ei.Wg.count&&(c.ga.cp(),c.Wb("Drag")):fg(a);c.fb=!b;c.Wm=!b;a.Tj=c.vc.da;d=a.gG?a.cc.Oi():c.selection;d=c.uo(d,c,!0);for(c=d.i;c.next();)c.value.location=c.key.location;c=u.Sf();hg(d,c);u.ic(c);for(var c=new la(G),e=a.cc.i;e.next();){var f=e.key;f.Gd()&&f.canCopy()&&(f=d.ua(f),null!==f&&(f.qf(),c.add(f,If(f.location))))}for(d=d.i;d.next();)e=d.value,e instanceof W&&
	e.canCopy()&&c.add(e,If());a.oc=c;Cf(a,c.Oi());null!==a.Sc&&(c=a.Sc,d=c.Nm,c.ll(a.Tj.x-(d.x+d.width/2),a.Tj.y-(d.y+d.height/2)))}}}function cg(a){var b=a.g;if(null!==b){if(null!==a.oc&&(b.Xz(a.oc.Oi(),!1),a.oc=null,null!==a.cc))for(var c=a.cc.i;c.next();)c.key instanceof W&&(c.value.point=new w(0,0));b.fb=!1;b.Wm=!1;a.Tj=b.vc.da}}function bg(a){if(null!==a.Sc){if(a.Hi&&null!==a.qi){var b=a.qi;b.g.remove(b.qe);b.g.remove(b.re)}a.Sc=null;a.qi=null}}
	function jg(a,b,c){var d=a.g;if(null!==d){var e=a.Tj,f=u.K();f.assign(d.N.da);a.moveParts(b,f.wt(e),c);u.v(f)}}
	uf.prototype.moveParts=function(a,b,c){if(null!==a&&(u.C(a,la,uf,"moveParts:parts"),0!==a.count)){var d=u.K(),e=u.K();e.assign(b);isNaN(e.x)&&(e.x=0);isNaN(e.y)&&(e.y=0);(b=this.lv)||Df(this,a);for(var f=new E(kg),h=new E(Pa),k=a.i;k.next();){var l=k.key;if(l.Gd()){var m=lg(this,l,a);if(null!==m)f.add(new kg(l,k.value,m));else if(!c||l.canMove()){m=k.value.point;d.assign(m);var n=u.K(),p=this.computeMove(l,d.add(e),a,n);l.location=p;k.value.HE=n.wt(m);u.v(n)}}else k.key instanceof W&&h.add(k.Cb)}for(c=
																																																																																																																																 f.i;c.next();)f=c.value,m=f.info.point,d.assign(m),f.Bc.location=d.add(f.LG.HE);c=u.K();m=u.K();for(h=h.i;h.next();)if(k=h.value,f=k.key,f instanceof W)if(f.kp)l=f.W,n=f.ca,null!==this.Sc&&this.Hi?(k=k.value.point,a.add(f,If(e)),l=e.x-k.x,k=e.y-k.y,f.ll(l,k)):(null!==l&&(c.assign(l.location),p=a.ua(l),null!==p&&c.wt(p.point)),null!==n&&(m.assign(n.location),p=a.ua(n),null!==p&&m.wt(p.point)),null!==l&&null!==n?c.De(m)?(k=k.value.point,l=d,l.assign(c),l.wt(k),a.add(f,If(c)),f.ll(l.x,l.y)):(f.kp=!1,
		f.Vb()):(k=k.value.point,n=null!==l?c:null!==n?m:e,a.add(f,If(n)),l=n.x-k.x,k=n.y-k.y,f.ll(l,k)));else if(null===f.W||null===f.ca)k=k.value.point,a.add(f,If(e)),l=e.x-k.x,k=e.y-k.y,f.ll(l,k);u.v(d);u.v(e);u.v(c);u.v(m);b||$f(this,a)}};function lg(a,b,c){b=b.Sa;if(null!==b){a=lg(a,b,c);if(null!==a)return a;a=c.ua(b);if(null!==a)return a}return null}
	function fg(a){if(null!==a.cc){for(var b=a.g,c=a.cc.i;c.next();){var d=c.key;d.Gd()&&(d.location=c.value.point)}for(c=a.cc.i;c.next();)if(d=c.key,d instanceof W&&d.kp){var e=c.value.point;a.cc.add(d,If());d.ll(-e.x,-e.y)}b.cf()}}
	uf.prototype.computeMove=function(a,b,c,d){void 0===d&&(d=new w);d.assign(b);if(null===a)return d;void 0===c&&(c=null);var e=b;if(this.hw&&(this.$G||null===c||this.g.N.up)&&(e=u.K(),c=e,c.assign(b),null!==a)){var f=this.g;if(null!==f){var h=f.Hs,k=this.CD,f=k.width,k=k.height,l=this.KG,m=l.x,l=l.y,n=this.JG;if(null!==h){var p=h.bw;isNaN(f)&&(f=p.width);isNaN(k)&&(k=p.height);h=h.BD;isNaN(m)&&(m=h.x);isNaN(l)&&(l=h.y)}h=u.fc(0,0);h.st(0,0,f,k,n);K.ys(b.x,b.y,m+h.x,l+h.y,f,k,c);u.v(h)}}c=null!==a.mD?
		a.mD(a,b,e):e;k=a.AH;f=k.x;isNaN(f)&&(f=a.location.x);k=k.y;isNaN(k)&&(k=a.location.y);h=a.vH;m=h.x;isNaN(m)&&(m=a.location.x);h=h.y;isNaN(h)&&(h=a.location.y);d.m(Math.max(f,Math.min(c.x,m)),Math.max(k,Math.min(c.y,h)));e!==b&&u.v(e);return d};function mg(a,b){if(null===b)return!0;var c=b.T;return null===c||c instanceof lf||c.layer.zc||a.cc&&a.cc.contains(c)||a.oc&&a.oc.contains(c)?!0:!1}
	function ng(a,b,c,d){var e=a.g;if(null!==e){a.Hi&&(null!==a.Sc&&(a.Sc.W=null,a.Sc.ca=null),vg(a,!1));var f=!1;!1===a.gv&&(f=e.fb,e.fb=!0);var h=wg(e,b,null,function(b){return!mg(a,b)}),k=e.N;k.pe=h;var l=e.fb;e.fb=!0;var m=dg(a,k,h);if(a.oa||null!==Ef){if(null===h){var n=e.EH;null!==n&&(n(k),m=!0)}if(a.oa||null!==Ef)if(a.doDragOver(b,h),a.oa||null!==Ef)e.fb=l,m&&e.cf(),!1===a.gv&&(e.fb=f),(e.Re||e.Se)&&(c||d)&&xg(e,k.gf)}}}
	function dg(a,b,c){var d=!1,e=a.Yi.length,f=0<e?a.Yi[0]:null;if(c===f)return!1;b.Tc=!1;for(var h=0;h<e;h++){var k=a.Yi[h],l=k.DH;if(null!==l&&(l(b,k,c),d=!0,b.Tc))break}a.Yi.length=0;if(!a.oa&&null===Ef||null===c)return d;for(b.Tc=!1;null!==c;)a.Yi.push(c),c=yg(c);e=a.Yi.length;for(h=0;h<e&&(k=a.Yi[h],l=k.CH,null===l||(l(b,k,f),d=!0,!b.Tc));h++);return d}function yg(a){var b=a.S;return null!==b?b:a instanceof G&&!(a instanceof V)&&(a=a.Sa,null!==a&&a.OG)?a:null}
	function zg(a,b,c){var d=a.qi;if(null===d)return null;var e=a.g.zm(b,d.fE,function(a){return d.findValidLinkablePort(a,c)});a=u.K();for(var f=Infinity,h=null,e=e.i;e.next();){var k=e.value;if(null!==k.T){var l=k.mb(Ib,a),l=b.Lj(l);l<f&&(h=k,f=l)}}u.v(a);return h}
	function vg(a,b){var c=a.Sc;if(null!==c&&!(2>c.ka)){var d=a.g;if(null!==d&&!d.nb&&(d=a.qi,null!==d)){var e=null,f=null;null===c.W&&(e=zg(a,c.l(0),!1),null!==e&&(f=e.T));var h=null,k=null;null===c.ca&&(h=zg(a,c.l(c.ka-1),!0),null!==h&&(k=h.T));d.isValidLink(f,e,k,h)?b?(c.kn=c.l(0).copy(),c.on=c.l(c.ka-1).copy(),c.kp=!1,c.W=f,null!==e&&(c.qg=e.Jd),c.ca=k,null!==h&&(c.mh=h.Jd)):Ag(d,f,e,k,h):Ag(d,null,null,null,null)}}}uf.prototype.doDragOver=function(){};
	function Bg(a,b){var c=a.g;if(null!==c){a.Hi&&vg(a,!0);Zf(a);var d=wg(c,b,null,function(b){return!mg(a,b)}),e=c.N;e.pe=d;if(null!==d){e.Tc=!1;for(var f=d;null!==f;){var h=f.Dz;if(null!==h&&(h(e,f),e.Tc))break;f=yg(f)}}else h=c.Dz,null!==h&&h(e);if(a.oa||null!==Ef)if(a.doDropOnto(b,d),a.oa||null!==Ef)for(d=c.selection.i;d.next();)e=d.value,e instanceof U&&Cg(c,e.ba)}}uf.prototype.doDropOnto=function(){};
	uf.prototype.doMouseMove=function(){if(this.oa){var a=this.g;if(null!==a&&null!==this.ts&&null!==this.cc){var b=!1,c=!1;this.mayCopy()?(b=!0,a.ac="copy",ig(this,!1),Df(this,this.oc),jg(this,this.oc,!1),$f(this,this.oc)):this.mayMove()?(c=!0,a.ac="default",cg(this),jg(this,this.cc,!0)):this.mayDragOut()?(a.ac="no-drop",ig(this,!1),jg(this,this.oc,!1)):cg(this);ng(this,a.N.da,c,b)}}};
	uf.prototype.doMouseUp=function(){if(this.oa){var a=this.g;if(null!==a){var b=!1,c=this.mayCopy();c&&null!==this.oc?(cg(this),ig(this,!0),Df(this,this.oc),jg(this,this.oc,!1),$f(this,this.oc),null!==this.oc&&a.CE(this.oc.Oi())):(b=!0,cg(this),this.mayMove()&&(jg(this,this.cc,!0),this.gv=!1,ng(this,a.N.da,!0,!1),this.gv=!0));this.Tp=!0;Bg(this,a.N.da);if(this.oa){this.oc=null;if(b&&null!==this.cc)for(b=this.cc.i;b.next();){var d=b.key;d instanceof U&&(d=d.Sa,null===d||null===d.placeholder||this.cc.contains(d)||
	d.aD&&d.R())}a.pc();$f(this,this.cc);this.zf=c?"Copy":"Move";a.Ba(c?"SelectionCopied":"SelectionMoved",a.selection)}this.stopTool()}}};uf.prototype.mayCopy=function(){if(!this.LD)return!1;var a=this.g;if(null===a||a.nb||a.uf||!a.mo||!a.Ij||(u.Fm?!a.N.alt:!a.N.control))return!1;for(a=a.selection.i;a.next();){var b=a.value;if(b.Gd()&&b.canCopy())return!0}return null!==this.Sc&&this.Hi&&this.Sc.canCopy()?!0:!1};
	uf.prototype.mayDragOut=function(){if(!this.LD)return!1;var a=this.g;if(null===a||!a.Cv||!a.Ij||a.Nk)return!1;for(a=a.selection.i;a.next();){var b=a.value;if(b.Gd()&&b.canCopy())return!0}return null!==this.Sc&&this.Hi&&this.Sc.canCopy()?!0:!1};uf.prototype.mayMove=function(){var a=this.g;if(null===a||a.nb||!a.Nk)return!1;for(a=a.selection.i;a.next();){var b=a.value;if(b.Gd()&&b.canMove())return!0}return null!==this.Sc&&this.Hi&&this.Sc.canMove()?!0:!1};var ag=new E(uf),Ef=null,Ff=null;
	uf.prototype.mayDragIn=function(){var a=this.g;if(null===a||!a.MC||a.nb||a.uf||!a.mo)return!1;var b=Ef;return null===b||b.g.ha.Sk!==a.ha.Sk?!1:!0};uf.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var a=this.g;a.Mb.Ni();Dg(a);a=Ef;null!==a&&(a.g.ac="copy")}};uf.prototype.doSimulatedDragLeave=function(){var a=Ef;null!==a&&a.doSimulatedDragOut();this.doCancel()};
	uf.prototype.doSimulatedDragOver=function(){var a=this.g;if(null!==a){var b=Ef;null!==b&&null!==b.cc&&this.mayDragIn()&&(a.ac="copy",Eg(this,b.cc.Oi(),!1),jg(this,this.oc,!1),ng(this,a.N.da,!1,!0))}};
	uf.prototype.doSimulatedDrop=function(){var a=this.g;if(null!==a){var b=Ef;null!==b&&(b.Tp=!0,cg(this),this.mayDragIn()&&(this.Wb("Drop"),Eg(this,b.cc.Oi(),!0),jg(this,this.oc,!1),null!==this.oc&&a.CE(this.oc.Oi()),this.zf="ExternalCopy",Bg(this,a.N.da),a.pc(),this.oc=null,a.focus(),a.Ba("ExternalObjectsDropped",a.selection),this.Uj()))}};
	function Eg(a,b,c){if(null===a.oc){var d=a.g;if(null!==d&&!d.nb&&!d.uf){d.fb=!c;d.Wm=!c;a.Tj=d.N.da;d=d.uo(b,d,!0);c=u.Sf();hg(b,c);var e=c.x+c.width/2,f=c.y+c.height/2;u.ic(c);var h=a.iv;c=new la(G);var k=u.K();for(b=b.i;b.next();){var l=b.value;if(l.Gd()&&l.canCopy()){var m=l.location,l=d.ua(l);k.m(h.x-(e-m.x),h.y-(f-m.y));l.location=k;l.qf();c.add(l,If(k))}}u.v(k);for(d=d.i;d.next();)e=d.value,e instanceof W&&e.canCopy()&&c.add(e,If());a.oc=c;Cf(a,c.Oi());null!==a.Sc&&(c=a.Sc,d=c.Nm,c.ll(a.Tj.x-
		(d.x+d.width/2),a.Tj.y-(d.y+d.height/2)))}}}uf.prototype.doSimulatedDragOut=function(){var a=this.g;null!==a&&(this.mayCopy()||this.mayMove()?a.ac="":a.ac="no-drop")};function Jf(a){this.point=a;this.HE=K.Wj}u.fa("DraggingInfo",Jf);function kg(a,b,c){this.Bc=a;this.info=b;this.LG=c}
	function Fg(){0<arguments.length&&u.Wc(Fg);xe.call(this);this.XB=100;this.xB=!1;var a=new W,b=new X;b.ug=!0;b.stroke="blue";a.add(b);b=new X;b.lp="Standard";b.fill="blue";b.stroke="blue";a.add(b);a.wf="Tool";this.tC=a;a=new U;b=new X;b.Jd="";b.Fb="Rectangle";b.fill=null;b.stroke="magenta";b.ib=2;b.za=K.Vw;a.add(b);a.pl=!1;a.wf="Tool";this.rC=a;this.sC=b;a=new U;b=new X;b.Jd="";b.Fb="Rectangle";b.fill=null;b.stroke="magenta";b.ib=2;b.za=K.Vw;a.add(b);a.pl=!1;a.wf="Tool";this.uC=a;this.vC=b;this.TB=
		this.SB=this.OB=this.NB=this.PB=null;this.sB=!0;this.EF=new la(T,"boolean");this.YB=this.xk=this.nC=null}u.Ia(Fg,xe);u.fa("LinkingBaseTool",Fg);Fg.prototype.doStop=function(){var a=this.g;null!==a&&Kf(a);this.hh=this.gh=this.fh=this.eh=this.qc=null;this.Pw.clear();this.Rf=null};u.defineProperty(Fg,{fE:"portGravity"},function(){return this.XB},function(a){u.j(a,"number",Fg,"portGravity");0<=a&&(this.XB=a)});
	u.defineProperty(Fg,{Ko:"isUnconnectedLinkValid"},function(){return this.xB},function(a){u.j(a,"boolean",Fg,"isUnconnectedLinkValid");this.xB=a});u.defineProperty(Fg,{Eg:"temporaryLink"},function(){return this.tC},function(a){u.C(a,W,Fg,"temporaryLink");this.tC=a});u.defineProperty(Fg,{qe:"temporaryFromNode"},function(){return this.rC},function(a){u.C(a,U,Fg,"temporaryFromNode");this.rC=a});
	u.defineProperty(Fg,{Pm:"temporaryFromPort"},function(){return this.sC},function(a){u.C(a,T,Fg,"temporaryFromPort");this.sC=a});u.defineProperty(Fg,{re:"temporaryToNode"},function(){return this.uC},function(a){u.C(a,U,Fg,"temporaryToNode");this.uC=a});u.defineProperty(Fg,{Qm:"temporaryToPort"},function(){return this.vC},function(a){u.C(a,T,Fg,"temporaryToPort");this.vC=a});u.defineProperty(Fg,{qc:"originalLink"},function(){return this.PB},function(a){null!==a&&u.C(a,W,Fg,"originalLink");this.PB=a});
	u.defineProperty(Fg,{eh:"originalFromNode"},function(){return this.NB},function(a){null!==a&&u.C(a,U,Fg,"originalFromNode");this.NB=a});u.defineProperty(Fg,{fh:"originalFromPort"},function(){return this.OB},function(a){null!==a&&u.C(a,T,Fg,"originalFromPort");this.OB=a});u.defineProperty(Fg,{gh:"originalToNode"},function(){return this.SB},function(a){null!==a&&u.C(a,U,Fg,"originalToNode");this.SB=a});
	u.defineProperty(Fg,{hh:"originalToPort"},function(){return this.TB},function(a){null!==a&&u.C(a,T,Fg,"originalToPort");this.TB=a});u.defineProperty(Fg,{$d:"isForwards"},function(){return this.sB},function(a){u.j(a,"boolean",Fg,"isForwards");this.sB=a});u.u(Fg,{Pw:"validPortsCache"},function(){return this.EF});u.defineProperty(Fg,{Rf:"targetPort"},function(){return this.nC},function(a){null!==a&&u.C(a,T,Fg,"targetPort");this.nC=a});
	Fg.prototype.copyPortProperties=function(a,b,c,d,e){if(null!==a&&null!==b&&null!==c&&null!==d){d.za=b.ba.size;e?(d.xb=b.xb,d.vl=b.vl):(d.vb=b.vb,d.Yk=b.Yk);c.$e=Ib;var f=u.K();c.location=b.mb(Ib,f);u.v(f);d.angle=b.Zk();null!==this.yw&&this.yw(a,b,c,d,e)}};Fg.prototype.setNoTargetPortProperties=function(a,b,c){null!==b&&(b.za=K.Vw,b.vb=vb,b.xb=vb);null!==a&&(a.location=this.g.N.da);null!==this.yw&&this.yw(null,null,a,b,c)};Fg.prototype.doMouseDown=function(){this.oa&&this.doMouseMove()};
	Fg.prototype.doMouseMove=function(){if(this.oa){var a=this.g;if(null!==a){this.Rf=this.findTargetPort(this.$d);if(null!==this.Rf){var b=this.Rf.T;if(b instanceof U){this.$d?this.copyPortProperties(b,this.Rf,this.re,this.Qm,!0):this.copyPortProperties(b,this.Rf,this.qe,this.Pm,!1);return}}this.$d?this.setNoTargetPortProperties(this.re,this.Qm,!0):this.setNoTargetPortProperties(this.qe,this.Pm,!1);(a.Re||a.Se)&&xg(a,a.N.gf)}}};
	Fg.prototype.findValidLinkablePort=function(a,b){if(null===a)return null;var c=a.T;if(!(c instanceof U))return null;for(;null!==a;){var d=b?a.NE:a.vD;if(!0===d&&(null!==a.Jd||a instanceof U)&&(b?this.isValidTo(c,a):this.isValidFrom(c,a)))return a;if(!1===d)break;a=a.S}return null};
	Fg.prototype.findTargetPort=function(a){var b=this.g,c=b.N.da,d=this.fE;0>=d&&(d=.1);for(var e=this,f=b.zm(c,d,function(b){return e.findValidLinkablePort(b,a)},null,!0),d=Infinity,b=null,f=f.i;f.next();){var h=f.value,k=h.T;if(k instanceof U){var l=h.mb(Ib,u.K()),m=c.x-l.x,n=c.y-l.y;u.v(l);l=m*m+n*n;l<d&&(m=this.Pw.ua(h),null!==m?m&&(b=h,d=l):a&&this.isValidLink(this.eh,this.fh,k,h)||!a&&this.isValidLink(k,h,this.gh,this.hh)?(this.Pw.add(h,!0),b=h,d=l):this.Pw.add(h,!1))}}return null!==b&&(c=b.T,
	c instanceof U&&(null===c.layer||c.layer.js))?b:null};Fg.prototype.isValidFrom=function(a,b){if(null===a||null===b)return this.Ko;if(this.g.Va===this&&(null!==a.layer&&!a.layer.js||!0!==b.vD))return!1;var c=b.DG;if(Infinity>c){if(null!==this.qc&&a===this.eh&&b===this.fh)return!0;var d=b.Jd;null===d&&(d="");if(a.Xv(d).count>=c)return!1}return!0};
	Fg.prototype.isValidTo=function(a,b){if(null===a||null===b)return this.Ko;if(this.g.Va===this&&(null!==a.layer&&!a.layer.js||!0!==b.NE))return!1;var c=b.zI;if(Infinity>c){if(null!==this.qc&&a===this.gh&&b===this.hh)return!0;var d=b.Jd;null===d&&(d="");if(a.pg(d).count>=c)return!1}return!0};Fg.prototype.isInSameNode=function(a,b){if(null===a||null===b)return!1;if(a===b)return!0;var c=a.T,d=b.T;return null!==c&&c===d};
	Fg.prototype.isLinked=function(a,b){if(null===a||null===b)return!1;var c=a.T;if(!(c instanceof U))return!1;var d=a.Jd;null===d&&(d="");var e=b.T;if(!(e instanceof U))return!1;var f=b.Jd;null===f&&(f="");for(e=e.pg(f);e.next();)if(f=e.value,f.W===c&&f.qg===d)return!0;return!1};
	Fg.prototype.isValidLink=function(a,b,c,d){if(!this.isValidFrom(a,b)||!this.isValidTo(c,d)||!(null===b||null===d||(b.CG&&d.yI||!this.isInSameNode(b,d))&&(b.BG&&d.xI||!this.isLinked(b,d)))||null!==this.qc&&(null!==a&&this.isLabelDependentOnLink(a,this.qc)||null!==c&&this.isLabelDependentOnLink(c,this.qc))||null!==a&&null!==c&&(null===a.data&&null!==c.data||null!==a.data&&null===c.data)||!this.isValidCycle(a,c,this.qc))return!1;if(null!==a){var e=a.qw;if(null!==e&&!e(a,b,c,d,this.qc))return!1}if(null!==
		c&&(e=c.qw,null!==e&&!e(a,b,c,d,this.qc)))return!1;e=this.qw;return null!==e?e(a,b,c,d,this.qc):!0};Fg.prototype.isLabelDependentOnLink=function(a,b){if(null===a)return!1;var c=a.ce;if(null===c)return!1;if(c===b)return!0;var d=new F(U);d.add(a);return Gg(this,c,b,d)};function Gg(a,b,c,d){if(b===c)return!0;var e=b.W;if(null!==e&&e.tf&&(d.add(e),Gg(a,e.ce,c,d)))return!0;b=b.ca;return null!==b&&b.tf&&(d.add(b),Gg(a,b.ce,c,d))?!0:!1}
	Fg.prototype.isValidCycle=function(a,b,c){void 0===c&&(c=null);if(null===a||null===b)return this.Ko;var d=this.g.EI;if(d!==Hg){if(d===Ig){if(null!==c&&!c.Ac)return!0;for(d=b.oe;d.next();){var e=d.value;if(e!==c&&e.Ac&&e.ca===b)return!1}return!Jg(this,a,b,c,!0)}if(d===Kg){if(null!==c&&!c.Ac)return!0;for(d=a.oe;d.next();)if(e=d.value,e!==c&&e.Ac&&e.W===a)return!1;return!Jg(this,a,b,c,!0)}if(d===Lg)return a===b?a=!0:(d=new F(U),d.add(b),a=Ug(this,d,a,b,c)),!a;if(d===Vg)return!Jg(this,a,b,c,!1);if(d===
		Wg)return a===b?a=!0:(d=new F(U),d.add(b),a=Xg(this,d,a,b,c)),!a}return!0};function Jg(a,b,c,d,e){if(b===c)return!0;if(null===b||null===c)return!1;for(var f=b.oe;f.next();){var h=f.value;if(h!==d&&(!e||h.Ac)&&h.ca===b&&(h=h.W,h!==b&&Jg(a,h,c,d,e)))return!0}return!1}function Ug(a,b,c,d,e){if(c===d)return!0;if(null===c||null===d||b.contains(c))return!1;b.add(c);for(var f=c.oe;f.next();){var h=f.value;if(h!==e&&h.ca===c&&(h=h.W,h!==c&&Ug(a,b,h,d,e)))return!0}return!1}
	function Xg(a,b,c,d,e){if(c===d)return!0;if(null===c||null===d||b.contains(c))return!1;b.add(c);for(var f=c.oe;f.next();){var h=f.value;if(h!==e){var k=h.W,h=h.ca,k=k===c?h:k;if(k!==c&&Xg(a,b,k,d,e))return!0}}return!1}u.defineProperty(Fg,{qw:"linkValidation"},function(){return this.xk},function(a){null!==a&&u.j(a,"function",Fg,"linkValidation");this.xk=a});u.defineProperty(Fg,{yw:"portTargeted"},function(){return this.YB},function(a){null!==a&&u.j(a,"function",Fg,"portTargeted");this.YB=a});
	function ua(){0<arguments.length&&u.Wc(ua);Fg.call(this);this.name="Linking";this.hx={};this.gx=null;this.la=Yg;this.zy=this.jC=null}u.Ia(ua,Fg);u.fa("LinkingTool",ua);var Yg;ua.Either=Yg=u.s(ua,"Either",0);var Zg;ua.ForwardsOnly=Zg=u.s(ua,"ForwardsOnly",0);var $g;ua.BackwardsOnly=$g=u.s(ua,"BackwardsOnly",0);u.defineProperty(ua,{OF:"archetypeLinkData"},function(){return this.hx},function(a){null!==a&&u.C(a,Object,ua,"archetypeLinkData");a instanceof T&&u.C(a,W,ua,"archetypeLinkData");this.hx=a});
	u.defineProperty(ua,{PC:"archetypeLabelNodeData"},function(){return this.gx},function(a){null!==a&&u.C(a,Object,ua,"archetypeLabelNodeData");a instanceof T&&u.C(a,U,ua,"archetypeLabelNodeData");this.gx=a});u.defineProperty(ua,{direction:"direction"},function(){return this.la},function(a){u.rb(a,ua,ua,"direction");this.la=a});u.defineProperty(ua,{LE:"startObject"},function(){return this.jC},function(a){null!==a&&u.C(a,T,ua,"startObject");this.jC=a});u.u(ua,{Mw:"startPort"},function(){return this.zy});
	ua.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||a.nb||a.uf||!a.js)return!1;var b=a.ha;return(b instanceof Q||b instanceof qe)&&a.N.left&&(a.Va===this||this.isBeyondDragSize())?null!==this.findLinkablePort():!1};
	ua.prototype.findLinkablePort=function(){var a=this.g;if(null===a)return null;var b=this.LE;null===b&&(b=a.ke(a.vc.da,null,null));if(null===b||!(b.T instanceof U))return null;a=this.direction;if(a===Yg||a===Zg){var c=this.findValidLinkablePort(b,!1);if(null!==c)return this.$d=!0,c}if(a===Yg||a===$g)if(c=this.findValidLinkablePort(b,!0),null!==c)return this.$d=!1,c;return null};
	ua.prototype.doActivate=function(){var a=this.g;if(null!==a&&(null===this.Mw&&(this.zy=this.findLinkablePort()),null!==this.Mw)){this.Wb(this.name);a.Ge=!0;a.ac="pointer";if(this.$d){this.fh=this.Mw;var b=this.fh.T;b instanceof U&&(this.eh=b);this.copyPortProperties(this.eh,this.fh,this.qe,this.Pm,!1)}else this.hh=this.Mw,b=this.hh.T,b instanceof U&&(this.gh=b),this.copyPortProperties(this.gh,this.hh,this.re,this.Qm,!0);a.add(this.qe);a.add(this.re);null!==this.Eg&&(null!==this.qe&&(this.Eg.W=this.qe),
	null!==this.re&&(this.Eg.ca=this.re),this.Eg.Vb(),a.add(this.Eg));this.oa=!0}};ua.prototype.doDeactivate=function(){this.oa=!1;var a=this.g;null!==a&&(a.remove(this.Eg),a.remove(this.qe),a.remove(this.re),a.Ge=!1,a.ac="",this.Uj())};ua.prototype.doStop=function(){Fg.prototype.doStop.call(this);this.LE=this.zy=null};
	ua.prototype.doMouseUp=function(){if(this.oa){var a=this.g;if(null===a)return;var b=this.zf=null,c=null,d=null,e=null,f=this.Rf=this.findTargetPort(this.$d);if(null!==f){var h=f.T;h instanceof U&&(this.$d?(null!==this.eh&&(b=this.eh,c=this.fh),d=h,e=f):(b=h,c=f,null!==this.gh&&(d=this.gh,e=this.hh)))}else this.$d?null!==this.eh&&this.Ko&&(b=this.eh,c=this.fh):null!==this.gh&&this.Ko&&(d=this.gh,e=this.hh);if(null!==b||null!==d)b=this.insertLink(b,c,d,e),null!==b?(null===f&&(this.$d?b.on=a.N.da.copy():
		b.kn=a.N.da.copy()),a.pf&&a.select(b),this.zf=this.name,a.Ba("LinkDrawn",b)):a.ha.XC()}this.stopTool()};
	ua.prototype.insertLink=function(a,b,c,d){var e=this.g;if(null===e)return null;var f=e.ha;if(f instanceof qe){var h=a;b=c;e.qd||(h=c,b=a);if(null!==h&&null!==b)return f.kh(b.data,f.wb(h.data)),b.Bs()}else if(f instanceof Q)if(h="",null!==a&&(null===b&&(b=a),h=b.Jd,null===h&&(h="")),b="",null!==c&&(null===d&&(d=c),b=d.Jd,null===b&&(b="")),d=this.OF,d instanceof W){if(nf(d),f=d.copy(),null!==f)return f.W=a,f.qg=h,f.ca=c,f.mh=b,e.add(f),a=this.PC,a instanceof U&&(nf(a),a=a.copy(),null!==a&&(a.ce=f,e.add(a))),
		f}else if(null!==d&&(d=f.eD(d),u.Ta(d)))return null!==a&&f.Gw(d,f.wb(a.data)),f.bA(d,h),null!==c&&f.Iw(d,f.wb(c.data)),f.fA(d,b),f.zv(d),a=this.PC,null===a||a instanceof U||(a=f.copyNodeData(a),u.Ta(a)&&(f.lm(a),a=f.wb(a),void 0!==a&&f.My(d,a))),f=e.og(d);return null};
	function Gf(){0<arguments.length&&u.Wc(Gf);Fg.call(this);this.name="Relinking";var a=new X;a.Fb="Diamond";a.za=K.Sw;a.fill="lightblue";a.stroke="dodgerblue";a.cursor="pointer";a.Pf=0;this.gB=a;a=new X;a.Fb="Diamond";a.za=K.Sw;a.fill="lightblue";a.stroke="dodgerblue";a.cursor="pointer";a.Pf=-1;this.wC=a;this.Yb=null;this.QB=new z}u.Ia(Gf,Fg);u.fa("RelinkingTool",Gf);
	Gf.prototype.updateAdornments=function(a){if(null!==a&&a instanceof W){var b="RelinkFrom",c=null;if(a.Za&&!this.g.nb){var d=a.ot;null!==d&&a.canRelinkFrom()&&a.ba.I()&&a.Ga()&&d.ba.I()&&d.kl()&&(c=a.zo(b),null===c&&(c=this.makeAdornment(d,!1),null!==c&&(c.Jc=b),a.Kk(b,c)))}null===c&&a.ol(b);b="RelinkTo";c=null;a.Za&&!this.g.nb&&(d=a.ot,null!==d&&a.canRelinkTo()&&a.ba.I()&&a.Ga()&&d.ba.I()&&d.kl()&&(c=a.zo(b),null===c&&(c=this.makeAdornment(d,!0),null!==c&&(c.Jc=b),a.Kk(b,c))));null===c&&a.ol(b)}};
	Gf.prototype.makeAdornment=function(a,b){var c=new lf;c.type=ah;var d=b?this.wI:this.AG;null!==d&&c.add(d.copy());c.uc=a;return c};u.defineProperty(Gf,{AG:"fromHandleArchetype"},function(){return this.gB},function(a){null!==a&&u.C(a,T,Gf,"fromHandleArchetype");this.gB=a});u.defineProperty(Gf,{wI:"toHandleArchetype"},function(){return this.wC},function(a){null!==a&&u.C(a,T,Gf,"toHandleArchetype");this.wC=a});u.u(Gf,{handle:"handle"},function(){return this.Yb});
	Gf.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||a.nb||a.uf||!a.nm)return!1;var b=a.ha;if(!(b instanceof Q||b instanceof qe)||!a.N.left)return!1;b=this.findToolHandleAt(a.vc.da,"RelinkFrom");null===b&&(b=this.findToolHandleAt(a.vc.da,"RelinkTo"));return null!==b};
	Gf.prototype.doActivate=function(){var a=this.g;if(null!==a){if(null===this.qc){var b=this.findToolHandleAt(a.vc.da,"RelinkFrom");null===b&&(b=this.findToolHandleAt(a.vc.da,"RelinkTo"));if(null===b)return;var c=b.T;if(!(c instanceof lf&&c.Mh instanceof W))return;this.Yb=b;this.$d=null===c||"RelinkTo"===c.Jc;this.qc=c.Mh}this.Wb(this.name);a.Ge=!0;a.ac="pointer";this.fh=this.qc.od;this.eh=this.qc.W;this.hh=this.qc.fe;this.gh=this.qc.ca;this.QB.set(this.qc.ba);null!==this.qc&&0<this.qc.ka&&(null===
	this.qc.W&&(null!==this.Pm&&(this.Pm.za=K.qp),null!==this.qe&&(this.qe.location=this.qc.l(0))),null===this.qc.ca&&(null!==this.Qm&&(this.Qm.za=K.qp),null!==this.re&&(this.re.location=this.qc.l(this.qc.ka-1))));this.copyPortProperties(this.eh,this.fh,this.qe,this.Pm,!1);this.copyPortProperties(this.gh,this.hh,this.re,this.Qm,!0);a.add(this.qe);a.add(this.re);null!==this.Eg&&(null!==this.qe&&(this.Eg.W=this.qe),null!==this.re&&(this.Eg.ca=this.re),this.copyLinkProperties(this.qc,this.Eg),this.Eg.Vb(),
		a.add(this.Eg));this.oa=!0}};Gf.prototype.copyLinkProperties=function(a,b){if(null!==a&&null!==b){b.gs=a.gs;b.Zy=a.Zy;var c=a.Ve;if(c===bh||c===ch)c=dh;b.Ve=c;b.Pv=a.Pv;b.Bw=a.Bw;b.ip=a.ip;b.vb=a.vb;b.Yk=a.Yk;b.Fs=a.Fs;b.Gs=a.Gs;b.xb=a.xb;b.vl=a.vl;b.xt=a.xt;b.zt=a.zt}};Gf.prototype.doDeactivate=function(){this.oa=!1;var a=this.g;null!==a&&(a.remove(this.Eg),a.remove(this.qe),a.remove(this.re),a.Ge=!1,a.ac="",this.Uj())};Gf.prototype.doStop=function(){Fg.prototype.doStop.call(this);this.Yb=null};
	Gf.prototype.doMouseUp=function(){if(this.oa){var a=this.g;if(null===a)return;this.zf=null;var b=this.eh,c=this.fh,d=this.gh,e=this.hh,f=this.qc;this.Rf=this.findTargetPort(this.$d);if(null!==this.Rf){var h=this.Rf.T;h instanceof U&&(this.$d?(d=h,e=this.Rf):(b=h,c=this.Rf))}else this.Ko?this.$d?e=d=null:c=b=null:f=null;null!==f&&(this.reconnectLink(f,this.$d?d:b,this.$d?e:c,this.$d),null===this.Rf&&(this.$d?f.on=a.N.da.copy():f.kn=a.N.da.copy(),f.Vb()),a.pf&&(f.Za=!0),this.zf=this.name,a.Ba("LinkRelinked",
		f,this.$d?this.hh:this.fh));eh(this.qc,this.QB)}this.stopTool()};Gf.prototype.reconnectLink=function(a,b,c,d){if(null===this.g)return!1;c=null!==c&&null!==c.Jd?c.Jd:"";d?(a.ca=b,a.mh=c):(a.W=b,a.qg=c);return!0};function Ag(a,b,c,d,e){null!==b?(a.copyPortProperties(b,c,a.qe,a.Pm,!1),a.g.add(a.qe)):a.g.remove(a.qe);null!==d?(a.copyPortProperties(d,e,a.re,a.Qm,!0),a.g.add(a.re)):a.g.remove(a.re)}
	function fh(){0<arguments.length&&u.Wc(fh);xe.call(this);this.name="LinkReshaping";var a=new X;a.Fb="Rectangle";a.za=K.op;a.fill="lightblue";a.stroke="dodgerblue";this.pk=a;a=new X;a.Fb="Diamond";a.za=K.op;a.fill="lightblue";a.stroke="dodgerblue";this.DB=a;this.ZB=3;this.bx=this.Yb=null;this.RB=new w;this.ny=null}u.Ia(fh,xe);u.fa("LinkReshapingTool",fh);var gh;fh.None=gh=u.s(fh,"None",0);var hh;fh.Horizontal=hh=u.s(fh,"Horizontal",1);var ih;fh.Vertical=ih=u.s(fh,"Vertical",2);var jh;
	fh.All=jh=u.s(fh,"All",3);fh.prototype.getReshapingBehavior=fh.prototype.AD=function(a){return a&&a.$B?a.$B:gh};fh.prototype.setReshapingBehavior=fh.prototype.rt=function(a,b){u.C(a,T,fh,"setReshapingBehavior:obj");u.rb(b,fh,fh,"setReshapingBehavior:behavior");a.$B=b};
	fh.prototype.updateAdornments=function(a){if(null!==a&&a instanceof W){if(a.Za&&!this.g.nb){var b=a.path;if(null!==b&&a.canReshape()&&a.ba.I()&&a.Ga()&&b.ba.I()&&b.kl()){var c=a.zo(this.name);if(null===c||c.xF!==a.ka||c.GF!==a.jt)c=this.makeAdornment(b),null!==c&&(c.xF=a.ka,c.GF=a.jt,a.Kk(this.name,c));if(null!==c){c.location=a.position;return}}}a.ol(this.name)}};
	fh.prototype.makeAdornment=function(a){var b=a.T,c=b.ka,d=b.dc,e=null;if(null!==b.points&&1<c){e=new lf;e.type=ah;var c=b.Cs,f=b.mw,h=d?1:0;if(b.jt&&b.Ve!==kh)for(var k=c+h;k<f-h;k++){var l=this.makeResegmentHandle(a,k);null!==l&&(l.Pf=k,l.Dw=.5,e.add(l))}for(k=c+1;k<f;k++)if(l=this.makeHandle(a,k),null!==l){l.Pf=k;if(k!==c)if(k===c+1&&d){var h=b.l(c),m=b.l(c+1);K.D(h.x,m.x)&&K.D(h.y,m.y)&&(m=b.l(c-1));K.D(h.x,m.x)?(this.rt(l,ih),l.cursor="n-resize"):K.D(h.y,m.y)&&(this.rt(l,hh),l.cursor="w-resize")}else k===
	f-1&&d?(h=b.l(f-1),m=b.l(f),K.D(h.x,m.x)&&K.D(h.y,m.y)&&(h=b.l(f+1)),K.D(h.x,m.x)?(this.rt(l,ih),l.cursor="n-resize"):K.D(h.y,m.y)&&(this.rt(l,hh),l.cursor="w-resize")):k!==f&&(this.rt(l,jh),l.cursor="move");e.add(l)}e.Jc=this.name;e.uc=a}return e};fh.prototype.makeHandle=function(){var a=this.Is;return null===a?null:a.copy()};u.defineProperty(fh,{Is:"handleArchetype"},function(){return this.pk},function(a){null!==a&&u.C(a,T,fh,"handleArchetype");this.pk=a});
	fh.prototype.makeResegmentHandle=function(){var a=this.zH;return null===a?null:a.copy()};u.defineProperty(fh,{zH:"midHandleArchetype"},function(){return this.DB},function(a){null!==a&&u.C(a,T,fh,"midHandleArchetype");this.DB=a});u.u(fh,{handle:"handle"},function(){return this.Yb});u.u(fh,{hs:"adornedLink"},function(){return this.bx});fh.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null!==a&&!a.nb&&a.Ev&&a.N.left?null!==this.findToolHandleAt(a.vc.da,this.name):!1};
	fh.prototype.doActivate=function(){var a=this.g;if(null!==a&&(this.Yb=this.findToolHandleAt(a.vc.da,this.name),null!==this.Yb)){var b=this.Yb.T.Mh;if(b instanceof W){this.bx=b;a.Ge=!0;this.Wb(this.name);if(b.jt&&.5===this.Yb.Dw){var c=b.points.copy(),d=this.Yb.mb(Ib);c.Yd(this.Yb.Pf+1,d);b.dc&&c.Yd(this.Yb.Pf+1,d);b.points=c;b.Zd();this.Yb=this.findToolHandleAt(a.vc.da,this.name)}this.RB=b.l(this.Yb.Pf);this.ny=b.points.copy();this.oa=!0}}};
	fh.prototype.doDeactivate=function(){this.Uj();this.bx=this.Yb=null;var a=this.g;null!==a&&(a.Ge=!1);this.oa=!1};fh.prototype.doCancel=function(){var a=this.hs;null!==a&&(a.points=this.ny);this.stopTool()};fh.prototype.doMouseMove=function(){var a=this.g;this.oa&&null!==a&&(a=this.computeReshape(a.N.da),this.reshape(a))};
	fh.prototype.doMouseUp=function(){var a=this.g;if(this.oa&&null!==a){var b=this.computeReshape(a.N.da);this.reshape(b);b=this.hs;if(null!==b&&b.jt){var c=this.handle.Pf,d=b.l(c-1),e=b.l(c),f=b.l(c+1);if(b.dc){if(c>b.Cs+1&&c<b.mw-1){var h=b.l(c-2);if(Math.abs(d.x-e.x)<this.ih&&Math.abs(d.y-e.y)<this.ih&&(lh(this,h,d,e,f,!0)||lh(this,h,d,e,f,!1))){var k=b.points.copy();lh(this,h,d,e,f,!0)?(k.Cg(c-2,new w(h.x,(f.y+h.y)/2)),k.Cg(c+1,new w(f.x,(f.y+h.y)/2))):(k.Cg(c-2,new w((f.x+h.x)/2,h.y)),k.Cg(c+1,
		new w((f.x+h.x)/2,f.y)));k.jd(c);k.jd(c-1);b.points=k;b.Zd()}else h=b.l(c+2),Math.abs(e.x-f.x)<this.ih&&Math.abs(e.y-f.y)<this.ih&&(lh(this,d,e,f,h,!0)||lh(this,d,e,f,h,!1))&&(k=b.points.copy(),lh(this,d,e,f,h,!0)?(k.Cg(c-1,new w(d.x,(d.y+h.y)/2)),k.Cg(c+2,new w(h.x,(d.y+h.y)/2))):(k.Cg(c-1,new w((d.x+h.x)/2,d.y)),k.Cg(c+2,new w((d.x+h.x)/2,h.y))),k.jd(c+1),k.jd(c),b.points=k,b.Zd())}}else h=u.K(),K.Im(d.x,d.y,f.x,f.y,e.x,e.y,h)&&h.Lj(e)<this.ih*this.ih&&(k=b.points.copy(),k.jd(c),b.points=k,b.Zd()),
		u.v(h)}a.pc();this.zf=this.name;a.Ba("LinkReshaped",this.hs)}this.stopTool()};function lh(a,b,c,d,e,f){return f?Math.abs(b.y-c.y)<a.ih&&Math.abs(c.y-d.y)<a.ih&&Math.abs(d.y-e.y)<a.ih:Math.abs(b.x-c.x)<a.ih&&Math.abs(c.x-d.x)<a.ih&&Math.abs(d.x-e.x)<a.ih}u.defineProperty(fh,{ih:"resegmentingDistance"},function(){return this.ZB},function(a){u.j(a,"number",fh,"resegmentingDistance");this.ZB=a});
	fh.prototype.reshape=function(a){var b=this.hs;b.rl();var c=this.handle.Pf,d=this.AD(this.handle);if(b.dc)if(c===b.Cs+1)c=b.Cs+1,d===ih?(b.V(c,b.l(c-1).x,a.y),b.V(c+1,b.l(c+2).x,a.y)):d===hh&&(b.V(c,a.x,b.l(c-1).y),b.V(c+1,a.x,b.l(c+2).y));else if(c===b.mw-1)c=b.mw-1,d===ih?(b.V(c-1,b.l(c-2).x,a.y),b.V(c,b.l(c+1).x,a.y)):d===hh&&(b.V(c-1,a.x,b.l(c-2).y),b.V(c,a.x,b.l(c+1).y));else{var d=c,e=b.l(d),f=b.l(d-1),h=b.l(d+1);K.D(f.x,e.x)&&K.D(e.y,h.y)?(K.D(f.x,b.l(d-2).x)&&!K.D(f.y,b.l(d-2).y)?(b.w(d,a.x,
		f.y),c++,d++):b.V(d-1,a.x,f.y),K.D(h.y,b.l(d+2).y)&&!K.D(h.x,b.l(d+2).x)?b.w(d+1,h.x,a.y):b.V(d+1,h.x,a.y)):K.D(f.y,e.y)&&K.D(e.x,h.x)?(K.D(f.y,b.l(d-2).y)&&!K.D(f.x,b.l(d-2).x)?(b.w(d,f.x,a.y),c++,d++):b.V(d-1,f.x,a.y),K.D(h.x,b.l(d+2).x)&&!K.D(h.y,b.l(d+2).y)?b.w(d+1,a.x,h.y):b.V(d+1,a.x,h.y)):K.D(f.x,e.x)&&K.D(e.x,h.x)?(K.D(f.x,b.l(d-2).x)&&!K.D(f.y,b.l(d-2).y)?(b.w(d,a.x,f.y),c++,d++):b.V(d-1,a.x,f.y),K.D(h.x,b.l(d+2).x)&&!K.D(h.y,b.l(d+2).y)?b.w(d+1,a.x,h.y):b.V(d+1,a.x,h.y)):K.D(f.y,e.y)&&K.D(e.y,
		h.y)&&(K.D(f.y,b.l(d-2).y)&&!K.D(f.x,b.l(d-2).x)?(b.w(d,f.x,a.y),c++,d++):b.V(d-1,f.x,a.y),K.D(h.y,b.l(d+2).y)&&!K.D(h.x,b.l(d+2).x)?b.w(d+1,h.x,a.y):b.V(d+1,h.x,a.y));b.V(c,a.x,a.y)}else b.V(c,a.x,a.y),1===c&&b.computeSpot(!0).ne()&&(e=b.W,f=b.od,null===e||e.Ga()||(e=e.findVisibleNode(),e!==b.W&&(f=e.Xk(""))),d=f.mb(Ib,u.K()),e=b.getLinkPointFromPoint(e,f,d,a,!0,u.K()),b.V(0,e.x,e.y),u.v(d),u.v(e)),c===b.ka-2&&b.computeSpot(!1).ne()&&(c=b.ca,e=b.fe,null===c||c.Ga()||(c=c.findVisibleNode(),c!==b.ca&&
	(e=c.Xk(""))),d=e.mb(Ib,u.K()),e=b.getLinkPointFromPoint(c,e,d,a,!1,u.K()),b.V(b.ka-1,e.x,e.y),u.v(d),u.v(e));b.Ci()};fh.prototype.computeReshape=function(a){var b=this.hs,c=this.handle.Pf;switch(this.AD(this.handle)){case jh:return a;case ih:return b=b.l(c),new w(b.x,a.y);case hh:return b=b.l(c),new w(a.x,b.y);default:case gh:return b.l(c)}};u.u(fh,{jK:"originalPoint"},function(){return this.RB});u.u(fh,{kK:"originalPoints"},function(){return this.ny});
	function mh(){0<arguments.length&&u.Wc(mh);xe.call(this);this.name="Resizing";this.nj=(new ia(1,1)).freeze();this.lj=(new ia(9999,9999)).freeze();this.Ti=(new ia(NaN,NaN)).freeze();this.kq=!1;this.Gb=null;var a=new X;a.Hj=Ib;a.Fb="Rectangle";a.za=K.op;a.fill="lightblue";a.stroke="dodgerblue";a.ib=1;a.cursor="pointer";this.pk=a;this.Yb=null;this.Vu=new ia;this.my=new w;this.Lx=new ia(0,0);this.Kx=new ia(Infinity,Infinity);this.Jx=new ia(1,1);this.KB=!0}u.Ia(mh,xe);u.fa("ResizingTool",mh);
	mh.prototype.updateAdornments=function(a){if(!(null===a||a instanceof W)){if(a.Za&&!this.g.nb){var b=a.sE;if(null!==b&&a.canResize()&&a.ba.I()&&a.Ga()&&b.ba.I()&&b.kl()){var c=a.zo(this.name);null===c&&(c=this.makeAdornment(b));if(null!==c){var d=b.Zk();c.angle=d;var e=b.mb(c.$e,u.K()),f=b.Ii();c.location=e;u.v(e);e=c.placeholder;if(null!==e){var b=b.Ja,h=u.ul();h.m(b.width*f,b.height*f);e.za=h;u.Oj(h)}nh(this,c,d);a.Kk(this.name,c);return}}}a.ol(this.name)}};
	mh.prototype.makeAdornment=function(a){var b=null,b=a.T.rE;if(null===b){b=new lf;b.type=oh;b.$e=Ib;var c=new ph;c.ug=!0;b.add(c);b.add(this.makeHandle(a,xb));b.add(this.makeHandle(a,Gb));b.add(this.makeHandle(a,Vb));b.add(this.makeHandle(a,Kb));b.add(this.makeHandle(a,vc));b.add(this.makeHandle(a,xc));b.add(this.makeHandle(a,Cc));b.add(this.makeHandle(a,wc))}else if(nf(b),b=b.copy(),null===b)return null;b.Jc=this.name;b.uc=a;return b};
	mh.prototype.makeHandle=function(a,b){var c=this.Is;if(null===c)return null;c=c.copy();c.alignment=b;return c};
	function nh(a,b,c){if(null!==b)if(!b.alignment.Kc()&&""!==b.cursor)a:{a=b.alignment;a.ne()&&(a=Ib);if(0>=a.x)c=0>=a.y?c+225:1<=a.y?c+135:c+180;else if(1<=a.x)0>=a.y?c+=315:1<=a.y&&(c+=45);else if(0>=a.y)c+=270;else if(1<=a.y)c+=90;else break a;0>c?c+=360:360<=c&&(c-=360);b.cursor=22.5>c?"e-resize":67.5>c?"se-resize":112.5>c?"s-resize":157.5>c?"sw-resize":202.5>c?"w-resize":247.5>c?"nw-resize":292.5>c?"n-resize":337.5>c?"ne-resize":"e-resize"}else if(b instanceof B)for(b=b.elements;b.next();)nh(a,
		b.value,c)}u.defineProperty(mh,{Is:"handleArchetype"},function(){return this.pk},function(a){null!==a&&u.C(a,T,mh,"handleArchetype");this.pk=a});u.u(mh,{handle:"handle"},function(){return this.Yb});u.defineProperty(mh,{uc:"adornedObject"},function(){return this.Gb},function(a){null!==a&&u.C(a,T,mh,"adornedObject");this.Gb=a});mh.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null!==a&&!a.nb&&a.ks&&a.N.left?null!==this.findToolHandleAt(a.vc.da,this.name)?!0:!1:!1};
	mh.prototype.doActivate=function(){var a=this.g;null!==a&&(this.Yb=this.findToolHandleAt(a.vc.da,this.name),null!==this.Yb&&(this.Gb=this.Yb.T.uc,this.my.set(this.Gb.T.location),this.Vu.set(this.Gb.za),this.Jx=this.computeCellSize(),this.Lx=this.computeMinSize(),this.Kx=this.computeMaxSize(),a.Ge=!0,this.KB=a.Mb.isEnabled,a.Mb.isEnabled=!1,this.Wb(this.name),this.oa=!0))};mh.prototype.doDeactivate=function(){var a=this.g;null!==a&&(this.Uj(),this.Gb=this.Yb=null,this.oa=a.Ge=!1,a.Mb.isEnabled=this.KB)};
	mh.prototype.doCancel=function(){this.Gb.za=this.Vu;this.Gb.T.location=this.my;this.stopTool()};mh.prototype.doMouseMove=function(){var a=this.g;if(this.oa&&null!==a){var b=this.Lx,c=this.Kx,d=this.Jx,e=this.Gb.zD(a.N.da,u.K()),f=qh;this.Gb instanceof X&&(f=rh(this.Gb));b=this.computeResize(e,this.Yb.alignment,b,c,d,!(f===sh||f===th||a.N.shift));this.resize(b);a.cf();u.v(e)}};
	mh.prototype.doMouseUp=function(){var a=this.g;if(this.oa&&null!==a){var b=this.Lx,c=this.Kx,d=this.Jx,e=this.Gb.zD(a.N.da,u.K()),f=qh;this.Gb instanceof X&&(f=rh(this.Gb));b=this.computeResize(e,this.Yb.alignment,b,c,d,!(f===sh||f===th||a.N.shift));this.resize(b);u.v(e);a.pc();this.zf=this.name;a.Ba("PartResized",this.Gb,this.Vu)}this.stopTool()};
	mh.prototype.resize=function(a){if(null!==this.g){var b=this.uc,c=b.T,d=b.Zk(),e=b.Ii(),f=Math.PI*d/180,h=Math.cos(f),f=Math.sin(f),k=0<d&&180>d?1:0,l=90<d&&270>d?1:0,d=180<d&&360>d?1:0,m=b.Ja.width,n=b.Ja.height;b.za=a.size;var p=c.position.copy();c.qf();m=b.Ja.width-m;n=b.Ja.height-n;if(0!==m||0!==n)0!==m&&(p.x+=e*((a.x+m*l)*h-(a.y+n*k)*f)),0!==n&&(p.y+=e*((a.x+m*d)*f+(a.y+n*l)*h)),c.move(p),c instanceof U&&c.Ze()}};
	mh.prototype.computeResize=function(a,b,c,d,e,f){b.ne()&&(b=Ib);var h=this.uc.Ja,k=h.x,l=h.y,m=h.x+h.width,n=h.y+h.height,p=1;if(!f){var p=h.width,q=h.height;0>=p&&(p=1);0>=q&&(q=1);p=q/p}q=u.K();K.ys(a.x,a.y,k,l,e.width,e.height,q);a=h.copy();0>=b.x?0>=b.y?(a.x=Math.max(q.x,m-d.width),a.x=Math.min(a.x,m-c.width),a.width=Math.max(m-a.x,c.width),a.y=Math.max(q.y,n-d.height),a.y=Math.min(a.y,n-c.height),a.height=Math.max(n-a.y,c.height),f||(b=a.height/a.width,p<b?(a.height=p*a.width,a.y=n-a.height):
		(a.width=a.height/p,a.x=m-a.width))):1<=b.y?(a.x=Math.max(q.x,m-d.width),a.x=Math.min(a.x,m-c.width),a.width=Math.max(m-a.x,c.width),a.height=Math.max(Math.min(q.y-l,d.height),c.height),f||(b=a.height/a.width,p<b?a.height=p*a.width:(a.width=a.height/p,a.x=m-a.width))):(a.x=Math.max(q.x,m-d.width),a.x=Math.min(a.x,m-c.width),a.width=m-a.x,f||(a.height=p*a.width,a.y=l+.5*(n-l-a.height))):1<=b.x?0>=b.y?(a.width=Math.max(Math.min(q.x-k,d.width),c.width),a.y=Math.max(q.y,n-d.height),a.y=Math.min(a.y,n-
		c.height),a.height=Math.max(n-a.y,c.height),f||(b=a.height/a.width,p<b?(a.height=p*a.width,a.y=n-a.height):a.width=a.height/p)):1<=b.y?(a.width=Math.max(Math.min(q.x-k,d.width),c.width),a.height=Math.max(Math.min(q.y-l,d.height),c.height),f||(b=a.height/a.width,p<b?a.height=p*a.width:a.width=a.height/p)):(a.width=Math.max(Math.min(q.x-k,d.width),c.width),f||(a.height=p*a.width,a.y=l+.5*(n-l-a.height))):0>=b.y?(a.y=Math.max(q.y,n-d.height),a.y=Math.min(a.y,n-c.height),a.height=n-a.y,f||(a.width=a.height/
		p,a.x=k+.5*(m-k-a.width))):1<=b.y&&(a.height=Math.max(Math.min(q.y-l,d.height),c.height),f||(a.width=a.height/p,a.x=k+.5*(m-k-a.width)));u.v(q);return a};mh.prototype.computeMinSize=function(){var a=this.uc.wg.copy(),b=this.wg;!isNaN(b.width)&&b.width>a.width&&(a.width=b.width);!isNaN(b.height)&&b.height>a.height&&(a.height=b.height);return a};
	mh.prototype.computeMaxSize=function(){var a=this.uc.bf.copy(),b=this.bf;!isNaN(b.width)&&b.width<a.width&&(a.width=b.width);!isNaN(b.height)&&b.height<a.height&&(a.height=b.height);return a};
	mh.prototype.computeCellSize=function(){var a=new ia(NaN,NaN),b=this.uc.T;if(null!==b){var c=b.VH;!isNaN(c.width)&&0<c.width&&(a.width=c.width);!isNaN(c.height)&&0<c.height&&(a.height=c.height)}c=this.ro;isNaN(a.width)&&!isNaN(c.width)&&0<c.width&&(a.width=c.width);isNaN(a.height)&&!isNaN(c.height)&&0<c.height&&(a.height=c.height);b=this.g;(isNaN(a.width)||isNaN(a.height))&&b&&(c=b.tb.Fd,null!==c&&c.hw&&(c=c.CD,isNaN(a.width)&&!isNaN(c.width)&&0<c.width&&(a.width=c.width),isNaN(a.height)&&!isNaN(c.height)&&
	0<c.height&&(a.height=c.height)),b=b.Hs,null!==b&&b.visible&&this.hw&&(c=b.bw,isNaN(a.width)&&!isNaN(c.width)&&0<c.width&&(a.width=c.width),isNaN(a.height)&&!isNaN(c.height)&&0<c.height&&(a.height=c.height)));if(isNaN(a.width)||0===a.width||Infinity===a.width)a.width=1;if(isNaN(a.height)||0===a.height||Infinity===a.height)a.height=1;return a};
	u.defineProperty(mh,{wg:"minSize"},function(){return this.nj},function(a){u.C(a,ia,mh,"minSize");if(!this.nj.L(a)){var b=a.width;isNaN(b)&&(b=0);a=a.height;isNaN(a)&&(a=0);this.nj.m(b,a)}});u.defineProperty(mh,{bf:"maxSize"},function(){return this.lj},function(a){u.C(a,ia,mh,"maxSize");if(!this.lj.L(a)){var b=a.width;isNaN(b)&&(b=Infinity);a=a.height;isNaN(a)&&(a=Infinity);this.lj.m(b,a)}});
	u.defineProperty(mh,{ro:"cellSize"},function(){return this.Ti},function(a){u.C(a,ia,mh,"cellSize");this.Ti.L(a)||this.Ti.assign(a)});u.defineProperty(mh,{hw:"isGridSnapEnabled"},function(){return this.kq},function(a){u.j(a,"boolean",mh,"isGridSnapEnabled");this.kq=a});u.u(mh,{hK:"originalDesiredSize"},function(){return this.Vu});u.u(mh,{iK:"originalLocation"},function(){return this.my});
	function uh(){0<arguments.length&&u.Wc(uh);xe.call(this);this.name="Rotating";this.gC=45;this.fC=2;this.Gb=null;var a=new X;a.Fb="Ellipse";a.za=K.Sw;a.fill="lightblue";a.stroke="dodgerblue";a.ib=1;a.cursor="pointer";this.pk=a;this.Yb=null;this.Uu=0;this.aC=new w}u.Ia(uh,xe);u.fa("RotatingTool",uh);
	uh.prototype.updateAdornments=function(a){if(!(null===a||a instanceof W)){if(a.Za&&!this.g.nb){var b=a.vE;if(null!==b&&a.canRotate()&&a.ba.I()&&a.Ga()&&b.ba.I()&&b.kl()){var c=a.zo(this.name);null===c&&(c=this.makeAdornment(b));if(null!==c){c.angle=b.Zk();var d=null,e=null;b===a||b===a.ec?(d=a.ec,e=a.$e):(d=b,e=Ib);for(var f=d.Ja,e=u.fc(f.width*e.x+e.offsetX,f.height*e.y+e.offsetY);null!==d&&d!==b;)d.transform.ab(e),d=d.S;var d=e.y,f=Math.max(e.x-b.Ja.width,0),h=u.K();c.location=b.mb(new L(1,0,50+
		f,d),h);u.v(h);u.v(e);a.Kk(this.name,c);return}}}a.ol(this.name)}};uh.prototype.makeAdornment=function(a){var b=null,b=a.T.YH;if(null===b){b=new lf;b.type=vh;b.$e=Ib;var c=this.Is;null!==c&&b.add(c.copy())}else if(nf(b),b=b.copy(),null===b)return null;b.Jc=this.name;b.uc=a;return b};u.defineProperty(uh,{Is:"handleArchetype"},function(){return this.pk},function(a){null!==a&&u.C(a,T,uh,"handleArchetype");this.pk=a});u.u(uh,{handle:"handle"},function(){return this.Yb});
	u.defineProperty(uh,{uc:"adornedObject"},function(){return this.Gb},function(a){null!==a&&u.C(a,T,uh,"adornedObject");this.Gb=a});uh.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null!==a&&!a.nb&&a.Fv&&a.N.left?null!==this.findToolHandleAt(a.vc.da,this.name)?!0:!1:!1};
	uh.prototype.doActivate=function(){var a=this.g;if(null!==a&&(this.Yb=this.findToolHandleAt(a.vc.da,this.name),null!==this.Yb)){this.Gb=this.Yb.T.uc;var b=this.Gb.T,c=b.ec;this.aC=this.Gb===b||this.Gb===c?c.mb(b.$e):this.Gb.mb(Ib);this.Uu=this.Gb.angle;a.Ge=!0;a.bz=!0;this.Wb(this.name);this.oa=!0}};uh.prototype.doDeactivate=function(){var a=this.g;null!==a&&(this.Uj(),this.Gb=this.Yb=null,this.oa=a.Ge=!1)};uh.prototype.doCancel=function(){var a=this.g;null!==a&&(a.bz=!1);this.rotate(this.Uu);this.stopTool()};
	uh.prototype.doMouseMove=function(){var a=this.g;this.oa&&null!==a&&(a=this.computeRotate(a.N.da),this.rotate(a))};uh.prototype.doMouseUp=function(){var a=this.g;if(this.oa&&null!==a){a.bz=!1;var b=this.computeRotate(a.N.da);this.rotate(b);a.pc();this.zf=this.name;a.Ba("PartRotated",this.Gb,this.Uu)}this.stopTool()};uh.prototype.rotate=function(a){null!==this.Gb&&(this.Gb.angle=a)};
	uh.prototype.computeRotate=function(a){a=this.aC.Gi(a);var b=this.Gb.S;null!==b&&(a-=b.Zk(),360<=a?a-=360:0>a&&(a+=360));var b=Math.min(Math.abs(this.mI),180),c=Math.min(Math.abs(this.lI),b/2);!this.g.N.shift&&0<b&&0<c&&(a%b<c?a=Math.floor(a/b)*b:a%b>b-c&&(a=(Math.floor(a/b)+1)*b));360<=a?a-=360:0>a&&(a+=360);return a};u.defineProperty(uh,{mI:"snapAngleMultiple"},function(){return this.gC},function(a){u.j(a,"number",uh,"snapAngleMultiple");this.gC=a});
	u.defineProperty(uh,{lI:"snapAngleEpsilon"},function(){return this.fC},function(a){u.j(a,"number",uh,"snapAngleEpsilon");this.fC=a});u.u(uh,{gK:"originalAngle"},function(){return this.Uu});function wh(){0<arguments.length&&u.Wc(wh);xe.call(this);this.name="ClickSelecting"}u.Ia(wh,xe);u.fa("ClickSelectingTool",wh);wh.prototype.canStart=function(){return!this.isEnabled||null===this.g||this.isBeyondDragSize()?!1:!0};
	wh.prototype.doMouseUp=function(){this.oa&&(this.standardMouseSelect(),this.standardMouseClick());this.stopTool()};function xh(){0<arguments.length&&u.Wc(xh);xe.call(this);this.name="Action";this.Vm=null}u.Ia(xh,xe);u.fa("ActionTool",xh);xh.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a)return!1;var b=a.N,c=a.ke(b.da,function(a){for(;null!==a.S&&!a.qz;)a=a.S;return a});if(null!==c){if(!c.qz)return!1;this.Vm=c;a.fn=a.ke(b.da,null,null);return!0}return!1};
	xh.prototype.doMouseDown=function(){if(this.oa){var a=this.g.N,b=this.Vm;null!==b&&(a.pe=b,null!==b.HC&&b.HC(a,b))}else this.canStart()&&this.doActivate()};xh.prototype.doMouseMove=function(){if(this.oa){var a=this.g.N,b=this.Vm;null!==b&&(a.pe=b,null!==b.IC&&b.IC(a,b))}};xh.prototype.doMouseUp=function(){if(this.oa){var a=this.g,b=a.N,c=this.Vm;if(null===c)return;b.pe=c;null!==c.JC&&c.JC(b,c);this.isBeyondDragSize()||zf(c,b,a)}this.stopTool()};
	xh.prototype.doCancel=function(){var a=this.g;if(null!==a){var a=a.N,b=this.Vm;if(null===b)return;a.pe=b;null!==b.GC&&b.GC(a,b)}this.stopTool()};xh.prototype.doStop=function(){this.Vm=null};function va(){0<arguments.length&&u.Wc(va);xe.call(this);this.name="ClickCreating";this.ik=null;this.qB=!0;this.fB=new w(0,0)}u.Ia(va,xe);u.fa("ClickCreatingTool",va);
	va.prototype.canStart=function(){if(!this.isEnabled||null===this.Py)return!1;var a=this.g;if(null===a||a.nb||a.uf||!a.mo||!a.N.left||this.isBeyondDragSize())return!1;if(this.ZG){if(1===a.N.Te&&(this.fB=a.N.gf.copy()),2!==a.N.Te||this.isBeyondDragSize(this.fB))return!1}else if(1!==a.N.Te)return!1;return a.Va!==this&&null!==a.As(a.N.da,!0)?!1:!0};va.prototype.doMouseUp=function(){var a=this.g;this.oa&&null!==a&&this.insertPart(a.N.da);this.stopTool()};
	va.prototype.insertPart=function(a){var b=this.g;if(null===b)return null;var c=this.Py;if(null===c)return null;this.Wb(this.name);var d=null;c instanceof G?c.Gd()&&(nf(c),d=c.copy(),null!==d&&b.add(d)):null!==c&&(c=b.ha.copyNodeData(c),u.Ta(c)&&(b.ha.lm(c),d=b.Ph(c)));null!==d&&(d.location=a,b.pf&&b.select(d));b.pc();this.zf=this.name;b.Ba("PartCreated",d);this.Uj();return d};
	u.defineProperty(va,{Py:"archetypeNodeData"},function(){return this.ik},function(a){null!==a&&u.C(a,Object,va,"archetypeNodeData");this.ik=a});u.defineProperty(va,{ZG:"isDoubleClick"},function(){return this.qB},function(a){u.j(a,"boolean",va,"isDoubleClick");this.qB=a});function yh(a,b,c){this.text=a;this.ZC=b;this.visible=c}function Ih(){0<arguments.length&&u.Wc(Ih);xe.call(this);this.name="ContextMenu";this.gn=this.OA=null;this.HB=new w;this.zx=this.pn=null;Jh(this)}u.Ia(Ih,xe);
	u.fa("ContextMenuTool",Ih);u.hD=!1;u.os=null;u.ps=null;
	function Jh(a){a.pn=new lf;a.xC=function(){a.stopTool()};if(!1===u.hD){var b=u.createElement("div"),c=u.createElement("div");b.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px";c.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;-moz-opacity: 0.8;opacity:.80;filter: alpha(opacity=80);";var d=
		u.createElement("style");window.document.getElementsByTagName("head")[0].appendChild(d);d.sheet.insertRule(".defaultCXul { list-style: none; }",0);d.sheet.insertRule(".defaultCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0);d.sheet.insertRule(".defaultCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);b.addEventListener("contextmenu",function(a){a.preventDefault();return!1},
		!1);b.addEventListener("selectstart",function(a){a.preventDefault();return!1},!1);c.addEventListener("contextmenu",function(a){a.preventDefault();return!1},!1);window.document.body&&(window.document.body.appendChild(b),window.document.body.appendChild(c));u.ps=b;u.os=c;u.hD=!0}}Ih.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null===a||this.isBeyondDragSize()||!a.N.right?!1:null!==this.pn&&a.N.jl||null!==this.findObjectWithContextMenu()?!0:!1};
	Ih.prototype.doStart=function(){var a=this.g;null!==a&&this.HB.set(a.vc.da)};Ih.prototype.doStop=function(){this.hideDefaultContextMenu();this.hideContextMenu();this.gn=null};
	Ih.prototype.findObjectWithContextMenu=function(a){void 0===a&&(a=null);var b=this.g;if(null===b)return null;var c=b.N,d=null;a instanceof D||(d=a instanceof T?a:b.ke(c.da,null,function(a){return!a.layer.zc}));if(null!==d){for(a=d;null!==a;){c=a.contextMenu;if(null!==c)return a;a=a.S}if(null!==this.pn&&b.N.jl)return d.T}else if(c=b.contextMenu,null!==c)return b;return null};Ih.prototype.doActivate=function(){};
	Ih.prototype.doMouseUp=function(){var a=this.g;null!==a&&(this.oa?null!==this.Hf&&(a=a.ke(a.N.da,null,null),null!==a&&a.gl(this.Hf)&&this.standardMouseClick(null,null),this.stopTool()):this.canStart()&&xf(this,!0))};
	function xf(a,b,c){void 0===c&&(c=null);a.oa=!0;b&&a.standardMouseSelect();a.standardMouseClick();a.gn=null;null===c&&(c=a.findObjectWithContextMenu());null!==c?(b=c.contextMenu,null!==b?(a.gn=c instanceof T?c:null,a.showContextMenu(b,a.gn)):a.showDefaultContextMenu()):a.showDefaultContextMenu()}Ih.prototype.doMouseMove=function(){this.oa&&this.standardMouseOver()};
	Ih.prototype.showContextMenu=function(a,b){u.C(a,lf,Ih,"showContextMenu:contextmenu");null!==b&&u.C(b,T,Ih,"showContextMenu:obj");var c=this.g;if(null!==c){a!==this.Hf&&this.hideContextMenu();a.wf="Tool";a.pl=!1;a.scale=1/c.scale;a.Jc=this.name;c.add(a);if(null!==b){var c=null,d=b.Bo();null!==d&&(c=d.data);a.uc=b;a.data=c}else a.data=c.ha;a.qf();this.positionContextMenu(a,b);this.Hf=a}};
	Ih.prototype.positionContextMenu=function(a){if(null===a.placeholder){var b=this.g;if(null!==b){var c=b.N.da.copy(),d=a.Ca,e=b.ob;b.N.jl&&(c.x-=d.width);c.x+d.width>e.right&&(c.x-=d.width+5);c.x<e.x&&(c.x=e.x);c.y+d.height>e.bottom&&(c.y-=d.height+5);c.y<e.y&&(c.y=e.y);a.position=c}}};Ih.prototype.hideContextMenu=function(){var a=this.g;null!==a&&null!==this.Hf&&(this.Hf.data=null,this.Hf.uc=null,a.remove(this.Hf),this.Hf=null,this.standardMouseOver())};
	Ih.prototype.initializeDefaultButtons=function(){if(null===this.g)return null;var a=new E(yh);a.add(new yh("Copy",function(a){a.Eb.copySelection()},function(a){return a.Eb.canCopySelection()}));a.add(new yh("Cut",function(a){a.Eb.cutSelection()},function(a){return a.Eb.canCutSelection()}));a.add(new yh("Delete",function(a){a.Eb.deleteSelection()},function(a){return a.Eb.canDeleteSelection()}));a.add(new yh("Paste",function(a){a.Eb.pasteSelection(a.N.da)},function(a){return a.Eb.canPasteSelection()}));
		a.add(new yh("Select All",function(a){a.Eb.selectAll()},function(a){return a.Eb.canSelectAll()}));a.add(new yh("Undo",function(a){a.Eb.undo()},function(a){return a.Eb.canUndo()}));a.add(new yh("Redo",function(a){a.Eb.redo()},function(a){return a.Eb.canRedo()}));a.add(new yh("Zoom To Fit",function(a){a.Eb.zoomToFit()},function(a){return a.Eb.canZoomToFit()}));a.add(new yh("Reset Zoom",function(a){a.Eb.resetZoom()},function(a){return a.Eb.canResetZoom()}));a.add(new yh("Group Selection",function(a){a.Eb.groupSelection()},
			function(a){return a.Eb.canGroupSelection()}));a.add(new yh("Ungroup Selection",function(a){a.Eb.ungroupSelection()},function(a){return a.Eb.canUngroupSelection()}));a.add(new yh("Edit Text",function(a){a.Eb.editTextBlock()},function(a){return a.Eb.canEditTextBlock()}));return a};
	Ih.prototype.showDefaultContextMenu=function(){var a=this.g;if(null!==a){null===this.zx&&(this.zx=this.initializeDefaultButtons());this.pn!==this.Hf&&this.hideContextMenu();u.ps.innerHTML="";u.os.addEventListener("click",this.xC,!1);var b=this,c=u.createElement("ul");c.className="defaultCXul";u.ps.appendChild(c);c.innerHTML="";for(var d=this.zx.i;d.next();){var e=d.value,f=e.text,h=e.visible;if("function"===typeof e.ZC&&("function"!==typeof h||h(a))){h=u.createElement("li");h.className="defaultCXli";
		var k=u.createElement("a");k.className="defaultCXa";k.href="#";k.mF=e.ZC;k.addEventListener("click",function(c){this.mF(a);b.stopTool();c.preventDefault();return!1},!1);k.textContent=f;h.appendChild(k);c.appendChild(h)}}u.ps.style.display="block";u.os.style.display="block";this.Hf=this.pn}};Ih.prototype.hideDefaultContextMenu=function(){null!==this.Hf&&this.Hf===this.pn&&(u.ps.style.display="none",u.os.style.display="none",u.os.removeEventListener("click",this.xC,!1),this.Hf=null)};
	u.defineProperty(Ih,{Hf:"currentContextMenu"},function(){return this.OA},function(a){null!==a&&u.C(a,lf,Ih,"currentContextMenu");this.OA=a});u.defineProperty(Ih,{jJ:"currentObject"},function(){return this.gn},function(a){null!==a&&u.C(a,T,Ih,"currentObject");this.gn=a});u.u(Ih,{bK:"mouseDownPoint"},function(){return this.HB});
	function Kh(){0<arguments.length&&u.Wc(Kh);xe.call(this);this.name="DragSelecting";this.qn=175;this.vB=!1;var a=new G;a.wf="Tool";a.pl=!1;var b=new X;b.name="SHAPE";b.Fb="Rectangle";b.fill=null;b.stroke="magenta";a.add(b);this.Al=a}u.Ia(Kh,xe);u.fa("DragSelectingTool",Kh);
	Kh.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||!a.pf)return!1;var b=a.N;return!b.left||a.Va!==this&&(!this.isBeyondDragSize()||b.timestamp-a.vc.timestamp<this.iD||null!==a.As(b.da,!0))?!1:!0};Kh.prototype.doActivate=function(){var a=this.g;null!==a&&(this.oa=!0,a.Ge=!0,a.fb=!0,a.add(this.Vg),this.doMouseMove())};Kh.prototype.doDeactivate=function(){var a=this.g;null!==a&&(a.remove(this.Vg),a.fb=!1,this.oa=a.Ge=!1)};
	Kh.prototype.doMouseMove=function(){if(null!==this.g&&this.oa&&null!==this.Vg){var a=this.computeBoxBounds(),b=this.Vg.je("SHAPE");null===b&&(b=this.Vg.If());b.za=a.size;this.Vg.position=a.position}};Kh.prototype.doMouseUp=function(){if(this.oa){var a=this.g;a.remove(this.Vg);try{a.ac="wait",this.selectInRect(this.computeBoxBounds())}finally{a.ac=""}}this.stopTool()};Kh.prototype.computeBoxBounds=function(){var a=this.g;return null===a?new z(0,0,0,0):new z(a.vc.da,a.N.da)};
	Kh.prototype.selectInRect=function(a){var b=this.g;if(null!==b){var c=b.N;b.Ba("ChangingSelection");a=b.Nj(a,null,function(a){return a instanceof G?a.canSelect():!1},this.gH);if(u.Fm?c.Zs:c.control)if(c.shift)for(a=a.i;a.next();)c=a.value,c.Za&&(c.Za=!1);else for(a=a.i;a.next();)c=a.value,c.Za=!c.Za;else{if(!c.shift){for(var c=new E(G),d=b.selection.i;d.next();){var e=d.value;a.contains(e)||c.add(e)}for(c=c.i;c.next();)c.value.Za=!1}for(a=a.i;a.next();)c=a.value,c.Za||(c.Za=!0)}b.Ba("ChangedSelection")}};
	u.defineProperty(Kh,{iD:"delay"},function(){return this.qn},function(a){u.j(a,"number",Kh,"delay");this.qn=a});u.defineProperty(Kh,{gH:"isPartialInclusion"},function(){return this.vB},function(a){u.j(a,"boolean",Kh,"isPartialInclusion");this.vB=a});u.defineProperty(Kh,{Vg:"box"},function(){return this.Al},function(a){null!==a&&u.C(a,G,Kh,"box");this.Al=a});
	function Lh(){0<arguments.length&&u.Wc(Lh);xe.call(this);this.name="Panning";this.oy=new w;this.Si=!1;var a=this;this.lC=function(){window.document.removeEventListener("scroll",a.lC,!1);a.stopTool()}}u.Ia(Lh,xe);u.fa("PanningTool",Lh);Lh.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null===a||!a.Re&&!a.Se||!a.N.left||a.Va!==this&&!this.isBeyondDragSize()?!1:!0};
	Lh.prototype.doActivate=function(){var a=this.g;null!==a&&(this.Si?(a.N.bubbles=!0,window.document.addEventListener("scroll",this.lC,!1)):(a.ac="move",a.Ge=!0,this.oy=a.position.copy()),this.oa=!0)};Lh.prototype.doDeactivate=function(){var a=this.g;null!==a&&(a.ac="",this.oa=a.Ge=!1)};Lh.prototype.doCancel=function(){var a=this.g;null!==a&&(a.position=this.oy,a.Ge=!1);this.stopTool()};Lh.prototype.doMouseMove=function(){this.move()};Lh.prototype.doMouseUp=function(){this.move();this.stopTool()};
	Lh.prototype.move=function(){var a=this.g;if(this.oa&&a)if(this.Si)a.N.bubbles=!0;else{var b=a.position,c=a.vc.da,d=a.N.da,e=b.x+c.x-d.x,c=b.y+c.y-d.y;a.Re||(e=b.x);a.Se||(c=b.y);a.position=new w(e,c)}};u.defineProperty(Lh,{bubbles:"bubbles"},function(){return this.Si},function(a){u.j(a,"boolean",Lh,"bubbles");this.Si=a});u.u(Lh,{lK:"originalPosition"},function(){return this.oy});
	function Mh(){0<arguments.length&&u.Wc(Mh);xe.call(this);this.name="TextEditing";this.RA=this.rv=this.pC=null;this.kC=Nh;this.Hk=null;this.Xa=Oh;this.Dk=null;this.EB=1;this.dC=!0;var a=u.createElement("textarea");a.AA=!0;this.WA=a;a.addEventListener("input",function(){var a=this.textEditingTool,c=a.pC;c.text=this.value;var d=this.vI;Ph(c,a.Fg.Cu,Infinity);this.style.width=20+c.Ca.width*d+"px";this.style.height=10+c.Ca.height*d+"px";this.rows=c.oH},!1);a.addEventListener("keydown",function(a){var c=
		a.which,d=this.textEditingTool;if(null!==d)if(13===c)!1===d.rv.jw&&a.preventDefault(),d.acceptText(Qh);else{if(9===c)return d.acceptText(Rh),a.preventDefault(),!1;27===c&&(d.doCancel(),null!==d.g&&d.g.focus())}},!1);a.addEventListener("focus",function(){var a=this.textEditingTool;a.Xa===Sh?a.Xa=Th:a.Xa===Uh?a.Xa=Vh:a.Xa===Vh&&(a.Xa=Th);"function"===typeof this.select&&a.aA&&(this.select(),this.setSelectionRange(0,9999))},!1);a.addEventListener("blur",function(){"function"===typeof this.focus&&this.focus();
		var a=this.textEditingTool;"function"===typeof this.select&&a.aA&&(this.select(),this.setSelectionRange(0,9999))},!1)}u.fa("TextEditingTool",Mh);u.Ia(Mh,xe);var Wh;Mh.LostFocus=Wh=u.s(Mh,"LostFocus",0);var Xh;Mh.MouseDown=Xh=u.s(Mh,"MouseDown",1);var Rh;Mh.Tab=Rh=u.s(Mh,"Tab",2);var Qh;Mh.Enter=Qh=u.s(Mh,"Enter",3);Mh.SingleClick=u.s(Mh,"SingleClick",0);var Nh;Mh.SingleClickSelected=Nh=u.s(Mh,"SingleClickSelected",1);
	var Oh=u.s(Mh,"StateNone",0),Sh=u.s(Mh,"StateActive",1),Th=u.s(Mh,"StateEditing",2),Vh=u.s(Mh,"StateEditing2",3),Yh=u.s(Mh,"StateValidating",4),Uh=u.s(Mh,"StateValidated",5);u.defineProperty(Mh,{Fg:"textBlock"},function(){return this.rv},function(a){null!==a&&u.C(a,qa,Mh,"textBlock");this.rv=a});u.defineProperty(Mh,{ng:"currentTextEditor"},function(){return this.RA},function(a){this.RA=a});
	u.defineProperty(Mh,{nG:"defaultTextEditor"},function(){return this.WA},function(a){u.C(a,Element,Mh,"defaultTextEditor");this.WA=a});u.defineProperty(Mh,{pI:"starting"},function(){return this.kC},function(a){u.rb(a,Mh,Mh,"starting");this.kC=a});
	Mh.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||a.nb||!a.N.left||this.isBeyondDragSize())return!1;a=a.ke(a.N.da,null,function(a){return a instanceof qa});if(null===a||!a.cz||!a.T.canEdit())return!1;a=a.T;return null===a||this.pI===Nh&&!a.Za?!1:!0};Mh.prototype.doStart=function(){this.oa||null===this.Fg||this.doActivate()};
	Mh.prototype.doActivate=function(){if(!this.oa){var a=this.g;if(null!==a){var b=this.Fg;null===b&&(b=a.ke(a.N.da,function(a){return a instanceof qa?a:null}));if(null!==b){this.Fg=b;var c=b.T;if(null!==c){this.oa=!0;this.Xa=Sh;var d=this.nG,e=!1;null!==b.ME&&(d=b.ME);null===d||d.AA||(e=!0);this.pC=this.Fg.copy();a.cI(c.ba);if(d.AA){var f=b.mb(Ib),h=a.position,k=a.scale,l=b.Ii()*k;l<this.YD&&(l=this.YD);var c=b.Ja.width*l,m=b.Ja.height*l,n=(f.x-h.x)*k,f=(f.y-h.y)*k;d.value=b.text;a.Vk.style.font=b.font;
		d.style.font="inherit";d.style.fontSize=100*l+"%";d.style.lineHeight="normal";d.style.width=c+6+"px";d.style.height=m+2+"px";d.style.left=(n-c/2|0)-1+"px";d.style.top=(f-m/2|0)-1+"px";d.style.textAlign=b.textAlign;d.style.margin="0";d.style.padding="1px";d.style.border="0";d.style.outline="none";d.style["white-space"]="pre-wrap";d.style.overflow="hidden"}a.Vk.appendChild(d);d.style.position="absolute";d.style.zIndex=100;d.className="start";d.textEditingTool=this;d.vI=l;if(e&&"function"===typeof d.onActivate)d.onActivate();
		this.ng=d;"function"===typeof d.focus&&d.focus();"function"===typeof d.select&&this.aA&&(d.select(),d.setSelectionRange(0,9999))}}}}};Mh.prototype.doCancel=function(){null!==this.Dk&&(this.ng.style.border=this.Dk,this.Dk=null);this.stopTool()};Mh.prototype.doMouseUp=function(){!this.oa&&this.canStart()&&this.doActivate()};Mh.prototype.doMouseDown=function(){this.oa&&this.acceptText(Xh)};
	Mh.prototype.acceptText=function(a){switch(a){case Xh:if(this.Xa===Uh||this.Xa===Vh)"function"===typeof this.ng.focus&&this.ng.focus();else if(this.Xa===Sh||this.Xa===Th)this.Xa=Yh,Zh(this);break;case Wh:case Qh:case Rh:if(Qh===a&&!0===this.rv.jw)break;if(this.Xa===Sh||this.Xa===Th)this.Xa=Yh,Zh(this)}};
	function Zh(a){if(null!==a.Fg&&null!==a.ng){var b=a.Fg,c=a.Fg.text,d=a.ng.value,e="",e="function"===typeof d?d():d;if(!a.isValidText(a.Fg,c,e)){a.Xa=Th;null!==b.dz&&b.dz(a,c,e);null===a.Dk&&(a.Dk=a.ng.style.border,a.ng.style.border="3px solid red");"function"===typeof a.ng.focus&&a.ng.focus();return}a.Wb(a.name);a.Xa=Uh;c!==e&&(a.Fg.text=e);a.zf=a.name;b=a.g;null!==b&&b.Ba("TextEdited",a.Fg,c);a.Uj();a.stopTool();null!==b&&b.focus()}null!==a.Dk&&(a.ng.style.border=a.Dk,a.Dk=null)}
	Mh.prototype.doDeactivate=function(){var a=this.g;if(null!==a){this.Xa=Oh;this.Fg=null;if(null!==this.ng){var b=this.ng;if("function"===typeof b.onDeactivate)b.onDeactivate();null!==b&&a.Vk.removeChild(b)}this.oa=!1}};Mh.prototype.isValidText=function(a,b,c){u.C(a,qa,Mh,"isValidText:textblock");var d=this.kA;if(null!==d&&!d(a,b,c))return!1;d=a.kA;return null===d||d(a,b,c)?!0:!1};
	u.defineProperty(Mh,{kA:"textValidation"},function(){return this.Hk},function(a){null!==a&&u.j(a,"function",Mh,"textValidation");this.Hk=a});u.defineProperty(Mh,{YD:"minimumEditorScale"},function(){return this.EB},function(a){null!==a&&u.j(a,"number",Mh,"minimumEditorScale");this.EB=a});u.defineProperty(Mh,{aA:"selectsTextOnActivate"},function(){return this.dC},function(a){null!==a&&u.j(a,"boolean",Mh,"selectsTextOnActivate");this.dC=a});
	function jf(){xe.call(this);this.name="ToolManager";this.uF=new E(xe);this.vF=new E(xe);this.wF=new E(xe);this.jB=this.kB=1E3;this.ZA=(new ia(2,2)).La();this.bu=this.xx=null;this.IB=Bf;this.hB=$h}u.Ia(jf,xe);u.fa("ToolManager",jf);var Bf;jf.WheelScroll=Bf=u.s(jf,"WheelScroll",0);var Af;jf.WheelZoom=Af=u.s(jf,"WheelZoom",1);jf.WheelNone=u.s(jf,"WheelNone",2);var $h;jf.GestureZoom=$h=u.s(jf,"GestureZoom",3);var ai;jf.GestureCancel=ai=u.s(jf,"GestureCancel",4);var bi;
	jf.GestureNone=bi=u.s(jf,"GestureNone",5);u.defineProperty(jf,{at:"mouseWheelBehavior"},function(){return this.IB},function(a){u.rb(a,jf,jf,"mouseWheelBehavior");this.IB=a});u.defineProperty(jf,{Do:"gestureBehavior"},function(){return this.hB},function(a){u.rb(a,jf,jf,"gestureBehavior");this.hB=a});
	jf.prototype.initializeStandardTools=function(){this.HF=new xh;this.iE=new Gf;this.rH=new fh;this.uE=new mh;this.$H=new uh;this.TD=new ua;this.Fd=new uf;this.uG=new Kh;this.JH=new Lh;this.Wy=new Ih;this.jA=new Mh;this.VF=new va;this.WF=new wh};
	jf.prototype.doMouseDown=function(){var a=this.g;if(null!==a){var b=a.N;b.jl&&this.Do===ai&&(b.bubbles=!1);if(b.Qs){if(this.Do===bi){b.bubbles=!0;return}if(this.Do===ai)return;if(a.Va.canStartMultiTouch()){a.Va.standardPinchZoomStart();return}}b=a.ga;b.Sy&&0!==b.Le&&u.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var b=this.df.length,c=0;c<b;c++){var d=this.df.ja(c);null===d.g&&d.Dc(this.g);if(d.canStart()){a.Va=d;a.Va===d&&(d.oa||d.doActivate(),d.doMouseDown());
		return}}1===a.N.button&&(this.at===Bf?this.at=Af:this.at===Af&&(this.at=Bf));this.doActivate();this.standardWaitAfter(this.ED)}};
	jf.prototype.doMouseMove=function(){var a=this.g;if(null!==a){var b=a.N;if(b.Qs){if(this.Do===bi){b.bubbles=!0;return}if(this.Do===ai)return;if(a.Va.canStartMultiTouch()){a.Va.standardPinchZoomMove();return}}if(this.oa)for(var b=this.Mf.length,c=0;c<b;c++){var d=this.Mf.ja(c);null===d.g&&d.Dc(this.g);if(d.canStart()){a.Va=d;a.Va===d&&(d.oa||d.doActivate(),d.doMouseMove());return}}this.standardMouseOver();this.isBeyondDragSize()&&this.standardWaitAfter(this.oa?this.ED:this.QG)}};
	jf.prototype.doCurrentObjectChanged=function(a,b){var c=this.Rk;null===c||null!==b&&(b===c||b.gl(c))||this.hideToolTip()};jf.prototype.doWaitAfter=function(){var a=this.g;null!==a&&a.jb&&(this.doMouseHover(),this.oa||this.doToolTip())};jf.prototype.doMouseHover=function(){var a=this.g;if(null!==a){var b=a.N;null===b.pe&&(b.pe=a.ke(b.da,null,null));var c=b.pe;if(null!==c)for(b.Tc=!1;null!==c;){a=this.oa?c.Ez:c.Fz;if(null!==a&&(a(b,c),b.Tc))break;c=c.S}else a=this.oa?a.Ez:a.Fz,null!==a&&a(b)}};
	jf.prototype.doToolTip=function(){var a=this.g;if(null!==a){var b=a.N;null===b.pe&&(b.pe=a.ke(b.da,null,null));b=b.pe;if(null!==b){if(b!==this.Rk&&!b.gl(this.Rk)){for(;null!==b;){a=b.mA;if(null!==a){this.showToolTip(a,b);return}b=b.S}this.hideToolTip()}}else a=a.mA,null!==a?this.showToolTip(a,null):this.hideToolTip()}};
	jf.prototype.showToolTip=function(a,b){u.C(a,lf,jf,"showToolTip:tooltip");null!==b&&u.C(b,T,jf,"showToolTip:obj");var c=this.g;if(null!==c){a!==this.Rk&&this.hideToolTip();a.wf="Tool";a.pl=!1;a.scale=1/c.scale;c.add(a);if(null!==b&&b!==this.bu){var c=null,d=b.Bo();null!==d&&(c=d.data);a.uc=b;a.data=c}else null===b&&(a.data=c.ha);if(null===b||b!==this.bu)a.qf(),this.positionToolTip(a,b);this.xx=a;this.bu=b}};
	jf.prototype.positionToolTip=function(a){if(null===a.placeholder){var b=this.g;if(null!==b){var c=b.N.da.copy(),d=a.Ca,e=b.ob;b.N.jl&&(c.x-=d.width);c.x+d.width>e.right&&(c.x-=d.width+5);c.x<e.x&&(c.x=e.x);c.y=c.y+20+d.height>e.bottom?c.y-(d.height+5):c.y+20;c.y<e.y&&(c.y=e.y);a.position=c}}};jf.prototype.hideToolTip=function(){if(null!==this.Rk){var a=this.g;null!==a&&(this.Rk.data=null,this.Rk.uc=null,a.remove(this.Rk),this.bu=this.xx=null)}};u.u(jf,{Rk:"currentToolTip"},function(){return this.xx});
	jf.prototype.doMouseUp=function(){this.cancelWaitAfter();if(this.oa){var a=this.g;if(null===a)return;for(var b=this.Nf.length,c=0;c<b;c++){var d=this.Nf.ja(c);null===d.g&&d.Dc(this.g);if(d.canStart()){a.Va=d;a.Va===d&&(d.oa||d.doActivate(),d.doMouseUp());return}}}this.doDeactivate()};jf.prototype.doMouseWheel=function(){this.standardMouseWheel()};jf.prototype.doKeyDown=function(){var a=this.g;null!==a&&a.Eb.doKeyDown()};jf.prototype.doKeyUp=function(){var a=this.g;null!==a&&a.Eb.doKeyUp()};
	jf.prototype.doCancel=function(){null!==Ef&&Ef.doCancel();xe.prototype.doCancel.call(this)};jf.prototype.findTool=function(a){u.j(a,"string",jf,"findTool:name");for(var b=this.df.length,c=0;c<b;c++){var d=this.df.ja(c);if(d.name===a)return d}b=this.Mf.length;for(c=0;c<b;c++)if(d=this.Mf.ja(c),d.name===a)return d;b=this.Nf.length;for(c=0;c<b;c++)if(d=this.Nf.ja(c),d.name===a)return d;return null};
	jf.prototype.replaceTool=function(a,b){u.j(a,"string",jf,"replaceTool:name");null!==b&&(u.C(b,xe,jf,"replaceTool:newtool"),b.g&&b.g!==this.g&&u.k("Cannot share tools between Diagrams: "+b.toString()),b.Dc(this.g));for(var c=this.df.length,d=0;d<c;d++){var e=this.df.ja(d);if(e.name===a)return null!==b?this.df.Cg(d,b):this.df.jd(d),e}c=this.Mf.length;for(d=0;d<c;d++)if(e=this.Mf.ja(d),e.name===a)return null!==b?this.Mf.Cg(d,b):this.Mf.jd(d),e;c=this.Nf.length;for(d=0;d<c;d++)if(e=this.Nf.ja(d),e.name===
		a)return null!==b?this.Nf.Cg(d,b):this.Nf.jd(d),e;return null};function ci(a,b,c,d){u.j(b,"string",jf,"replaceStandardTool:name");u.C(d,E,jf,"replaceStandardTool:list");null!==c&&(u.C(c,xe,jf,"replaceStandardTool:newtool"),c.g&&c.g!==a.g&&u.k("Cannot share tools between Diagrams: "+c.toString()),c.name=b,c.Dc(a.g));a.findTool(b)?a.replaceTool(b,c):null!==c&&d.add(c)}u.u(jf,{df:"mouseDownTools"},function(){return this.uF});u.u(jf,{Mf:"mouseMoveTools"},function(){return this.vF});
	u.u(jf,{Nf:"mouseUpTools"},function(){return this.wF});u.defineProperty(jf,{QG:"hoverDelay"},function(){return this.kB},function(a){u.j(a,"number",jf,"hoverDelay");this.kB=a});u.defineProperty(jf,{ED:"holdDelay"},function(){return this.jB},function(a){u.j(a,"number",jf,"holdDelay");this.jB=a});u.defineProperty(jf,{vG:"dragSize"},function(){return this.ZA},function(a){u.C(a,ia,jf,"dragSize");this.ZA=a.Z()});
	u.defineProperty(jf,{HF:"actionTool"},function(){return this.findTool("Action")},function(a){ci(this,"Action",a,this.df)});u.defineProperty(jf,{iE:"relinkingTool"},function(){return this.findTool("Relinking")},function(a){ci(this,"Relinking",a,this.df)});u.defineProperty(jf,{rH:"linkReshapingTool"},function(){return this.findTool("LinkReshaping")},function(a){ci(this,"LinkReshaping",a,this.df)});
	u.defineProperty(jf,{uE:"resizingTool"},function(){return this.findTool("Resizing")},function(a){ci(this,"Resizing",a,this.df)});u.defineProperty(jf,{$H:"rotatingTool"},function(){return this.findTool("Rotating")},function(a){ci(this,"Rotating",a,this.df)});u.defineProperty(jf,{TD:"linkingTool"},function(){return this.findTool("Linking")},function(a){ci(this,"Linking",a,this.Mf)});
	u.defineProperty(jf,{Fd:"draggingTool"},function(){return this.findTool("Dragging")},function(a){ci(this,"Dragging",a,this.Mf)});u.defineProperty(jf,{uG:"dragSelectingTool"},function(){return this.findTool("DragSelecting")},function(a){ci(this,"DragSelecting",a,this.Mf)});u.defineProperty(jf,{JH:"panningTool"},function(){return this.findTool("Panning")},function(a){ci(this,"Panning",a,this.Mf)});
	u.defineProperty(jf,{Wy:"contextMenuTool"},function(){return this.findTool("ContextMenu")},function(a){ci(this,"ContextMenu",a,this.Nf)});u.defineProperty(jf,{jA:"textEditingTool"},function(){return this.findTool("TextEditing")},function(a){ci(this,"TextEditing",a,this.Nf)});u.defineProperty(jf,{VF:"clickCreatingTool"},function(){return this.findTool("ClickCreating")},function(a){ci(this,"ClickCreating",a,this.Nf)});
	u.defineProperty(jf,{WF:"clickSelectingTool"},function(){return this.findTool("ClickSelecting")},function(a){ci(this,"ClickSelecting",a,this.Nf)});function Te(){this.oF=di;this.Gl=this.Hl=this.Y=null;this.CA=this.bd=this.Gn=this.dj=!1;this.Ne=!0;this.au=this.$t=this.PA=null;this.vx=0;this.Gx=600;this.yF=new w(0,0);this.EA=this.DA=this.BC=!1;this.Tn=new la(T,ei)}u.fa("AnimationManager",Te);Te.prototype.Dc=function(a){this.Y=a};function di(a,b,c,d){a/=d/2;return 1>a?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b}
	Te.prototype.prepareAnimation=Te.prototype.ml=function(){this.Ne&&(this.dj&&this.Ni(),this.bd=!0,this.CA=!1)};function fi(a){a.Ne&&requestAnimationFrame(function(){!1===a.bd||a.dj||(a.Y.jm=1,gi(a.Y),a.bd=!1,a.Y.Ba("AnimationStarting"),hi(a))})}function ii(a,b,c,d,e){if(a.bd&&(!(b instanceof G)||b.HD)){var f=a.Tn;if(f.contains(b)){b=f.ua(b);a=b.start;var h=b.end;void 0===a[c]&&(a[c]=ji(d));h[c]=ji(e)}else a=new pa,h=new pa,a[c]=ji(d),h[c]=ji(e),f.add(b,new ei(a,h))}}
	function ji(a){return a instanceof w?a.copy():a instanceof ia?a.copy():a}
	function hi(a){var b;void 0===b&&(b=new pa);var c=a.Y;if(null!==c)if(0===a.Tn.count)a.dj=!1,ki(c,!1),c.cf();else{a.dj=!0;var d=b.yJ||a.oF,e=b.eK||null,f=b.fK||null,h=b.duration||a.Gx;b=a.yF;for(var k=a.Tn.i;k.next();){var l=k.value.start.position;l instanceof w&&(l.I()||l.assign(b))}a.PA=d;a.$t=e;a.au=f;a.vx=h;var m=a.nF=a.Tn;li(a);mi(a,c,m,d,0,h,null!==a.Hl&&null!==a.Gl);Dg(a.Y);ni(a);requestAnimationFrame(function(b){var e=b||+new Date,f=e+h;(function s(b){if(!1!==a.dj){b=b||+new Date;var k=b>f?
		h:b-e;li(a);mi(a,c,m,d,k,h,null!==a.Hl&&null!==a.Gl);a.$t&&a.$t();Dg(c);ni(a);b>f?oi(a):requestAnimationFrame(s)}})(e)})}}var pi={opacity:function(a,b,c,d,e,f){a.opacity=d(e,b,c-b,f)},position:function(a,b,c,d,e,f){e!==f?a.GE(d(e,b.x,c.x-b.x,f),d(e,b.y,c.y-b.y,f)):a.position=new w(d(e,b.x,c.x-b.x,f),d(e,b.y,c.y-b.y,f))},scale:function(a,b,c,d,e,f){a.scale=d(e,b,c-b,f)},visible:function(a,b,c,d,e,f){a.visible=e!==f?b:c}};
	function li(a){if(!a.Gn){var b=a.Y;a.BC=b.fb;a.DA=b.Kw;a.EA=b.ut;b.fb=!0;b.Kw=!0;b.ut=!0;a.Gn=!0}}function ni(a){var b=a.Y;b.fb=a.BC;b.Kw=a.DA;b.ut=a.EA;a.Gn=!1}function mi(a,b,c,d,e,f,h){for(c=c.i;c.next();){var k=c.key,l=c.value,m=l.start,l=l.end,n;for(n in l)if(void 0!==pi[n])pi[n](k,m[n],l[n],d,e,f)}h&&(h=a.Hl,a=a.Gl,n=a.y-h.y,a=d(e,h.x,a.x-h.x,f),d=d(e,h.y,n,f),e=b.rz,b.rz=!0,b.position=new w(a,d),b.rz=e)}
	Te.prototype.stopAnimation=Te.prototype.Ni=function(){!0===this.bd&&(this.bd=!1,this.CA&&this.Y.de());this.dj&&this.Ne&&(li(this),mi(this,this.Y,this.nF,this.PA,this.vx,this.vx,null!==this.Hl&&null!==this.Gl),ni(this),oi(this))};function oi(a){a.dj=!1;a.Hl=null;a.Gl=null;a.Tn=new la(T,ei);li(a);for(var b=a.Y,c=a.Y.links;c.next();){var d=c.value;null!==d.Yn&&(d.points=d.Yn,d.Yn=null)}b.rw.clear();ki(b,!1);b.pc();b.cf();qi(b);ni(a);a.au&&a.au();a.au=null;a.$t=null;b.Ba("AnimationFinished");b.de()}
	function ri(a,b,c){var d=b.ba,e=c.ba,f=null;c instanceof V&&(f=c.placeholder);null!==f?(c=f.mb(xb),c.x+=f.padding.left,c.y+=f.padding.top,ii(a,b,"position",c,b.position)):ii(a,b,"position",new w(e.x+e.width/2-d.width/2,e.y+e.height/2-d.height/2),b.position);ii(a,b,"opacity",.01,b.opacity)}function si(a,b,c){a.bd&&(null===a.Hl&&b.I()&&null===a.Gl&&(a.Hl=b.copy()),a.Gl=c.copy())}
	u.defineProperty(Te,{isEnabled:"isEnabled"},function(){return this.Ne},function(a){u.j(a,"boolean",Te,"isEnabled");this.Ne=a});u.defineProperty(Te,{duration:"duration"},function(){return this.Gx},function(a){u.j(a,"number",Te,"duration");1>a&&u.xa(a,">= 1",Te,"duration");this.Gx=a});u.u(Te,{Xg:"isAnimating"},function(){return this.dj});u.u(Te,{KJ:"isTicking"},function(){return this.Gn});function ei(a,b){this.start=a;this.end=b}
	function we(){0<arguments.length&&u.Wc(we);u.gc(this);this.Y=null;this.Db=new E(G);this.Ub="";this.Hc=1;this.Xx=!1;this.Fk=this.Jy=this.fk=this.ek=this.dk=this.ck=this.ak=this.bk=this.$j=this.hk=this.Zj=this.gk=this.Yj=this.Xj=!0;this.Sx=!1;this.Wu=[]}u.fa("Layer",we);we.prototype.Dc=function(a){this.Y=a};
	we.prototype.toString=function(a){void 0===a&&(a=0);var b='Layer "'+this.name+'"';if(0>=a)return b;for(var c=0,d=0,e=0,f=0,h=0,k=this.Db.i;k.next();){var l=k.value;l instanceof V?e++:l instanceof U?d++:l instanceof W?f++:l instanceof lf?h++:c++}k="";0<c&&(k+=c+" Parts ");0<d&&(k+=d+" Nodes ");0<e&&(k+=e+" Groups ");0<f&&(k+=f+" Links ");0<h&&(k+=h+" Adornments ");if(1<a)for(a=this.Db.i;a.next();)c=a.value,k+="\n    "+c.toString(),d=c.data,null!==d&&u.Uc(d)&&(k+=" #"+u.Uc(d)),c instanceof U?k+=" "+
		de(d):c instanceof W&&(k+=" "+de(c.W)+" "+de(c.ca));return b+" "+this.Db.count+": "+k};we.prototype.findObjectAt=we.prototype.ke=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);if(!1===this.Fk)return null;var d=!1;this.g.ob.Da(a)&&(d=!0);for(var e=u.K(),f=this.Db.n,h=f.length;h--;){var k=f[h];if((!0!==d||!1!==ti(k))&&k.Ga()&&(e.assign(a),Wa(e,k.Ff),k=k.ke(e,b,c),null!==k&&(null!==b&&(k=b(k)),null!==k&&(null===c||c(k)))))return u.v(e),k}u.v(e);return null};
	we.prototype.findObjectsAt=we.prototype.zs=function(a,b,c,d){void 0===b&&(b=null);void 0===c&&(c=null);d instanceof E||d instanceof F||(d=new F(T));if(!1===this.Fk)return d;var e=!1;this.g.ob.Da(a)&&(e=!0);for(var f=u.K(),h=this.Db.n,k=h.length;k--;){var l=h[k];!0===e&&!1===ti(l)||!l.Ga()||(f.assign(a),Wa(f,l.Ff),l.zs(f,b,c,d)&&(null!==b&&(l=b(l)),null===l||null!==c&&!c(l)||d.add(l)))}u.v(f);return d};
	we.prototype.findObjectsIn=we.prototype.Nj=function(a,b,c,d,e){void 0===b&&(b=null);void 0===c&&(c=null);void 0===d&&(d=!1);e instanceof E||e instanceof F||(e=new F(T));if(!1===this.Fk)return e;var f=!1;this.g.ob.Kj(a)&&(f=!0);for(var h=this.Db.n,k=h.length;k--;){var l=h[k];(!0!==f||!1!==ti(l))&&l.Ga()&&l.Nj(a,b,c,d,e)&&(null!==b&&(l=b(l)),null===l||null!==c&&!c(l)||e.add(l))}return e};
	we.prototype.ez=function(a,b,c,d,e,f,h){if(!1===this.Fk)return e;for(var k=this.Db.n,l=k.length;l--;){var m=k[l];(!0!==h||!1!==ti(m))&&f(m)&&m.Ga()&&m.Nj(a,b,c,d,e)&&(null!==b&&(m=b(m)),null===m||null!==c&&!c(m)||e.add(m))}return e};
	we.prototype.findObjectsNear=we.prototype.zm=function(a,b,c,d,e,f){void 0===c&&(c=null);void 0===d&&(d=null);void 0===e&&(e=!0);if(!1!==e&&!0!==e){if(e instanceof E||e instanceof F)f=e;e=!0}f instanceof E||f instanceof F||(f=new F(T));if(!1===this.Fk)return f;var h=!1;this.g.ob.Da(a)&&(h=!0);for(var k=u.K(),l=u.K(),m=this.Db.n,n=m.length;n--;){var p=m[n];!0===h&&!1===ti(p)||!p.Ga()||(k.assign(a),Wa(k,p.Ff),l.m(a.x+b,a.y),Wa(l,p.Ff),p.zm(k,l,c,d,e,f)&&(null!==c&&(p=c(p)),null===p||null!==d&&!d(p)||
	f.add(p)))}u.v(k);u.v(l);return f};g=we.prototype;g.xf=function(a,b){if(this.visible){var c;c=void 0===b?a.ob:b;for(var d=this.Db.n,e=d.length,f=0;f<e;f++){var h=d[f];h.BB=f;if(!(h instanceof W&&!1===h.ig)){if(h instanceof lf){var k=h;if(null!==k.Mh)continue}if(jb(h.ba,c))for(h.xf(!0),ui(h),h=h.Bv;h.next();)k=h.value,Ph(k,Infinity,Infinity),k.yc(),k.xf(!0);else h.xf(!1),null!==h.Bv&&0<h.Bv.count&&ui(h)}}}};
	g.We=function(a,b,c,d){if(this.visible&&0!==this.Hc&&(void 0===d&&(d=!0),d||!this.zc)){1!==this.Hc&&(a.globalAlpha=this.Hc);c=this.Wu;c.length=0;d=b.scale;for(var e=this.Db.n,f=e.length,h=0;h<f;h++){var k=e[h];if(ti(k)||vi(k)){if(k instanceof W){var l=k;l.dc&&c.push(l);if(!1===l.ig)continue}l=k.ba;1<l.width*d||1<l.height*d?k.We(a,b):wi(k,a)}}a.globalAlpha=1}};
	function xi(a,b,c,d){if(a.visible&&0!==a.Hc){1!==a.Hc&&(b.globalAlpha=a.Hc);var e=a.Wu;e.length=0;var f=c.scale;a=a.Db.n;for(var h=a.length,k=d.length,l=0;l<h;l++){var m=a[l];if(ti(m)||vi(m)){if(m instanceof W){var n=m;n.dc&&e.push(n);if(!1===n.ig)continue}var n=yi(m,m.ba),p;a:{p=n;for(var q=d,r=k,s=2/f,t=4/f,v=0;v<r;v++){var x=q[v];if(0!==x.width&&0!==x.height&&p.GD(x.x-s,x.y-s,x.width+t,x.height+t)){p=!0;break a}}p=!1}p&&(1<n.width*f||1<n.height*f?m.We(b,c):wi(m,b))}}b.globalAlpha=1}}
	g.h=function(a,b,c,d,e){var f=this.g;null!==f&&f.Cc($d,a,this,b,c,d,e)};g.Go=function(a,b,c){var d=this.Db;b.Du=this;if(a>=d.count)a=d.count;else if(d.ja(a)===b)return-1;d.Yd(a,b);b.Ks(c);d=this.g;null!==d&&(c?d.na():d.Go(b));b instanceof V&&this.Lw(b);return a};
	g.Fe=function(a,b,c){if(!c&&b.layer!==this&&null!==b.layer)return b.layer.Fe(a,b,c);var d=this.Db;if(0>a||a>=d.length){if(a=d.indexOf(b),0>a)return-1}else if(d.ja(a)!==b&&(a=d.indexOf(b),0>a))return-1;b.Ls(c);d.jd(a);d=this.g;null!==d&&(c?d.na():d.Fe(b));b.Du=null;return a};
	g.Lw=function(a){for(;null!==a;){if(a.layer===this){var b=a;if(0!==b.Lc.count){for(var c=-1,d=-1,e=this.Db.n,f=e.length,h=0;h<f;h++){var k=e[h];if(k===b&&(c=h,0<=d))break;if(0>d&&k.Sa===b&&(d=h,0<=c))break}!(0>d)&&d<c&&(e=this.Db,e.jd(c),e.Yd(d,b))}}a=a.Sa}};g.clear=function(){for(var a=this.Db.Ke(),b=a.length,c=0;c<b;c++)a[c].xf(!1),this.Fe(-1,a[c],!1)};u.u(we,{Sj:"parts"},function(){return this.Db.i});u.u(we,{oK:"partsBackwards"},function(){return this.Db.Gm});u.u(we,{g:"diagram"},function(){return this.Y});
	u.defineProperty(we,{name:"name"},function(){return this.Ub},function(a){u.j(a,"string",we,"name");var b=this.Ub;if(b!==a){var c=this.g;if(null!==c)for(""===b&&u.k("Cannot rename default Layer to: "+a),c=c.nw;c.next();)c.value.name===a&&u.k("Layer.name is already present in this diagram: "+a);this.Ub=a;this.h("name",b,a);for(a=this.Db.i;a.next();)a.value.wf=this.Ub}});
	u.defineProperty(we,{opacity:"opacity"},function(){return this.Hc},function(a){var b=this.Hc;b!==a&&(u.j(a,"number",we,"opacity"),(0>a||1<a)&&u.xa(a,"0 <= value <= 1",we,"opacity"),this.Hc=a,this.h("opacity",b,a),a=this.g,null!==a&&a.na())});u.defineProperty(we,{zc:"isTemporary"},function(){return this.Xx},function(a){var b=this.Xx;b!==a&&(u.j(a,"boolean",we,"isTemporary"),this.Xx=a,this.h("isTemporary",b,a))});
	u.defineProperty(we,{visible:"visible"},function(){return this.Jy},function(a){var b=this.Jy;if(b!==a){u.j(a,"boolean",we,"visible");this.Jy=a;this.h("visible",b,a);for(b=this.Db.i;b.next();)b.value.He(a);a=this.g;null!==a&&a.na()}});u.defineProperty(we,{Bg:"pickable"},function(){return this.Fk},function(a){var b=this.Fk;b!==a&&(u.j(a,"boolean",we,"pickable"),this.Fk=a,this.h("pickable",b,a))});
	u.defineProperty(we,{JD:"isBoundsIncluded"},function(){return this.Sx},function(a){this.Sx!==a&&(this.Sx=a,null!==this.g&&this.g.pc())});u.defineProperty(we,{Ij:"allowCopy"},function(){return this.Xj},function(a){var b=this.Xj;b!==a&&(u.j(a,"boolean",we,"allowCopy"),this.Xj=a,this.h("allowCopy",b,a))});u.defineProperty(we,{mm:"allowDelete"},function(){return this.Yj},function(a){var b=this.Yj;b!==a&&(u.j(a,"boolean",we,"allowDelete"),this.Yj=a,this.h("allowDelete",b,a))});
	u.defineProperty(we,{Gv:"allowTextEdit"},function(){return this.gk},function(a){var b=this.gk;b!==a&&(u.j(a,"boolean",we,"allowTextEdit"),this.gk=a,this.h("allowTextEdit",b,a))});u.defineProperty(we,{Dv:"allowGroup"},function(){return this.Zj},function(a){var b=this.Zj;b!==a&&(u.j(a,"boolean",we,"allowGroup"),this.Zj=a,this.h("allowGroup",b,a))});
	u.defineProperty(we,{Hv:"allowUngroup"},function(){return this.hk},function(a){var b=this.hk;b!==a&&(u.j(a,"boolean",we,"allowUngroup"),this.hk=a,this.h("allowUngroup",b,a))});u.defineProperty(we,{js:"allowLink"},function(){return this.$j},function(a){var b=this.$j;b!==a&&(u.j(a,"boolean",we,"allowLink"),this.$j=a,this.h("allowLink",b,a))});
	u.defineProperty(we,{nm:"allowRelink"},function(){return this.bk},function(a){var b=this.bk;b!==a&&(u.j(a,"boolean",we,"allowRelink"),this.bk=a,this.h("allowRelink",b,a))});u.defineProperty(we,{Nk:"allowMove"},function(){return this.ak},function(a){var b=this.ak;b!==a&&(u.j(a,"boolean",we,"allowMove"),this.ak=a,this.h("allowMove",b,a))});
	u.defineProperty(we,{Ev:"allowReshape"},function(){return this.ck},function(a){var b=this.ck;b!==a&&(u.j(a,"boolean",we,"allowReshape"),this.ck=a,this.h("allowReshape",b,a))});u.defineProperty(we,{ks:"allowResize"},function(){return this.dk},function(a){var b=this.dk;b!==a&&(u.j(a,"boolean",we,"allowResize"),this.dk=a,this.h("allowResize",b,a))});
	u.defineProperty(we,{Fv:"allowRotate"},function(){return this.ek},function(a){var b=this.ek;b!==a&&(u.j(a,"boolean",we,"allowRotate"),this.ek=a,this.h("allowRotate",b,a))});u.defineProperty(we,{pf:"allowSelect"},function(){return this.fk},function(a){var b=this.fk;b!==a&&(u.j(a,"boolean",we,"allowSelect"),this.fk=a,this.h("allowSelect",b,a))});
	function D(a){function b(){window.document.removeEventListener("DOMContentLoaded",b,!1);Li(c)}1<arguments.length&&u.k("Diagram constructor can only take one optional argument, the DIV HTML element or its id.");u.gc(this);Mi=[];this.Oc=!0;this.oh=new Te;this.oh.Dc(this);this.Ad=17;var c=this;null!==window.document.body?Li(this):window.document.addEventListener("DOMContentLoaded",b,!1);this.wB=!1;this.Zb=new E(we);this.zb=this.Ab=0;this.Sg=this.Kb=this.Ig=this.jb=null;this.qE();this.fq=null;this.pE();
		this.Na=(new w(NaN,NaN)).freeze();this.$b=1;this.uu=(new w(NaN,NaN)).freeze();this.vu=NaN;this.Mu=1E-4;this.Ju=100;this.Sd=new ja;this.yv=(new w(NaN,NaN)).freeze();this.lu=(new z(NaN,NaN,NaN,NaN)).freeze();this.wy=(new rb(0,0,0,0)).freeze();this.xy=Ni;this.sy=this.py=null;this.yl=vf;this.en=uc;this.tk=vf;this.Bn=uc;this.wu=this.tu=xb;this.Yf=new F(T);this.Md=!0;this.hq=!1;this.Fl=new la(W,z);this.rn=!0;this.kF=250;this.$m=-1;this.Rt=(new rb(16,16,16,16)).freeze();this.eu=this.Ef=!1;this.vn=!0;this.nk=
			new Md;this.Ic=new Md;this.Pb=new Md;this.Ui=null;this.nv=-1;this.mv=!1;this.Cx=this.Dx=null;Oi(this);this.Sn=new F(U);this.Ik=new F(V);this.On=new F(W);this.Db=new F(G);this.zu=!0;this.mB=!1;this.uv=Hg;this.gj=10;this.wx=this.Ax=this.Gy=null;this.ux="";this.Rp="auto";this.$h=this.ui=this.ki=this.Pu=this.li=this.mi=this.ni=this.Zh=this.di=this.Xh=null;this.zn=!0;this.jy=!1;this.WB={};this.jr=0;this.Df=[null,null];this.kx=null;this.Au=this.Wm=this.Bx=this.yy=this.eC=this.ri=!1;this.yB=!0;this.Ux=this.wd=
			!1;this.Od=null;var d=this;this.FB=function(a){if(a.ha===d.ha&&d.Oa){d.Oa=!1;try{var b=a.Bd;""===a.Lf&&b===$d&&Pi(d,a.object,a.propertyName)}finally{d.Oa=!0}}};this.GB=function(a){Qi(d,a)};this.DC=!0;this.Kg=-2;this.ai=new la(Object,G);this.lk=new la(Object,W);this.Nl=new la(Object,Array);this.Un=new la("string",Array);this.VB=new E(Ri);this.vk=!1;this.Yj=this.Xj=this.Ht=this.Ne=!0;this.Jt=this.It=!1;this.Ot=this.Mt=this.fk=this.ek=this.dk=this.ck=this.ak=this.bk=this.$j=this.Lt=this.hk=this.Zj=this.gk=
			!0;this.Kl=this.uB=!1;this.Nt=this.Kt=this.ru=this.qu=!0;this.cv=this.bv=16;this.ty=this.av=!1;this.vy=this.uy=this.vj=this.uj=null;this.Pe=(new rb(5)).freeze();this.fv=(new F(G)).freeze();this.Ku=999999999;this.su=(new F(G)).freeze();this.uk=this.Il=this.fi=!0;this.rk=this.qk=!1;this.Nd=null;this.Pt=!0;this.mf=!1;this.tF=new F(W);this.md=null;this.MB=1;this.Nx=!1;this.iC=0;this.CC=(new z(NaN,NaN,NaN,NaN)).freeze();this.fu=(new z(NaN,NaN,NaN,NaN)).freeze();this.Vl=new F(Si);Ti(this);this.Fu=this.nu=
			this.Ru=this.TA=this.SA=this.UA=this.hj=this.ok=this.oi=null;Ui(this);this.ad=null;this.mu=!1;this.fn=null;this.tb=new jf;this.tb.initializeStandardTools();this.Va=this.az=this.tb;this.Eb=new sa;this.ha=new Q;this.ri=!0;this.Qb=new Je;this.ri=!1;this.dB=this.Fx=null;this.of=1;this.jm=null;this.sk=new Vi;void 0!==a&&Wi(this,a);this.Pl=1;this.Ql=0;this.AB=new w;this.zC=500;this.Qt=new w;this.Kr=null;this.Oc=this.Yx=!1}u.fa("Diagram",D);
	function Ui(a){a.oi=new la("string",G);var b=new U,c=new qa;c.bind(new bf("text","",de));b.add(c);a.UA=b;a.oi.add("",b);b=new U;c=new qa;c.stroke="brown";c.bind(new bf("text","",de));b.add(c);a.oi.add("Comment",b);b=new U;b.pl=!1;b.TC=!1;c=new X;c.Fb="Ellipse";c.fill="black";c.stroke=null;c.za=(new ia(3,3)).La();b.add(c);a.oi.add("LinkLabel",b);a.ok=new la("string",V);b=new V;b.$z="GROUPPANEL";b.type=Xi;c=new qa;c.font="bold 12pt sans-serif";c.bind(new bf("text","",de));b.add(c);c=new B(Yi);c.name=
		"GROUPPANEL";var d=new X;d.Fb="Rectangle";d.fill="rgba(128,128,128,0.2)";d.stroke="black";c.add(d);d=new ph;d.padding=(new rb(5,5,5,5)).La();c.add(d);b.add(c);a.SA=b;a.ok.add("",b);a.hj=new la("string",W);b=new W;c=new X;c.ug=!0;b.add(c);c=new X;c.lp="Standard";c.fill="black";c.stroke=null;c.ib=0;b.add(c);a.TA=b;a.hj.add("",b);b=new W;c=new X;c.ug=!0;c.stroke="brown";b.add(c);a.hj.add("Comment",b);b=new lf;b.type=Yi;c=new X;c.fill=null;c.stroke="dodgerblue";c.ib=3;b.add(c);c=new ph;c.margin=(new rb(1.5,
		1.5,1.5,1.5)).La();b.add(c);a.Ru=b;a.nu=b;b=new lf;b.type=ah;c=new X;c.ug=!0;c.fill=null;c.stroke="dodgerblue";c.ib=3;b.add(c);a.Fu=b}
	function Li(a){var b=u.createElement("p");b.style.width="100%";b.style.height="200px";b.style.boxSizing="content-box";var c=u.createElement("div");c.style.position="absolute";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.style.boxSizing="content-box";c.appendChild(b);window.document.body.appendChild(c);var d=b.offsetWidth;c.style.overflow="scroll";b=b.offsetWidth;d===b&&(b=c.clientWidth);window.document.body.removeChild(c);c=d-b;0!==c||u.MD||
	(c=11);a.Ad=c}D.prototype.toString=function(a){void 0===a&&(a=0);var b="";this.id&&(b=this.id);this.Vk&&this.Vk.id&&(b=this.Vk.id);b='Diagram "'+b+'"';if(0>=a)return b;for(var c=this.Zb.i;c.next();)b+="\n  "+c.value.toString(a-1);return b};D.prototype.checkProperties=function(){return u.check(this)};D.fromDiv=function(a){var b=a;"string"===typeof a&&(b=window.document.getElementById(a));return b instanceof HTMLDivElement&&b.Y instanceof D?b.Y:null};
	u.defineProperty(D,{Vk:"div"},function(){return this.Kb},function(a){null!==a&&u.C(a,HTMLDivElement,D,"div");if(this.Kb!==a){Mi=[];var b=this.Kb;null!==b?(b.Y=void 0,b.innerHTML="",null!==this.jb&&(this.jb.removeEventListener("touchstart",this.RE,!1),this.jb.removeEventListener("touchmove",this.QE,!1),this.jb.removeEventListener("touchend",this.PE,!1),this.jb.Ed.Y=null),b=this.tb,null!==b&&(b.df.each(function(a){a.cancelWaitAfter()}),b.Mf.each(function(a){a.cancelWaitAfter()}),b.Nf.each(function(a){a.cancelWaitAfter()})),
		b.cancelWaitAfter(),this.Va.doCancel(),this.Ig=this.jb=null,window.removeEventListener("resize",this.$E,!1),window.removeEventListener("mousemove",this.So,!0),window.removeEventListener("mousedown",this.Ro,!0),window.removeEventListener("mouseup",this.Uo,!0),window.removeEventListener("mousewheel",this.ah,!0),window.removeEventListener("DOMMouseScroll",this.ah,!0),window.removeEventListener("mouseout",this.To,!0)):this.mf=!1;this.Kb=null;if(null!==a){if(b=a.Y)b.Vk=null;Wi(this,a);this.Tz()}}});
	function Zi(a){var b=a.jb;b.addEventListener("touchstart",a.RE,!1);b.addEventListener("touchmove",a.QE,!1);b.addEventListener("touchend",a.PE,!1);b.addEventListener("mousemove",a.So,!1);b.addEventListener("mousedown",a.Ro,!1);b.addEventListener("mouseup",a.Uo,!1);b.addEventListener("mousewheel",a.ah,!1);b.addEventListener("DOMMouseScroll",a.ah,!1);b.addEventListener("mouseout",a.To,!1);b.addEventListener("keydown",a.kH,!1);b.addEventListener("keyup",a.lH,!1);b.addEventListener("selectstart",function(a){a.preventDefault();
		return!1},!1);b.addEventListener("contextmenu",function(a){a.preventDefault();return!1},!1);b.addEventListener("gesturechange",function(b){a.tb.Do===ai&&b.preventDefault()},!1);b.addEventListener("pointerdown",a.KH,!1);b.addEventListener("pointermove",a.MH,!1);b.addEventListener("pointerleave",a.LH,!1);window.addEventListener("resize",a.$E,!1)}function ki(a,b){a.jm=null;b&&a.hE()}
	D.prototype.computePixelRatio=function(){if(null!==this.jm)return this.jm;var a=this.Ig;return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)};D.prototype.doMouseMove=function(){this.Va.doMouseMove()};D.prototype.doMouseDown=function(){this.Va.doMouseDown()};D.prototype.doMouseUp=function(){this.Va.doMouseUp()};D.prototype.doMouseWheel=function(){this.Va.doMouseWheel()};
	D.prototype.doKeyDown=function(){this.Va.doKeyDown()};D.prototype.doKeyUp=function(){this.Va.doKeyUp()};function gi(a){if(null!==a.jb){var b=a.Kb;if(0!==b.clientWidth&&0!==b.clientHeight){var c=a.rk?a.Ad:0,d=a.qk?a.Ad:0,e=a.of;a.of=a.computePixelRatio();a.of!==e&&(a.hq=!0,a.de());if(b.clientWidth!==a.Ab+c||b.clientHeight!==a.zb+d)a.Il=!0,a.Md=!0,b=a.Qb,null!==b&&b.kw&&b.H(),a.wd||a.de()}}}D.prototype.focus=D.prototype.focus=function(){this.jb&&this.jb.focus()};
	function $i(a,b,c){void 0===b&&(b=a.Ig);void 0===c&&(c=!0);c&&(b.Ft="");b.Um="";b.Tm=""}function Ti(a){var b=new we;b.name="Background";a.es(b);b=new we;b.name="";a.es(b);b=new we;b.name="Foreground";a.es(b);b=new we;b.name="Adornment";b.zc=!0;a.es(b);b=new we;b.name="Tool";b.zc=!0;b.JD=!0;a.es(b);b=new we;b.name="Grid";b.pf=!1;b.Bg=!1;b.zc=!0;a.LF(b,a.xs("Background"))}
	function aj(a){a.ad=new B(bj);a.ad.name="GRID";var b=new X;b.Fb="LineH";b.stroke="lightgray";b.ib=.5;b.interval=1;a.ad.add(b);b=new X;b.Fb="LineH";b.stroke="gray";b.ib=.5;b.interval=5;a.ad.add(b);b=new X;b.Fb="LineH";b.stroke="gray";b.ib=1;b.interval=10;a.ad.add(b);b=new X;b.Fb="LineV";b.stroke="lightgray";b.ib=.5;b.interval=1;a.ad.add(b);b=new X;b.Fb="LineV";b.stroke="gray";b.ib=.5;b.interval=5;a.ad.add(b);b=new X;b.Fb="LineV";b.stroke="gray";b.ib=1;b.interval=10;a.ad.add(b);b=new G;b.add(a.ad);
		b.wf="Grid";b.vz=!1;b.HD=!1;b.Bg=!1;b.Az="GRID";a.add(b);a.Db.remove(b);a.ad.visible=!1}
	D.prototype.LB=function(){if(this.Y.isEnabled){var a=this.Y;if(a.ty&&null!==a.jb){a.av=!0;var b=a.Dd,c=a.ob,d=b.width,e=c.width,f=b.height,h=c.height,k=b.right,l=c.right,m=b.bottom,n=c.bottom,p=b.x,q=c.x,b=b.y,c=c.y,r=a.scale;if(e<d||h<f){var s=u.K();this.bC&&a.Re?(s.m(this.scrollLeft/r+p,a.position.y),a.position=s):this.cC&&a.Se&&(s.m(a.position.x,this.scrollTop/r+b),a.position=s);u.v(s);a.av=!1;a.Il=!1}else s=u.K(),this.bC&&a.Re&&(p<q&&(a.position=new w(this.scrollLeft+p,a.position.y)),k>l&&(a.position=
		new w(-(a.uj.scrollWidth-a.Ab)+this.scrollLeft-a.Ab/r+a.Dd.right,a.position.y))),this.cC&&a.Se&&(b<c&&(a.position=new w(a.position.x,this.scrollTop+b)),m>n&&(a.position=new w(a.position.x,-(a.vj.scrollHeight-a.zb)+this.scrollTop-a.zb/r+a.Dd.bottom))),u.v(s),cj(a),a.av=!1,a.Il=!1,b=a.Dd,c=a.ob,k=b.right,l=c.right,m=b.bottom,n=c.bottom,p=b.x,q=c.x,b=b.y,c=c.y,e>=d&&p>=q&&k<=l&&(a.uy.style.width="1px"),h>=f&&b>=c&&m<=n&&(a.vy.style.height="1px")}}else dj(this.Y)};
	D.prototype.Tu=function(){this.Y.isEnabled?this.Y.ty=!0:dj(this.Y)};D.prototype.computeBounds=D.prototype.lg=function(){0<this.Yf.count&&ej(this);return fj(this)};function fj(a){if(a.uD.I()){var b=a.uD.copy();b.Av(a.padding);return b}for(var c=!0,d=a.Zb.n,e=d.length,f=0;f<e;f++){var h=d[f];if(h.visible&&(!h.zc||h.JD))for(var h=h.Db.n,k=h.length,l=0;l<k;l++){var m=h[l];m.vz&&m.Ga()&&(m=m.ba,m.I()&&(c?(c=!1,b=m.copy()):b.Uh(m)))}}c&&(b=new z(0,0,0,0));b.Av(a.padding);return b}
	D.prototype.computePartsBounds=function(a){var b=null;for(a=a.i;a.next();){var c=a.value;c instanceof W||(c.qf(),null===b?b=c.ba.copy():b.Uh(c.ba))}return null===b?new z(NaN,NaN,0,0):b};
	function gj(a,b){if((b||a.mf)&&!a.Oc&&null!==a.jb&&!a.Mb.Xg&&a.Dd.I()){a.Oc=!0;var c=a.yl;b&&a.tk!==vf&&(c=a.tk);var d=c!==vf?hj(a,c):a.scale,c=a.ob.copy(),e=a.Ab/d,f=a.zb/d,h=null,k=a.Mb;k.bd&&(h=a.Na.copy());a.position.Ma();var l=a.en;b&&!l.pd()&&a.Bn.pd()&&(l=a.Bn);ij(a,a.Na,a.Dd,e,f,l,b);a.position.freeze();null!==h&&si(k,h,a.Na);a.scale=d;a.Oc=!1;d=a.ob;d.De(c)||a.et(c,d)}}
	function hj(a,b){var c=a.Eb.Qv;if(null===a.jb)return c;a.fi&&jj(a,a.lg());var d=a.Dd;if(!d.I())return c;var e=d.width,d=d.height,f=a.Ab,h=a.zb,k=f/e,l=h/d;return b===kj?(e=Math.min(l,k),e>c&&(e=c),e<a.$g&&(e=a.$g),e>a.Zg&&(e=a.Zg),e):b===lj?(e=l>k?(h-a.Ad)/d:(f-a.Ad)/e,e>c&&(e=c),e<a.$g&&(e=a.$g),e>a.Zg&&(e=a.Zg),e):a.scale}D.prototype.zoomToFit=D.prototype.zoomToFit=function(){this.scale=hj(this,kj)};
	D.prototype.zoomToRect=function(a,b){void 0===b&&(b=kj);var c=a.width,d=a.height;if(!(0===c||0===d||isNaN(c)&&isNaN(d))){var e=1;if(b===kj||b===lj)if(isNaN(c))e=this.ob.height*this.scale/d;else if(isNaN(d))e=this.ob.width*this.scale/c;else var e=this.Ab,f=this.zb,e=b===lj?f/d>e/c?(f-(this.qk?this.Ad:0))/d:(e-(this.rk?this.Ad:0))/c:Math.min(f/d,e/c);this.scale=e;this.position=new w(a.x,a.y)}};u.defineProperty(D,{rz:null},function(){return this.Oc},function(a){this.Oc=a});
	D.prototype.alignDocument=function(a,b){this.fi&&jj(this,this.lg());var c=this.Dd,d=this.ob;this.position=new w(c.x+(a.x*c.width+a.offsetX)-(b.x*d.width-b.offsetX),c.y+(a.y*c.height+a.offsetY)-(b.y*d.height-b.offsetY))};
	function ij(a,b,c,d,e,f,h){var k=b.x,l=b.y;if(h||a.yE===Ni)f.pd()&&(d>c.width&&(k=c.x+(f.x*c.width+f.offsetX)-(f.x*d-f.offsetX)),e>c.height&&(l=c.y+(f.y*c.height+f.offsetY)-(f.y*e-f.offsetY))),f=a.xE,h=d-c.width,d<c.width+f.left+f.right?(k=Math.min(k+d/2,c.right+Math.max(h,f.right)-d/2),k=Math.max(k,c.left-Math.max(h,f.left)+d/2),k-=d/2):k>c.left?k=c.left:k<c.right-d&&(k=c.right-d),d=e-c.height,e<c.height+f.top+f.bottom?(l=Math.min(l+e/2,c.bottom+Math.max(d,f.bottom)-e/2),l=Math.max(l,c.top-Math.max(d,
			f.top)+e/2),l-=e/2):l>c.top?l=c.top:l<c.bottom-e&&(l=c.bottom-e);b.x=isFinite(k)?k:-a.padding.left;b.y=isFinite(l)?l:-a.padding.top;null!==a.gE&&(a=a.gE(a,b),b.x=a.x,b.y=a.y)}D.prototype.findPartAt=D.prototype.As=function(a,b){var c=b?wg(this,a,function(a){return a.T},function(a){return a.canSelect()}):wg(this,a,function(a){return a.T});return c instanceof G?c:null};
	D.prototype.findObjectAt=D.prototype.ke=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);ej(this);for(var d=this.Zb.Gm;d.next();){var e=d.value;if(e.visible&&(e=e.ke(a,b,c),null!==e))return e}return null};function wg(a,b,c,d){void 0===c&&(c=null);void 0===d&&(d=null);ej(a);for(a=a.Zb.Gm;a.next();){var e=a.value;if(e.visible&&!e.zc&&(e=e.ke(b,c,d),null!==e))return e}return null}
	D.prototype.findObjectsAt=D.prototype.zs=function(a,b,c,d){void 0===b&&(b=null);void 0===c&&(c=null);d instanceof E||d instanceof F||(d=new F(T));ej(this);for(var e=this.Zb.Gm;e.next();){var f=e.value;f.visible&&f.zs(a,b,c,d)}return d};D.prototype.findObjectsIn=D.prototype.Nj=function(a,b,c,d,e){void 0===b&&(b=null);void 0===c&&(c=null);void 0===d&&(d=!1);e instanceof E||e instanceof F||(e=new F(T));ej(this);for(var f=this.Zb.Gm;f.next();){var h=f.value;h.visible&&h.Nj(a,b,c,d,e)}return e};
	D.prototype.ez=function(a,b,c,d,e,f){var h=new F(T);ej(this);for(var k=this.Zb.Gm;k.next();){var l=k.value;l.visible&&l.ez(a,b,c,d,h,e,f)}return h};D.prototype.findObjectsNear=D.prototype.zm=function(a,b,c,d,e,f){void 0===c&&(c=null);void 0===d&&(d=null);void 0===e&&(e=!0);if(!1!==e&&!0!==e){if(e instanceof E||e instanceof F)f=e;e=!0}f instanceof E||f instanceof F||(f=new F(T));ej(this);for(var h=this.Zb.Gm;h.next();){var k=h.value;k.visible&&k.zm(a,b,c,d,e,f)}return f};
	function yf(a){-1!==a.nv&&(u.clearTimeout(a.nv),a.nv=-1)}function mj(a,b){var c=b.copy();a.nv=u.setTimeout(function(){c.button=2;a.N=c;a.mv=!0;a.doMouseUp()},850)}D.prototype.acceptEvent=function(a){var b=this.Ic;this.Ic=this.Pb;this.Pb=b;nj(this,this,a,b,a instanceof MouseEvent);return b};
	function nj(a,b,c,d,e){d.g=b;e?oj(a,c,d):(d.gf=b.Pb.gf,d.da=b.Pb.da);a=0;c.ctrlKey&&(a+=1);c.altKey&&(a+=2);c.shiftKey&&(a+=4);c.metaKey&&(a+=8);d.hd=a;d.button=c.button;u.Fm&&0===c.button&&c.ctrlKey&&(d.button=2);d.Wk=!1;d.up=!1;d.Te=1;d.Uk=0;d.Tc=!1;d.bubbles=!1;d.event=c;d.timestamp=Date.now();d.Qs=!1;d.Dg=c.target.Y?c.target.Y:null;d.pe=null}
	function pj(a,b,c,d,e){d.g=a;oj(a,c,d);d.hd=0;d.button=0;d.Wk=!0;d.up=!1;d.Te=1;d.Uk=0;d.Tc=!1;d.bubbles=!0;d.event=b;d.timestamp=Date.now();d.Qs=e;d.Dg=b.target.Y?b.target.Y:null;d.pe=null;a.nk=d.copy();Ef=null}
	function qj(a,b,c,d,e){var f=null;d.g=a;if(null!==c){var f=window.document.elementFromPoint(c.clientX,c.clientY),h;f&&f.Y?h=f.Y:(c=b.changedTouches[0],h=a);oj(a,c,d)}else null!==a.Ic?(d.da=a.Ic.da,d.gf=a.Ic.gf,d.Dg=a.Ic.Dg):null!==a.nk&&(d.da=a.nk.da,d.gf=a.nk.gf,d.Dg=a.nk.Dg);d.hd=0;d.button=0;d.Wk=!1;d.up=!1;d.Te=1;d.Uk=0;d.Tc=!1;d.bubbles=!1;d.event=b;d.timestamp=Date.now();d.Qs=e;d.Dg=h;d.pe=null}
	function rj(a,b){if(a.bubbles)return!0;void 0!==b.stopPropagation&&b.stopPropagation();(void 0===b.touches||2>b.touches.length)&&b.preventDefault();b.cancelBubble=!0;return!1}
	D.prototype.kH=function(a){if(!this.Y.isEnabled)return!1;var b=this.Y.Pb;nj(this.Y,this.Y,a,b,!1);b.key=String.fromCharCode(a.which);b.Wk=!0;switch(a.which){case 8:b.key="Backspace";break;case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 48:b.key="0";break;case 187:case 61:case 107:b.key=
		"Add";break;case 189:case 173:case 109:b.key="Subtract";break;case 27:b.key="Esc"}this.Y.doKeyDown();return 187!==a.which&&189!==a.which&&48!==a.which&&107!==a.which&&109!==a.which&&61!==a.which&&173!==a.which||!0!==a.ctrlKey?rj(b,a):(a.cancelBubble=!0,a.preventDefault(),a.stopPropagation(),!1)};
	D.prototype.lH=function(a){if(!this.Y.isEnabled)return!1;var b=this.Y.Pb;nj(this.Y,this.Y,a,b,!1);b.key=String.fromCharCode(a.which);b.up=!0;switch(a.which){case 8:b.key="Backspace";break;case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 93:a.preventDefault()}this.Y.doKeyUp();
		return rj(b,a)};D.prototype.bq=function(a){var b=this.jb;if(null===b)return new w(0,0);var c=this.Ab,d=this.zb,b=b.getBoundingClientRect(),c=a.clientX-c/b.width*b.left;a=a.clientY-d/b.height*b.top;return null!==this.Sd?(a=new w(c,a),Wa(a,this.Sd),a):new w(c,a)};function oj(a,b,c){var d=a.jb,e=a.Ab,f=a.zb,h=0,k=0;null!==d&&(d=d.getBoundingClientRect(),h=b.clientX-e/d.width*d.left,k=b.clientY-f/d.height*d.top);c.gf.m(h,k);null!==a.Sd?(b=u.fc(h,k),a.Sd.Qh(b),c.da.assign(b),u.v(b)):c.da.m(h,k)}
	D.prototype.invalidateDocumentBounds=D.prototype.pc=function(){this.fi||(this.fi=!0,this.de(!0))};function qi(a){a.wd||ej(a);a.fi&&jj(a,a.lg());for(a=a.Vl.i;a.next();)qi(a.value)}D.prototype.redraw=D.prototype.Tz=function(){this.Oc||this.wd||(this.na(),sj(this),cj(this),this.pc(),this.cf())};D.prototype.isUpdateRequested=function(){return this.Ef};
	D.prototype.delayInitialization=D.prototype.oG=function(a){void 0===a&&(a=null);var b=this.Mb,c=b.isEnabled;b.Ni();b.isEnabled=!1;Dg(this);this.mf=!1;b.isEnabled=c;null!==a&&u.setTimeout(a,1)};D.prototype.requestUpdate=D.prototype.de=function(a){void 0===a&&(a=!1);if(!0!==this.Ef&&!(this.Oc||!1===a&&this.wd)){this.Ef=!0;var b=this;requestAnimationFrame(function(){b.Ef&&b.cf()})}};D.prototype.maybeUpdate=D.prototype.cf=function(){if(!this.vn||this.Ef)this.vn&&(this.vn=!1),Dg(this)};
	function tj(a,b){a.Oc||!a.Il||dj(a)||(b&&ej(a),gj(a,!1))}
	function Dg(a){if(!a.wd&&(a.Ef=!1,null!==a.Kb)){a.wd=!0;var b=a.oh,c=a.VB;if(!b.Gn&&0!==c.length){for(var d=c.n,e=d.length,f=0;f<e;f++){var h=d[f];uj(h,!1);h.R()}c.clear()}d=c=!1;b.Xg&&(d=!0,c=a.fb,a.fb=!0);b.bd||gi(a);tj(a,!1);null!==a.ad&&(a.ad.visible&&!a.mu&&(vj(a),a.mu=!0),!a.ad.visible&&a.mu&&(a.mu=!1));ej(a);0!==a.Fl.count&&(wj(a),ej(a));e=!1;if(!a.mf||a.Pt)a.mf?xj(a,!a.eu):(a.Wb("Initial Layout"),!1===b.isEnabled&&b.Ni(),xj(a,!1)),e=!0;a.eu=!1;ej(a);a.yy||b.Xg||qi(a);e&&(a.mf||(b=a.Zb.n,a.xf(b,
		b.length,a),yj(a),vj(a)),a.Ba("LayoutCompleted"));tj(a,!0);ej(a);e&&!a.mf&&(a.mf=!0,a.Wd("Initial Layout"),a.fb||a.ga.clear(),u.setTimeout(function(){a.Sh=!1},1));a.We();d&&(a.fb=c);a.wd=!1}}
	function yj(a){if(a.tk!==vf)a.scale=hj(a,a.tk);else if(a.yl!==vf)a.scale=hj(a,a.yl);else{var b=a.UG;isFinite(b)&&0<b&&(a.scale=b)}a.fi&&jj(a,a.lg());b=a.TG;if(b.I())a.position=b;else{b=u.K();b.qt(a.Dd,a.SG);var c=a.ob,c=u.Vj(0,0,c.width,c.height),d=u.K();d.qt(c,a.VG);a.position=new w(b.x-d.x,b.y-d.y);u.ic(c);u.v(d);u.v(b);gj(a,!0)}a.Ba("InitialLayoutCompleted")}
	function ej(a){if((a.wd||!a.Mb.Xg)&&0!==a.Yf.count)for(var b=0;23>b;b++){var c=a.Yf.i;if(null===c||0===a.Yf.count)break;a.Yf=new F(T);var d=a,e=a.Yf;for(c.reset();c.next();){var f=c.value;!f.Gd()||f instanceof V||!f.Ga()||(f.hl()?(Ph(f,Infinity,Infinity),f.yc()):e.add(f))}for(c.reset();c.next();)f=c.value,f instanceof V&&f.Ga()&&zj(d,f);for(c.reset();c.next();)f=c.value,f instanceof W&&(d=f,d.Ga()&&(d.hl()?(Ph(d,Infinity,Infinity),d.yc(),d.Ys()):e.add(d)));for(c.reset();c.next();)d=c.value,d instanceof
	lf&&d.Ga()&&(d.hl()?(Ph(d,Infinity,Infinity),d.yc()):e.add(d))}}function zj(a,b){for(var c=u.gb(),d=u.gb(),e=b.Lc;e.next();){var f=e.value;f.Ga()&&(f instanceof V?(Aj(f)||Bj(f)||Cj(f))&&zj(a,f):f instanceof W?f.W==b||f.ca==b?d.push(f):c.push(f):(Ph(f,Infinity,Infinity),f.yc()))}for(var e=c.length,h=0;h<e;h++)f=c[h],Ph(f,Infinity,Infinity),f.yc();u.sa(c);Ph(b,Infinity,Infinity);b.yc();e=d.length;for(h=0;h<e;h++)f=d[h],Ph(f,Infinity,Infinity),f.yc();u.sa(d)}
	D.prototype.xf=function(a,b,c,d){var e=this.oh;if(this.uk||e.Xg)for(e=0;e<b;e++)a[e].xf(c,d)};
	D.prototype.We=function(a,b){void 0===a&&(a=this.Ig);void 0===b&&(b=null);null===this.Kb&&u.k("No div specified");var c=this.jb;null===c&&u.k("No canvas specified");if(this.oh.bd)0===this.ga.Le&&this.de(!0);else{Dj(this);var d=a!==this.Ig,e=this.Zb.n,f=e.length,h=this;this.xf(e,f,h);if(d)$i(this,a),cj(this);else if(!this.Md&&null===b)return;var k=this.Na,l=this.$b,m=Math.round(k.x*l)/l,n=Math.round(k.y*l)/l,f=this.Sd;f.reset();1!==l&&f.scale(l);0===k.x&&0===k.y||f.translate(-m,-n);k=this.of;u.Em?
		(c.width=c.width,$i(this,a),a.scale(k,k)):(a.setTransform(1,0,0,1,0,0),a.scale(k,k),a.clearRect(0,0,this.Ab,this.zb));a.miterLimit=9;a.setTransform(1,0,0,1,0,0);a.scale(k,k);a.transform(f.m11,f.m12,f.m21,f.m22,f.dx,f.dy);c=null!==b?function(c){var d=a,e=b;if(c.visible&&0!==c.Hc){1!==c.Hc&&(d.globalAlpha=c.Hc);var f=c.Wu;f.length=0;var k=h.scale;c=c.Db.n;for(var l=c.length,m=0;m<l;m++){var n=c[m];if((ti(n)||vi(n))&&!e.contains(n)){if(n instanceof W){var y=n;y.dc&&f.push(y);if(!1===y.ig)continue}y=
		n.ba;1<y.width*k||1<y.height*k?n.We(d,h):wi(n,d)}}d.globalAlpha=1}}:function(b){b.We(a,h)};Ej(this,a);f=e.length;for(k=0;k<f;k++)c(e[k]);this.sk?this.sk.wl(this)&&this.ax():this.bq=function(){return new w(0,0)};d?($i(this),cj(this)):this.Md=this.uk=!1}};
	function Fj(a,b,c,d,e){null===a.Kb&&u.k("No div specified");var f=a.jb;null===f&&u.k("No canvas specified");var h=a.Ig;if(a.Md){Dj(a);var k=a.of;u.Em?(f.width=f.width,$i(a,h)):(h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,a.Ab*k,a.zb*k));h.FD=!1;h.drawImage(a.Fx.Ed,0<d?0:Math.round(-d),0<e?0:Math.round(-e));e=a.Na;var f=a.$b,l=Math.round(e.x*f)/f,m=Math.round(e.y*f)/f;d=a.Sd;d.reset();1!==f&&d.scale(f);0===e.x&&0===e.y||d.translate(-l,-m);h.save();h.beginPath();e=c.length;for(f=0;f<e;f++)l=c[f],0!==
	l.width&&0!==l.height&&h.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));h.clip();h.setTransform(1,0,0,1,0,0);h.scale(k,k);h.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);c=a.Zb.n;e=c.length;a.xf(c,e,a);Ej(a,h);for(f=0;f<e;f++)xi(c[f],h,a,b);h.restore();$i(a);a.sk?a.sk.wl(a)&&a.ax():a.bq=function(){return new w(0,0)};a.uk=!1;a.Md=!1;a.hE()}}
	function Gj(a,b,c,d,e,f,h,k,l,m){null===a.Kb&&u.k("No div specified");null===a.jb&&u.k("No canvas specified");void 0===h&&(h=null);void 0===k&&(k=null);void 0===l&&(l=!1);void 0===m&&(m=!1);Dj(a);$i(a);cj(a);a.Ux=!0;var n=new z(f.x,f.y,d.width/e,d.height/e),p=n.copy();p.Av(c);vj(a,p);ej(a);var p=a.Zb.n,q=p.length;a.xf(p,q,a,n);var r=a.of;b.setTransform(1,0,0,1,0,0);b.scale(r,r);b.clearRect(0,0,d.width,d.height);null!==k&&""!==k&&(b.fillStyle=k,b.fillRect(0,0,d.width,d.height));d=u.lh();d.reset();
		d.translate(c.left,c.top);d.scale(e);0===f.x&&0===f.y||d.translate(-f.x,-f.y);b.setTransform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);u.Ye(d);Ej(a,b);if(null!==h){var s=new F(T);c=h.i;for(c.reset();c.next();)e=c.value,!1===m&&"Grid"===e.layer.name||null===e||s.add(e);c=function(c){var d=l;if(c.visible&&0!==c.Hc&&(void 0===d&&(d=!0),d||!c.zc)){1!==c.Hc&&(b.globalAlpha=c.Hc);d=c.Wu;d.length=0;var e=a.scale;c=c.Db.n;for(var f=c.length,h=0;h<f;h++){var k=c[h];if((ti(k)||vi(k))&&s.contains(k)){if(k instanceof
			W){var m=k;m.dc&&d.push(m);if(!1===m.ig)continue}m=k.ba;1<m.width*e||1<m.height*e?k.We(b,a):wi(k,b)}}b.globalAlpha=1}}}else if(!l&&m){var t=a.Hs.T,v=t.layer;c=function(c){c===v?t.We(b,a):c.We(b,a,n,l,m)}}else c=function(c){c.We(b,a,n,l,m)};for(e=0;e<q;e++)c(p[e]);a.Ux=!1;a.sk?a.sk.wl(a)&&a.ax():a.bq=function(){return new w(0,0)};$i(a);cj(a);a.xf(p,q,a);vj(a)}D.prototype.getRenderingHint=D.prototype.aw=function(a){return this.Sg[a]};
	D.prototype.setRenderingHint=D.prototype.iI=function(a,b){this.Sg[a]=b;this.Tz()};D.prototype.resetRenderingHints=D.prototype.qE=function(){this.Sg=new pa;this.Sg.drawShadows=!0;this.Sg.textGreeking=!0;this.Sg.viewportOptimizations=u.MD?!1:!0;this.Sg.temporaryPixelRatio=!0;this.Sg.pictureRatioOptimization=!0};function Ej(a,b){var c=a.Sg;if(null!==c){if(void 0!==c.imageSmoothingEnabled){var d=!!c.imageSmoothingEnabled;b.FD=d;b.cK=d}c=c.defaultFont;void 0!==c&&null!==c&&(b.font=c,b.Ft=c)}}
	D.prototype.getInputOption=D.prototype.hz=function(a){return this.fq[a]};D.prototype.setInputOption=function(a,b){this.fq[a]=b};D.prototype.resetInputOptions=D.prototype.pE=function(){this.fq=new pa;this.fq.extraTouchArea=10;this.fq.extraTouchThreshold=10};D.prototype.setProperties=function(a){u.pt(this,a)};function wj(a){if(0===a.ga.Le){for(var b=a.Fl.i;b.next();){var c=b.key,d=b.value;c.le();eh(c,d)}a.Fl.clear()}}
	D.prototype.na=function(a){void 0===a&&(a=null);if(null===a)this.Md=!0,this.de();else{var b=this.ob;null!==a&&a.I()&&b.tg(a)&&(this.Md=!0,this.de())}for(b=this.Vl.i;b.next();)b.value.na(a)};
	D.prototype.oz=function(a,b){if(!0!==this.Md){this.Md=!0;var c=!0===this.aw("temporaryPixelRatio");if(!0===this.aw("viewportOptimizations")&&this.yE!==Hj&&this.xE.Uv(0,0,0,0)&&b.width===a.width&&b.height===a.height){var d=this.scale,e=u.Sf(),f=Math.max(a.x,b.x),h=Math.max(a.y,b.y),k=Math.min(a.x+a.width,b.x+b.width),l=Math.min(a.y+a.height,b.y+b.height);e.x=f;e.y=h;e.width=Math.max(0,k-f)*d;e.height=Math.max(0,l-h)*d;if(0<e.width&&0<e.height){if(!this.wd&&(this.Ef=!1,null!==this.Kb)){this.wd=!0;ej(this);
		0!==this.Fl.count&&(wj(this),ej(this));this.Dd.I()||jj(this,this.lg());var m=this.jb;if(null!==m){var n=this.of,h=this.Ab*n,k=this.zb*n,f=this.scale*n,d=Math.round(Math.round(b.x*f)-Math.round(a.x*f)),f=Math.round(Math.round(b.y*f)-Math.round(a.y*f)),l=this.Fx,p=this.dB;l.width!==h&&(l.width=h);l.height!==k&&(l.height=k);p.clearRect(0,0,h,k);var l=190*this.of,q=70*this.of,r=Math.max(d,0),s=Math.max(f,0),t=Math.floor(h-r),v=Math.floor(k-s);p.FD=!1;p.drawImage(m.Ed,r,s,t,v,0,0,t,v);this.sk.wl(this)&&
		p.clearRect(0,0,l,q);var m=u.gb(),p=u.gb(),v=Math.abs(d),t=Math.abs(f),x=0===r?0:h-v,r=u.fc(x,0),v=u.fc(v+x,k);p.push(new z(Math.min(r.x,v.x),Math.min(r.y,v.y),Math.abs(r.x-v.x),Math.abs(r.y-v.y)));var A=this.Sd;A.reset();A.scale(n,n);1!==this.$b&&A.scale(this.$b);n=this.Na;(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&A.translate(-n.x,-n.y);Wa(r,A);Wa(v,A);m.push(new z(Math.min(r.x,v.x),Math.min(r.y,v.y),Math.abs(r.x-v.x),Math.abs(r.y-v.y)));x=0===s?0:k-t;r.m(0,x);v.m(h,t+x);p.push(new z(Math.min(r.x,
			v.x),Math.min(r.y,v.y),Math.abs(r.x-v.x),Math.abs(r.y-v.y)));Wa(r,A);Wa(v,A);m.push(new z(Math.min(r.x,v.x),Math.min(r.y,v.y),Math.abs(r.x-v.x),Math.abs(r.y-v.y)));this.sk.wl(this)&&(h=0<d?0:-d,k=0<f?0:-f,r.m(h,k),v.m(l+h,q+k),p.push(new z(Math.min(r.x,v.x),Math.min(r.y,v.y),Math.abs(r.x-v.x),Math.abs(r.y-v.y))),Wa(r,A),Wa(v,A),m.push(new z(Math.min(r.x,v.x),Math.min(r.y,v.y),Math.abs(r.x-v.x),Math.abs(r.y-v.y))));u.v(r);u.v(v);tj(this,!1);Fj(this,m,p,d,f);u.sa(m);u.sa(p);this.wd=!1}}}else this.cf();
		u.ic(e);c&&(this.jm=1,this.cf(),ki(this,!0))}else c?(this.jm=1,this.cf(),ki(this,!0)):this.cf();for(c=this.Vl.i;c.next();)c.value.oz()}};function sj(a){!1===a.Il&&(a.Il=!0)}function cj(a){!1===a.uk&&(a.uk=!0)}function Dj(a){!1!==a.hq&&(a.hq=!1,Ij(a,a.Ab,a.zb))}function Ij(a,b,c){var d=a.jb,e=a.of,f=b*e,e=c*e;if(d.width!==f||d.height!==e)d.width=f,d.height=e,d.style.width=b+"px",d.style.height=c+"px",a.Md=!0,$i(a)}
	function dj(a){var b=a.jb;if(null===b)return!0;var c=a.Kb,d=a.Ab,e=a.zb,f=a.CC.copy(),h=!1,k=a.rk?a.Ad:0,l=a.qk?a.Ad:0,m=c.clientWidth||d+k,c=c.clientHeight||e+l;if(m!==d+k||c!==e+l)a.rk=!1,a.qk=!1,l=k=0,a.Ab=m,a.zb=c,h=a.hq=!0;a.Il=!1;if(a.Mb.Xg)return h?(a.Mb.Ni(),a.oG(),!1):!0;var n=a.ob,p=a.Dd,m=p.width,c=p.height,q=n.width,r=n.height,s=p.x,t=n.x,v=p.right,k=n.right+k,x=p.y,A=n.y,p=p.bottom,l=n.bottom+l,y=n="1px",C=a.scale;a.lz&&a.Re&&(n=1,s+1<t&&(n=Math.max((t-s)*C+a.Ab,n)),v>k+1&&(n=Math.max((v-
		k)*C+a.Ab,n)),q+1<m&&(n=Math.max((m-q)*C+a.Ab,n)),n+="px");a.mz&&a.Se&&(y=1,x+1<A&&(y=Math.max((A-x)*C+a.zb,y)),p>l+1&&(y=Math.max((p-l)*C+a.zb,y)),r+1<c&&(y=Math.max((c-r)*C+a.zb,y)),y+="px");var I="1px"!==n,H="1px"!==y;if((!I||!H)&&I||H)H&&(k-=a.Ad),I&&(l-=a.Ad),a.lz&&a.Re&&(n=1,s+1<t&&(n=Math.max((t-s)*C+a.Ab,n)),v>k+1&&(n=Math.max((v-k)*C+a.Ab,n)),q+1<m&&(n=Math.max((m-q)*C+a.Ab,n)),n+="px"),a.mz&&a.Se&&(y=1,x+1<A&&(y=Math.max((A-x)*C+a.zb,y)),p>l+1&&(y=Math.max((p-l)*C+a.zb,y)),r+1<c&&(y=Math.max((c-
		r)*C+a.zb,y)),y+="px"),I="1px"!==n,H="1px"!==y;if(a.av&&I===a.qk&&H===a.rk)return d===a.Ab&&e===a.zb||a.cf(),!1;I!==a.qk&&(a.zb="1px"===n?a.zb+a.Ad:Math.max(a.zb-a.Ad,1),h=!0);a.qk=I;a.uy.style.width=n;H!==a.rk&&(a.Ab="1px"===y?a.Ab+a.Ad:Math.max(a.Ab-a.Ad,1),h=!0,a.wB&&(H?(b.style.left=a.Ad+"px",a.position=new w(a.Na.x+a.Ad/a.scale,a.Na.y)):(b.style.left="0px",a.position=new w(a.Na.x-a.Ad/a.scale,a.Na.y))));a.rk=H;a.vy.style.height=y;a.lz&&a.Re&&(q+1<m?a.uj.scrollLeft=(a.position.x-s)*C:s+1<t?a.uj.scrollLeft=
		a.uj.scrollWidth-a.uj.clientWidth:v>k+1&&(a.uj.scrollLeft=a.position.x*C));a.mz&&a.Se&&(r+1<c?a.vj.scrollTop=(a.position.y-x)*C:x+1<A?a.vj.scrollTop=a.vj.scrollHeight-a.vj.clientHeight:p>l+1&&(a.vj.scrollTop=a.position.y*C));h&&(a.hq=!0);m=a.Ab;c=a.zb;a.vj.style.height=c+"px";a.vj.style.width=m+(a.rk?a.Ad:0)+"px";a.uj.style.width=m+"px";a.uj.style.height=c+(a.qk?a.Ad:0)+"px";a.ty=!1;return d!==m||e!==c||a.Mb.bd?(n=a.ob,a.et(f,n,h),!1):!0}
	D.prototype.add=D.prototype.add=function(a){u.C(a,G,D,"add:part");var b=a.g;if(b!==this){null!==b&&u.k("Cannot add part "+a.toString()+" to "+this.toString()+". It is already a part of "+b.toString());this.Wm&&(a.wk="Tool");var c=a.wf,b=this.xs(c);null===b&&(b=this.xs(""));null===b&&u.k('Cannot add a Part when unable find a Layer named "'+c+'" and there is no default Layer');a.layer!==b&&(c=b.Go(99999999,a,a.g===this),0<=c&&this.Cc(be,"parts",b,null,a,null,c),b.zc||this.pc(),a.H(Jj),c=a.Ss,null!==
	c&&c(a,null,b))}};
	D.prototype.Go=function(a){if(a instanceof U){if(this.Sn.add(a),a instanceof V){var b=a.Sa;null===b?this.Ik.add(a):b.Qn.add(a);b=a.Qb;null!==b&&(b.g=this)}}else a instanceof W?this.On.add(a):a instanceof lf||this.Db.add(a);var c=this;Kj(a,function(a){Lj(c,a)});a.Ib&&a.R();b=a.data;null!==b&&(a instanceof lf||(a instanceof W?this.lk.add(b,a):this.ai.add(b,a)),Kj(a,function(a){Mj(c,a)}));!0!==Bj(a)&&!0!==Cj(a)||this.Yf.add(a);Nj(a,!0,this);Oj(a)?(a.ba.I()&&this.na(yi(a,a.ba)),this.pc()):a.Ga()&&a.ba.I()&&
	this.na(yi(a,a.ba));this.de()};
	D.prototype.Fe=function(a){a.ns();if(a instanceof U){if(this.Sn.remove(a),a instanceof V){var b=a.Sa;null===b?this.Ik.remove(a):b.Qn.remove(a);b=a.Qb;null!==b&&(b.g=null)}}else a instanceof W?this.On.remove(a):a instanceof lf||this.Db.remove(a);var c=this;Kj(a,function(a){Pj(c,a)});b=a.data;null!==b&&(a instanceof lf||(a instanceof W?this.lk.remove(b):this.ai.remove(b)),Kj(a,function(a){Qj(c,a)}));this.Yf.remove(a);Oj(a)?(a.ba.I()&&this.na(yi(a,a.ba)),this.pc()):a.Ga()&&a.ba.I()&&this.na(yi(a,a.ba));
		this.de()};D.prototype.remove=D.prototype.remove=function(a){u.C(a,G,D,"remove:part");a.Za=!1;a.Yg=!1;var b=a.layer;if(null!==b&&b.g===this){a.H(Rj);a.ym();var c=b.Fe(-1,a,!1);0<=c&&this.Cc(ce,"parts",b,a,null,c,null);c=a.Ss;null!==c&&c(a,b,null)}};D.prototype.removeParts=D.prototype.Xz=function(a,b){if(u.isArray(a))for(var c=u.qb(a),d=0;d<c;d++){var e=u.hb(a,d);b&&!e.canDelete()||this.remove(e)}else for(e=new F(G),e.Td(a),c=e.i;c.next();)e=c.value,b&&!e.canDelete()||this.remove(e)};
	D.prototype.copyParts=D.prototype.uo=function(a,b,c){return this.Eb.uo(a,b,c)};D.prototype.moveParts=D.prototype.moveParts=function(a,b,c){u.C(b,w,D,"moveParts:offset");var d=this.tb;if(null!==d){d=d.Fd;null===d&&(d=new uf,d.Dc(this));var e=new la(G,Object);if(null!==a)a=a.i;else{for(a=this.Sj;a.next();)Hf(d,e,a.value,c);for(a=this.zg;a.next();)Hf(d,e,a.value,c);a=this.links}for(;a.next();)Hf(d,e,a.value,c);d.moveParts(e,b,c)}};
	function Sj(a,b,c){u.C(b,we,D,"addLayer:layer");null!==b.g&&b.g!==a&&u.k("Cannot share a Layer with another Diagram: "+b+" of "+b.g);null===c?null!==b.g&&u.k("Cannot add an existing Layer to this Diagram again: "+b):(u.C(c,we,D,"addLayer:existingLayer"),c.g!==a&&u.k("Existing Layer must be in this Diagram: "+c+" not in "+c.g),b===c&&u.k("Cannot move a Layer before or after itself: "+b));if(b.g!==a){b=b.name;a=a.Zb;c=a.count;for(var d=0;d<c;d++)a.ja(d).name===b&&u.k("Cannot add Layer with the name '"+
		b+"'; a Layer with the same name is already present in this Diagram.")}}D.prototype.addLayer=D.prototype.es=function(a){Sj(this,a,null);a.Dc(this);var b=this.Zb,c=b.count-1;if(!a.zc)for(;0<=c&&b.ja(c).zc;)c--;b.Yd(c+1,a);null!==this.Od&&this.Cc(be,"layers",this,null,a,null,c+1);this.na();this.pc()};
	D.prototype.addLayerBefore=D.prototype.LF=function(a,b){Sj(this,a,b);a.Dc(this);var c=this.Zb,d=c.indexOf(a);0<=d&&(c.remove(a),null!==this.Od&&this.Cc(ce,"layers",this,a,null,d,null));for(var e=c.count,f=0;f<e;f++)if(c.ja(f)===b){c.Yd(f,a);break}null!==this.Od&&this.Cc(be,"layers",this,null,a,null,f);this.na();0>d&&this.pc()};
	D.prototype.addLayerAfter=function(a,b){Sj(this,a,b);a.Dc(this);var c=this.Zb,d=c.indexOf(a);0<=d&&(c.remove(a),null!==this.Od&&this.Cc(ce,"layers",this,a,null,d,null));for(var e=c.count,f=0;f<e;f++)if(c.ja(f)===b){c.Yd(f+1,a);break}null!==this.Od&&this.Cc(be,"layers",this,null,a,null,f+1);this.na();0>d&&this.pc()};
	D.prototype.removeLayer=function(a){u.C(a,we,D,"removeLayer:layer");a.g!==this&&u.k("Cannot remove a Layer from another Diagram: "+a+" of "+a.g);if(""!==a.name){var b=this.Zb,c=b.indexOf(a);if(b.remove(a)){for(b=a.Db.copy().i;b.next();){var d=b.value,e=d.wf;d.wf=e!==a.name?e:""}null!==this.Od&&this.Cc(ce,"layers",this,a,null,c,null);this.na();this.pc()}}};D.prototype.findLayer=D.prototype.xs=function(a){for(var b=this.nw;b.next();){var c=b.value;if(c.name===a)return c}return null};
	D.prototype.addChangedListener=D.prototype.Ky=function(a){u.j(a,"function",D,"addChangedListener:listener");null===this.Ui&&(this.Ui=new E("function"));this.Ui.add(a)};D.prototype.removeChangedListener=D.prototype.Uz=function(a){u.j(a,"function",D,"removeChangedListener:listener");null!==this.Ui&&(this.Ui.remove(a),0===this.Ui.count&&(this.Ui=null))};
	D.prototype.Lv=function(a){this.fb||this.ga.DD(a);a.Bd!==ae&&(this.Sh=!0);if(null!==this.Ui){var b=this.Ui,c=b.length;if(1===c)b=b.ja(0),b(a);else if(0!==c)for(var d=b.Ke(),e=0;e<c;e++)b=d[e],b(a)}};D.prototype.raiseChangedEvent=D.prototype.Cc=function(a,b,c,d,e,f,h){void 0===f&&(f=null);void 0===h&&(h=null);var k=new Zd;k.g=this;k.Bd=a;k.propertyName=b;k.object=c;k.oldValue=d;k.Ag=f;k.newValue=e;k.yg=h;this.Lv(k)};
	D.prototype.raiseChanged=D.prototype.h=function(a,b,c,d,e){this.Cc($d,a,this,b,c,d,e)};u.u(D,{Mb:"animationManager"},function(){return this.oh});u.u(D,{ga:"undoManager"},function(){return this.Od.ga});u.defineProperty(D,{fb:"skipsUndoManager"},function(){return this.ri},function(a){u.j(a,"boolean",D,"skipsUndoManager");this.ri=a;this.Od.ri=a});u.defineProperty(D,{bz:"delaysLayout"},function(){return this.Bx},function(a){this.Bx=a});
	D.prototype.qm=function(a,b){if(null!==a&&a.g===this){var c=a.Bd;if(c===$d){var d=a.object,c=a.propertyName,e=a.ua(b);u.Pa(d,c,e);d instanceof T&&(d=d.T,null!==d&&d.Zd());this.Sh=!0}else if(c===be){e=a.object;c=a.yg;d=a.newValue;if(e instanceof B)if("number"===typeof c&&d instanceof T){var f=e;b?f.Fe(c):f.Yd(c,d);d=e.T;null!==d&&d.Zd()}else"number"===typeof c&&d instanceof Se&&(f=e,b?d.ae?f.oE(c):f.kE(c):(c=d.ae?f.gd(d.index):f.fd(d.index),c.ss(d)));else e instanceof we?(f=!0===a.Ag,"number"===typeof c&&
	d instanceof G&&(b?(d.Zd(),e.Fe(f?c:-1,d,f)):e.Go(c,d,f))):e instanceof D?"number"===typeof c&&d instanceof we&&(e=d,b?this.Zb.jd(c):(e.Dc(this),this.Zb.Yd(c,e))):u.k("unknown ChangedEvent.Insert object: "+a.toString());this.Sh=!0}else c===ce?(e=a.object,c=a.Ag,d=a.oldValue,e instanceof B?"number"===typeof c&&d instanceof T?(f=e,b?f.Yd(c,d):f.Fe(c)):"number"===typeof c&&d instanceof Se&&(f=e,b?(c=d.ae?f.gd(d.index):f.fd(d.index),c.ss(d)):d.ae?f.oE(c):f.kE(c)):e instanceof we?(f=!0===a.yg,"number"===
	typeof c&&d instanceof G&&(b?e.Go(c,d,f):(d.Zd(),e.Fe(f?c:-1,d,f)))):e instanceof D?"number"===typeof c&&d instanceof we&&(e=d,b?(e.Dc(this),this.Zb.Yd(c,e)):this.Zb.jd(c)):u.k("unknown ChangedEvent.Remove object: "+a.toString()),this.Sh=!0):c!==ae&&u.k("unknown ChangedEvent: "+a.toString())}};D.prototype.startTransaction=D.prototype.Wb=function(a){return this.ga.Wb(a)};D.prototype.commitTransaction=D.prototype.Wd=function(a){return this.ga.Wd(a)};D.prototype.rollbackTransaction=D.prototype.cp=function(){return this.ga.cp()};
	D.prototype.updateAllTargetBindings=D.prototype.DI=function(a){void 0===a&&(a="");for(var b=this.Sj;b.next();)b.value.Ob(a);for(b=this.zg;b.next();)b.value.Ob(a);for(b=this.links;b.next();)b.value.Ob(a)};D.prototype.updateAllRelationshipsFromData=function(){for(var a=this.Sj;a.next();)a.value.updateRelationshipsFromData();for(a=this.zg;a.next();)a.value.updateRelationshipsFromData();for(a=this.links;a.next();)a.value.updateRelationshipsFromData()};
	function Tj(a,b,c){if(a.Oc||a.wd)a.$b=c;else if(a.Oc=!0,null===a.jb)a.$b=c;else{var d=a.ob.copy(),e=a.Ab,f=a.zb;d.width=a.Ab/b;d.height=a.zb/b;var h=a.Sm.copy();if(isNaN(h.x))switch(a.Uy){case Xb:h.x=0;break;case Yb:h.x=e-1;break;case Ib:h.x=e/2;break;case uc:case tc:h.x=e/2}if(isNaN(h.y))switch(a.Uy){case Wb:h.y=0;break;case Zb:h.y=f-1;break;case Ib:h.y=f/2;break;case uc:case tc:h.y=f/2}null!==a.wE&&(c=a.wE(a,c));c<a.$g&&(c=a.$g);c>a.Zg&&(c=a.Zg);a.position=new w(a.Na.x+h.x/b-h.x/c,a.Na.y+h.y/b-
		h.y/c);a.Oc=!1;a.$b=c;a.et(d,a.ob);gj(a,!1);a.na();sj(a)}}D.prototype.et=function(a,b,c){void 0===c&&(c=!1);c||sj(this);cj(this);var d=this.Qb;null===d||!d.kw||c||a.width===b.width&&a.height===b.height||d.H();d=this.Va;!0===this.Kl&&d instanceof jf&&(this.N.da=this.WE(this.N.gf),d.doMouseMove());this.oz(a,b);vj(this);this.Ba("ViewportBoundsChanged",c?u.nh:null,a)};
	function vj(a,b){void 0===b&&(b=null);var c=a.ad;if(null!==c&&c.visible){for(var d=u.ul(),e=1,f=1,h=c.Aa.n,k=h.length,l=0;l<k;l++){var m=h[l],n=m.interval;2>n||(Zj(m.Fb)?f=f*n/K.xD(f,n):e=e*n/K.xD(e,n))}h=c.bw;d.m(f*h.width,e*h.height);h=f=l=k=0;if(null!==b)k=b.width,l=b.height,f=b.x,h=b.y;else{e=u.Sf();f=a.ob;e.m(f.x,f.y,f.width,f.height);for(h=a.Vl.i;h.next();)f=h.value.ob,f.I()&&kb(e,f.x,f.y,f.width,f.height);k=e.width;l=e.height;f=e.x;h=e.y;if(!e.I())return}c.width=k+2*d.width;c.height=l+2*d.height;
		e=u.K();K.ys(f,h,0,0,d.width,d.height,e);e.offset(-d.width,-d.height);u.Oj(d);c.T.location=e;u.v(e)}}D.prototype.clearSelection=D.prototype.Nv=function(){var a=0<this.selection.count;a&&this.Ba("ChangingSelection");of(this);a&&this.Ba("ChangedSelection")};function of(a){a=a.selection;if(0<a.count){for(var b=a.Ke(),c=b.length,d=0;d<c;d++)b[d].Za=!1;a.Ma();a.clear();a.freeze()}}
	D.prototype.select=D.prototype.select=function(a){null!==a&&(u.C(a,G,D,"select:part"),a.layer.g===this&&(!a.Za||1<this.selection.count)&&(this.Ba("ChangingSelection"),of(this),a.Za=!0,this.Ba("ChangedSelection")))};
	D.prototype.selectCollection=D.prototype.CE=function(a){this.Ba("ChangingSelection");of(this);if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++){var d=u.hb(a,c);d instanceof G||u.k("Diagram.selectCollection given something that is not a Part: "+d);d.Za=!0}else for(a=a.i;a.next();)d=a.value,d instanceof G||u.k("Diagram.selectCollection given something that is not a Part: "+d),d.Za=!0;this.Ba("ChangedSelection")};
	D.prototype.clearHighlighteds=D.prototype.WC=function(){var a=this.cw;if(0<a.count){for(var b=a.Ke(),c=b.length,d=0;d<c;d++)b[d].Yg=!1;a.Ma();a.clear();a.freeze()}};D.prototype.highlight=function(a){null!==a&&a.layer.g===this&&(u.C(a,G,D,"highlight:part"),!a.Yg||1<this.cw.count)&&(this.WC(),a.Yg=!0)};
	D.prototype.highlightCollection=function(a){this.WC();if(u.isArray(a))for(var b=u.qb(a),c=0;c<b;c++){var d=u.hb(a,c);d instanceof G||u.k("Diagram.highlightCollection given something that is not a Part: "+d);d.Yg=!0}else for(a=a.i;a.next();)d=a.value,d instanceof G||u.k("Diagram.highlightCollection given something that is not a Part: "+d),d.Yg=!0};
	D.prototype.scroll=D.prototype.scroll=function(a,b,c){void 0===c&&(c=1);var d="up"===b||"down"===b,e=0;"pixel"===a?e=c:"line"===a?e=c*(d?this.nt:this.mt):"page"===a?(a=d?this.ob.height:this.ob.width,a*=this.scale,0!==a&&(e=Math.max(a-(d?this.nt:this.mt),0),e*=c)):u.k("scrolling unit must be 'pixel', 'line', or 'page', not: "+a);e/=this.scale;c=this.position.copy();"up"===b?c.y=this.position.y-e:"down"===b?c.y=this.position.y+e:"left"===b?c.x=this.position.x-e:"right"===b?c.x=this.position.x+e:u.k("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+
		b);this.position=c};D.prototype.scrollToRect=D.prototype.cI=function(a){var b=this.ob;b.Kj(a)||(a=a.Ok,a.x-=b.width/2,a.y-=b.height/2,this.position=a)};D.prototype.centerRect=function(a){var b=this.ob;a=a.Ok;a.x-=b.width/2;a.y-=b.height/2;this.position=a};D.prototype.transformDocToView=D.prototype.UE=function(a){var b=this.Sd;b.reset();1!==this.$b&&b.scale(this.$b);var c=this.Na;(0!==c.x||0!==c.y)&&isFinite(c.x)&&isFinite(c.y)&&b.translate(-c.x,-c.y);return a.copy().transform(this.Sd)};
	D.prototype.transformViewToDoc=D.prototype.WE=function(a){var b=this.Sd;b.reset();1!==this.$b&&b.scale(this.$b);var c=this.Na;(0!==c.x||0!==c.y)&&isFinite(c.x)&&isFinite(c.y)&&b.translate(-c.x,-c.y);return Wa(a.copy(),this.Sd)};var vf;D.None=vf=u.s(D,"None",0);var kj;D.Uniform=kj=u.s(D,"Uniform",1);var lj;D.UniformToFill=lj=u.s(D,"UniformToFill",2);var Hg;D.CycleAll=Hg=u.s(D,"CycleAll",10);var Lg;D.CycleNotDirected=Lg=u.s(D,"CycleNotDirected",11);var Vg;
	D.CycleNotDirectedFast=Vg=u.s(D,"CycleNotDirectedFast",12);var Wg;D.CycleNotUndirected=Wg=u.s(D,"CycleNotUndirected",13);var Ig;D.CycleDestinationTree=Ig=u.s(D,"CycleDestinationTree",14);var Kg;D.CycleSourceTree=Kg=u.s(D,"CycleSourceTree",15);var Ni;D.DocumentScroll=Ni=u.s(D,"DocumentScroll",1);var Hj;D.InfiniteScroll=Hj=u.s(D,"InfiniteScroll",2);
	u.defineProperty(D,{EI:"validCycle"},function(){return this.uv},function(a){var b=this.uv;b!==a&&(u.rb(a,D,D,"validCycle"),this.uv=a,this.h("validCycle",b,a))});u.defineProperty(D,{pw:"linkSpacing"},function(){return this.gj},function(a){var b=this.gj;b!==a&&(u.ze(a,D,"linkSpacing"),0>a&&u.xa(a,">= zero",D,"linkSpacing"),this.gj=a,this.h("linkSpacing",b,a))});u.u(D,{nw:"layers"},function(){return this.Zb.i});
	u.defineProperty(D,{uf:"isModelReadOnly"},function(){var a=this.Od;return null===a?!1:a.nb},function(a){var b=this.Od;null!==b&&(b.nb=a)});u.defineProperty(D,{nb:"isReadOnly"},function(){return this.vk},function(a){var b=this.vk;b!==a&&(u.j(a,"boolean",D,"isReadOnly"),this.vk=a,this.h("isReadOnly",b,a))});u.defineProperty(D,{isEnabled:"isEnabled"},function(){return this.Ne},function(a){var b=this.Ne;b!==a&&(u.j(a,"boolean",D,"isEnabled"),this.Ne=a,this.h("isEnabled",b,a))});
	u.defineProperty(D,{Ny:"allowClipboard"},function(){return this.Ht},function(a){var b=this.Ht;b!==a&&(u.j(a,"boolean",D,"allowClipboard"),this.Ht=a,this.h("allowClipboard",b,a))});u.defineProperty(D,{Ij:"allowCopy"},function(){return this.Xj},function(a){var b=this.Xj;b!==a&&(u.j(a,"boolean",D,"allowCopy"),this.Xj=a,this.h("allowCopy",b,a))});
	u.defineProperty(D,{mm:"allowDelete"},function(){return this.Yj},function(a){var b=this.Yj;b!==a&&(u.j(a,"boolean",D,"allowDelete"),this.Yj=a,this.h("allowDelete",b,a))});u.defineProperty(D,{Cv:"allowDragOut"},function(){return this.It},function(a){var b=this.It;b!==a&&(u.j(a,"boolean",D,"allowDragOut"),this.It=a,this.h("allowDragOut",b,a))});
	u.defineProperty(D,{MC:"allowDrop"},function(){return this.Jt},function(a){var b=this.Jt;b!==a&&(u.j(a,"boolean",D,"allowDrop"),this.Jt=a,this.h("allowDrop",b,a))});u.defineProperty(D,{Gv:"allowTextEdit"},function(){return this.gk},function(a){var b=this.gk;b!==a&&(u.j(a,"boolean",D,"allowTextEdit"),this.gk=a,this.h("allowTextEdit",b,a))});
	u.defineProperty(D,{Dv:"allowGroup"},function(){return this.Zj},function(a){var b=this.Zj;b!==a&&(u.j(a,"boolean",D,"allowGroup"),this.Zj=a,this.h("allowGroup",b,a))});u.defineProperty(D,{Hv:"allowUngroup"},function(){return this.hk},function(a){var b=this.hk;b!==a&&(u.j(a,"boolean",D,"allowUngroup"),this.hk=a,this.h("allowUngroup",b,a))});
	u.defineProperty(D,{mo:"allowInsert"},function(){return this.Lt},function(a){var b=this.Lt;b!==a&&(u.j(a,"boolean",D,"allowInsert"),this.Lt=a,this.h("allowInsert",b,a))});u.defineProperty(D,{js:"allowLink"},function(){return this.$j},function(a){var b=this.$j;b!==a&&(u.j(a,"boolean",D,"allowLink"),this.$j=a,this.h("allowLink",b,a))});
	u.defineProperty(D,{nm:"allowRelink"},function(){return this.bk},function(a){var b=this.bk;b!==a&&(u.j(a,"boolean",D,"allowRelink"),this.bk=a,this.h("allowRelink",b,a))});u.defineProperty(D,{Nk:"allowMove"},function(){return this.ak},function(a){var b=this.ak;b!==a&&(u.j(a,"boolean",D,"allowMove"),this.ak=a,this.h("allowMove",b,a))});
	u.defineProperty(D,{Ev:"allowReshape"},function(){return this.ck},function(a){var b=this.ck;b!==a&&(u.j(a,"boolean",D,"allowReshape"),this.ck=a,this.h("allowReshape",b,a))});u.defineProperty(D,{ks:"allowResize"},function(){return this.dk},function(a){var b=this.dk;b!==a&&(u.j(a,"boolean",D,"allowResize"),this.dk=a,this.h("allowResize",b,a))});
	u.defineProperty(D,{Fv:"allowRotate"},function(){return this.ek},function(a){var b=this.ek;b!==a&&(u.j(a,"boolean",D,"allowRotate"),this.ek=a,this.h("allowRotate",b,a))});u.defineProperty(D,{pf:"allowSelect"},function(){return this.fk},function(a){var b=this.fk;b!==a&&(u.j(a,"boolean",D,"allowSelect"),this.fk=a,this.h("allowSelect",b,a))});
	u.defineProperty(D,{NC:"allowUndo"},function(){return this.Mt},function(a){var b=this.Mt;b!==a&&(u.j(a,"boolean",D,"allowUndo"),this.Mt=a,this.h("allowUndo",b,a))});u.defineProperty(D,{Iv:"allowZoom"},function(){return this.Ot},function(a){var b=this.Ot;b!==a&&(u.j(a,"boolean",D,"allowZoom"),this.Ot=a,this.h("allowZoom",b,a))});
	u.defineProperty(D,{mz:"hasVerticalScrollbar"},function(){return this.ru},function(a){var b=this.ru;b!==a&&(u.j(a,"boolean",D,"hasVerticalScrollbar"),this.ru=a,sj(this),this.na(),this.h("hasVerticalScrollbar",b,a),gj(this,!1))});u.defineProperty(D,{lz:"hasHorizontalScrollbar"},function(){return this.qu},function(a){var b=this.qu;b!==a&&(u.j(a,"boolean",D,"hasHorizontalScrollbar"),this.qu=a,sj(this),this.na(),this.h("hasHorizontalScrollbar",b,a),gj(this,!1))});
	u.defineProperty(D,{Re:"allowHorizontalScroll"},function(){return this.Kt},function(a){var b=this.Kt;b!==a&&(u.j(a,"boolean",D,"allowHorizontalScroll"),this.Kt=a,this.h("allowHorizontalScroll",b,a),gj(this,!1))});u.defineProperty(D,{Se:"allowVerticalScroll"},function(){return this.Nt},function(a){var b=this.Nt;b!==a&&(u.j(a,"boolean",D,"allowVerticalScroll"),this.Nt=a,this.h("allowVerticalScroll",b,a),gj(this,!1))});
	u.defineProperty(D,{mt:"scrollHorizontalLineChange"},function(){return this.bv},function(a){var b=this.bv;b!==a&&(u.j(a,"number",D,"scrollHorizontalLineChange"),0>a&&u.xa(a,">= 0",D,"scrollHorizontalLineChange"),this.bv=a,this.h("scrollHorizontalLineChange",b,a))});
	u.defineProperty(D,{nt:"scrollVerticalLineChange"},function(){return this.cv},function(a){var b=this.cv;b!==a&&(u.j(a,"number",D,"scrollVerticalLineChange"),0>a&&u.xa(a,">= 0",D,"scrollVerticalLineChange"),this.cv=a,this.h("scrollVerticalLineChange",b,a))});u.defineProperty(D,{N:"lastInput"},function(){return this.Pb},function(a){this.Pb=a});u.defineProperty(D,{vc:"firstInput"},function(){return this.nk},function(a){this.nk=a});
	u.defineProperty(D,{ac:"currentCursor"},function(){return this.ux},function(a){""===a&&(a=this.Rp);this.ux!==a&&(u.j(a,"string",D,"currentCursor"),null!==this.jb&&(this.ux=a,this.jb.style.cursor=a,this.Kb.style.cursor=a))});u.defineProperty(D,{nJ:"defaultCursor"},function(){return this.Rp},function(a){""===a&&(a="auto");var b=this.Rp;b!==a&&(u.j(a,"string",D,"defaultCursor"),this.Rp=a,this.h("defaultCursor",b,a))});
	u.defineProperty(D,{BJ:"hasGestureZoom"},function(){return this.zn},function(a){var b=this.zn;b!==a&&(u.j(a,"boolean",D,"hasGestureZoom"),this.zn=a,this.h("hasGestureZoom",b,a))});u.defineProperty(D,{click:"click"},function(){return this.Xh},function(a){var b=this.Xh;b!==a&&(null!==a&&u.j(a,"function",D,"click"),this.Xh=a,this.h("click",b,a))});
	u.defineProperty(D,{us:"doubleClick"},function(){return this.di},function(a){var b=this.di;b!==a&&(null!==a&&u.j(a,"function",D,"doubleClick"),this.di=a,this.h("doubleClick",b,a))});u.defineProperty(D,{Vy:"contextClick"},function(){return this.Zh},function(a){var b=this.Zh;b!==a&&(null!==a&&u.j(a,"function",D,"contextClick"),this.Zh=a,this.h("contextClick",b,a))});
	u.defineProperty(D,{Gz:"mouseOver"},function(){return this.ni},function(a){var b=this.ni;b!==a&&(null!==a&&u.j(a,"function",D,"mouseOver"),this.ni=a,this.h("mouseOver",b,a))});u.defineProperty(D,{Fz:"mouseHover"},function(){return this.mi},function(a){var b=this.mi;b!==a&&(null!==a&&u.j(a,"function",D,"mouseHover"),this.mi=a,this.h("mouseHover",b,a))});
	u.defineProperty(D,{Ez:"mouseHold"},function(){return this.li},function(a){var b=this.li;b!==a&&(null!==a&&u.j(a,"function",D,"mouseHold"),this.li=a,this.h("mouseHold",b,a))});u.defineProperty(D,{EH:"mouseDragOver"},function(){return this.Pu},function(a){var b=this.Pu;b!==a&&(null!==a&&u.j(a,"function",D,"mouseDragOver"),this.Pu=a,this.h("mouseDragOver",b,a))});
	u.defineProperty(D,{Dz:"mouseDrop"},function(){return this.ki},function(a){var b=this.ki;b!==a&&(null!==a&&u.j(a,"function",D,"mouseDrop"),this.ki=a,this.h("mouseDrop",b,a))});u.defineProperty(D,{mA:"toolTip"},function(){return this.ui},function(a){var b=this.ui;b!==a&&(null!==a&&u.C(a,lf,D,"toolTip"),this.ui=a,this.h("toolTip",b,a))});
	u.defineProperty(D,{contextMenu:"contextMenu"},function(){return this.$h},function(a){var b=this.$h;b!==a&&(null!==a&&u.C(a,lf,D,"contextMenu"),this.$h=a,this.h("contextMenu",b,a))});u.defineProperty(D,{Eb:"commandHandler"},function(){return this.kx},function(a){var b=this.kx;b!==a&&(u.C(a,sa,D,"commandHandler"),null!==a.g&&u.k("Cannot share CommandHandlers between Diagrams: "+a.toString()),null!==b&&b.Dc(null),this.kx=a,a.Dc(this))});
	u.defineProperty(D,{tb:"toolManager"},function(){return this.Gy},function(a){var b=this.Gy;b!==a&&(u.C(a,jf,D,"toolManager"),null!==a.g&&u.k("Cannot share ToolManagers between Diagrams: "+a.toString()),null!==b&&b.Dc(null),this.Gy=a,a.Dc(this))});u.defineProperty(D,{az:"defaultTool"},function(){return this.Ax},function(a){var b=this.Ax;b!==a&&(u.C(a,xe,D,"defaultTool"),this.Ax=a,this.Va===b&&(this.Va=a))});
	u.defineProperty(D,{Va:"currentTool"},function(){return this.wx},function(a){var b=this.wx;if(null!==b)for(b.oa&&b.doDeactivate(),b.cancelWaitAfter(),b.doStop(),b=this.Vl.i;b.next();)b.value.na();null===a&&(a=this.az);null!==a&&(u.C(a,xe,D,"currentTool"),this.wx=a,a.Dc(this),a.doStart())});u.u(D,{selection:"selection"},function(){return this.fv});
	u.defineProperty(D,{wH:"maxSelectionCount"},function(){return this.Ku},function(a){var b=this.Ku;if(b!==a)if(u.j(a,"number",D,"maxSelectionCount"),0<=a&&!isNaN(a)){if(this.Ku=a,this.h("maxSelectionCount",b,a),!this.ga.eb&&(a=this.selection.count-a,0<a)){this.Ba("ChangingSelection");for(var b=this.selection.Ke(),c=0;c<a;c++)b[c].Za=!1;this.Ba("ChangedSelection")}}else u.xa(a,">= 0",D,"maxSelectionCount")});
	u.defineProperty(D,{HH:"nodeSelectionAdornmentTemplate"},function(){return this.Ru},function(a){var b=this.Ru;b!==a&&(u.C(a,lf,D,"nodeSelectionAdornmentTemplate"),this.Ru=a,this.h("nodeSelectionAdornmentTemplate",b,a))});u.defineProperty(D,{MG:"groupSelectionAdornmentTemplate"},function(){return this.nu},function(a){var b=this.nu;b!==a&&(u.C(a,lf,D,"groupSelectionAdornmentTemplate"),this.nu=a,this.h("groupSelectionAdornmentTemplate",b,a))});
	u.defineProperty(D,{sH:"linkSelectionAdornmentTemplate"},function(){return this.Fu},function(a){var b=this.Fu;b!==a&&(u.C(a,lf,D,"linkSelectionAdornmentTemplate"),this.Fu=a,this.h("linkSelectionAdornmentTemplate",b,a))});u.u(D,{cw:"highlighteds"},function(){return this.su});
	u.defineProperty(D,{Sh:"isModified"},function(){var a=this.ga;return a.isEnabled?null!==a.Ei?!0:this.Wx&&this.Kg!==a.Ji:this.Wx},function(a){if(this.Wx!==a){u.j(a,"boolean",D,"isModified");this.Wx=a;var b=this.ga;!a&&b.isEnabled&&(this.Kg=b.Ji);a||ik(this)}});function ik(a){var b=a.Sh;a.DC!==b&&(a.DC=b,a.Ba("Modified"))}
	u.defineProperty(D,{ha:"model"},function(){return this.Od},function(a){var b=this.Od;if(b!==a){u.C(a,J,D,"model");this.Va.doCancel();null!==b&&b.ga!==a.ga&&b.ga.ND&&u.k("Do not replace a Diagram.model while a transaction is in progress.");this.Mb.Ni();this.Nv();this.mf=!1;this.vn=!0;this.Kg=-2;this.Ef=!1;var c=this.wd;this.wd=!0;this.Mb.ml();null!==b&&(b.Uz(this.GB),b instanceof Q&&jk(this,b.Qj),jk(this,b.dh));this.Od=a;a.Ky(this.FB);kk(this,a.dh);a instanceof Q&&lk(this,a.Qj);a.Uz(this.FB);a.Ky(this.GB);
		this.wd=c;this.Oc||this.na();null!==b&&(a.ga.isEnabled=b.ga.isEnabled)}});u.defineProperty(D,{Oa:null},function(){return this.yB},function(a){this.yB=a});u.u(D,{rw:null},function(){return this.tF});
	function Qi(a,b){if(b.ha===a.ha){var c=b.Bd,d=b.propertyName;if(c===ae&&"S"===d[0])if("StartingFirstTransaction"===d)c=a.tb,c.df.each(function(b){b.Dc(a)}),c.Mf.each(function(b){b.Dc(a)}),c.Nf.each(function(b){b.Dc(a)}),a.wd||a.mf||(a.eu=!0,a.vn&&(a.Ef=!0),a.oh.ml());else if("StartingUndo"===d||"StartingRedo"===d){var e=a.Mb;e.Xg&&!a.fb&&e.Ni();a.Ba("ChangingSelection")}else"StartedTransaction"===d&&(e=a.Mb,e.Xg&&!a.fb&&e.Ni(),a.Au&&e.ml());else if(a.Oa){a.Oa=!1;try{var f=b.Lf;if(""!==f)if(c===$d){if("linkFromKey"===
		f){var h=b.object,k=a.og(h);if(null!==k){var l=b.newValue,m=a.Xe(l);k.W=m}}else if("linkToKey"===f)h=b.object,k=a.og(h),null!==k&&(l=b.newValue,m=a.Xe(l),k.ca=m);else if("linkFromPortId"===f){if(h=b.object,k=a.og(h),null!==k){var n=b.newValue;"string"===typeof n&&(k.qg=n)}}else if("linkToPortId"===f)h=b.object,k=a.og(h),null!==k&&(n=b.newValue,"string"===typeof n&&(k.mh=n));else if("nodeGroupKey"===f){var h=b.object,p=a.Ph(h);if(null!==p){var q=b.newValue;if(void 0!==q){var r=a.Xe(q);p.Sa=r instanceof
	V?r:null}else p.Sa=null}}else if("linkLabelKeys"===f){if(h=b.object,k=a.og(h),null!==k){var s=b.oldValue,t=b.newValue;if(u.isArray(s))for(var v=u.qb(s),x=0;x<v;x++){var A=u.hb(s,x),m=a.Xe(A);null!==m&&(m.ce=null)}if(u.isArray(t))for(v=u.qb(t),x=0;x<v;x++)A=u.hb(t,x),m=a.Xe(A),null!==m&&(m.ce=k)}}else if("nodeParentKey"===f){var y=b.object,C=a.Xe(b.newValue),I=a.Yv(y);if(null!==I){var H=I.Bs();null!==H?null===C?a.remove(H):a.qd?H.W=C:H.ca=C:mk(a,C,I)}}else if("parentLinkCategory"===f){var y=b.object,
		I=a.Yv(y),R=b.newValue;null!==I&&"string"===typeof R&&(H=I.Bs(),null!==H&&(H.Jc=R))}else if("nodeCategory"===f){var h=b.object,aa=a.Ph(h),R=b.newValue;null!==aa&&"string"===typeof R&&(aa.Jc=R)}else if("linkCategory"===f){var h=b.object,S=a.og(h),R=b.newValue;null!==S&&"string"===typeof R&&(S.Jc=R)}else if("nodeDataArray"===f){var N=b.oldValue;jk(a,N);var Z=b.newValue;kk(a,Z)}else"linkDataArray"===f&&(N=b.oldValue,jk(a,N),Z=b.newValue,lk(a,Z));a.Sh=!0}else c===be?(Z=b.newValue,"nodeDataArray"===f&&
	u.Ta(Z)?nk(a,Z):"linkDataArray"===f&&u.Ta(Z)?ok(a,Z):"linkLabelKeys"===f&&Ne(Z)&&(k=a.og(b.object),m=a.Xe(Z),null!==k&&null!==m&&(m.ce=k)),a.Sh=!0):c===ce?(N=b.oldValue,"nodeDataArray"===f&&u.Ta(N)?pk(a,N):"linkDataArray"===f&&u.Ta(N)?pk(a,N):"linkLabelKeys"===f&&Ne(N)&&(m=a.Xe(N),null!==m&&(m.ce=null)),a.Sh=!0):c===ae&&("SourceChanged"===f?Pi(a,b.object,b.propertyName):"ModelDisplaced"===f&&a.nl());else if(c===$d){var Ga=b.propertyName,h=b.object;if(h===a.ha){if("nodeKeyProperty"===Ga||"nodeCategoryProperty"===
		Ga||"linkFromKeyProperty"===Ga||"linkToKeyProperty"===Ga||"linkFromPortIdProperty"===Ga||"linkToPortIdProperty"===Ga||"linkLabelKeysProperty"===Ga||"nodeIsGroupProperty"===Ga||"nodeGroupKeyProperty"===Ga||"nodeParentKeyProperty"===Ga||"linkCategoryProperty"===Ga)a.ga.eb||a.nl()}else Pi(a,h,Ga);a.Sh=!0}else if(c===be||c===ce)qk(a,b),a.Sh=!0;else if(c===ae){if("FinishedUndo"===d||"FinishedRedo"===d)a.ga.gi=!0,a.Ba("ChangedSelection"),ej(a),a.ga.gi=!1;a.eu=!0;a.cf();e=a.oh;e.bd&&0===a.ga.Le&&fi(e);"CommittedTransaction"===
	d&&a.ga.Zx&&(a.Kg=Math.min(a.Kg,a.ga.Ji-1));ik(a);var ta=b.hH;ta&&a.rw.clear();!a.jy&&ta&&(a.jy=!0,u.setTimeout(function(){a.Va.standardMouseOver();a.jy=!1},10))}}finally{a.Oa=!0}}}}
	function Pi(a,b,c){if("string"===typeof c){var d=a.Ph(b);if(null!==d)d.Ob(c),a.ha instanceof qe&&(d=a.og(b),null!==d&&d.Ob(c));else{for(var d=null,e=a.Nl.i;e.next();){for(var f=e.value,h=0;h<f.length;h++){var k=f[h];null!==k.Zf&&(k=k.Zf.ua(b),null!==k&&(null===d&&(d=u.gb()),d.push(k)))}if(null!==d)break}if(null!==d){for(e=0;e<d.length;e++)d[e].Ob(c);u.sa(d)}}b===a.ha.$s&&a.DI(c)}}u.defineProperty(D,{Kw:"skipsModelSourceBindings"},function(){return this.eC},function(a){this.eC=a});
	u.defineProperty(D,{ut:null},function(){return this.yy},function(a){this.yy=a});function qk(a,b){var c=b.Bd===be,d=c?b.yg:b.Ag,e=c?b.newValue:b.oldValue,f=a.Nl.ua(b.object);if(Array.isArray(f))for(var h=0;h<f.length;h++){var k=f[h];if(c)rk(k,e,d);else{var l=d;if(!(0>l)){var m=l;sk(k)&&m++;k.Fe(m);tk(k,m,l)}}}}function Mj(a,b){var c=b.hi;if(u.isArray(c)){var d=a.Nl.ua(c);if(null===d)d=[],d.push(b),a.Nl.add(c,d);else{for(c=0;c<d.length;c++)if(d[c]===b)return;d.push(b)}}}
	function Qj(a,b){var c=b.hi;if(u.isArray(c)){var d=a.Nl.ua(c);if(null!==d)for(var e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);0===d.length&&a.Nl.remove(c);break}}}function Lj(a,b){for(var c=b.Aa.n,d=c.length,e=0;e<d;e++){var f=c[e];f instanceof Ri&&uk(a,f)}}function uk(a,b){var c=b.element;if(null!==c){var c=c.src,d=a.Un.ua(c);if(null===d)d=[],d.push(b),a.Un.add(c,d);else{for(c=0;c<d.length;c++)if(d[c]===b)return;d.push(b)}}}
	function Pj(a,b){for(var c=b.Aa.n,d=c.length,e=0;e<d;e++){var f=c[e];f instanceof Ri&&vk(a,f)}}function vk(a,b){var c=b.element;if(null!==c){var c=c.src,d=a.Un.ua(c);if(null!==d)for(var e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);0===d.length&&a.Un.remove(c);break}}}
	D.prototype.clear=D.prototype.clear=function(){var a=null;null!==this.ad&&(a=this.ad.T);this.ha.clear();for(var b=this.Zb.length,c=0;c<b;c++)this.Zb.n[c].clear();this.Yf.clear();this.Fl.clear();this.Sn.clear();this.Ik.clear();this.On.clear();this.Db.clear();this.ai.clear();this.lk.clear();this.Nl.clear();this.fv.Ma();this.fv.clear();this.fv.freeze();this.su.Ma();this.su.clear();this.su.freeze();gf=this.fn=null;hf="";this.fu=(new z(NaN,NaN,NaN,NaN)).freeze();null!==a&&(this.add(a),this.Db.remove(a));
		this.na()};
	D.prototype.reset=D.prototype.reset=function(){this.Oc=!0;this.clear();this.Zb=new E(we);this.qE();this.pE();this.Na=(new w(NaN,NaN)).freeze();this.$b=1;this.uu=(new w(NaN,NaN)).freeze();this.vu=NaN;this.Mu=1E-4;this.Ju=100;this.yv=(new w(NaN,NaN)).freeze();this.lu=(new z(NaN,NaN,NaN,NaN)).freeze();this.yl=vf;this.en=uc;this.tk=vf;this.Bn=uc;this.wu=this.tu=xb;this.Rt=(new rb(16,16,16,16)).freeze();this.zu=!0;this.uv=Hg;this.Rp="auto";this.$h=this.ui=this.ki=this.Pu=this.li=this.mi=this.ni=this.Zh=
		this.di=this.Xh=null;this.vk=!1;this.Yj=this.Xj=this.Ht=this.Ne=!0;this.Jt=this.It=!1;this.Nt=this.Kt=this.ru=this.qu=this.Ot=this.Mt=this.fk=this.ek=this.dk=this.ck=this.ak=this.bk=this.$j=this.Lt=this.hk=this.Zj=this.gk=!0;this.cv=this.bv=16;this.Pe=(new rb(5)).freeze();this.Ku=999999999;this.Nd=null;Ui(this);this.ad=null;this.ri=!0;Ti(this);this.Qb=new Je;this.ri=!1;this.ha=new Q;this.mf=!1;this.vn=!0;this.Oc=this.Ef=!1;this.na()};
	D.prototype.rebuildParts=D.prototype.nl=function(){for(var a=this.Kz.i;a.next();){var b=a.value,c=a.key;(!b.Gd()||b instanceof V)&&u.k('Invalid node template in Diagram.nodeTemplateMap: template for "'+c+'" must be a Node or a simple Part, not a Group or Link: '+b)}for(a=this.jz.i;a.next();)b=a.value,c=a.key,b instanceof V||u.k('Invalid group template in Diagram.groupTemplateMap: template for "'+c+'" must be a Group, not a normal Node or Link: '+b);for(a=this.yz.i;a.next();)b=a.value,c=a.key,b instanceof
	W||u.k('Invalid link template in Diagram.linkTemplateMap: template for "'+c+'" must be a Link, not a normal Node or simple Part: '+b);a=u.gb();for(b=this.selection.i;b.next();)(c=b.value.data)&&a.push(c);for(var b=u.gb(),d=this.cw.i;d.next();)(c=d.value.data)&&b.push(c);c=u.gb();for(d=this.zg.i;d.next();){var e=d.value;null!==e.data&&(c.push(e.data),c.push(e.location))}for(d=this.links.i;d.next();)e=d.value,null!==e.data&&(c.push(e.data),c.push(e.location));for(d=this.Sj.i;d.next();)e=d.value,null!==
	e.data&&(c.push(e.data),c.push(e.location));d=this.ha;d instanceof Q&&jk(this,d.Qj);jk(this,d.dh);kk(this,d.dh);d instanceof Q&&lk(this,d.Qj);for(d=0;d<a.length;d++)e=this.Ph(a[d]),null!==e&&(e.Za=!0);for(d=0;d<b.length;d++)e=this.Ph(b[d]),null!==e&&(e.Yg=!0);for(d=0;d<c.length;d+=2)e=this.Ph(c[d]),null!==e&&(e.location=c[d+1]);u.sa(a);u.sa(b);u.sa(c)};
	function kk(a,b){if(null!==b){for(var c=a.ha,d=u.qb(b),e=0;e<d;e++){var f=u.hb(b,e);c.Ue(f)?nk(a,f,!1):c instanceof Q&&ok(a,f)}if(c instanceof Q||c instanceof qe){for(e=0;e<d;e++)f=u.hb(b,e),c.Ue(f)&&wk(a,f);if(c instanceof Q)for(c=a.links;c.next();)xk(c.value)}yk(a,!1)}}function nk(a,b,c){if(void 0!==b&&null!==b&&!a.ga.eb&&!a.ai.contains(b)){void 0===c&&(c=!0);var d=a.gz(b),e=zk(a,b,d);null!==e&&(nf(e),e=e.copy(),null!==e&&(e.Wh=d,a.Wm&&(e.wk="Tool"),a.add(e),e.data=b,c&&wk(a,b)))}}
	D.prototype.gz=function(a){return this.ha.gz(a)};var Ak=!1,Bk=!1;function zk(a,b,c){var d=!1,e=a.ha;e instanceof Q&&(d=e.uz(b));d?(b=a.jz.ua(c),null===b&&(b=a.jz.ua(""),null===b&&(Bk||(Bk=!0,u.trace('No Group template found for category "'+c+'"'),u.trace("  Using default group template")),b=a.SA))):(b=a.Kz.ua(c),null===b&&(b=a.Kz.ua(""),null===b&&(Ak||(Ak=!0,u.trace('No Node template found for category "'+c+'"'),u.trace("  Using default node template")),b=a.UA)));return b}
	function wk(a,b){var c=a.ha;if(c instanceof Q||c instanceof qe){var d=c.wb(b);if(void 0!==d){var e=Oe(c,d),f=a.Ph(b);if(null!==e&&null!==f){for(e=e.i;e.next();){var h=e.value;if(c instanceof Q){var k=c;if(k.Ue(h)){if(f instanceof V&&k.Cm(h)===d){var l=f,h=a.Ph(h);null!==h&&(h.Sa=l)}}else{var m=a.og(h);if(null!==m&&f instanceof U&&(l=f,k.$k(h)===d&&(m.W=l),k.cl(h)===d&&(m.ca=l),h=k.Pj(h),u.isArray(h)))for(k=0;k<u.qb(h);k++)if(u.hb(h,k)===d){l.ce=m;break}}}else c instanceof qe&&(m=c,m.Ue(h)&&f instanceof
	U&&(l=f,m.Dm(h)===d&&(h=a.Yv(h),mk(a,l,h))))}Qe(c,d)}c instanceof Q?(c=c.Cm(b),void 0!==c&&(c=a.Xe(c),c instanceof V&&(f.Sa=c))):c instanceof qe&&(c=c.Dm(b),void 0!==c&&f instanceof U&&(l=f,f=a.Xe(c),mk(a,f,l)))}}}
	function mk(a,b,c){if(null!==b&&null!==c){var d=a.tb.TD,e=b,f=c;if(a.qd)for(b=f.oe;b.next();){if(b.value.ca===f)return}else for(e=c,f=b,b=e.oe;b.next();)if(b.value.W===e)return;null!==d&&Jg(d,e,f,null,!0)||(d=a.$v(c.data),b=Ck(a,d),null!==b&&(nf(b),b=b.copy(),null!==b&&(b.Wh=d,b.W=e,b.ca=f,a.add(b),b.data=c.data)))}}function lk(a,b){if(null!==b){for(var c=u.qb(b),d=0;d<c;d++){var e=u.hb(b,d);ok(a,e)}yk(a,!1)}}
	function ok(a,b){if(void 0!==b&&null!==b&&!a.ga.eb&&!a.lk.contains(b)){var c=a.$v(b),d=Ck(a,c);if(null!==d&&(nf(d),d=d.copy(),null!==d)){d.Wh=c;var c=a.ha,e=c.FG(b);""!==e&&(d.qg=e);e=c.$k(b);void 0!==e&&(e=a.Xe(e),e instanceof U&&(d.W=e));e=c.IG(b);""!==e&&(d.mh=e);e=c.cl(b);void 0!==e&&(e=a.Xe(e),e instanceof U&&(d.ca=e));c=c.Pj(b);if(u.isArray(c))for(var e=u.qb(c),f=0;f<e;f++){var h=u.hb(c,f),h=a.Xe(h);null!==h&&(h.ce=d)}a.add(d);d.data=b}}}
	D.prototype.$v=function(a){var b=this.ha,c="";b instanceof Q?c=b.$v(a):b instanceof qe&&(c=b.HG(a));return c};var Dk=!1;function Ck(a,b){var c=a.yz.ua(b);null===c&&(c=a.yz.ua(""),null===c&&(Dk||(Dk=!0,u.trace('No Link template found for category "'+b+'"'),u.trace("  Using default link template")),c=a.TA));return c}function jk(a,b){for(var c=u.qb(b),d=0;d<c;d++){var e=u.hb(b,d);pk(a,e)}}
	function pk(a,b){if(void 0!==b&&null!==b){var c=a.Ph(b);if(null!==c){c.Za=!1;c.Yg=!1;var d=c.layer;if(null!==d&&d.g===a){var e=a.ha;if(e instanceof Q&&c instanceof U){var f=c,h=e.wb(f.data);if(void 0!==h){for(var k=f.oe;k.next();)Pe(e,h,k.value.data);f.tf&&(k=f.ce,null!==k&&Pe(e,h,k.data));if(f instanceof V)for(f=f.Lc;f.next();)k=f.value.data,e.Ue(k)&&Pe(e,h,k)}}else if(e instanceof qe&&c instanceof U){f=c;k=a.og(f.data);if(null!==k){k.Za=!1;k.Yg=!1;var l=k.layer;if(null!==l){var m=l.Fe(-1,k,!1);
		0<=m&&a.Cc(ce,"parts",l,k,null,m,null);m=k.Ss;null!==m&&m(k,l,null)}}k=a.qd;for(f=f.oe;f.next();)l=f.value,l=(k?l.ca:l.W).data,e.Ue(l)&&Pe(e,h,l)}e=d.Fe(-1,c,!1);0<=e&&a.Cc(ce,"parts",d,c,null,e,null);e=c.Ss;null!==e&&e(c,d,null)}}}}D.prototype.findPartForKey=D.prototype.zG=function(a){if(null===a||void 0===a)return null;a=this.ha.rf(a);return null===a?null:this.ai.ua(a)};
	D.prototype.findNodeForKey=D.prototype.Xe=function(a){if(null===a||void 0===a)return null;a=this.ha.rf(a);if(null===a)return null;a=this.ai.ua(a);return a instanceof U?a:null};D.prototype.findPartForData=D.prototype.Ph=function(a){if(null===a)return null;var b=this.ai.ua(a);return null!==b?b:b=this.lk.ua(a)};D.prototype.findNodeForData=D.prototype.Yv=function(a){if(null===a)return null;a=this.ai.ua(a);return a instanceof U?a:null};
	D.prototype.findLinkForData=D.prototype.og=function(a){return null===a?null:this.lk.ua(a)};D.prototype.findNodesByExample=function(a){for(var b=new F,c=this.Sn.i;c.next();){var d=c.value,e=d.data;if(null!==e)for(var f=0;f<arguments.length;f++){var h=arguments[f];if(u.Ta(h)&&Ek(this,e,h)){b.add(d);break}}}return b.i};
	D.prototype.findLinksByExample=function(a){for(var b=new F,c=this.On.i;c.next();){var d=c.value,e=d.data;if(null!==e)for(var f=0;f<arguments.length;f++){var h=arguments[f];if(u.Ta(h)&&Ek(this,e,h)){b.add(d);break}}}return b.i};function Ek(a,b,c){for(var d in c){var e=b[d],f=c[d];if(u.isArray(f)){if(!u.isArray(e)||e.length>=f.length)return!1;for(var h=0;h<e.length;h++){var k=e[h],l=f[h];if(void 0!==l&&!Fk(a,k,l))return!1}}else if(!Fk(a,e,f))return!1}return!0}
	function Fk(a,b,c){if("function"===typeof c){if(!c(b))return!1}else if(c instanceof RegExp){if(!b||!c.test(b.toString()))return!1}else if(u.Ta(b)&&u.Ta(c)){if(!Ek(a,b,c))return!1}else if(b!==c)return!1;return!0}u.defineProperty(D,{dK:"nodeTemplate"},function(){return this.oi.ua("")},function(a){var b=this.oi.ua("");b!==a&&(u.C(a,G,D,"nodeTemplate"),this.oi.add("",a),this.h("nodeTemplate",b,a),this.ga.eb||this.nl())});
	u.defineProperty(D,{Kz:"nodeTemplateMap"},function(){return this.oi},function(a){var b=this.oi;b!==a&&(u.C(a,la,D,"nodeTemplateMap"),this.oi=a,this.h("nodeTemplateMap",b,a),this.ga.eb||this.nl())});u.defineProperty(D,{AJ:"groupTemplate"},function(){return this.ok.ua("")},function(a){var b=this.ok.ua("");b!==a&&(u.C(a,V,D,"groupTemplate"),this.ok.add("",a),this.h("groupTemplate",b,a),this.ga.eb||this.nl())});
	u.defineProperty(D,{jz:"groupTemplateMap"},function(){return this.ok},function(a){var b=this.ok;b!==a&&(u.C(a,la,D,"groupTemplateMap"),this.ok=a,this.h("groupTemplateMap",b,a),this.ga.eb||this.nl())});u.defineProperty(D,{SJ:"linkTemplate"},function(){return this.hj.ua("")},function(a){var b=this.hj.ua("");b!==a&&(u.C(a,W,D,"linkTemplate"),this.hj.add("",a),this.h("linkTemplate",b,a),this.ga.eb||this.nl())});
	u.defineProperty(D,{yz:"linkTemplateMap"},function(){return this.hj},function(a){var b=this.hj;b!==a&&(u.C(a,la,D,"linkTemplateMap"),this.hj=a,this.h("linkTemplateMap",b,a),this.ga.eb||this.nl())});u.defineProperty(D,{eH:null},function(){return this.Kl},function(a){this.Kl=a});
	u.defineProperty(D,{Ge:"isMouseCaptured"},function(){return this.uB},function(a){var b=this.jb;null!==b&&(a?(this.N.bubbles=!1,b.removeEventListener("mousemove",this.So,!1),b.removeEventListener("mousedown",this.Ro,!1),b.removeEventListener("mouseup",this.Uo,!1),b.removeEventListener("mousewheel",this.ah,!1),b.removeEventListener("DOMMouseScroll",this.ah,!1),b.removeEventListener("mouseout",this.To,!1),window.addEventListener("mousemove",this.So,!0),window.addEventListener("mousedown",this.Ro,!0),
		window.addEventListener("mouseup",this.Uo,!0),window.addEventListener("mousewheel",this.ah,!0),window.addEventListener("DOMMouseScroll",this.ah,!0),window.addEventListener("mouseout",this.To,!0),window.addEventListener("selectstart",this.preventDefault,!1)):(window.removeEventListener("mousemove",this.So,!0),window.removeEventListener("mousedown",this.Ro,!0),window.removeEventListener("mouseup",this.Uo,!0),window.removeEventListener("mousewheel",this.ah,!0),window.removeEventListener("DOMMouseScroll",
		this.ah,!0),window.removeEventListener("mouseout",this.To,!0),window.removeEventListener("selectstart",this.preventDefault,!1),b.addEventListener("mousemove",this.So,!1),b.addEventListener("mousedown",this.Ro,!1),b.addEventListener("mouseup",this.Uo,!1),b.addEventListener("mousewheel",this.ah,!1),b.addEventListener("DOMMouseScroll",this.ah,!1),b.addEventListener("mouseout",this.To,!1)),this.uB=a)});
	u.defineProperty(D,{position:"position"},function(){return this.Na},function(a){var b=this.Na;if(!b.L(a)){u.C(a,w,D,"position");var c=this.ob.copy();a=a.copy();if(!this.Oc&&null!==this.jb){this.Oc=!0;var d=this.scale;ij(this,a,this.Dd,this.Ab/d,this.zb/d,this.en,!1);this.Oc=!1}this.Na=a.Z();a=this.Mb;a.bd&&si(a,b,this.Na);this.Oc||this.et(c,this.ob)}});u.defineProperty(D,{TG:"initialPosition"},function(){return this.uu},function(a){this.uu.L(a)||(u.C(a,w,D,"initialPosition"),this.uu=a.Z())});
	u.defineProperty(D,{UG:"initialScale"},function(){return this.vu},function(a){this.vu!==a&&(u.j(a,"number",D,"initialScale"),this.vu=a)});u.defineProperty(D,{Hs:"grid"},function(){null===this.ad&&aj(this);return this.ad},function(a){var b=this.ad;if(b!==a){null===b&&(aj(this),b=this.ad);u.C(a,B,D,"grid");a.type!==bj&&u.k("Diagram.grid must be a Panel of type Panel.Grid");var c=b.S;null!==c&&c.remove(b);this.ad=a;a.name="GRID";null!==c&&c.add(a);vj(this);this.na();this.h("grid",b,a)}});
	u.u(D,{ob:"viewportBounds"},function(){var a=this.CC;if(null===this.jb)return a;var b=this.Na,c=this.$b;a.m(b.x,b.y,Math.max(this.Ab,0)/c,Math.max(this.zb,0)/c);return a});u.defineProperty(D,{uD:"fixedBounds"},function(){return this.lu},function(a){var b=this.lu;b.L(a)||(u.C(a,z,D,"fixedBounds"),-Infinity!==a.width&&Infinity!==a.height&&-Infinity!==a.height||u.k("fixedBounds width/height must not be Infinity"),this.lu=a=a.Z(),this.pc(),this.h("fixedBounds",b,a))});
	u.defineProperty(D,{xE:"scrollMargin"},function(){return this.wy},function(a){"number"===typeof a?a=new rb(a):u.C(a,rb,D,"scrollMargin");var b=this.wy;b.L(a)||(this.wy=a=a.Z(),this.pc(),this.h("scrollMargin",b,a))});u.defineProperty(D,{yE:"scrollMode"},function(){return this.xy},function(a){var b=this.xy;b!==a&&(u.rb(a,D,D,"scrollMode"),this.xy=a,a===Ni&&gj(this,!1),this.h("scrollMode",b,a))});
	u.defineProperty(D,{gE:"positionComputation"},function(){return this.py},function(a){var b=this.py;b!==a&&(null!==a&&u.j(a,"function",D,"positionComputation"),this.py=a,gj(this,!1),this.h("positionComputation",b,a))});u.defineProperty(D,{wE:"scaleComputation"},function(){return this.sy},function(a){var b=this.sy;b!==a&&(null!==a&&u.j(a,"function",D,"scaleComputation"),this.sy=a,Tj(this,this.scale,this.scale),this.h("scaleComputation",b,a))});u.u(D,{Dd:"documentBounds"},function(){return this.fu});
	function jj(a,b){a.fi=!1;var c=a.fu;c.L(b)||(b=b.Z(),a.fu=b,gj(a,!1),a.Ba("DocumentBoundsChanged",null,c.copy()),sj(a))}u.defineProperty(D,{scale:"scale"},function(){return this.$b},function(a){var b=this.$b;u.ze(a,D,"scale");b!==a&&Tj(this,b,a)});u.defineProperty(D,{oo:"autoScale"},function(){return this.yl},function(a){var b=this.yl;b!==a&&(u.rb(a,D,D,"autoScale"),this.yl=a,this.h("autoScale",b,a),a!==vf&&gj(this,!1))});
	u.defineProperty(D,{DJ:"initialAutoScale"},function(){return this.tk},function(a){var b=this.tk;b!==a&&(u.rb(a,D,D,"initialAutoScale"),this.tk=a,this.h("initialAutoScale",b,a))});u.defineProperty(D,{VG:"initialViewportSpot"},function(){return this.wu},function(a){var b=this.wu;b!==a&&(u.C(a,L,D,"initialViewportSpot"),a.pd()||u.k("initialViewportSpot must be a real Spot: "+a),this.wu=a,this.h("initialViewportSpot",b,a))});
	u.defineProperty(D,{SG:"initialDocumentSpot"},function(){return this.tu},function(a){var b=this.tu;b!==a&&(u.C(a,L,D,"initialDocumentSpot"),a.pd()||u.k("initialViewportSpot must be a real Spot: "+a),this.tu=a,this.h("initialDocumentSpot",b,a))});u.defineProperty(D,{$g:"minScale"},function(){return this.Mu},function(a){u.ze(a,D,"minScale");var b=this.Mu;b!==a&&(0<a?(this.Mu=a,this.h("minScale",b,a),a>this.scale&&(this.scale=a)):u.xa(a,"> 0",D,"minScale"))});
	u.defineProperty(D,{Zg:"maxScale"},function(){return this.Ju},function(a){u.ze(a,D,"maxScale");var b=this.Ju;b!==a&&(0<a?(this.Ju=a,this.h("maxScale",b,a),a<this.scale&&(this.scale=a)):u.xa(a,"> 0",D,"maxScale"))});u.defineProperty(D,{Sm:"zoomPoint"},function(){return this.yv},function(a){this.yv.L(a)||(u.C(a,w,D,"zoomPoint"),this.yv=a=a.Z())});
	u.defineProperty(D,{Uy:"contentAlignment"},function(){return this.en},function(a){var b=this.en;b.L(a)||(u.C(a,L,D,"contentAlignment"),this.en=a=a.Z(),this.h("contentAlignment",b,a),gj(this,!1))});u.defineProperty(D,{EJ:"initialContentAlignment"},function(){return this.Bn},function(a){var b=this.Bn;b.L(a)||(u.C(a,L,D,"initialContentAlignment"),this.Bn=a=a.Z(),this.h("initialContentAlignment",b,a))});
	u.defineProperty(D,{padding:"padding"},function(){return this.Pe},function(a){"number"===typeof a?a=new rb(a):u.C(a,rb,D,"padding");var b=this.Pe;b.L(a)||(this.Pe=a=a.Z(),this.pc(),this.h("padding",b,a))});u.u(D,{zg:"nodes"},function(){return this.Sn.i});u.u(D,{links:"links"},function(){return this.On.i});u.u(D,{Sj:"parts"},function(){return this.Db.i});
	D.prototype.findTopLevelNodesAndLinks=function(){for(var a=new F(G),b=this.Sn.i;b.next();){var c=b.value;c.Jo&&a.add(c)}for(b=this.On.i;b.next();)c=b.value,c.Jo&&a.add(c);return a.i};D.prototype.findTopLevelGroups=function(){return this.Ik.i};u.defineProperty(D,{Qb:"layout"},function(){return this.Nd},function(a){var b=this.Nd;b!==a&&(u.C(a,Je,D,"layout"),null!==b&&(b.g=null,b.group=null),this.Nd=a,a.g=this,a.group=null,this.Pt=!0,this.h("layout",b,a),this.de())});
	D.prototype.layoutDiagram=function(a){ej(this);a&&yk(this,!0);xj(this,!1)};function yk(a,b){for(var c=a.Ik.i;c.next();)Gk(a,c.value,b);null!==a.Qb&&(b?a.Qb.vf=!1:a.Qb.H())}function Gk(a,b,c){if(null!==b){for(var d=b.Qn.i;d.next();)Gk(a,d.value,c);null!==b.Qb&&(c?b.Qb.vf=!1:b.Qb.H())}}
	function xj(a,b){if(!a.Bx){var c=a.Qb,d=a.Au;a.Au=!0;var e=a.Oa;a.Oa=!0;try{a.Wb("Layout");for(var f=a.Ik.i;f.next();)Hk(a,f.value,b);c.vf||b&&!c.PD||(c.doLayout(a),ej(a),c.vf=!0)}finally{a.Wd("Layout"),a.Pt=!c.vf,a.Au=d,a.Oa=e}}}function Hk(a,b,c){if(null!==b){for(var d=b.Qn.i;d.next();)Hk(a,d.value,c);d=b.Qb;null===d||d.vf||c&&!d.PD||(b.ky=!b.location.I(),d.doLayout(b),b.H(Ik),d.vf=!0,zj(a,b))}}
	u.defineProperty(D,{qd:"isTreePathToChildren"},function(){return this.zu},function(a){var b=this.zu;if(b!==a&&(u.j(a,"boolean",D,"isTreePathToChildren"),this.zu=a,this.h("isTreePathToChildren",b,a),!this.ga.eb))for(a=this.zg;a.next();)Jk(a.value)});D.prototype.findTreeRoots=function(){for(var a=new E(U),b=this.zg;b.next();){var c=b.value;c.Jo&&null===c.Bs()&&a.add(c)}return a.i};u.defineProperty(D,{me:null},function(){return this.mB},function(a){this.mB=a});
	function Oi(a){function b(a){var b=a.toLowerCase(),h=new E("function");c.add(a,h);c.add(b,h);d.add(a,a);d.add(b,a)}var c=new la("string",E),d=new la("string","string");b("AnimationStarting");b("AnimationFinished");b("BackgroundSingleClicked");b("BackgroundDoubleClicked");b("BackgroundContextClicked");b("ClipboardChanged");b("ClipboardPasted");b("DocumentBoundsChanged");b("ExternalObjectsDropped");b("InitialLayoutCompleted");b("LayoutCompleted");b("LinkDrawn");b("LinkRelinked");b("LinkReshaped");b("Modified");
		b("ObjectSingleClicked");b("ObjectDoubleClicked");b("ObjectContextClicked");b("PartCreated");b("PartResized");b("PartRotated");b("SelectionMoved");b("SelectionCopied");b("SelectionDeleting");b("SelectionDeleted");b("SelectionGrouped");b("SelectionUngrouped");b("ChangingSelection");b("ChangedSelection");b("SubGraphCollapsed");b("SubGraphExpanded");b("TextEdited");b("TreeCollapsed");b("TreeExpanded");b("ViewportBoundsChanged");a.Dx=c;a.Cx=d}
	function ma(a,b){var c=a.Cx.ua(b);return null!==c?c:a.Cx.ua(b.toLowerCase())}function Kk(a,b){var c=a.Dx.ua(b);if(null!==c)return c;c=a.Dx.ua(b.toLowerCase());if(null!==c)return c;u.k("Unknown DiagramEvent name: "+b);return null}D.prototype.addDiagramListener=D.prototype.Ly=function(a,b){u.j(a,"string",D,"addDiagramListener:name");u.j(b,"function",D,"addDiagramListener:listener");var c=Kk(this,a);null!==c&&c.add(b)};
	D.prototype.removeDiagramListener=D.prototype.lE=function(a,b){u.j(a,"string",D,"removeDiagramListener:name");u.j(b,"function",D,"addDiagramListener:listener");var c=Kk(this,a);null!==c&&c.remove(b)};D.prototype.raiseDiagramEvent=D.prototype.Ba=function(a,b,c){var d=Kk(this,a),e=new Nd;e.g=this;e.name=ma(this,a);void 0!==b&&(e.iA=b);void 0!==c&&(e.Nz=c);a=d.length;if(1===a)d=d.ja(0),d(e);else if(0!==a)for(b=d.Ke(),c=0;c<a;c++)d=b[c],d(e);return e.cancel};
	function Cg(a,b){var c=!1;a.ob.Kj(b)&&(c=!0);c=a.ez(b,function(a){return a.T},function(a){return a instanceof W},!0,function(a){return a instanceof W},c);if(0!==c.count)for(c=c.i;c.next();){var d=c.value;d.el&&d.Vb()}}D.prototype.isUnoccupied=D.prototype.Lo=function(a,b){void 0===b&&(b=null);return Lk(this,!1,null,b).Lo(a.x,a.y,a.width,a.height)};
	function Lk(a,b,c,d){null===a.md&&(a.md=new Mk);if(a.md.Ms||a.md.group!==c||a.md.gA!==d){if(null===c){b=a.fi?fj(a):a.Dd.copy();b.Jf(100,100);a.md.initialize(b);b=u.Sf();for(var e=a.zg;e.next();){var f=e.value,h=f.layer;null!==h&&h.visible&&!h.zc&&Nk(a,f,d,b)}}else for(c.ba.I()||c.qf(),b=c.ba.copy(),b.Jf(20,20),a.md.initialize(b),b=u.Sf(),e=c.Lc;e.next();)f=e.value,f instanceof U&&Nk(a,f,d,b);u.ic(b);a.md.group=c;a.md.gA=d;a.md.Ms=!1}else b&&Ok(a.md);return a.md}
	function Nk(a,b,c,d){if(b!==c)if(b.Ga()&&b.canAvoid()){c=b.getAvoidableRect(d);d=a.md.so;b=a.md.qo;for(var e=c.x+c.width,f=c.y+c.height,h=c.x;h<e;h+=d){for(var k=c.y;k<f;k+=b)Pk(a.md,h,k);Pk(a.md,h,f)}for(k=c.y;k<f;k+=b)Pk(a.md,e,k);Pk(a.md,e,f)}else if(b instanceof V)for(b=b.Lc;b.next();)e=b.value,e instanceof U&&Nk(a,e,c,d)}function Qk(a,b){null===a.md||a.md.Ms||null!==b&&!b.canAvoid()||(a.md.Ms=!0)}
	D.prototype.simulatedMouseMove=D.prototype.Jw=function(a,b,c){if(null!==Ef){var d=Ef.g;c instanceof D||(c=null);var e=Ff;c!==e&&(null!==e&&e!==d&&null!==e.tb.Fd&&(Kf(e),Ef.gw=!1,e.tb.Fd.doSimulatedDragLeave()),Ff=c,null!==c&&c!==d&&null!==c.tb.Fd&&(eg(),e=c.tb.Fd,ag.contains(e)||ag.add(e),c.tb.Fd.doSimulatedDragEnter()));if(null===c||c===d||!c.MC||c.nb||!c.mo)return!1;d=c.tb.Fd;null!==d&&(null!==a?b=c.bq(a):null===b&&(b=new w),c.Pb.da=b,c.Pb.Wk=!1,c.Pb.up=!1,d.doSimulatedDragOver());return!0}return!1};
	D.prototype.simulatedMouseUp=D.prototype.IE=function(a,b,c,d){if(null!==Ef){null===d&&(d=b);b=Ff;var e=Ef.g;if(d!==b){if(null!==b&&b!==e&&null!==b.tb.Fd)return Kf(b),Ef.gw=!1,b.tb.Fd.doSimulatedDragLeave(),!1;Ff=d;null!==d&&null!==d.tb.Fd&&(eg(),b=d.tb.Fd,ag.contains(b)||ag.add(b),d.tb.Fd.doSimulatedDragEnter())}if(null===d)return Ef.doCancel(),!0;if(d!==this)return null!==a&&(c=d.bq(a)),d.Pb.da=c,d.Pb.Wk=!1,d.Pb.up=!0,a=d.tb.Fd,null!==a&&a.doSimulatedDrop(),a=Ef,null!==a&&(d=a.mayCopy(),a.zf=d?"Copy":
		"Move",a.stopTool()),!0}return!1};u.defineProperty(D,{SC:"autoScrollRegion"},function(){return this.Rt},function(a){"number"===typeof a?a=new rb(a):u.C(a,rb,D,"autoScrollRegion");var b=this.Rt;b.L(a)||(this.Rt=a=a.Z(),this.pc(),this.h("autoScrollRegion",b,a))});function xg(a,b){a.Qt.assign(b);Rk(a,a.Qt).De(a.position)?Kf(a):Sk(a)}
	function Sk(a){-1===a.$m&&(a.$m=u.setInterval(function(){if(-1!==a.$m){Kf(a);var b=a.N.event;if(null!==b){var c=Rk(a,a.Qt);c.De(a.position)||(a.position=c,a.N.da=a.WE(a.Qt),a.Jw(b,null,b.target.Y)||a.doMouseMove(),a.fi=!0,jj(a,a.lg()),a.Md=!0,a.cf(),Sk(a))}}},a.kF))}function Kf(a){-1!==a.$m&&(u.clearInterval(a.$m),a.$m=-1)}
	function Rk(a,b){var c=a.position,d=a.SC;if(0>=d.top&&0>=d.left&&0>=d.right&&0>=d.bottom)return c;var e=a.ob,f=a.scale,e=u.Vj(0,0,e.width*f,e.height*f),h=u.fc(0,0);if(b.x>=e.x&&b.x<e.x+d.left){var k=Math.max(a.mt,1),k=k|0;h.x-=k;b.x<e.x+d.left/2&&(h.x-=k);b.x<e.x+d.left/4&&(h.x-=4*k)}else b.x<=e.x+e.width&&b.x>e.x+e.width-d.right&&(k=Math.max(a.mt,1),k|=0,h.x+=k,b.x>e.x+e.width-d.right/2&&(h.x+=k),b.x>e.x+e.width-d.right/4&&(h.x+=4*k));b.y>=e.y&&b.y<e.y+d.top?(k=Math.max(a.nt,1),k|=0,h.y-=k,b.y<e.y+
	d.top/2&&(h.y-=k),b.y<e.y+d.top/4&&(h.y-=4*k)):b.y<=e.y+e.height&&b.y>e.y+e.height-d.bottom&&(k=Math.max(a.nt,1),k|=0,h.y+=k,b.y>e.y+e.height-d.bottom/2&&(h.y+=k),b.y>e.y+e.height-d.bottom/4&&(h.y+=4*k));h.De(K.Wj)||(c=new w(c.x+h.x/f,c.y+h.y/f));u.ic(e);u.v(h);return c}D.prototype.makeSVG=D.prototype.makeSvg=function(a){void 0===a&&(a=new pa);a.context="svg";a=Tk(this,a);return null!==a?a.sl:null};
	D.prototype.makeImage=function(a){void 0===a&&(a=new pa);var b=(a.document||document).createElement("img");b.src=this.tH(a);return b};D.prototype.makeImageData=D.prototype.tH=function(a){void 0===a&&(a=new pa);var b=Tk(this,a);return null!==b?b.toDataURL(a.type,a.details):""};var Uk=!1;
	function Tk(a,b){a.Mb.Ni();a.cf();if(null===a.jb)return null;"object"!==typeof b&&u.k("properties argument must be an Object.");var c=!1,d=b.size||null,e=b.scale||null;void 0!==b.scale&&isNaN(b.scale)&&(e="NaN");var f=b.maxSize;void 0===b.maxSize&&(c=!0,f="svg"===b.context?new ia(Infinity,Infinity):new ia(2E3,2E3));var h=b.position||null,k=b.parts||null,l=void 0===b.padding?1:b.padding,m=b.background||null,n=b.omitTemporary;void 0===n&&(n=!0);var p=b.document||document,q=b.elementFinished||null,r=
		b.showTemporary;void 0===r&&(r=!n);n=b.showGrid;void 0===n&&(n=r);null!==d&&isNaN(d.width)&&isNaN(d.height)&&(d=null);"number"===typeof l?l=new rb(l):l instanceof rb||(l=new rb(0));l.left=Math.max(l.left,0);l.right=Math.max(l.right,0);l.top=Math.max(l.top,0);l.bottom=Math.max(l.bottom,0);a.rn=!1;$i(a);var s=new oa(null,p),t=s.getContext("2d"),v=s;if(!(d||e||k||h))return s.width=a.Ab+Math.ceil(l.left+l.right),s.height=a.zb+Math.ceil(l.top+l.bottom),"svg"===b.context&&(t=v=new Nc(s.Ed,p,q),t instanceof
	Nc&&(a.rn=!0)),Gj(a,t,l,new ia(s.width,s.height),a.$b,a.Na,k,m,r,n),a.rn=!0,v;var x=a.Eb.Qv,A=new w(0,0),y=a.Dd.copy();y.tI(a.padding);if(r)for(var C=!0,C=a.Zb.n,I=C.length,H=0;H<I;H++){var R=C[H];if(R.visible&&R.zc)for(var aa=R.Db.n,R=aa.length,S=0;S<R;S++){var N=aa[S];N.vz&&N.Ga()&&(N=N.ba,N.I()&&y.Uh(N))}}A.x=y.x;A.y=y.y;if(null!==k){var Z,C=!0,aa=k.i;for(aa.reset();aa.next();)I=aa.value,I instanceof G&&(N=I,R=N.layer,null!==R&&!R.visible||null!==R&&!r&&R.zc||!N.Ga()||(N=N.ba,N.I()&&(C?(C=!1,Z=
		N.copy()):Z.Uh(N))));C&&(Z=new z(0,0,0,0));y.width=Z.width;y.height=Z.height;A.x=Z.x;A.y=Z.y}null!==h&&h.I()&&(A=h,e||(e=x));C=aa=0;null!==l&&(aa=l.left+l.right,C=l.top+l.bottom);H=I=0;null!==d&&(I=d.width,H=d.height,isFinite(I)&&(I=Math.max(0,I-aa)),isFinite(H)&&(H=Math.max(0,H-C)));Z=h=0;null!==d&&null!==e?("NaN"===e&&(e=x),d.I()?(h=I,Z=H):isNaN(H)?(h=I,Z=y.height*e):(h=y.width*e,Z=H)):null!==d?d.I()?(e=Math.min(I/y.width,H/y.height),h=I,Z=H):isNaN(H)?(e=I/y.width,h=I,Z=y.height*e):(e=H/y.height,
		h=y.width*e,Z=H):null!==e?"NaN"===e&&f.I()?(e=Math.min((f.width-aa)/y.width,(f.height-C)/y.height),e>x?(e=x,h=y.width,Z=y.height):(h=f.width,Z=f.height)):(h=y.width*e,Z=y.height*e):(e=x,h=y.width,Z=y.height);null!==l?(h+=aa,Z+=C):l=new rb(0);null!==f&&(d=f.width,f=f.height,"svg"!==b.context&&c&&!Uk&&(h>d||Z>f)&&(u.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(h)+"x"+Math.ceil(Z)+" vs 2000x2000) Consider increasing the max size."),Uk=!0),
	isNaN(d)&&(d=2E3),isNaN(f)&&(f=2E3),isFinite(d)&&(h=Math.min(h,d)),isFinite(f)&&(Z=Math.min(Z,f)));s.width=Math.ceil(h);s.height=Math.ceil(Z);"svg"===b.context&&(t=v=new Nc(s.Ed,p,q),t instanceof Nc&&(a.rn=!0));Gj(a,t,l,new ia(Math.ceil(h),Math.ceil(Z)),e,A,k,m,r,n);a.rn=!0;return v}D.inherit=function(a,b){u.j(a,"function",D,"inherit");u.j(b,"function",D,"inherit");b.AF&&u.k("Cannot inherit from "+u.sg(b));u.Ia(a,b)};
	function Vi(){this.DF="63ad05bbe23a1786468a4c741b6d2";this.DF===this._tk?this.xh=!0:Vk(this,!1)}
	function Vk(a,b){var c="f",d=window[u.Fa("76a715b2f73f148a")][u.Fa("72ba13b5")];if(u.Fa("77bb5bb2f32603de")===window[u.Fa("76a715b2f73f148a")][u.Fa("6aba19a7ec351488")])try{a.xh=!window[u.Fa("4da118b7ec2108")]([u.Fa("5bb806bfea351a904a84515e1b6d38b6")])([u.Fa("49bc19a1e6")])([u.Fa("59bd04a1e6380fa5539b")])([u.Fa("7bb8069ae7")]===u.Fa(u.adym));if(!1===a.xh)return;a.xh=!window[u.Fa("4da118b7ec2108")]([u.Fa("5bb806bfea351a904a84515e1b6d38b6")])([u.Fa("49bc19a1e6")])([u.Fa("59bd04a1e6380fa5539b6c7a197c31bb4cfd3e")])([u.Fa("7bb8069ae7")]===u.Fa(u.adym));
		if(!1===a.xh)return}catch(e){}for(var f=d[u.Fa("76ad18b4f73e")],h=d[u.Fa("73a612b6fb191d")](u.Fa("35e7"))+2;h<f;h++)c+=d[h];d=c[u.Fa("73a612b6fb191d")](u.Fa(u.adym));0>d&&u.Fa(u.adym)!==u.Fa("7da71ca0ad381e90")&&(d=c[u.Fa("73a612b6fb191d")](u.Fa("76a715b2ef3e149757")));a.xh=!(0<=d&&d<c[u.Fa("73a612b6fb191d")](u.Fa("35")));a.xh&&(c=window.document[u.Fa("79ba13b2f7333e8846865a7d00")]("div"),d=u.Fa("02cncncn"),"."===d[0]&&(d=d[u.Fa("69bd14a0f724128a44")](1)),c[u.Fa("79a417a0f0181a8946")]=d,window.document[u.Fa("78a712aa")]?
		(window.document[u.Fa("78a712aa")][u.Fa("7bb806b6ed32388c4a875b")](c),d=window[u.Fa("7dad0290ec3b0b91578e5b40007031bf")](c)[u.Fa("7dad0283f1390b81519f4645156528bf")](u.Fa("78a704b7e62456904c9b12701b6532a8")),window.document[u.Fa("78a712aa")][u.Fa("68ad1bbcf533388c4a875b")](c),d&&-1!==d.indexOf(u.Fa(u.XF))&&-1!==d.indexOf(u.Fa(u.YF))&&(a.xh=!1)):(a.xh=null,b&&(a.xh=!1)))}
	Vi.prototype.wl=function(a){a.Ig.setTransform(a.of,0,0,a.of,0,0);null===this.xh&&Vk(this,!0);return 0<this.xh&&this!==this.BF?!0:!1};Vi.prototype.t=function(){this.BF=null};
	function Wi(a,b){void 0!==b&&null!==b||u.k("Diagram setup requires an argument DIV.");null!==a.Kb&&u.k("Diagram has already completed setup.");"string"===typeof b?a.Kb=window.document.getElementById(b):b instanceof HTMLDivElement?a.Kb=b:u.k("No DIV or DIV id supplied: "+b);null===a.Kb&&u.k("Invalid DIV id; could not get element with id: "+b);void 0!==a.Kb.Y&&u.k("Invalid div id; div already has a Diagram associated with it.");"static"===window.getComputedStyle(a.Kb,null).position&&(a.Kb.style.position=
		"relative");a.Kb.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)";a.Kb.style["-ms-touch-action"]="none";a.Kb.innerHTML="";a.Kb.Y=a;var c=new oa(a);c.Ed.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";void 0!==c.style&&(c.style.position="absolute",c.style.top="0px",c.style.left="0px","rtl"===window.getComputedStyle(a.Kb,null).getPropertyValue("direction")&&(a.wB=!0),c.style.zIndex="2",c.style.EK="none",c.style.webkitUserSelect="none",c.style.MozUserSelect=
		"none");a.Ab=a.Kb.clientWidth||1;a.zb=a.Kb.clientHeight||1;a.jb=c;a.Ig=c.getContext("2d");var d=a.Ig;a.of=a.computePixelRatio();Ij(a,a.Ab,a.zb);a.ax=d[u.Fa("7eba17a4ca3b1a8346")][u.Fa("78a118b7")](d,u.wl,4,4);a.Kb.insertBefore(c.Ed,a.Kb.firstChild);c=new oa(null);c.width=1;c.height=1;a.Fx=c;a.dB=c.getContext("2d");var c=u.createElement("div"),d=u.createElement("div"),e=u.createElement("div"),f=u.createElement("div");c.style.position="absolute";c.style.overflow="auto";c.style.width=a.Ab+"px";c.style.height=
		a.zb+"px";c.style.zIndex="1";d.style.position="absolute";d.style.overflow="auto";d.style.width=a.Ab+"px";d.style.height=a.zb+"px";d.style.zIndex="1";e.style.position="absolute";e.style.width="1px";e.style.height="1px";f.style.position="absolute";f.style.width="1px";f.style.height="1px";a.Kb.appendChild(c);a.Kb.appendChild(d);c.appendChild(e);d.appendChild(f);c.onscroll=a.LB;c.onmousedown=a.Tu;c.ontouchstart=a.Tu;c.Y=a;c.bC=!0;d.onscroll=a.LB;d.onmousedown=a.Tu;d.ontouchstart=a.Tu;d.Y=a;d.cC=!0;a.uj=
		c;a.vj=d;a.uy=e;a.vy=f;a.hE=u.gD(function(){a.jm=null;a.na()},300,!1);a.$E=u.gD(function(){gi(a)},250,!1);a.preventDefault=function(a){a.preventDefault();return!1};a.So=function(b){if(a.isEnabled){a.Kl=!0;var c=a.Ic;u.Em&&c.jl?(b.preventDefault(),b.simulated=!0,a.Kr=b):(a.Ic=a.Pb,a.Pb=c,nj(a,a,b,c,!0),a.Jw(b,null,b.target.Y)||(a.doMouseMove(),a.Va.isBeyondDragSize()&&(yf(a),a.Pl=0)))}};a.Ro=function(b){if(a.isEnabled){a.Kl=!0;var c=a.Ic;if(u.Em&&null!==a.Kr)a.Kr=b,b.preventDefault();else if(u.Em&&
		400>b.timeStamp-a.Ql)b.preventDefault();else if(a.Ic=a.Pb,a.Pb=c,nj(a,a,b,c,!0),c.Wk=!0,c.Te=b.detail,a.nk=c.copy(),!0===c.Xp.simulated)b.preventDefault(),b.simulated=!0;else if(Ef=null,a.doMouseDown(),1===b.button)return b.preventDefault(),!1}};a.Uo=function(b){if(a.isEnabled){a.Kl=!0;var c=a.Ic;if(u.Em){if(400>b.timeStamp-a.Ql){b.preventDefault();return}a.Ql=b.timeStamp}if(u.Em&&null!==a.Kr)a.Kr=null,b.preventDefault();else{a.Ic=a.Pb;a.Pb=c;nj(a,a,b,c,!0);c.up=!0;c.Te=b.detail;if(u.aH||u.bH)b.timeStamp-
	a.Ql<a.zC&&!a.Va.isBeyondDragSize()?a.Pl++:a.Pl=1,a.Ql=b.timeStamp,c.Te=a.Pl;c.bubbles=b.bubbles;b.target.Y&&(c.Dg=b.target.Y);a.IE(b,null,new w,c.Dg)||(a.doMouseUp(),Kf(a),rj(c,b))}}};a.ah=function(b){if(a.isEnabled){var c=a.Ic;a.Ic=a.Pb;a.Pb=c;nj(a,a,b,c,!0);c.bubbles=!0;c.Uk=void 0!==b.wheelDelta?b.wheelDelta:-40*b.detail;a.doMouseWheel();rj(c,b)}};a.To=function(){if(a.isEnabled){a.Kl=!1;var b=a.Va;b.cancelWaitAfter();b instanceof jf&&b.hideToolTip()}};a.RE=function(b){if(a.isEnabled){a.mv=!1;
		a.Yx=!0;var c=a.Ic;a.Ic=a.Pb;a.Pb=c;pj(a,b,b.targetTouches[0],c,1<b.touches.length);a.doMouseDown();2>b.touches.length&&mj(a,c);rj(c,b)}};a.QE=function(b){if(a.isEnabled){var c=a.Ic;a.Ic=a.Pb;a.Pb=c;var d=null;0<b.changedTouches.length?d=b.changedTouches[0]:0<b.targetTouches.length&&(d=b.targetTouches[0]);qj(a,b,d,c,1<b.touches.length);(a.Va.isBeyondDragSize()||1<b.touches.length)&&yf(a);a.Jw(d?d:b,null,c.Dg)||(a.doMouseMove(),rj(c,b))}};a.PE=function(b){if(a.isEnabled){yf(a);if(a.mv)return b.preventDefault(),
		!1;var c=a.Ic;a.Ic=a.Pb;a.Pb=c;if(1<b.touches.length)a.zn&&(a.Nx=!1);else{var d=null,e=null;0<b.changedTouches.length?e=b.changedTouches[0]:0<b.targetTouches.length&&(e=b.targetTouches[0]);c.g=a;c.Te=1;if(null!==e){var d=window.document.elementFromPoint(e.clientX,e.clientY),f,p;d&&d.Y?(p=e,f=d.Y):(p=b.changedTouches[0],f=a);oj(f,p,c);f=e.screenX;p=e.screenY;var q=a.AB;b.timeStamp-a.Ql<a.zC&&!(25<Math.abs(q.x-f)||25<Math.abs(q.y-p))?a.Pl++:a.Pl=1;c.Te=a.Pl;a.Ql=b.timeStamp;a.AB.m(f,p)}c.hd=0;c.button=
		0;c.Wk=!1;c.up=!0;c.Uk=0;c.Tc=!1;c.bubbles=!1;c.event=b;c.timestamp=Date.now();c.Dg=null===d?b.target.Y:d.Y?d.Y:null;c.pe=null;a.IE(e?e:b,null,new w,c.Dg)||(a.doMouseUp(),rj(c,b),a.Yx=!1)}}};a.KH=function(b){if("touch"===b.pointerType){var c=a.WB;void 0===c[b.pointerId]&&(a.jr++,c[b.pointerId]=b);a.Df[0]=null;a.Df[1]=null;for(var d in c)if(null===a.Df[0])a.Df[0]=c[d];else if(null===a.Df[1]){a.Df[1]=c[d];break}a.isEnabled&&(a.mv=!1,c=a.Ic,a.Ic=a.Pb,a.Pb=c,pj(a,b,b,c,1<a.jr),a.doMouseDown(),2>a.jr&&
	mj(a,c),rj(c,b))}};a.MH=function(b){if("touch"===b.pointerType&&!(2>a.jr)){var c=a.Df;c[0].pointerId===b.pointerId&&(c[0]=b);c[1].pointerId===b.pointerId&&(c[1]=b);a.isEnabled&&(c=a.Ic,a.Ic=a.Pb,a.Pb=c,qj(a,b,b,c,!0),yf(a),a.Jw(b,null,c.Dg)||(a.doMouseMove(),rj(c,b)))}};a.LH=function(b){if("touch"===b.pointerType){var c=a.WB;void 0!==c[b.pointerId]&&(a.jr--,delete c[b.pointerId],c=a.Df,null!==c[0]&&c[0].pointerId===b.pointerId&&(c[0]=null),null!==c[1]&&c[1].pointerId===b.pointerId&&(c[1]=null))}};
		$i(a);Zi(a)}function Wk(a){1<arguments.length&&u.k("Palette constructor can only take one optional argument, the DIV HTML element or its id.");D.call(this,a);this.Cv=!0;this.Nk=!1;this.nb=!0;this.Uy=Db;this.Qb=new Xk}u.Ia(Wk,D);u.fa("Palette",Wk);
	function Si(a){1<arguments.length&&u.k("Overview constructor can only take one optional argument, the DIV HTML element or its id.");D.call(this,a);this.oh.isEnabled=!1;this.Oc=!0;this.rj=null;this.qF=this.iu=!0;this.iI("drawShadows",!1);var b=new G,c=new X;c.stroke="magenta";c.ib=2;c.fill="transparent";c.name="BOXSHAPE";b.pl=!0;b.$z="BOXSHAPE";b.Az="BOXSHAPE";b.tE="BOXSHAPE";b.cursor="move";b.add(c);this.Al=b;c=new lf;c.type=oh;c.$e=Ib;var d=new ph;d.ug=!0;c.add(d);d=new X;d.Hj=Ib;d.Fb="Rectangle";
		d.za=new ia(64,64);d.cursor="se-resize";d.alignment=Vb;c.add(d);b.rE=c;this.mm=this.Ij=!1;this.pf=this.ks=!0;this.SC=0;this.Dy=u.createElement("canvas");this.CF=this.Dy.getContext("2d");this.tb.Fd=new Yk;this.tb.uE=new Zk;var e=this;this.click=function(){var a=e.rj;if(null!==a){var b=a.ob,c=e.N.da;a.position=new w(c.x-b.width/2,c.y-b.height/2)}};this.dE=function(){$k(e)};this.cE=function(){null!==e.rj&&(e.pc(),e.na())};this.oo=kj;this.Oc=!1}u.Ia(Si,D);u.fa("Overview",Si);
	function al(a){a.Oc||a.wd||!1!==a.Ef||(a.Ef=!0,requestAnimationFrame(function(){if(a.Ef&&!a.wd&&(a.Ef=!1,null!==a.Kb)){a.wd=!0;ej(a);a.Dd.I()||jj(a,a.lg());null===a.Kb&&u.k("No div specified");null===a.jb&&u.k("No canvas specified");if(a.Md){var b=a.rj;if(null!==b&&!b.Mb.Xg&&!b.Mb.bd){var b=a.Ig,c=a.Dy;b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.jb.width,a.jb.height);b.drawImage(c,0,0);c=a.Sd;c.reset();1!==a.$b&&c.scale(a.scale);0===a.position.x&&0===a.position.y||c.translate(-a.Na.x,-a.Na.y);b.setTransform(c.m11,
		c.m12,c.m21,c.m22,c.dx,c.dy);for(var c=a.Zb.n,d=c.length,e=0;e<d;e++)c[e].We(b,a);a.uk=!1;a.Md=!1}}a.wd=!1}}))}Si.prototype.computePixelRatio=function(){return 1};
	Si.prototype.We=function(){null===this.Kb&&u.k("No div specified");null===this.jb&&u.k("No canvas specified");if(this.Md){var a=this.rj;if(null!==a&&!a.Mb.Xg&&!a.Mb.bd){if(!this.qF){var b=a.tb.Fd;if(null!==b&&b.oa)return}Dj(this);b=a.Hs;(null!==b&&b.visible&&isNaN(b.width)||isNaN(b.height))&&vj(a);var c=this.jb,b=this.Ig,d=this.Dy,e=this.CF;d.width=c.width;d.height=c.height;b.Ft="";b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,this.jb.width,this.jb.height);d=this.Sd;d.reset();1!==this.$b&&d.scale(this.scale);
		0===this.position.x&&0===this.position.y||d.translate(-this.Na.x,-this.Na.y);b.setTransform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);for(var d=this.iu,f=this.ob,h=a.Zb.n,k=h.length,a=0;a<k;a++){var l=h[a],m=b,n=f,p=d;if(l.visible&&0!==l.Hc&&(void 0===p&&(p=!0),p||!l.zc)){1!==l.Hc&&(m.globalAlpha=l.Hc);for(var p=this.scale,l=l.Db.n,q=l.length,r=0;r<q;r++){var s=l[r],t=s.ba;t.tg(n)&&(1<t.width*p||1<t.height*p?s.We(m,this):wi(s,m))}m.globalAlpha=1}}e.drawImage(c.Ed,0,0);c=this.Zb.n;e=c.length;for(a=0;a<e;a++)c[a].We(b,
			this);this.Md=this.uk=!1}}};
	u.defineProperty(Si,{Mz:"observed"},function(){return this.rj},function(a){var b=this.rj;null!==a&&u.C(a,D,Si,"observed");a instanceof Si&&u.k("Overview.observed Diagram may not be an Overview itself: "+a);b!==a&&(null!==b&&(this.remove(this.Vg),b.lE("ViewportBoundsChanged",this.dE),b.lE("DocumentBoundsChanged",this.cE),b.Vl.remove(this)),this.rj=a,null!==a&&(a.Ly("ViewportBoundsChanged",this.dE),a.Ly("DocumentBoundsChanged",this.cE),a.Vl.add(this),this.add(this.Vg),$k(this)),this.pc(),this.h("observed",
		b,a))});u.defineProperty(Si,{Vg:"box"},function(){return this.Al},function(a){var b=this.Al;b!==a&&(this.Al=a,this.remove(b),this.add(this.Al),$k(this),this.h("box",b,a))});u.defineProperty(Si,{xJ:"drawsTemporaryLayers"},function(){return this.iu},function(a){this.iu!==a&&(this.iu=a,this.Tz())});
	function $k(a){var b=a.Vg;if(null!==b){var c=a.rj;if(null!==c){a.Md=!0;var c=c.ob,d=b.ot,e=u.ul();e.m(c.width,c.height);d.za=e;u.Oj(e);a=2/a.scale;d instanceof X&&(d.ib=a);b.location=new w(c.x-a/2,c.y-a/2)}}}Si.prototype.lg=function(){var a=this.rj;return null===a?K.jF:a.Dd};Si.prototype.oz=function(){!0!==this.Md&&(this.Md=!0,al(this))};Si.prototype.et=function(a){this.Oc||(cj(this),this.na(),sj(this),this.pc(),$k(this),this.Ba("ViewportBoundsChanged",null,a))};
	function Yk(){uf.call(this);this.Ck=null}u.Ia(Yk,uf);Yk.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||!a.Nk||!a.pf)return!1;var b=a.Mz;if(null===b)return!1;if(null===this.findDraggablePart()){var c=b.ob;this.Ck=new w(c.width/2,c.height/2);a=a.vc.da;b.position=new w(a.x-this.Ck.x,a.y-this.Ck.y)}return!0};Yk.prototype.doActivate=function(){this.Ck=null;uf.prototype.doActivate.call(this)};
	Yk.prototype.moveParts=function(){var a=this.g,b=a.Mz;if(null!==b){var c=a.Vg;if(null!==c){if(null===this.Ck){var d=a.vc.da,c=c.location;this.Ck=new w(d.x-c.x,d.y-c.y)}a=a.N.da;b.position=new w(a.x-this.Ck.x,a.y-this.Ck.y)}}};function Zk(){mh.call(this)}u.Ia(Zk,mh);Zk.prototype.resize=function(a){var b=this.g.Mz;if(null!==b){var c=b.ob.copy();b.position=a.position;(c.width!==a.width||c.height!==a.height)&&0<a.width&&0<a.height&&(b.scale=Math.min(c.width/a.width,c.height/a.height))}};
	function ga(a){1<arguments.length&&u.k("Brush constructor can take at most one optional argument, the Brush type.");u.gc(this);this.Ea=!1;void 0===a?(this.pa=te,this.dn="black"):"string"===typeof a?(this.pa=te,this.dn=a):(this.pa=a,this.dn="black");var b=this.pa;b===ue?(this.bo=Db,this.tn=Ub):this.tn=b===ve?this.bo=Ib:this.bo=vb;this.jv=0;this.ju=NaN;this.Hg=this.Yu=this.Gg=null;this.mx=this.nx=0}u.fa("Brush",ga);var te;ga.Solid=te=u.s(ga,"Solid",0);var ue;ga.Linear=ue=u.s(ga,"Linear",1);var ve;
	ga.Radial=ve=u.s(ga,"Radial",2);var bl;ga.Pattern=bl=u.s(ga,"Pattern",4);ga.prototype.copy=function(){var a=new ga;a.pa=this.pa;a.dn=this.dn;a.bo=this.bo.Z();a.tn=this.tn.Z();a.jv=this.jv;a.ju=this.ju;null!==this.Gg&&(a.Gg=this.Gg.copy());a.Yu=this.Yu;return a};ga.prototype.La=function(){this.freeze();Object.freeze(this);return this};ga.prototype.freeze=function(){this.Ea=!0;null!==this.Gg&&this.Gg.freeze();return this};
	ga.prototype.Ma=function(){Object.isFrozen(this)&&u.k("cannot thaw constant: "+this);this.Ea=!1;null!==this.Gg&&this.Gg.Ma();return this};ga.prototype.toString=function(){var a="Brush(";if(this.type===te)a+=this.color;else if(a=this.type===ue?a+"Linear ":this.type===ve?a+"Radial ":this.type===bl?a+"Pattern ":a+"(unknown) ",a+=this.start+" "+this.end,null!==this.qs)for(var b=this.qs.i;b.next();)a+=" "+b.key+":"+b.value;return a+")"};
	ga.prototype.addColorStop=ga.prototype.addColorStop=function(a,b){u.J(this);("number"!==typeof a||!isFinite(a)||1<a||0>a)&&u.xa(a,"0 <= loc <= 1",ga,"addColorStop:loc");u.j(b,"string",ga,"addColorStop:color");null===this.Gg&&(this.Gg=new la("number","string"));this.Gg.add(a,b);this.pa===te&&(this.type=ue);this.Hg=null};
	u.defineProperty(ga,{type:"type"},function(){return this.pa},function(a){u.J(this,a);u.rb(a,ga,ga,"type");this.pa=a;this.start.ne()&&(a===ue?this.start=Db:a===ve&&(this.start=Ib));this.end.ne()&&(a===ue?this.end=Ub:a===ve&&(this.end=Ib));this.Hg=null});u.defineProperty(ga,{color:"color"},function(){return this.dn},function(a){u.J(this,a);this.dn=a;this.Hg=null});u.defineProperty(ga,{start:"start"},function(){return this.bo},function(a){u.J(this,a);u.C(a,L,ga,"start");this.bo=a.Z();this.Hg=null});
	u.defineProperty(ga,{end:"end"},function(){return this.tn},function(a){u.J(this,a);u.C(a,L,ga,"end");this.tn=a.Z();this.Hg=null});u.defineProperty(ga,{vt:"startRadius"},function(){return this.jv},function(a){u.J(this,a);u.ze(a,ga,"startRadius");0>a&&u.xa(a,">= zero",ga,"startRadius");this.jv=a;this.Hg=null});u.defineProperty(ga,{vs:"endRadius"},function(){return this.ju},function(a){u.J(this,a);u.ze(a,ga,"endRadius");0>a&&u.xa(a,">= zero",ga,"endRadius");this.ju=a;this.Hg=null});
	u.defineProperty(ga,{qs:"colorStops"},function(){return this.Gg},function(a){u.J(this,a);this.Gg=a;this.Hg=null});u.defineProperty(ga,{pattern:"pattern"},function(){return this.Yu},function(a){u.J(this,a);this.Yu=a;this.Hg=null});
	ga.randomColor=function(a,b){void 0===a&&(a=128);void 0===b&&(b=Math.max(a,255));var c=Math.abs(b-a),d=Math.floor(a+Math.random()*c).toString(16),e=Math.floor(a+Math.random()*c).toString(16),c=Math.floor(a+Math.random()*c).toString(16);2>d.length&&(d="0"+d);2>e.length&&(e="0"+e);2>c.length&&(c="0"+c);return"#"+d+e+c};var cl=u.createElement("canvas").getContext("2d"),fa;
	ga.isValidColor=fa=function(a){if("black"===a)return!0;if(""===a)return!1;cl.fillStyle="#000000";var b=cl.fillStyle;cl.fillStyle=a;if(cl.fillStyle!==b)return!0;cl.fillStyle="#FFFFFF";b=cl.fillStyle;cl.fillStyle=a;return cl.fillStyle!==b};
	function T(){u.gc(this);this.ea=30723;this.Hc=1;this.Rg=null;this.Ub="";this.lc=this.Jb=null;this.Na=(new w(NaN,NaN)).freeze();this.kf=(new ia(NaN,NaN)).freeze();this.nj=K.qp;this.lj=K.iF;this.Sd=new ja;this.Ym=new ja;this.yk=new ja;this.$b=this.gu=1;this.Zm=0;this.Jh=dl;this.Iq=K.pp;this.Pc=(new z(NaN,NaN,NaN,NaN)).freeze();this.Xb=(new z(NaN,NaN,NaN,NaN)).freeze();this.Gc=(new z(0,0,NaN,NaN)).freeze();this.Ur=this.Yp=this.Q=this.kr=this.lr=null;this.Vr=this.Zp=Infinity;this.xp=this.se=uc;this.yr=
		0;this.tj=1;this.Ep=0;this.Wi=1;this.Cr=-Infinity;this.Br=0;this.Dr=K.Wj;this.Er=dh;this.Lp="";this.Fc=this.P=null;this.an=-1;this.Xl=this.Yh=this.Cl=this.ao=null}u.Nh(T);u.fa("GraphObject",T);
	T.prototype.cloneProtected=function(a){a.ea=this.ea|6144;a.Hc=this.Hc;a.Ub=this.Ub;a.Jb=this.Jb;a.lc=this.lc;a.Na.assign(this.Na);a.kf.assign(this.kf);a.nj=this.nj.Z();a.lj=this.lj.Z();a.yk=this.yk.copy();a.$b=this.$b;a.Zm=this.Zm;a.Jh=this.Jh;a.Iq=this.Iq.Z();a.Pc.assign(this.Pc);a.Xb.assign(this.Xb);a.Gc.assign(this.Gc);a.kr=this.kr;a.Q=null!==this.Q?this.Q.copy():null;a.Yp=this.Yp;a.Zp=this.Zp;a.Ur=this.Ur;a.Vr=this.Vr;a.se=this.se.Z();a.xp=this.xp.Z();a.yr=this.yr;a.tj=this.tj;a.Ep=this.Ep;a.Wi=
		this.Wi;a.Cr=this.Cr;a.Br=this.Br;a.Dr=this.Dr.Z();a.Er=this.Er;a.Lp=this.Lp;a.P=null!==this.P?this.P.copy():null;a.Fc=this.Fc;a.an=this.an;if(null!==this.Cl){a.Cl=u.Pk(this.Cl);for(var b=0;b<this.Cl.length;b++){var c=this.Cl[b];a[c]=this[c]}}null!==this.Yh&&(a.Yh=this.Yh.copy())};T.prototype.Oh=function(a){a.lr=null;a.Xl=null;a.R()};T.prototype.clone=function(){var a=new this.constructor;this.cloneProtected(a);return a};T.prototype.copy=function(){return this.clone()};
	T.prototype.toString=function(){return u.sg(Object.getPrototypeOf(this))+"#"+u.Uc(this)};var qh;T.None=qh=u.s(T,"None",0);var dl;T.Default=dl=u.s(T,"Default",0);var el;T.Vertical=el=u.s(T,"Vertical",4);var fl;T.Horizontal=fl=u.s(T,"Horizontal",5);var cd;T.Fill=cd=u.s(T,"Fill",3);var sh;T.Uniform=sh=u.s(T,"Uniform",1);var th;T.UniformToFill=th=u.s(T,"UniformToFill",2);function gl(a){a.P=new hl}
	T.prototype.Ee=function(){var a=new il;a.cj=vb;a.Ej=vb;a.aj=10;a.Cj=10;a.$i=jl;a.Bj=jl;a.bj=0;a.Dj=0;this.Q=a};function kl(a,b,c,d,e,f,h){var k=.001,l=f.length;a.moveTo(b,c);d-=b;k=e-c;0===d&&(d=.001);e=k/d;for(var m=Math.sqrt(d*d+k*k),n=0,p=!0,q=0===h?!1:!0;.1<=m;){if(q){k=f[n++%l];for(k-=h;0>k;)k+=f[n++%l],p=!p;q=!1}else k=f[n++%l];k>m&&(k=m);var r=Math.sqrt(k*k/(1+e*e));0>d&&(r=-r);b+=r;c+=e*r;p?a.lineTo(b,c):a.moveTo(b,c);m-=k;p=!p}}
	T.prototype.raiseChangedEvent=T.prototype.Cc=function(a,b,c,d,e,f,h){var k=this.T;null!==k&&(k.Mm(a,b,c,d,e,f,h),0!==(this.ea&1024)&&c===this&&a===$d&&ll(this,k,b))};
	function ll(a,b,c){var d=a.Bo();if(null!==d)for(var e=a.Fc.i;e.next();){var f=e.value,h=null;if(null!==f.Om){h=ef(f,d,a);if(null===h)continue;f.Ow(a,h,c,null)}else if(f.yt){var k=b.g;null!==k&&f.Ow(a,k.ha.$s,c,k)}else{var l=d.data;if(null===l)continue;k=b.g;null!==k&&k.Kw||f.Ow(a,l,c,k)}null!==h&&(k=d.Wv(f.tl),null!==k&&f.YE(k,h,c))}}T.prototype.Wv=function(a){return this.an===a?this:null};T.prototype.raiseChanged=T.prototype.h=function(a,b,c){this.Cc($d,a,this,b,c)};
	function ml(a,b,c,d,e){var f=a.Pc,h=a.yk;h.reset();nl(a,h,b,c,d,e);a.yk=h;f.x=b;f.y=c;f.width=d;f.height=e;h.Ps()||h.VE(f)}function ol(a,b,c,d){if(!1===a.Bg)return!1;d.multiply(a.transform);return c?a.tg(b,d):a.tm(b,d)}
	T.prototype.sD=function(a,b,c){if(!1===this.Bg)return!1;var d=this.Ja;b=a.Lj(b);var e=!1;c&&(e=Xa(a.x,a.y,0,0,0,d.height)<b||Xa(a.x,a.y,0,d.height,d.width,d.height)<b||Xa(a.x,a.y,d.width,d.height,d.width,0)<b||Xa(a.x,a.y,d.width,0,0,0)<b);c||(e=Xa(a.x,a.y,0,0,0,d.height)<b&&Xa(a.x,a.y,0,d.height,d.width,d.height)<b&&Xa(a.x,a.y,d.width,d.height,d.width,0)<b&&Xa(a.x,a.y,d.width,0,0,0)<b);return e};T.prototype.Tf=function(){return!0};
	T.prototype.containsPoint=T.prototype.Da=function(a){var b=u.K();b.assign(a);this.transform.ab(b);var c=this.ba;if(!c.I())return!1;var d=this.g;if(null!==d&&d.Yx){var e=d.hz("extraTouchThreshold"),f=d.hz("extraTouchArea"),h=f/2,k=this.Ja,d=this.Ii()*d.scale,l=1/d;if(k.width*d<e&&k.height*d<e)return a=qb(c.x-h*l,c.y-h*l,c.width+f*l,c.height+f*l,b.x,b.y),u.v(b),a}if(this instanceof lf||this instanceof X?qb(c.x-5,c.y-5,c.width+10,c.height+10,b.x,b.y):c.Da(b)){if(this.Yh&&!this.Yh.Da(b))return!1;if(null!==
		this.lc&&c.Da(b)||null!==this.Jb&&this.Gc.Da(a))return!0;u.v(b);return this.Jj(a)}u.v(b);return!1};T.prototype.Jj=function(a){var b=this.Ja;return qb(0,0,b.width,b.height,a.x,a.y)};T.prototype.containsRect=T.prototype.Kj=function(a){if(0===this.angle)return this.ba.Kj(a);var b=this.Ja,b=u.Vj(0,0,b.width,b.height),c=this.transform,d=!1,e=u.fc(a.x,a.y);b.Da(c.Qh(e))&&(e.m(a.x,a.bottom),b.Da(c.Qh(e))&&(e.m(a.right,a.bottom),b.Da(c.Qh(e))&&(e.m(a.right,a.y),b.Da(c.Qh(e))&&(d=!0))));u.v(e);u.ic(b);return d};
	T.prototype.containedInRect=T.prototype.tm=function(a,b){if(void 0===b)return a.Kj(this.ba);var c=this.Ja,d=!1,e=u.fc(0,0);a.Da(b.ab(e))&&(e.m(0,c.height),a.Da(b.ab(e))&&(e.m(c.width,c.height),a.Da(b.ab(e))&&(e.m(c.width,0),a.Da(b.ab(e))&&(d=!0))));return d};
	T.prototype.intersectsRect=T.prototype.tg=function(a,b){if(void 0===b&&(b=this.transform,0===this.angle))return a.tg(this.ba);var c=this.Ja,d=b,e=u.fc(0,0),f=u.fc(0,c.height),h=u.fc(c.width,c.height),k=u.fc(c.width,0),l=!1;if(a.Da(d.ab(e))||a.Da(d.ab(f))||a.Da(d.ab(h))||a.Da(d.ab(k)))l=!0;else{var c=u.Vj(0,0,c.width,c.height),m=u.fc(a.x,a.y);c.Da(d.Qh(m))?l=!0:(m.m(a.x,a.bottom),c.Da(d.Qh(m))?l=!0:(m.m(a.right,a.bottom),c.Da(d.Qh(m))?l=!0:(m.m(a.right,a.y),c.Da(d.Qh(m))&&(l=!0))));u.v(m);u.ic(c);
		!l&&(K.ew(a,e,f)||K.ew(a,f,h)||K.ew(a,h,k)||K.ew(a,k,e))&&(l=!0)}u.v(e);u.v(f);u.v(h);u.v(k);return l};T.prototype.getDocumentPoint=T.prototype.mb=function(a,b){void 0===b&&(b=new w);a.ne()&&u.k("getDocumentPoint:s Spot must be real: "+a.toString());var c=this.Ja;b.m(a.x*c.width+a.offsetX,a.y*c.height+a.offsetY);this.Ff.ab(b);return b};T.prototype.getDocumentAngle=T.prototype.Zk=function(){var a;a=this.Ff;1===a.m11&&0===a.m12?a=0:(a=180*Math.atan2(a.m12,a.m11)/Math.PI,0>a&&(a+=360));return a};
	T.prototype.getDocumentScale=T.prototype.Ii=function(){if(0!==(this.ea&4096)===!1)return this.gu;var a=this.$b;return null!==this.S?a*this.S.Ii():a};T.prototype.getLocalPoint=T.prototype.zD=function(a,b){void 0===b&&(b=new w);b.assign(a);this.Ff.Qh(b);return b};T.prototype.getNearestIntersectionPoint=T.prototype.bl=function(a,b,c){return this.Eo(a.x,a.y,b.x,b.y,c)};g=T.prototype;
	g.Eo=function(a,b,c,d,e){var f=this.transform,h=1/(f.m11*f.m22-f.m12*f.m21),k=f.m22*h,l=-f.m12*h,m=-f.m21*h,n=f.m11*h,p=h*(f.m21*f.dy-f.m22*f.dx),q=h*(f.m12*f.dx-f.m11*f.dy);if(null!==this.om)return f=this.ba,K.bl(f.left,f.top,f.right,f.bottom,a,b,c,d,e);h=a*k+b*m+p;a=a*l+b*n+q;b=c*k+d*m+p;c=c*l+d*n+q;e.m(0,0);d=this.Ja;c=K.bl(0,0,d.width,d.height,h,a,b,c,e);e.transform(f);return c};
	function Ph(a,b,c,d,e){if(!1!==Aj(a)){var f=a.margin,h=f.right+f.left,f=f.top+f.bottom;b=Math.max(b-h,0);c=Math.max(c-f,0);e=e||0;d=Math.max((d||0)-h,0);e=Math.max(e-f,0);var h=a.angle,f=0,f=a.za,k=0;a.ib&&(k=a.ib);90===h||270===h?(b=isFinite(f.height)?f.height+k:b,c=isFinite(f.width)?f.width+k:c):(b=isFinite(f.width)?f.width+k:b,c=isFinite(f.height)?f.height+k:c);var f=d||0,k=e||0,l=a instanceof B;switch(pl(a,!0)){case qh:k=f=0;l&&(c=b=Infinity);break;case cd:isFinite(b)&&b>d&&(f=b);isFinite(c)&&
	c>e&&(k=c);break;case fl:isFinite(b)&&b>d&&(f=b);k=0;l&&(c=Infinity);break;case el:isFinite(c)&&c>e&&(k=c),f=0,l&&(b=Infinity)}var l=a.bf,m=a.wg;f>l.width&&m.width<l.width&&(f=l.width);k>l.height&&m.height<l.height&&(k=l.height);d=Math.max(f/a.scale,m.width);e=Math.max(k/a.scale,m.height);l.width<d&&(d=Math.min(m.width,d));l.height<e&&(e=Math.min(m.height,e));b=Math.min(l.width,b);c=Math.min(l.height,c);b=Math.max(d,b);c=Math.max(e,c);if(90===h||270===h)f=b,b=c,c=f,f=d,d=e,e=f;a.Pc.Ma();a.Qo(b,c,
		d,e);a.Pc.freeze();a.Pc.I()||u.k("Non-real measuredBounds has been set. Object "+a+", measuredBounds: "+a.Pc.toString());uj(a,!1)}}
	g.yc=function(a,b,c,d,e){this.Lg();var f=u.Sf();f.assign(this.Xb);this.Xb.Ma();if(!1===Bj(this)){var h=this.Xb;h.x=a;h.y=b;h.width=c;h.height=d}else this.yi(a,b,c,d);this.Xb.freeze();this.Yh=void 0===e?null:e;c=!1;void 0!==e?c=!0:null!==this.S&&(e=this.S.Gc,d=this.Ca,null!==this.om&&(d=this.Xb),c=b+d.height,d=a+d.width,c=!(0<=a+.05&&d<=e.width+.05&&0<=b+.05&&c<=e.height+.05),this instanceof qa&&(a=this.Gc,this.Iu>a.height||this.ej.Oe>a.width))&&(c=!0);this.ea=c?this.ea|256:this.ea&-257;this.Xb.I()||
	u.k("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Xb.toString());this.uw(f,this.Xb);u.ic(f)};g.yi=function(){};
	function ql(a,b,c,d,e){var f=a.ba;f.x=b;f.y=c;f.width=d;f.height=e;if(!a.za.I()){f=a.Pc;c=a.margin;b=c.right+c.left;var h=c.top+c.bottom;c=f.width+b;f=f.height+h;d+=b;e+=h;b=pl(a,!0);c===d&&f===e&&(b=qh);switch(b){case qh:if(c>d||f>e)uj(a,!0),Ph(a,c>d?d:c,f>e?e:f);break;case cd:uj(a,!0);Ph(a,d,e,0,0);break;case fl:uj(a,!0);Ph(a,d,f,0,0);break;case el:uj(a,!0),Ph(a,c,e,0,0)}}}
	g.uw=function(){rl(this,!1);var a=this.T;null!==a&&null!==a.g&&(a.dl(),this.Su(a),this.na(),a=this.T,null!==a&&(a.ot!==this&&a.sE!==this&&a.vE!==this||sl(a,!0)))};g.Su=function(a){null!==this.Jd&&sl(a,!0)};
	g.We=function(a,b){if(this.visible){var c=this.opacity,d=1;if(1!==c){if(0===c)return;d=a.globalAlpha;a.globalAlpha=d*c}if(a instanceof Nc)a:{if(this.visible){var e=null,f=a.lw;if(this instanceof B&&(this.type===tl||this.type===ul))vl(this,a,b);else{var h=this.Xb;if(0!==h.width&&0!==h.height&&!isNaN(h.x)&&!isNaN(h.y)){var k=this.transform,l=this.S;0!==(this.ea&4096)===!0&&wl(this);var m=0!==(this.ea&256),n=!1;this instanceof qa&&xl(this,a);if(m){n=l.Tf()?l.Ja:l.ba;if(this.Yh)var p=this.Yh,q=p.x,r=
		p.y,s=p.width,p=p.height;else q=Math.max(h.x,n.x),r=Math.max(h.y,n.y),s=Math.min(h.right,n.right)-q,p=Math.min(h.bottom,n.bottom)-r;if(q>h.width+h.x||h.x>n.width+n.x||r>h.height+h.y||h.y>n.height+n.y)break a;n=!0;Uc(a,1,0,0,1,0,0);a.save();a.beginPath();a.rect(q,r,s,p);a.clip()}q=!1;if(this instanceof G&&(q=!0,!this.Ga()))break a;r=!1;s=b.Sg;this.T&&s.drawShadows&&(r=this.T.il);a.Fi.af=[1,0,0,1,0,0];null!==this.lc&&(yl(this,a,this.lc,!0,!0),this.lc instanceof ga&&this.lc.type===ve?(a.beginPath(),
		a.rect(h.x,h.y,h.width,h.height),zl(a,this.lc)):a.fillRect(h.x,h.y,h.width,h.height));q&&this.il&&s.drawShadows&&(Uc(a,1,0,0,1,0,0),h=this.fm,a.shadowOffsetX=h.x,a.shadowOffsetY=h.y,a.shadowColor=this.em,a.shadowBlur=this.dm/b.scale,a.$a());this instanceof B?Uc(a,k.m11,k.m12,k.m21,k.m22,k.dx,k.dy):a.Fi.af=[k.m11,k.m12,k.m21,k.m22,k.dx,k.dy];if(null!==this.Jb){var p=this.Ja,h=k=0,s=p.width,p=p.height,t=0;this instanceof X&&(p=this.Qa.lb,k=p.x,h=p.y,s=p.width,p=p.height,t=this.Ug);yl(this,a,this.Jb,
		!0,!1);this.Jb instanceof ga&&this.Jb.type===ve?(a.beginPath(),a.rect(k-t/2,h-t/2,s+t,p+t),zl(a,this.Jb)):a.fillRect(k-t/2,h-t/2,s+t,p+t)}s=h=k=0;r&&(null!==this.Jb||null!==this.lc||null!==l&&0!==(l.ea&512)||null!==l&&l.type===Yi&&l.If()!==this)?(Al(this,!0),k=a.shadowOffsetX,h=a.shadowOffsetY,s=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0):Al(this,!1);this.Mj(a,b);r&&0!==(this.ea&512)===!0&&(a.shadowOffsetX=k,a.shadowOffsetY=h,a.shadowBlur=s);q&&r&&(a.shadowOffsetX=0,a.shadowOffsetY=
		0,a.shadowBlur=0);m&&(a.restore(),n&&a.sf.pop(),$i(b,a));this instanceof B&&(e=a.sf.pop());q&&r&&a.sf.pop();null!==a.nD&&(null===e&&(f===a.lw?(Uc(a,1,0,0,1,0,0),e=a.sf.pop()):e=a.lw),a.nD(this,e))}}}}else{if(this instanceof B&&(this.type===tl||this.type===ul)){vl(this,a,b);1!==c&&(a.globalAlpha=d);return}q=this.Xb;if(0!==q.width&&0!==q.height&&!isNaN(q.x)&&!isNaN(q.y)){e=this.transform;f=this.S;0!==(this.ea&4096)===!0&&wl(this);l=0!==(this.ea&256);this instanceof qa&&xl(this,a);if(l){m=f.Tf()?f.Ja:
		f.ba;this.Yh?(h=this.Yh,n=h.x,r=h.y,k=h.width,h=h.height):(n=Math.max(q.x,m.x),r=Math.max(q.y,m.y),k=Math.min(q.right,m.right)-n,h=Math.min(q.bottom,m.bottom)-r);if(n>q.width+q.x||q.x>m.width+m.x||r>q.height+q.y||q.y>m.height+m.y){1!==c&&(a.globalAlpha=d);return}a.save();a.beginPath();a.rect(n,r,k,h);a.clip()}r=b.Sg;m=!1;if(this instanceof G){m=!0;if(!this.Ga()){1!==c&&(a.globalAlpha=d);return}this.il&&r.drawShadows&&(n=this.fm,a.shadowOffsetX=n.x*b.scale*b.of,a.shadowOffsetY=n.y*b.scale*b.of,a.shadowColor=
		this.em,a.shadowBlur=this.dm)}n=!1;this.T&&r.drawShadows&&(n=this.T.il);null!==this.lc&&(yl(this,a,this.lc,!0,!0),this.lc instanceof ga&&this.lc.type===ve?(a.beginPath(),a.rect(q.x,q.y,q.width,q.height),zl(a,this.lc)):a.fillRect(q.x,q.y,q.width,q.height));e.Ps()||a.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy);null!==this.Jb&&(h=this.Ja,r=q=0,k=h.width,h=h.height,s=0,this instanceof X&&(h=this.Qa.lb,q=h.x,r=h.y,k=h.width,h=h.height,s=this.Ug),yl(this,a,this.Jb,!0,!1),this.Jb instanceof ga&&this.Jb.type===
	ve?(a.beginPath(),a.rect(q-s/2,r-s/2,k+s,h+s),zl(a,this.Jb)):a.fillRect(q-s/2,r-s/2,k+s,h+s));k=r=q=0;n&&(null!==this.Jb||null!==this.lc||null!==f&&0!==(f.ea&512)||null!==f&&(f.type===Yi||f.type===oh)&&f.If()!==this)?(Al(this,!0),q=a.shadowOffsetX,r=a.shadowOffsetY,k=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0):Al(this,!1);this.Mj(a,b);n&&0!==(this.ea&512)===!0&&(a.shadowOffsetX=q,a.shadowOffsetY=r,a.shadowBlur=k);m&&n&&(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0);l?(a.restore(),
		this instanceof B?$i(b,a,!0):$i(b,a,!1)):e.Ps()||(f=1/(e.m11*e.m22-e.m12*e.m21),a.transform(e.m22*f,-e.m12*f,-e.m21*f,e.m11*f,f*(e.m21*e.dy-e.m22*e.dx),f*(e.m12*e.dx-e.m11*e.dy)))}}1!==c&&(a.globalAlpha=d)}};
	function vl(a,b,c){var d=a.Xb;0===d.width||0===d.height||isNaN(d.x)||isNaN(d.y)||(null!==a.lc&&(yl(a,b,a.lc,!0,!0),a.lc instanceof ga&&a.lc.type===ve?(b.beginPath(),b.rect(d.x,d.y,d.width,d.height),zl(b,a.lc)):b.fillRect(d.x,d.y,d.width,d.height)),null!==a.Jb&&(yl(a,b,a.Jb,!0,!1),a.Jb instanceof ga&&a.Jb.type===ve?(b.beginPath(),b.rect(d.x,d.y,d.width,d.height),zl(b,a.Jb)):b.fillRect(d.x,d.y,d.width,d.height)),a.Mj(b,c))}g.Mj=function(){};
	function zl(a,b){if(b instanceof ga&&b.type===ve&&!(a instanceof Nc)){var c=b.nx,d=b.mx;d>c?(a.scale(c/d,1),a.translate((d-c)/2,0)):c>d&&(a.scale(1,d/c),a.translate(0,(c-d)/2));a.Gt?a.clip():a.fill();d>c?(a.translate(-(d-c)/2,0),a.scale(1/(c/d),1)):c>d&&(a.translate(0,-(c-d)/2),a.scale(1,1/(d/c)))}else a.Gt?a.clip():a.fill()}function Bl(a){a.Gt||a.stroke()}
	function yl(a,b,c,d,e){if(null!==c){var f=1,h=1;if("string"===typeof c)d?b.Tm!==c&&(b.fillStyle=c,b.Tm=c):b.Um!==c&&(b.strokeStyle=c,b.Um=c);else if(c.type===te)c=c.color,d?b.Tm!==c&&(b.fillStyle=c,b.Tm=c):b.Um!==c&&(b.strokeStyle=c,b.Um=c);else{var k,h=a.Ja,f=h.width,h=h.height;if(e)var l=a.ba,f=l.width,h=l.height;var m=b instanceof CanvasRenderingContext2D;if(m&&(c.Hg&&c.type===bl||c.nx===f&&c.mx===h))k=c.Hg;else{var n=l=0,p=0,q=0,r=0,s=0,s=r=0;e&&(l=a.ba,f=l.width,h=l.height,r=l.x,s=l.y);l=c.start.x*
		f+c.start.offsetX;n=c.start.y*h+c.start.offsetY;p=c.end.x*f+c.end.offsetX;q=c.end.y*h+c.end.offsetY;l+=r;p+=r;n+=s;q+=s;c.type===ue?k=b.createLinearGradient(l,n,p,q):c.type===ve?(s=isNaN(c.vs)?Math.max(f,h)/2:c.vs,isNaN(c.vt)?(r=0,s=Math.max(f,h)/2):r=c.vt,k=b.createRadialGradient(l,n,r,p,q,s)):c.type===bl?k=b.createPattern(c.pattern,"repeat"):u.Kd(c.type,"Brush type");if(c.type!==bl&&(a=c.qs,null!==a))for(a=a.i;a.next();)k.addColorStop(a.key,a.value);m&&(c.Hg=k,c.nx=f,c.mx=h)}d?b.Tm!==k&&(b.fillStyle=
		k,b.Tm=k):b.Um!==k&&(b.strokeStyle=k,b.Um=k)}}}T.prototype.isContainedBy=T.prototype.gl=function(a){if(a instanceof B)a:{if(this!==a&&null!==a)for(var b=this.S;null!==b;){if(b===a){a=!0;break a}b=b.S}a=!1}else a=!1;return a};T.prototype.isVisibleObject=T.prototype.kl=function(){if(!this.visible)return!1;var a=this.S;return null!==a?a.kl():!0};
	function wl(a){if(0!==(a.ea&2048)===!0){var b=a.Sd;b.reset();if(!a.Xb.I()||!a.Pc.I()){Cl(a,!1);return}b.translate(a.Xb.x,a.Xb.y);b.translate(-a.Ca.x,-a.Ca.y);var c=a.Ja;nl(a,b,c.x,c.y,c.width,c.height);Cl(a,!1);Dl(a,!0)}0!==(a.ea&4096)===!0&&(b=a.S,null===b?(a.Ym.set(a.Sd),a.gu=a.scale,Dl(a,!1)):null!==b.Ff&&(c=a.Ym,c.reset(),b.Tf()?c.multiply(b.Ym):null!==b.S&&c.multiply(b.S.Ym),c.multiply(a.Sd),a.gu=a.scale*b.gu,Dl(a,!1)))}
	function nl(a,b,c,d,e,f){1!==a.scale&&b.scale(a.scale);if(0!==a.angle){var h=Ib;a.$e&&a.$e.pd()&&(h=a.$e);var k=u.K();if(a instanceof G&&a.ec!==a)for(c=a.ec,d=c.Ja,k.st(d.x,d.y,d.width,d.height,h),c.yk.ab(k),k.offset(-c.Ca.x,-c.Ca.y),h=c.S;null!==h&&h!==a;)h.yk.ab(k),k.offset(-h.Ca.x,-h.Ca.y),h=h.S;else k.st(c,d,e,f,h);b.rotate(a.angle,k.x,k.y);u.v(k)}}g=T.prototype;
	g.R=function(a){void 0===a&&(a=!1);if(!0!==Aj(this)){uj(this,!0);rl(this,!0);var b=this.S;null!==b?a||b.R():(a=this.g,null!==a&&(a.Yf.add(this),this instanceof U&&(a.ga.eb||this.Ze(),null!==this.ce&&El(this.ce)),a.de(!0)));if(this instanceof B){if(this.pa===Yi||this.pa===ah)a=this.If(),null!==a&&a.R(!0);a=this.Aa.n;for(var b=a.length,c=0;c<b;c++){var d=a[c];!0!==Aj(d)&&(d.za.I()||(d instanceof ph||d instanceof B||d instanceof qa||pl(d,!1)!==qh)&&d.R(!0))}}}};
	g.Ho=function(){!1===Aj(this)&&(uj(this,!0),rl(this,!0))};function El(a){if(!1===Bj(a)){if(null!==a.S)a.S.R();else{var b=a.g;null!==b&&(b.Yf.add(a),a instanceof U&&a.Ze(),b.de())}rl(a,!0)}}g.Lg=function(){0!==(this.ea&2048)===!1&&(Cl(this,!0),Dl(this,!0))};g.nz=function(){Dl(this,!0)};g.na=function(){var a=this.T;null!==a&&a.na()};
	function pl(a,b){var c=a.stretch,d=a.S;if(null!==d&&d.pa===Fl)return Gl(a,d.gd(a.rc),d.fd(a.column),b);if(null!==d&&d.pa===Yi&&d.If()===a)return Hl(a,cd,b);if(c===dl){if(null!==d){if(d.pa===oh&&d.If()===a)return Hl(a,cd,b);c=d.Cd;return c===dl?Hl(a,qh,b):Hl(a,c,b)}return Hl(a,qh,b)}return Hl(a,c,b)}
	function Gl(a,b,c,d){var e=a.stretch;if(e!==dl)return Hl(a,e,d);var f=e=null;switch(b.stretch){case el:f=!0;break;case cd:f=!0}switch(c.stretch){case fl:e=!0;break;case cd:e=!0}b=a.S.Cd;null===e&&(e=b===fl||b===cd);null===f&&(f=b===el||b===cd);return!0===e&&!0===f?Hl(a,cd,d):!0===e?Hl(a,fl,d):!0===f?Hl(a,el,d):Hl(a,qh,d)}
	function Hl(a,b,c){if(c)return b;if(b===qh)return qh;c=a.za;if(c.I())return qh;a=a.angle;if(!isNaN(c.width))if(90!==a&&270!==a){if(b===fl)return qh;if(b===cd)return el}else{if(b===el)return qh;if(b===cd)return fl}if(!isNaN(c.height))if(90!==a&&270!==a){if(b===el)return qh;if(b===cd)return fl}else{if(b===fl)return qh;if(b===cd)return el}return b}
	u.defineProperty(T,{Ew:"segmentOrientation"},function(){return this.Er},function(a){var b=this.Er;b!==a&&(this.Er=a,this.R(),this.h("segmentOrientation",b,a))});u.defineProperty(T,{Pf:"segmentIndex"},function(){return this.Cr},function(a){a=Math.round(a);var b=this.Cr;b!==a&&(this.Cr=a,this.R(),this.h("segmentIndex",b,a))});
	u.defineProperty(T,{Dw:"segmentFraction"},function(){return this.Br},function(a){isNaN(a)?a=0:0>a?a=0:1<a&&(a=1);var b=this.Br;b!==a&&(this.Br=a,this.R(),this.h("segmentFraction",b,a))});u.defineProperty(T,{BE:"segmentOffset"},function(){return this.Dr},function(a){var b=this.Dr;b.L(a)||(this.Dr=a=a.Z(),this.R(),this.h("segmentOffset",b,a))});u.defineProperty(T,{stretch:"stretch"},function(){return this.Jh},function(a){var b=this.Jh;b!==a&&(this.Jh=a,this.R(),this.h("stretch",b,a))});
	u.defineProperty(T,{name:"name"},function(){return this.Ub},function(a){var b=this.Ub;b!==a&&(this.Ub=a,null!==this.T&&(this.T.Bk=null),this.h("name",b,a))});u.defineProperty(T,{opacity:"opacity"},function(){return this.Hc},function(a){var b=this.Hc;b!==a&&(u.j(a,"number",T,"opacity"),(0>a||1<a)&&u.xa(a,"0 <= value <= 1",T,"opacity"),this.Hc=a,this.h("opacity",b,a),a=this.g,b=this.T,null!==a&&null!==b&&a.na(yi(b,b.ba)))});
	u.defineProperty(T,{visible:"visible"},function(){return 0!==(this.ea&1)},function(a){var b=0!==(this.ea&1);b!==a&&(this.ea^=1,this.h("visible",b,a),b=this.S,null!==b?b.R():this instanceof G&&this.He(a),this.na(),Il(this))});u.defineProperty(T,{Bg:"pickable"},function(){return 0!==(this.ea&2)},function(a){var b=0!==(this.ea&2);b!==a&&(this.ea^=2,this.h("pickable",b,a))});
	u.defineProperty(T,{BG:"fromLinkableDuplicates"},function(){return 0!==(this.ea&4)},function(a){var b=0!==(this.ea&4);b!==a&&(this.ea^=4,this.h("fromLinkableDuplicates",b,a))});u.defineProperty(T,{CG:"fromLinkableSelfNode"},function(){return 0!==(this.ea&8)},function(a){var b=0!==(this.ea&8);b!==a&&(this.ea^=8,this.h("fromLinkableSelfNode",b,a))});
	u.defineProperty(T,{xI:"toLinkableDuplicates"},function(){return 0!==(this.ea&16)},function(a){var b=0!==(this.ea&16);b!==a&&(this.ea^=16,this.h("toLinkableDuplicates",b,a))});u.defineProperty(T,{yI:"toLinkableSelfNode"},function(){return 0!==(this.ea&32)},function(a){var b=0!==(this.ea&32);b!==a&&(this.ea^=32,this.h("toLinkableSelfNode",b,a))});
	u.defineProperty(T,{ug:"isPanelMain"},function(){return 0!==(this.ea&64)},function(a){var b=0!==(this.ea&64);b!==a&&(this.ea^=64,this.R(),this.h("isPanelMain",b,a))});u.defineProperty(T,{qz:"isActionable"},function(){return 0!==(this.ea&128)},function(a){var b=0!==(this.ea&128);b!==a&&(this.ea^=128,this.h("isActionable",b,a))});
	u.defineProperty(T,{om:"areaBackground"},function(){return this.lc},function(a){var b=this.lc;b!==a&&(a instanceof ga&&a.freeze(),this.lc=a,this.na(),this.h("areaBackground",b,a))});u.defineProperty(T,{background:"background"},function(){return this.Jb},function(a){var b=this.Jb;b!==a&&(a instanceof ga&&a.freeze(),this.Jb=a,this.na(),this.h("background",b,a))});function Al(a,b){a.ea=b?a.ea|512:a.ea&-513}function Jl(a,b){a.ea=b?a.ea|1024:a.ea&-1025}function Cl(a,b){a.ea=b?a.ea|2048:a.ea&-2049}
	function Dl(a,b){a.ea=b?a.ea|4096:a.ea&-4097}function Aj(a){return 0!==(a.ea&8192)}function uj(a,b){a.ea=b?a.ea|8192:a.ea&-8193}function Bj(a){return 0!==(a.ea&16384)}function rl(a,b){a.ea=b?a.ea|16384:a.ea&-16385}u.u(T,{T:"part"},function(){if(this instanceof G)return this;if(this.Xl)return this.Xl;var a;for(a=this.S;a;){if(a instanceof G)return this.Xl=a;a=a.S}return null});u.u(T,{S:"panel"},function(){return this.Rg});T.prototype.ql=function(a){this.Rg=a};
	u.u(T,{layer:"layer"},function(){var a=this.T;return null!==a?a.layer:null});u.u(T,{g:"diagram"},function(){var a=this.T;return null!==a?a.g:null},{configurable:!0});u.defineProperty(T,{position:"position"},function(){return this.Na},function(a){var b=this.Na;b.L(a)||(a=a.Z(),this.eA(a,b)&&this.h("position",b,a))});T.prototype.eA=function(a){this.Na=a;El(this);this.Lg();return!0};T.prototype.GE=function(a,b){this.Na.m(a,b);Kl(this,!0);this.Lg()};u.u(T,{ba:"actualBounds"},function(){return this.Xb});
	u.defineProperty(T,{scale:"scale"},function(){return this.$b},function(a){var b=this.$b;b!==a&&(0>=a&&u.k("GraphObject.scale must be greater than zero"),this.$b=a,this.Lg(),this.R(),this.h("scale",b,a))});u.defineProperty(T,{angle:"angle"},function(){return this.Zm},function(a){var b=this.Zm;b!==a&&(a%=360,0>a&&(a+=360),b!==a&&(this.Zm=a,this.R(),this.Lg(),this.h("angle",b,a)))});
	u.defineProperty(T,{za:"desiredSize"},function(){return this.kf},function(a){var b=this.kf;b.L(a)||(this.kf=a=a.Z(),this.R(),this instanceof X&&this.le(),this.h("desiredSize",b,a),a=this.T,null!==a&&0!==(this.ea&1024)&&(ll(this,a,"width"),ll(this,a,"height")))});
	u.defineProperty(T,{width:"width"},function(){return this.kf.width},function(a){if(this.kf.width!==a){var b=this.kf;this.kf=a=(new ia(a,this.kf.height)).freeze();this.R();this instanceof X&&this.le();this.h("desiredSize",b,a);b=this.T;null!==b&&0!==(this.ea&1024)&&ll(this,b,"width")}});
	u.defineProperty(T,{height:"height"},function(){return this.kf.height},function(a){if(this.kf.height!==a){var b=this.kf;this.kf=a=(new ia(this.kf.width,a)).freeze();this.R();this instanceof X&&this.le();this.h("desiredSize",b,a);b=this.T;null!==b&&0!==(this.ea&1024)&&ll(this,b,"height")}});
	u.defineProperty(T,{wg:"minSize"},function(){return this.nj},function(a){var b=this.nj;b.L(a)||(a=a.copy(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.nj=a,this.R(),this.h("minSize",b,a))});u.defineProperty(T,{bf:"maxSize"},function(){return this.lj},function(a){var b=this.lj;b.L(a)||(a=a.copy(),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),a.freeze(),this.lj=a,this.R(),this.h("maxSize",b,a))});u.u(T,{Ca:"measuredBounds"},function(){return this.Pc});
	u.u(T,{Ja:"naturalBounds"},function(){return this.Gc},{configurable:!0});u.defineProperty(T,{margin:"margin"},function(){return this.Iq},function(a){"number"===typeof a&&(a=new rb(a));var b=this.Iq;b.L(a)||(this.Iq=a=a.Z(),this.R(),this.h("margin",b,a))});u.u(T,{transform:null},function(){0!==(this.ea&2048)===!0&&wl(this);return this.Sd});u.u(T,{Ff:null},function(){0!==(this.ea&4096)===!0&&wl(this);return this.Ym});
	u.defineProperty(T,{alignment:"alignment"},function(){return this.se},function(a){var b=this.se;b.L(a)||(a.ne()&&!a.Kc()&&u.k("alignment must be a real Spot or Spot.Default"),this.se=a=a.Z(),El(this),this.h("alignment",b,a))});u.defineProperty(T,{column:"column"},function(){return this.Ep},function(a){a=Math.round(a);var b=this.Ep;b!==a&&(0>a&&u.xa(a,">= 0",T,"column"),this.Ep=a,this.R(),this.h("column",b,a))});
	u.defineProperty(T,{$F:"columnSpan"},function(){return this.Wi},function(a){a=Math.round(a);var b=this.Wi;b!==a&&(1>a&&u.xa(a,">= 1",T,"columnSpan"),this.Wi=a,this.R(),this.h("columnSpan",b,a))});u.defineProperty(T,{rc:"row"},function(){return this.yr},function(a){a=Math.round(a);var b=this.yr;b!==a&&(0>a&&u.xa(a,">= 0",T,"row"),this.yr=a,this.R(),this.h("row",b,a))});
	u.defineProperty(T,{rowSpan:"rowSpan"},function(){return this.tj},function(a){a=Math.round(a);var b=this.tj;b!==a&&(1>a&&u.xa(a,">= 1",T,"rowSpan"),this.tj=a,this.R(),this.h("rowSpan",b,a))});u.defineProperty(T,{Hj:"alignmentFocus"},function(){return this.xp},function(a){var b=this.xp;b.L(a)||(a.ne()&&!a.Kc()&&u.k("alignmentFocus must be a real Spot or Spot.Default"),this.xp=a=a.Z(),this.R(),this.h("alignmentFocus",b,a))});
	u.defineProperty(T,{Jd:"portId"},function(){return this.kr},function(a){var b=this.kr;if(b!==a){var c=this.T;null===c||c instanceof U||(u.k("portID being set on a Link: "+a),c=null);null!==b&&null!==c&&Ll(c,this);this.kr=a;if(null!==a&&c){c.zh=!0;null===c.Qd&&Ml(c);var d=this.Jd;null!==d&&c.Qd.add(d,this)}this.h("portId",b,a)}});function Nl(a){var b={value:null};Ol(a,b);return b.value}function Ol(a,b){var c=a.S;return null===c||!Ol(c,b)&&a.visible?(b.value=a,!1):!0}
	function Il(a){var b=a.T;b instanceof U&&(a=a.g,null===a||a.ga.eb||b.Ze())}u.defineProperty(T,{xb:"toSpot"},function(){return null!==this.Q?this.Q.Ej:vb},function(a){null===this.Q&&this.Ee();var b=this.Q.Ej;b.L(a)||(a=a.Z(),this.Q.Ej=a,this.h("toSpot",b,a),Il(this))});
	u.defineProperty(T,{vl:"toEndSegmentLength"},function(){return null!==this.Q?this.Q.Cj:10},function(a){null===this.Q&&this.Ee();var b=this.Q.Cj;b!==a&&(0>a&&u.xa(a,">= 0",T,"toEndSegmentLength"),this.Q.Cj=a,this.h("toEndSegmentLength",b,a),Il(this))});u.defineProperty(T,{xt:"toEndSegmentDirection"},function(){return null!==this.Q?this.Q.Bj:jl},function(a){null===this.Q&&this.Ee();var b=this.Q.Bj;b!==a&&(this.Q.Bj=a,this.h("toEndSegmentDirection",b,a),Il(this))});
	u.defineProperty(T,{zt:"toShortLength"},function(){return null!==this.Q?this.Q.Dj:0},function(a){null===this.Q&&this.Ee();var b=this.Q.Dj;b!==a&&(this.Q.Dj=a,this.h("toShortLength",b,a),Il(this))});u.defineProperty(T,{NE:"toLinkable"},function(){return this.Ur},function(a){var b=this.Ur;b!==a&&(this.Ur=a,this.h("toLinkable",b,a))});u.defineProperty(T,{zI:"toMaxLinks"},function(){return this.Vr},function(a){var b=this.Vr;b!==a&&(0>a&&u.xa(a,">= 0",T,"toMaxLinks"),this.Vr=a,this.h("toMaxLinks",b,a))});
	u.defineProperty(T,{vb:"fromSpot"},function(){return null!==this.Q?this.Q.cj:vb},function(a){null===this.Q&&this.Ee();var b=this.Q.cj;b.L(a)||(a=a.Z(),this.Q.cj=a,this.h("fromSpot",b,a),Il(this))});u.defineProperty(T,{Yk:"fromEndSegmentLength"},function(){return null!==this.Q?this.Q.aj:10},function(a){null===this.Q&&this.Ee();var b=this.Q.aj;b!==a&&(0>a&&u.xa(a,">= 0",T,"fromEndSegmentLength"),this.Q.aj=a,this.h("fromEndSegmentLength",b,a),Il(this))});
	u.defineProperty(T,{Fs:"fromEndSegmentDirection"},function(){return null!==this.Q?this.Q.$i:jl},function(a){null===this.Q&&this.Ee();var b=this.Q.$i;b!==a&&(this.Q.$i=a,this.h("fromEndSegmentDirection",b,a),Il(this))});u.defineProperty(T,{Gs:"fromShortLength"},function(){return null!==this.Q?this.Q.bj:0},function(a){null===this.Q&&this.Ee();var b=this.Q.bj;b!==a&&(this.Q.bj=a,this.h("fromShortLength",b,a),Il(this))});
	u.defineProperty(T,{vD:"fromLinkable"},function(){return this.Yp},function(a){var b=this.Yp;b!==a&&(this.Yp=a,this.h("fromLinkable",b,a))});u.defineProperty(T,{DG:"fromMaxLinks"},function(){return this.Zp},function(a){var b=this.Zp;b!==a&&(0>a&&u.xa(a,">= 0",T,"fromMaxLinks"),this.Zp=a,this.h("fromMaxLinks",b,a))});u.defineProperty(T,{cursor:"cursor"},function(){return this.Lp},function(a){var b=this.Lp;b!==a&&(u.j(a,"string",T,"cursor"),this.Lp=a,this.h("cursor",b,a))});
	u.defineProperty(T,{click:"click"},function(){return null!==this.P?this.P.Xh:null},function(a){null===this.P&&gl(this);var b=this.P.Xh;b!==a&&(null!==a&&u.j(a,"function",T,"click"),this.P.Xh=a,this.h("click",b,a))});u.defineProperty(T,{us:"doubleClick"},function(){return null!==this.P?this.P.di:null},function(a){null===this.P&&gl(this);var b=this.P.di;b!==a&&(null!==a&&u.j(a,"function",T,"doubleClick"),this.P.di=a,this.h("doubleClick",b,a))});
	u.defineProperty(T,{Vy:"contextClick"},function(){return null!==this.P?this.P.Zh:null},function(a){null===this.P&&gl(this);var b=this.P.Zh;b!==a&&(null!==a&&u.j(a,"function",T,"contextClick"),this.P.Zh=a,this.h("contextClick",b,a))});u.defineProperty(T,{ZD:"mouseEnter"},function(){return null!==this.P?this.P.Tq:null},function(a){null===this.P&&gl(this);var b=this.P.Tq;b!==a&&(null!==a&&u.j(a,"function",T,"mouseEnter"),this.P.Tq=a,this.h("mouseEnter",b,a))});
	u.defineProperty(T,{$D:"mouseLeave"},function(){return null!==this.P?this.P.Uq:null},function(a){null===this.P&&gl(this);var b=this.P.Uq;b!==a&&(null!==a&&u.j(a,"function",T,"mouseLeave"),this.P.Uq=a,this.h("mouseLeave",b,a))});u.defineProperty(T,{Gz:"mouseOver"},function(){return null!==this.P?this.P.ni:null},function(a){null===this.P&&gl(this);var b=this.P.ni;b!==a&&(null!==a&&u.j(a,"function",T,"mouseOver"),this.P.ni=a,this.h("mouseOver",b,a))});
	u.defineProperty(T,{Fz:"mouseHover"},function(){return null!==this.P?this.P.mi:null},function(a){null===this.P&&gl(this);var b=this.P.mi;b!==a&&(null!==a&&u.j(a,"function",T,"mouseHover"),this.P.mi=a,this.h("mouseHover",b,a))});u.defineProperty(T,{Ez:"mouseHold"},function(){return null!==this.P?this.P.li:null},function(a){null===this.P&&gl(this);var b=this.P.li;b!==a&&(null!==a&&u.j(a,"function",T,"mouseHold"),this.P.li=a,this.h("mouseHold",b,a))});
	u.defineProperty(T,{CH:"mouseDragEnter"},function(){return null!==this.P?this.P.Rq:null},function(a){null===this.P&&gl(this);var b=this.P.Rq;b!==a&&(null!==a&&u.j(a,"function",T,"mouseDragEnter"),this.P.Rq=a,this.h("mouseDragEnter",b,a))});u.defineProperty(T,{DH:"mouseDragLeave"},function(){return null!==this.P?this.P.Sq:null},function(a){null===this.P&&gl(this);var b=this.P.Sq;b!==a&&(null!==a&&u.j(a,"function",T,"mouseDragLeave"),this.P.Sq=a,this.h("mouseDragLeave",b,a))});
	u.defineProperty(T,{Dz:"mouseDrop"},function(){return null!==this.P?this.P.ki:null},function(a){null===this.P&&gl(this);var b=this.P.ki;b!==a&&(null!==a&&u.j(a,"function",T,"mouseDrop"),this.P.ki=a,this.h("mouseDrop",b,a))});u.defineProperty(T,{HC:"actionDown"},function(){return null!==this.P?this.P.sp:null},function(a){null===this.P&&gl(this);var b=this.P.sp;b!==a&&(null!==a&&u.j(a,"function",T,"actionDown"),this.P.sp=a,this.h("actionDown",b,a))});
	u.defineProperty(T,{IC:"actionMove"},function(){return null!==this.P?this.P.tp:null},function(a){null===this.P&&gl(this);var b=this.P.tp;b!==a&&(null!==a&&u.j(a,"function",T,"actionMove"),this.P.tp=a,this.h("actionMove",b,a))});u.defineProperty(T,{JC:"actionUp"},function(){return null!==this.P?this.P.vp:null},function(a){null===this.P&&gl(this);var b=this.P.vp;b!==a&&(null!==a&&u.j(a,"function",T,"actionUp"),this.P.vp=a,this.h("actionUp",b,a))});
	u.defineProperty(T,{GC:"actionCancel"},function(){return null!==this.P?this.P.rp:null},function(a){null===this.P&&gl(this);var b=this.P.rp;b!==a&&(null!==a&&u.j(a,"function",T,"actionCancel"),this.P.rp=a,this.h("actionCancel",b,a))});u.defineProperty(T,{mA:"toolTip"},function(){return null!==this.P?this.P.ui:null},function(a){null===this.P&&gl(this);var b=this.P.ui;b!==a&&(null!==a&&u.C(a,lf,T,"toolTip"),this.P.ui=a,this.h("toolTip",b,a))});
	u.defineProperty(T,{contextMenu:"contextMenu"},function(){return null!==this.P?this.P.$h:null},function(a){null===this.P&&gl(this);var b=this.P.$h;b!==a&&(null!==a&&u.C(a,lf,T,"contextMenu"),this.P.$h=a,this.h("contextMenu",b,a))});T.prototype.bind=T.prototype.bind=function(a){a.gg=this;var b=this.Bo();null!==b&&Pl(b)&&u.k("Cannot add a Binding to a template that has already been copied: "+a);null===this.Fc&&(this.Fc=new E(bf));this.Fc.add(a)};
	T.prototype.findTemplateBinder=T.prototype.Bo=function(){for(var a=this instanceof B?this:this.S;null!==a;){if(null!==a.zl)return a;a=a.S}return null};T.fromSvg=T.fromSVG=function(a){return Ql(a)};T.prototype.setProperties=function(a){u.pt(this,a)};var Rl;
	T.make=Rl=function(a,b){var c=arguments,d=null,e=null;if("function"===typeof a)e=a;else if("string"===typeof a){var f=Sl.ua(a);"function"===typeof f?(c=u.Pk(arguments),d=f(c)):e=da[a]}null===d&&(void 0===e&&(d=window.$,void 0!==d&&void 0!==d.noop&&u.k("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),u.k("GraphObject.make failed to complete, it may be conflicting with another var.")),null!==e&&e.constructor||u.k("GraphObject.make requires a class function or class name, not: "+
		a),d=new e);f=1;if(d instanceof D&&1<c.length){var h=d,e=c[1];if("string"===typeof e||e instanceof HTMLDivElement)Wi(h,e),f++}for(;f<c.length;f++)e=c[f],void 0===e?u.k("Undefined value at argument "+f+" for object being constructed by GraphObject.make: "+d):Tl(d,e);return d};
	function Tl(a,b){if("string"===typeof b)if(a instanceof qa)a.text=b;else if(a instanceof X)a.Fb=b;else if(a instanceof Ri)a.source=b;else if(a instanceof B){var c=Da(B,b);null!==c?a.type=c:u.k("Unknown Panel type as an argument to GraphObject.make: "+b)}else a instanceof ga?(c=Da(ga,b),null!==c?a.type=c:u.k("Unknown Brush type as an argument to GraphObject.make: "+b)):a instanceof $c?(c=Da($c,b),null!==c?a.type=c:u.k("Unknown Geometry type as an argument to GraphObject.make: "+b)):a instanceof Jd?
		(c=Da(Jd,b),null!==c?a.type=c:u.k("Unknown PathSegment type as an argument to GraphObject.make: "+b)):u.k("Unable to use a string as an argument to GraphObject.make: "+b);else if(b instanceof T)c=b,a instanceof B||u.k("A GraphObject can only be added to a Panel, not to: "+a),a.add(c);else if(b instanceof Se){var d=b,c=a,e;d.ae&&c.gd?e=c.gd(d.index):!d.ae&&c.fd?e=c.fd(d.index):u.k("A RowColumnDefinition can only be added to a Panel, not to: "+a);e.ss(d)}else if(b instanceof ea)a instanceof W&&b.Ae===
	W?2===(b.value&2)?a.Bw=b:b===kh||b===ch||b===bh?a.Ve=b:b===Ul||b===Vl||b===Wl?a.gs=b:b!==Xl&&b!==dh&&u.k("Unknown Link enum value for a Link property: "+b):a instanceof B&&b.Ae===B?a.type=b:a instanceof qa&&b.Ae===qa?a.aF=b:a instanceof X&&(b===qh||b===sh||b===th||b===dl)?a.yD=b:a instanceof Ri&&(b===qh||b===sh||b===th)?a.RG=b:a instanceof T&&b.Ae===W?(c=a,0===b.name.indexOf("Orient")?c.Ew=b:u.k("Unknown Link enum value for GraphObject.segmentOrientation property: "+b)):a instanceof T&&b.Ae===T?a.stretch=
		b:a instanceof Se&&b.Ae===Se?a.tt=b:a instanceof D&&b.Ae===D?a.oo=b:a instanceof ga&&b.Ae===ga?a.type=b:a instanceof $c&&b.Ae===$c?a.type=b:a instanceof Jd&&b.Ae===Jd?a.type=b:a instanceof bf&&b.Ae===bf?a.mode=b:a instanceof Zd&&b.Ae===Zd?a.Bd=b:a instanceof Y&&b.Ae===Y?0===b.name.indexOf("Alignment")?a.alignment=b:0===b.name.indexOf("Arrangement")?a.Gf=b:0===b.name.indexOf("Compaction")?a.compaction=b:0===b.name.indexOf("Path")?a.path=b:0===b.name.indexOf("Sorting")?a.sorting=b:0===b.name.indexOf("Style")?
		a.BI=b:u.k("Unknown enum value: "+b):a instanceof Yl&&b.Ae===Yl?0===b.name.indexOf("Aggressive")?a.NF=b:0===b.name.indexOf("Cycle")?a.kG=b:0===b.name.indexOf("Init")?a.WG=b:0===b.name.indexOf("Layer")?a.mH=b:u.k("Unknown enum value: "+b):a instanceof Xk&&b.Ae===Xk?b===Zl||b===$l||b===am||b===bm?a.sorting=b:b===cm||b===dm?a.Gf=b:b===em||b===fm?a.alignment=b:u.k("Unknown enum value: "+b):a instanceof gm&&b.Ae===gm?b===hm||b===im||b===jm||b===km||b===lm?a.sorting=b:b===mm||b===nm||b===om||b===pm?a.direction=
		b:b===xm||b===ym||b===zm||b===Am?a.Gf=b:b===Bm||b===Cm?a.sw=b:u.k("Unknown enum value: "+b):u.k("No property to set for this enum value: "+b);else if(b instanceof bf)a instanceof T?a.bind(b):a instanceof Se?a.bind(b):u.k("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+a);else if(b instanceof bd)a instanceof $c?a.ub.add(b):u.k("A PathFigure can only be added to a Geometry, not to: "+a);else if(b instanceof Jd)a instanceof bd?a.Ha.add(b):u.k("A PathSegment can only be added to a PathFigure, not to: "+
		a);else if(b instanceof Je)a instanceof D?a.Qb=b:a instanceof V?a.Qb=b:u.k("A Layout can only be assigned to a Diagram or a Group, not to: "+a);else if(Array.isArray(b))for(c=0;c<b.length;c++)Tl(a,b[c]);else if("object"===typeof b&&null!==b)if(a instanceof ga){e=new pa;for(c in b)d=parseFloat(c),isNaN(d)?e[c]=b[c]:a.addColorStop(d,b[c]);u.pt(a,e)}else if(a instanceof Se){void 0!==b.row?(e=b.row,(void 0===e||null===e||Infinity===e||isNaN(e)||0>e)&&u.k("Must specify non-negative integer row for RowColumnDefinition "+
		b),a.ae=!0,a.index=e):void 0!==b.column&&(e=b.column,(void 0===e||null===e||Infinity===e||isNaN(e)||0>e)&&u.k("Must specify non-negative integer column for RowColumnDefinition "+b),a.ae=!1,a.index=e);e=new pa;for(c in b)"row"!==c&&"column"!==c&&(e[c]=b[c]);u.pt(a,e)}else u.pt(a,b);else u.k('Unknown initializer "'+b+'" for object being constructed by GraphObject.make: '+a)}var Sl=new la("string","function");
	T.getBuilders=function(){var a=new la("string","function"),b;for(b in Sl)if(b!==b.toLowerCase()){var c=Sl[b];"function"===typeof c&&a.add(b,c)}a.freeze();return a};var Dm;T.defineBuilder=Dm=function(a,b){u.j(a,"string",T,"defineBuilder:name");u.j(b,"function",T,"defineBuilder:func");var c=a.toLowerCase();""!==a&&"none"!==c&&a!==c||u.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+a);Sl.add(a,b)};var Em;
	T.takeBuilderArgument=Em=function(a,b,c){void 0===c&&(c=null);var d=a[1];if("function"===typeof c?c(d):"string"===typeof d)return a.splice(1,1),d;if(void 0===b)throw Error("no "+("function"===typeof c?"satisfactory":"string")+" argument for GraphObject builder "+a[0]);return b};
	Dm("Button",function(){var a=new ga(ue);a.addColorStop(0,"white");a.addColorStop(1,"lightgray");var b=new ga(ue);b.addColorStop(0,"white");b.addColorStop(1,"dodgerblue");a=Rl(B,Yi,{qz:!0},{_buttonFillNormal:a,_buttonStrokeNormal:"gray",_buttonFillOver:b,_buttonStrokeOver:"blue"},Rl(X,{name:"ButtonBorder",Fb:"Rectangle",A:new L(0,0,2.761423749153968,2.761423749153968),B:new L(1,1,-2.761423749153968,-2.761423749153968),fill:a,stroke:"gray"}));a.ZD=function(a,b){var e=b.je("ButtonBorder");if(e instanceof
		X){var f=b._buttonFillOver;b._buttonFillNormal=e.fill;e.fill=f;f=b._buttonStrokeOver;b._buttonStrokeNormal=e.stroke;e.stroke=f}};a.$D=function(a,b){var e=b.je("ButtonBorder");e instanceof X&&(e.fill=b._buttonFillNormal,e.stroke=b._buttonStrokeNormal)};return a});
	Dm("TreeExpanderButton",function(){var a=Rl("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},Rl(X,{name:"ButtonIcon",Fb:"MinusLine",za:K.op},(new bf("figure","isTreeExpanded",function(a,c){var d=c.S;return a?d._treeExpandedFigure:d._treeCollapsedFigure})).tw()),{visible:!1},(new bf("visible","isTreeLeaf",function(a){return!a})).tw());a.click=function(a,c){var d=c.T;d instanceof lf&&(d=d.Mh);if(d instanceof U){var e=d.g;if(null!==e){e=e.Eb;if(d.Vc){if(!e.canCollapseTree(d))return}else if(!e.canExpandTree(d))return;
		a.Tc=!0;d.Vc?e.collapseTree(d):e.expandTree(d)}}};return a});
	Dm("SubGraphExpanderButton",function(){var a=Rl("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},Rl(X,{name:"ButtonIcon",Fb:"MinusLine",za:K.op},(new bf("figure","isSubGraphExpanded",function(a,c){var d=c.S;return a?d._subGraphExpandedFigure:d._subGraphCollapsedFigure})).tw()));a.click=function(a,c){var d=c.T;d instanceof lf&&(d=d.Mh);if(d instanceof V){var e=d.g;if(null!==e){e=e.Eb;if(d.be){if(!e.canCollapseSubGraph(d))return}else if(!e.canExpandSubGraph(d))return;a.Tc=
		!0;d.be?e.collapseSubGraph(d):e.expandSubGraph(d)}}};return a});Dm("ContextMenuButton",function(){var a=Rl("Button");a.stretch=fl;var b=a.je("ButtonBorder");b instanceof X&&(b.Fb="Rectangle",b.A=new L(0,0,2,3),b.B=new L(1,1,-2,-2));return a});
	Dm("PanelExpanderButton",function(a){var b=Em(a,"COLLAPSIBLE");a=Rl("Button",Rl(X,"TriangleUp",{za:new ia(6,4)},(new bf("figure","visible",function(a){return a?"TriangleUp":"TriangleDown"})).tw(b)));var c=a.je("ButtonBorder");c instanceof X&&(c.stroke=null,c.fill="transparent");a.click=function(a,c){var f=c.g;if(null!==f){var h=c.T.je(b);null!==h&&(f.Wb("Collapse/Expand Panel"),h.visible=!h.visible,f.Wd("Collapse/Expand Panel"))}};return a});
	function hl(){this.$h=this.ui=this.rp=this.vp=this.tp=this.sp=this.ki=this.Sq=this.Rq=this.li=this.mi=this.ni=this.Uq=this.Tq=this.Zh=this.di=this.Xh=null}hl.prototype.copy=function(){var a=new hl;a.Xh=this.Xh;a.di=this.di;a.Zh=this.Zh;a.Tq=this.Tq;a.Uq=this.Uq;a.ni=this.ni;a.mi=this.mi;a.li=this.li;a.Rq=this.Rq;a.Sq=this.Sq;a.ki=this.ki;a.sp=this.sp;a.tp=this.tp;a.vp=this.vp;a.rp=this.rp;a.ui=this.ui;a.$h=this.$h;return a};
	function B(a){T.call(this);void 0===a?0===arguments.length?this.pa=vh:u.k("invalid argument to Panel constructor: undefined"):(u.rb(a,B,B,"type"),this.pa=a);this.Aa=new E(T);this.Pe=K.pp;this.Mg=!1;this.pa===bj&&(this.Mg=!0);this.iq=!1;this.Op=uc;this.ci=dl;this.pa===Fl&&Fm(this);this.ko=sh;this.cq=(new ia(10,10)).freeze();this.dq=K.Wj;this.zl=this.sh=null;this.wq=NaN;this.$f=this.hi=null;this.In="category";this.Zf=null;this.wi=new z(NaN,NaN,NaN,NaN);this.im=null;this.zh=!1;this.zr=null}u.Ia(B,T);
	u.Nh(B);u.fa("Panel",B);function Fm(a){a.Xi=K.pp;a.vh=1;a.bi=null;a.El=null;a.uh=1;a.th=null;a.Dl=null;a.zd=[];a.sd=[];a.bm=Gm;a.Bl=Gm;a.vi=0;a.ii=0}
	B.prototype.cloneProtected=function(a){T.prototype.cloneProtected.call(this,a);a.pa=this.pa;a.Pe=this.Pe.Z();a.Mg=this.Mg;a.iq=this.iq;a.Op=this.Op.Z();a.ci=this.ci;if(a.pa===Fl){a.Xi=this.Xi.Z();a.vh=this.vh;a.bi=this.bi;a.El=this.El;a.uh=this.uh;a.th=this.th;a.Dl=this.Dl;var b=[];if(0<this.zd.length)for(var c=this.zd,d=c.length,e=0;e<d;e++)if(void 0!==c[e]){var f=c[e].copy();f.ql(a);b[e]=f}a.zd=b;b=[];if(0<this.sd.length)for(c=this.sd,d=c.length,e=0;e<d;e++)void 0!==c[e]&&(f=c[e].copy(),f.ql(a),
		b[e]=f);a.sd=b;a.bm=this.bm;a.Bl=this.Bl;a.vi=this.vi;a.ii=this.ii}a.ko=this.ko;a.cq.assign(this.cq);a.dq=this.dq.Z();a.sh=this.sh;a.zl=this.zl;a.wq=this.wq;a.hi=this.hi;a.$f=this.$f;a.In=this.In;a.wi.assign(this.wi);a.zh=this.zh;null!==this.zr&&(a.zr=this.zr)};B.prototype.Oh=function(a){T.prototype.Oh.call(this,a);a.Aa=this.Aa;for(var b=a.Aa.n,c=b.length,d=0;d<c;d++)b[d].Rg=a;a.im=null};
	B.prototype.copy=function(){var a=T.prototype.copy.call(this);if(null!==a){for(var b=this.Aa.n,c=b.length,d=0;d<c;d++){var e=b[d].copy(),f=a;e.ql(f);e.Xl=null;var h=f.Aa,k=h.count;h.Yd(k,e);h=f.T;if(null!==h){h.Bk=null;null!==e.Jd&&h instanceof U&&(h.zh=!0);var l=f.g;null!==l&&l.ga.eb||h.Cc(be,"elements",f,null,e,null,k)}}return a}return null};B.prototype.toString=function(){return"Panel("+this.type+")#"+u.Uc(this)};var vh;B.Position=vh=u.s(B,"Position",0);B.Horizontal=u.s(B,"Horizontal",1);var Xi;
	B.Vertical=Xi=u.s(B,"Vertical",2);var oh;B.Spot=oh=u.s(B,"Spot",3);var Yi;B.Auto=Yi=u.s(B,"Auto",4);var Fl;B.Table=Fl=u.s(B,"Table",5);B.Viewbox=u.s(B,"Viewbox",6);var tl;B.TableRow=tl=u.s(B,"TableRow",7);var ul;B.TableColumn=ul=u.s(B,"TableColumn",8);var ah;B.Link=ah=u.s(B,"Link",9);var bj;B.Grid=bj=u.s(B,"Grid",10);
	u.defineProperty(B,{type:"type"},function(){return this.pa},function(a){var b=this.pa;b!==a&&(b!==tl&&b!==ul||u.k("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+a),this.pa=a,this.pa===bj?this.Mg=!0:this.pa===Fl&&Fm(this),this.R(),this.h("type",b,a))});u.u(B,{elements:"elements"},function(){return this.Aa.i});u.u(B,{Ja:"naturalBounds"},function(){return this.Gc});
	u.defineProperty(B,{padding:"padding"},function(){return this.Pe},function(a){"number"===typeof a?(0>a&&u.xa(a,">= 0",B,"padding"),a=new rb(a)):(u.C(a,rb,B,"padding"),0>a.left&&u.xa(a.left,">= 0",B,"padding:value.left"),0>a.right&&u.xa(a.right,">= 0",B,"padding:value.right"),0>a.top&&u.xa(a.top,">= 0",B,"padding:value.top"),0>a.bottom&&u.xa(a.bottom,">= 0",B,"padding:value.bottom"));var b=this.Pe;b.L(a)||(this.Pe=a=a.Z(),this.R(),this.h("padding",b,a))});
	u.defineProperty(B,{Tk:"defaultAlignment"},function(){return this.Op},function(a){var b=this.Op;b.L(a)||(this.Op=a=a.Z(),this.R(),this.h("defaultAlignment",b,a))});u.defineProperty(B,{Cd:"defaultStretch"},function(){return this.ci},function(a){var b=this.ci;b!==a&&(u.rb(a,T,B,"defaultStretch"),this.ci=a,this.R(),this.h("defaultStretch",b,a))});
	u.defineProperty(B,{tJ:"defaultSeparatorPadding"},function(){return void 0===this.Xi?K.pp:this.Xi},function(a){if(void 0!==this.Xi){"number"===typeof a&&(a=new rb(a));var b=this.Xi;b.L(a)||(this.Xi=a=a.Z(),this.h("defaultSeparatorPadding",b,a))}});
	u.defineProperty(B,{rJ:"defaultRowSeparatorStroke"},function(){return void 0===this.bi?null:this.bi},function(a){var b=this.bi;b!==a&&(null===a||"string"===typeof a||a instanceof ga)&&(a instanceof ga&&a.freeze(),this.bi=a,this.h("defaultRowSeparatorStroke",b,a))});u.defineProperty(B,{sJ:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.vh?1:this.vh},function(a){if(void 0!==this.vh){var b=this.vh;b!==a&&isFinite(a)&&0<=a&&(this.vh=a,this.h("defaultRowSeparatorStrokeWidth",b,a))}});
	u.defineProperty(B,{qJ:"defaultRowSeparatorDashArray"},function(){return void 0===this.El?null:this.El},function(a){if(void 0!==this.El){var b=this.El;if(b!==a){null===a||Array.isArray(a)||u.Kd(a,"Array",B,"defaultRowSeparatorDashArray:value");if(null!==a){for(var c=a.length,d=0,e=0;e<c;e++){var f=a[e];"number"===typeof f&&0<=f&&isFinite(f)||u.k("defaultRowSeparatorDashArray:value "+f+" must be a positive number or zero.");d+=f}if(0===d){if(null===b)return;a=null}}this.El=a;this.na();this.h("defaultRowSeparatorDashArray",
		b,a)}}});u.defineProperty(B,{lJ:"defaultColumnSeparatorStroke"},function(){return void 0===this.th?null:this.th},function(a){if(void 0!==this.th){var b=this.th;b!==a&&(null===a||"string"===typeof a||a instanceof ga)&&(a instanceof ga&&a.freeze(),this.th=a,this.h("defaultColumnSeparatorStroke",b,a))}});
	u.defineProperty(B,{mJ:"defaultColumnSeparatorStrokeWidth"},function(){return void 0===this.uh?1:this.uh},function(a){if(void 0!==this.uh){var b=this.uh;b!==a&&isFinite(a)&&0<=a&&(this.uh=a,this.h("defaultColumnSeparatorStrokeWidth",b,a))}});
	u.defineProperty(B,{kJ:"defaultColumnSeparatorDashArray"},function(){return void 0===this.Dl?null:this.Dl},function(a){if(void 0!==this.Dl){var b=this.Dl;if(b!==a){null===a||Array.isArray(a)||u.Kd(a,"Array",B,"defaultColumnSeparatorDashArray:value");if(null!==a){for(var c=a.length,d=0,e=0;e<c;e++){var f=a[e];"number"===typeof f&&0<=f&&isFinite(f)||u.k("defaultColumnSeparatorDashArray:value "+f+" must be a positive number or zero.");d+=f}if(0===d){if(null===b)return;a=null}}this.Dl=a;this.na();this.h("defaultColumnSeparatorDashArray",
		b,a)}}});u.defineProperty(B,{GK:"viewboxStretch"},function(){return this.ko},function(a){var b=this.ko;b!==a&&(u.rb(a,T,B,"viewboxStretch"),this.ko=a,this.h("viewboxStretch",b,a))});u.defineProperty(B,{bw:"gridCellSize"},function(){return this.cq},function(a){var b=this.cq;b.L(a)||(u.C(a,ia,B,"gridCellSize"),a.I()&&0!==a.width&&0!==a.height||u.k("Invalid Panel.gridCellSize: "+a),this.cq=a.Z(),null!==this.g&&this===this.g.Hs&&vj(this.g),this.na(),this.h("gridCellSize",b,a))});
	u.defineProperty(B,{BD:"gridOrigin"},function(){return this.dq},function(a){var b=this.dq;b.L(a)||(u.C(a,w,B,"gridOrigin"),a.I()||u.k("Invalid Panel.gridOrigin: "+a),this.dq=a.Z(),null!==this.g&&vj(this.g),this.na(),this.h("gridOrigin",b,a))});g=B.prototype;g.Su=function(a){T.prototype.Su.call(this,a);for(var b=this.Aa.n,c=b.length,d=0;d<c;d++)b[d].Su(a)};
	g.Mj=function(a,b){if(this.pa===bj){var c=this.Ii()*b.scale;0>=c&&(c=1);var d=this.bw,e=d.width,d=d.height,f=this.Ja,h=f.width,f=f.height,k=Math.ceil(h/e),l=Math.ceil(f/d),m=this.BD;a.save();a.beginPath();a.rect(0,0,h,f);a.clip();for(var n=[],p=this.Aa.n,q=p.length,r=0;r<q;r++){var s=p[r],t=[];n.push(t);if(s.visible)for(var s=Zj(s.Fb),v=r+1;v<q;v++){var x=p[v];x.visible&&Zj(x.Fb)===s&&(x=x.interval,2<=x&&t.push(x))}}p=this.Aa.n;q=p.length;for(r=0;r<q;r++){var A=p[r];if(A.visible){var t=n[r],s=A.interval,
		v=!1,y=!0,C=A.hA;null!==C&&(v=!0,void 0!==a.setLineDash?(a.setLineDash(C),a.lineDashOffset=A.dd):void 0!==a.webkitLineDash?(a.webkitLineDash=C,a.webkitLineDashOffset=A.dd):void 0!==a.mozDash?(a.mozDash=C,a.mozDashOffset=A.dd):y=!1);if("LineV"===A.Fb){a.lineWidth=A.ib;yl(this,a,A.stroke,!1,!1);a.beginPath();for(var I=x=Math.floor(-m.x/e);I<=x+k;I++){var H=I*e+m.x;if(0<=H&&H<h&&Hm(I,s,t)&&(v&&!y?kl(a,H,0,H,f,C,A.dd):(a.moveTo(H,0),a.lineTo(H,f)),2>e*s*c))break}a.stroke()}else if("LineH"===A.Fb){a.lineWidth=
		A.ib;yl(this,a,A.stroke,!1,!1);a.beginPath();for(I=x=Math.floor(-m.y/d);I<=x+l&&!(H=I*d+m.y,0<=H&&H<=f&&Hm(I,s,t)&&(v&&!y?kl(a,0,H,h,H,C,A.dd):(a.moveTo(0,H),a.lineTo(h,H)),2>d*s*c));I++);a.stroke()}else if("BarV"===A.Fb)for(yl(this,a,A.fill,!0,!1),A=A.width,isNaN(A)&&(A=e),I=x=Math.floor(-m.x/e);I<=x+k&&!(H=I*e+m.x,0<=H&&H<h&&Hm(I,s,t)&&(a.fillRect(H,0,A,f),2>e*s*c));I++);else if("BarH"===A.Fb)for(yl(this,a,A.fill,!0,!1),A=A.height,isNaN(A)&&(A=d),I=x=Math.floor(-m.y/d);I<=x+l&&!(H=I*d+m.y,0<=H&&
	H<=f&&Hm(I,s,t)&&(a.fillRect(0,H,h,A),2>d*s*c));I++);v&&(void 0!==a.setLineDash?(a.setLineDash(u.nh),a.lineDashOffset=0):void 0!==a.webkitLineDash?(a.webkitLineDash=u.nh,a.webkitLineDashOffset=0):void 0!==a.mozDash&&(a.mozDash=null,a.mozDashOffset=0))}}a.restore();$i(b,a,!1)}else{this.pa===Fl&&(a.lineCap="butt",Im(this,a,!0,this.zd,!0),Im(this,a,!1,this.sd,!0),Jm(this,a,!0,this.zd),Jm(this,a,!1,this.sd),Im(this,a,!0,this.zd,!1),Im(this,a,!1,this.sd,!1));(c=this.KD)&&a.save();e=this.If();d=this.Aa.n;
		h=d.length;for(f=0;f<h;f++)k=d[f],c&&k===e&&(a.Gt=!0),k.We(a,b),c&&k===e&&(a.Gt=!1);c&&(a.restore(),$i(b,a,!1))}};
	function Jm(a,b,c,d){for(var e=d.length,f=a.ba,h=c?a.gd(0):a.fd(0),k=0;k<e;k++){var l=d[k];if(void 0!==l&&l!==h&&0!==l.Ra){var m=l.gp;isNaN(m)&&(m=c?a.vh:a.uh);var n=l.fp;null===n&&(n=c?a.bi:a.th);if(0!==m&&null!==n){yl(a,b,n,!1,!1);var n=!1,p=!0,q=l.gI;null!==q&&(n=!0,void 0!==b.setLineDash?(b.setLineDash(q),b.lineDashOffset=a.dd):void 0!==b.webkitLineDash?(b.webkitLineDash=q,b.webkitLineDashOffset=a.dd):void 0!==b.mozDash?(b.mozDash=q,b.mozDashOffset=a.dd):p=!1);b.beginPath();var r=l.position+m;
		c?r>f.height&&(m-=r-f.height):r>f.width&&(m-=r-f.width);l=l.position+m/2;b.lineWidth=m;r=a.padding;c?(l+=r.top,m=r.left,r=f.width-r.right,n&&!p?kl(b,m,l,r,l,q,0):(b.moveTo(m,l),b.lineTo(r,l))):(l+=r.left,m=r.top,r=f.height-r.bottom,n&&!p?kl(b,l,m,l,r,q,0):(b.moveTo(l,m),b.lineTo(l,r)));b.stroke();n&&(void 0!==b.setLineDash?(b.setLineDash(u.nh),b.lineDashOffset=0):void 0!==b.webkitLineDash?(b.webkitLineDash=u.nh,b.webkitLineDashOffset=0):void 0!==b.mozDash&&(b.mozDash=null,b.mozDashOffset=0))}}}}
	function Im(a,b,c,d,e){for(var f=d.length,h=a.ba,k=0;k<f;k++){var l=d[k];if(void 0!==l&&null!==l.background&&l.$y!==e&&0!==l.Ra){var m=c?h.height:h.width;if(!(l.position>m)){var n=l.mg(),p=l.gp;isNaN(p)&&(p=c?a.vh:a.uh);var q=l.fp;null===q&&(q=c?a.bi:a.th);null===q&&(p=0);n-=p;p=l.position+p;n+=l.Ra;p+n>m&&(n=m-p);0>=n||(m=a.padding,yl(a,b,l.background,!0,!1),c?b.fillRect(m.left,p+m.top,h.width-(m.left+m.right),n):b.fillRect(p+m.left,m.top,n,h.height-(m.top+m.bottom)))}}}}
	function Hm(a,b,c){if(0!==a%b)return!1;b=c.length;for(var d=0;d<b;d++)if(0===a%c[d])return!1;return!0}function Zj(a){return"LineV"===a||"BarV"===a}
	g.Eo=function(a,b,c,d,e){var f=this.Tf(),h=this.transform,k=1/(h.m11*h.m22-h.m12*h.m21),l=h.m22*k,m=-h.m12*k,n=-h.m21*k,p=h.m11*k,q=k*(h.m21*h.dy-h.m22*h.dx),r=k*(h.m12*h.dx-h.m11*h.dy);if(null!==this.om)return h=this.ba,K.bl(h.left,h.top,h.right,h.bottom,a,b,c,d,e);if(null!==this.background)f=a*l+b*n+q,k=a*m+b*p+r,a=c*l+d*n+q,c=c*m+d*p+r,e.m(0,0),d=this.Ja,c=K.bl(0,0,d.width,d.height,f,k,a,c,e),e.transform(h);else{f||(l=1,n=m=0,p=1,r=q=0);k=a*l+b*n+q;a=a*m+b*p+r;l=c*l+d*n+q;d=c*m+d*p+r;e.m(l,d);
		m=(l-k)*(l-k)+(d-a)*(d-a);c=!1;p=this.Aa.n;r=p.length;n=u.K();for(q=0;q<r;q++)b=p[q],b.visible&&b.Eo(k,a,l,d,n)&&(c=!0,b=(k-n.x)*(k-n.x)+(a-n.y)*(a-n.y),b<m&&(m=b,e.set(n)));u.v(n);f&&e.transform(h)}return c};g.R=function(a){T.prototype.R.call(this,a);this.pa===Yi&&(a=this.If(),null!==a&&a.R(!0));a=this.Aa.n;for(var b=a.length,c=0;c<b;c++){var d=a[c];!0!==Aj(d)&&(d.za.I()||(d instanceof ph||d instanceof B||d instanceof qa||pl(d,!1)!==qh)&&d.R(!0))}};
	g.Ho=function(){if(!1===Aj(this)){uj(this,!0);rl(this,!0);for(var a=this.Aa.n,b=a.length,c=0;c<b;c++)a[c].Ho()}};g.Lg=function(){if(0!==(this.ea&2048)===!1){Cl(this,!0);Dl(this,!0);for(var a=this.Aa.n,b=a.length,c=0;c<b;c++)a[c].nz()}};g.nz=function(){Dl(this,!0);for(var a=this.Aa.n,b=a.length,c=0;c<b;c++)a[c].nz()};
	g.Qo=function(a,b,c,d){var e=this.wi;e.width=0;e.height=0;var f=this.za,h=this.wg;void 0===c&&(c=h.width,d=h.height);c=Math.max(c,h.width);d=Math.max(d,h.height);var k=this.bf;isNaN(f.width)||(a=Math.min(f.width,k.width));isNaN(f.height)||(b=Math.min(f.height,k.height));a=Math.max(c,a);b=Math.max(d,b);var l=this.padding;a=Math.max(a-l.left-l.right,0);b=Math.max(b-l.top-l.bottom,0);var m=this.Aa.n;if(0!==m.length){var n=this.pa.Ub;switch(n){case "Position":var p=a,q=b,r=c,s=d,t=m.length;e.x=0;e.y=
		0;e.width=0;for(var v=e.height=0;v<t;v++){var x=m[v];if(x.visible||x===this.ec){var A=x.margin,y=A.right+A.left,C=A.top+A.bottom;Ph(x,p,q,r,s);var I=x.Ca,H=Math.max(I.width+y,0),R=Math.max(I.height+C,0),aa=x.position.x,S=x.position.y;isFinite(aa)||(aa=0);isFinite(S)||(S=0);if(x instanceof X){var N=x;if(N.sz)var Z=N.ib/2,aa=aa-Z,S=S-Z}kb(e,aa,S,H,R)}}break;case "Vertical":for(var Ga=a,ta=c,Oa=m.length,na=u.gb(),Ca=0;Ca<Oa;Ca++){var ra=m[Ca];if(ra.visible||ra===this.ec){var dc=pl(ra,!1);if(dc!==qh&&
		dc!==el)na.push(ra);else{var ed=ra.margin,Lf=ed.right+ed.left,ec=ed.top+ed.bottom;Ph(ra,Ga,Infinity,ta,0);var We=ra.Ca,Mf=Math.max(We.width+Lf,0),Ta=Math.max(We.height+ec,0);e.width=Math.max(e.width,Mf);e.height+=Ta}}}var db=na.length;if(0!==db){this.za.width?Ga=Math.min(this.za.width,this.bf.width):0!==e.width&&(Ga=Math.min(e.width,this.bf.width));for(Ca=0;Ca<db;Ca++)if(ra=na[Ca],ra.visible||ra===this.ec)ed=ra.margin,Lf=ed.right+ed.left,ec=ed.top+ed.bottom,Ph(ra,Ga,Infinity,ta,0),We=ra.Ca,Mf=Math.max(We.width+
		Lf,0),Ta=Math.max(We.height+ec,0),e.width=Math.max(e.width,Mf),e.height+=Ta;u.sa(na)}break;case "Horizontal":for(var wa=b,za=d,lb=m.length,Eb=u.gb(),$a=0;$a<lb;$a++){var jc=m[$a];if(jc.visible||jc===this.ec){var ge=pl(jc,!1);if(ge!==qh&&ge!==fl)Eb.push(jc);else{var nc=jc.margin,Od=nc.right+nc.left,he=nc.top+nc.bottom;Ph(jc,Infinity,wa,0,za);var Xe=jc.Ca,pf=Math.max(Xe.width+Od,0),Pd=Math.max(Xe.height+he,0);e.width+=pf;e.height=Math.max(e.height,Pd)}}}var Fb=Eb.length;if(0!==Fb){this.za.height?wa=
		Math.min(this.za.height,this.bf.height):0!==e.height&&(wa=Math.min(e.height,this.bf.height));for($a=0;$a<Fb;$a++)if(jc=Eb[$a],jc.visible||jc===this.ec)nc=jc.margin,Od=nc.right+nc.left,he=nc.top+nc.bottom,Ph(jc,Infinity,wa,0,za),Xe=jc.Ca,pf=Math.max(Xe.width+Od,0),Pd=Math.max(Xe.height+he,0),e.width+=pf,e.height=Math.max(e.height,Pd);u.sa(Eb)}break;case "Spot":a:{var Lb=a,Fc=b,Mg=c,Mb=d,yb=m.length,fc=this.If(),mb=fc.margin,ye=0,Qd=0,og=mb.right+mb.left,Nf=mb.top+mb.bottom;Ph(fc,Lb,Fc,Mg,Mb);var zb=
		fc.Ca,fd=zb.width,oc=zb.height,wb=Math.max(fd+og,0),Gc=Math.max(oc+Nf,0);e.x=-mb.left;e.y=-mb.top;e.width=wb;e.height=Gc;for(var Nb=0;Nb<yb;Nb++){var Na=m[Nb];if(Na!==fc&&(Na.visible||Na===this.ec)){mb=Na.margin;ye=mb.right+mb.left;Qd=mb.top+mb.bottom;Ph(Na,Lb,Fc,0,0);var zb=Na.Ca,wb=Math.max(zb.width+ye,0),Gc=Math.max(zb.height+Qd,0),eb=Na.alignment;eb.Kc()&&(eb=this.Tk);eb.pd()||(eb=Ib);var Ab=Na.Hj;Ab.Kc()&&(Ab=Ib);kb(e,eb.x*fd+eb.offsetX-(Ab.x*zb.width-Ab.offsetX)-mb.left,eb.y*oc+eb.offsetY-(Ab.y*
		zb.height-Ab.offsetY)-mb.top,wb,Gc)}}var gc=fc.stretch;gc===dl&&(gc=pl(fc,!1));switch(gc){case qh:break a;case cd:if(!isFinite(Lb)&&!isFinite(Fc))break a;break;case fl:if(!isFinite(Lb))break a;break;case el:if(!isFinite(Fc))break a}zb=fc.Ca;fd=zb.width;oc=zb.height;wb=Math.max(fd+og,0);Gc=Math.max(oc+Nf,0);mb=fc.margin;e.x=-mb.left;e.y=-mb.top;e.width=wb;e.height=Gc;for(Nb=0;Nb<yb;Nb++)Na=m[Nb],Na===fc||!Na.visible&&Na!==this.ec||(mb=Na.margin,ye=mb.right+mb.left,Qd=mb.top+mb.bottom,zb=Na.Ca,wb=Math.max(zb.width+
		ye,0),Gc=Math.max(zb.height+Qd,0),eb=Na.alignment,eb.Kc()&&(eb=this.Tk),eb.pd()||(eb=Ib),Ab=Na.Hj,Ab.Kc()&&(Ab=Ib),kb(e,eb.x*fd+eb.offsetX-(Ab.x*zb.width-Ab.offsetX)-mb.left,eb.y*oc+eb.offsetY-(Ab.y*zb.height-Ab.offsetY)-mb.top,wb,Gc))}break;case "Auto":var Rd=a,Sd=b,qf=c,ze=d,rf=m.length,Rb=this.If(),cb=Rb.margin,pc=cb.right+cb.left,Pc=cb.top+cb.bottom;Ph(Rb,Rd,Sd,qf,ze);var gd=Rb.Ca,ab=Math.max(gd.width+pc,0),ub=Math.max(gd.height+Pc,0),kc=Km(Rb),hd=kc.x*ab+kc.offsetX,Ng=kc.y*ub+kc.offsetY,kc=Lm(Rb),
		Og=kc.x*ab+kc.offsetX,Pg=kc.y*ub+kc.offsetY,Of=Rd,Hc=Sd;isFinite(Rd)&&(Of=Math.abs(hd-Og));isFinite(Sd)&&(Hc=Math.abs(Ng-Pg));var Qc=u.ul();Qc.m(0,0);for(var Ic=0;Ic<rf;Ic++){var nb=m[Ic];if(nb!==Rb&&(nb.visible||nb===this.ec)){var cb=nb.margin,ie=cb.right+cb.left,ob=cb.top+cb.bottom;Ph(nb,Of,Hc,0,0);gd=nb.Ca;ab=Math.max(gd.width+ie,0);ub=Math.max(gd.height+ob,0);Qc.m(Math.max(ab,Qc.width),Math.max(ub,Qc.height))}}if(1===rf)e.width=ab,e.height=ub,u.Oj(Qc);else{var yc=Km(Rb),Ae=Lm(Rb),Bb=0,Cb=0;Ae.x!==
	yc.x&&Ae.y!==yc.y&&(Bb=Qc.width/Math.abs(Ae.x-yc.x),Cb=Qc.height/Math.abs(Ae.y-yc.y));u.Oj(Qc);var id=0;if(Rb instanceof X){var Rc=Rb,id=Rc.ib*Rc.scale;rh(Rc)===sh&&(Bb=Cb=Math.max(Bb,Cb))}var Bb=Bb+(Math.abs(yc.offsetX)+Math.abs(Ae.offsetX)+id),Cb=Cb+(Math.abs(yc.offsetY)+Math.abs(Ae.offsetY)+id),Td=Rb.stretch;Td===dl&&(Td=pl(Rb,!1));switch(Td){case qh:ze=qf=0;break;case cd:isFinite(Rd)&&(Bb=Rd);isFinite(Sd)&&(Cb=Sd);break;case fl:isFinite(Rd)&&(Bb=Rd);ze=0;break;case el:qf=0,isFinite(Sd)&&(Cb=Sd)}Rb instanceof
	X&&!Rb.za.I()&&(Rc=Rb,Rc.Tg?Rc.jk=null:Rc.Qa=null);Rb.Ho();Ph(Rb,Bb,Cb,qf,ze);e.width=Rb.Ca.width+pc;e.height=Rb.Ca.height+Pc}break;case "Table":for(var Ud=a,Ye=b,qm=c,zi=d,Ea=m.length,Be=u.gb(),Vd=u.gb(),ca=0;ca<Ea;ca++){var ha=m[ca],pg=ha instanceof B?ha:null;if(null===pg||pg.type!==tl&&pg.type!==ul||!ha.visible)Be.push(ha);else{Vd.push(ha);for(var Qg=pg.Aa.n,zh=Qg.length,Sc=0;Sc<zh;Sc++){var Ah=Qg[Sc];pg.type===tl?Ah.rc=ha.rc:pg.type===ul&&(Ah.column=ha.column);Be.push(Ah)}}}Ea=Be.length;0===Ea&&
	(this.gd(0),this.fd(0));for(var Sb=[],ca=0;ca<Ea;ca++)ha=Be[ca],uj(ha,!0),rl(ha,!0),Sb[ha.rc]||(Sb[ha.rc]=[]),Sb[ha.rc][ha.column]||(Sb[ha.rc][ha.column]=[]),Sb[ha.rc][ha.column].push(ha);u.sa(Be);for(var Rg=u.gb(),Tc=u.gb(),je=u.gb(),Jc={count:0},jd={count:0},zc=Ud,kd=Ye,Pf=this.zd,Ea=Pf.length,ca=0;ca<Ea;ca++){var ba=Pf[ca];void 0!==ba&&(ba.Ra=0)}Pf=this.sd;Ea=Pf.length;for(ca=0;ca<Ea;ca++)ba=Pf[ca],void 0!==ba&&(ba.Ra=0);for(var ke=Sb.length,Ce=0,ca=0;ca<ke;ca++)Sb[ca]&&(Ce=Math.max(Ce,Sb[ca].length));
		for(var Uj=Math.min(this.vi,ke-1),Vj=Math.min(this.ii,Ce-1),Ac=0,ke=Sb.length,ca=Uj;ca<ke;ca++)if(Sb[ca]){var Ce=Sb[ca].length,fb=this.gd(ca);fb.Ra=0;for(Sc=Vj;Sc<Ce;Sc++)if(Sb[ca][Sc]){var gb=this.fd(Sc);void 0===Rg[Sc]&&(gb.Ra=0,Rg[Sc]=!0);for(var Wj=Sb[ca][Sc],Qf=Wj.length,qg=0;qg<Qf;qg++)if(ha=Wj[qg],ha.visible||ha===this.ec){var rg=1<ha.tj||1<ha.Wi;rg&&Tc.push(ha);var Ob=ha.margin,Rf=Ob.right+Ob.left,Sf=Ob.top+Ob.bottom,Wd=Gl(ha,fb,gb,!1),le=ha.za,rm=!isNaN(le.height),Bh=!isNaN(le.width)&&rm;
			rg||Wd===qh||Bh||(void 0===Jc[Sc]&&(Jc[Sc]=-1,Jc.count++),void 0===jd[ca]&&(jd[ca]=-1,jd.count++),je.push(ha));Ph(ha,Infinity,Infinity,0,0);var De=ha.Ca,Ze=Math.max(De.width+Rf,0),Cd=Math.max(De.height+Sf,0);1!==ha.tj||Wd!==qh&&Wd!==fl||(ba=this.gd(ca),Ac=Math.max(Cd-ba.Ra,0),Ac>kd&&(Ac=kd),ba.Ra+=Ac,kd=Math.max(kd-Ac,0));1!==ha.Wi||Wd!==qh&&Wd!==el||(ba=this.fd(Sc),Ac=Math.max(Ze-ba.Ra,0),Ac>zc&&(Ac=zc),ba.Ra+=Ac,zc=Math.max(zc-Ac,0));rg&&ha.Ho()}}}u.sa(Rg);for(var qc=0,Xd=0,Ea=this.rs,ca=0;ca<Ea;ca++)void 0!==
		this.sd[ca]&&(qc+=this.fd(ca).yb);Ea=this.lt;for(ca=0;ca<Ea;ca++)void 0!==this.zd[ca]&&(Xd+=this.gd(ca).yb);for(var zc=Math.max(Ud-qc,0),Xj=kd=Math.max(Ye-Xd,0),Yj=zc,Ea=je.length,ca=0;ca<Ea;ca++){var ha=je[ca],fb=this.gd(ha.rc),gb=this.fd(ha.column),Ai=ha.Ca,Ob=ha.margin,Rf=Ob.right+Ob.left,Sf=Ob.top+Ob.bottom;Jc[ha.column]=0===gb.Ra?Math.max(Ai.width+Rf,Jc[ha.column]):null;jd[ha.rc]=0===fb.Ra?Math.max(Ai.height+Sf,jd[ha.rc]):null}var Sg=0,Bc=0;for(ca in jd)"count"!==ca&&(Sg+=jd[ca]);for(ca in Jc)"count"!==
		ca&&(Bc+=Jc[ca]);for(var pb=u.ul(),ca=0;ca<Ea;ca++)if(ha=je[ca],ha.visible||ha===this.ec){var fb=this.gd(ha.rc),gb=this.fd(ha.column),me=0;isFinite(gb.width)?me=gb.width:(me=isFinite(zc)&&null!==Jc[ha.column]?0===Bc?gb.Ra+zc:Jc[ha.column]/Bc*Yj:null!==Jc[ha.column]?zc:gb.Ra||zc,me=Math.max(0,me-gb.mg()));var Kc=0;isFinite(fb.height)?Kc=fb.height:(Kc=isFinite(kd)&&null!==jd[ha.rc]?0===Sg?fb.Ra+kd:jd[ha.rc]/Sg*Xj:null!==jd[ha.rc]?kd:fb.Ra||kd,Kc=Math.max(0,Kc-fb.mg()));pb.m(Math.max(gb.Li,Math.min(me,
			gb.Kf)),Math.max(fb.Li,Math.min(Kc,fb.Kf)));Wd=Gl(ha,fb,gb,!1);switch(Wd){case fl:pb.height=Infinity;break;case el:pb.width=Infinity}Ob=ha.margin;Rf=Ob.right+Ob.left;Sf=Ob.top+Ob.bottom;ha.Ho();Ph(ha,pb.width,pb.height,gb.Li,fb.Li);De=ha.Ca;Ze=Math.max(De.width+Rf,0);Cd=Math.max(De.height+Sf,0);isFinite(zc)&&(Ze=Math.min(Ze,pb.width));isFinite(kd)&&(Cd=Math.min(Cd,pb.height));var Tg=0,Tg=fb.Ra;fb.Ra=Math.max(fb.Ra,Cd);Ac=fb.Ra-Tg;kd=Math.max(kd-Ac,0);Tg=gb.Ra;gb.Ra=Math.max(gb.Ra,Ze);Ac=gb.Ra-Tg;
			zc=Math.max(zc-Ac,0)}u.sa(je);for(var Ee=u.ul(),Ea=Tc.length,ca=0;ca<Ea;ca++)if(ha=Tc[ca],ha.visible||ha===this.ec){fb=this.gd(ha.rc);gb=this.fd(ha.column);pb.m(Math.max(gb.Li,Math.min(Ud,gb.Kf)),Math.max(fb.Li,Math.min(Ye,fb.Kf)));Wd=Gl(ha,fb,gb,!1);switch(Wd){case cd:0!==gb.Ra&&(pb.width=Math.min(pb.width,gb.Ra));0!==fb.Ra&&(pb.height=Math.min(pb.height,fb.Ra));break;case fl:0!==gb.Ra&&(pb.width=Math.min(pb.width,gb.Ra));break;case el:0!==fb.Ra&&(pb.height=Math.min(pb.height,fb.Ra))}isFinite(gb.width)&&
		(pb.width=gb.width);isFinite(fb.height)&&(pb.height=fb.height);Ee.m(0,0);for(var Pb=1;Pb<ha.tj&&!(ha.rc+Pb>=this.lt);Pb++)ba=this.gd(ha.rc+Pb),Ee.height+=Math.max(ba.Li,isNaN(ba.Qe)?ba.Kf:Math.min(ba.Qe,ba.Kf));for(Pb=1;Pb<ha.Wi&&!(ha.column+Pb>=this.rs);Pb++)ba=this.fd(ha.column+Pb),Ee.width+=Math.max(ba.Li,isNaN(ba.Qe)?ba.Kf:Math.min(ba.Qe,ba.Kf));pb.width+=Ee.width;pb.height+=Ee.height;Ob=ha.margin;Rf=Ob.right+Ob.left;Sf=Ob.top+Ob.bottom;Ph(ha,pb.width,pb.height,qm,zi);for(var De=ha.Ca,Ze=Math.max(De.width+
			Rf,0),Cd=Math.max(De.height+Sf,0),Ch=0,Pb=0;Pb<ha.tj&&!(ha.rc+Pb>=this.lt);Pb++)ba=this.gd(ha.rc+Pb),Ch+=ba.total||0;if(Ch<Cd)for(var Dd=Cd-Ch;0<Dd;){var Ed=ba.yb||0;isNaN(ba.height)&&ba.Kf>Ed&&(ba.Ra=Math.min(ba.Kf,Ed+Dd),ba.yb!==Ed&&(Dd-=ba.yb-Ed));if(-1===ba.index-1)break;ba=this.gd(ba.index-1)}for(var Tf=0,Pb=0;Pb<ha.Wi&&!(ha.column+Pb>=this.rs);Pb++)ba=this.fd(ha.column+Pb),Tf+=ba.total||0;if(Tf<Ze)for(Dd=Ze-Tf;0<Dd;){Ed=ba.yb||0;isNaN(ba.width)&&ba.Kf>Ed&&(ba.Ra=Math.min(ba.Kf,Ed+Dd),ba.yb!==
		Ed&&(Dd-=ba.yb-Ed));if(-1===ba.index-1)break;ba=this.fd(ba.index-1)}}u.sa(Tc);u.Oj(Ee);u.Oj(pb);for(var Uf=0,$e=0,Wd=pl(this,!0),Fd=this.za,Vf=this.bf,ne=Xd=qc=0,ld=0,Ea=this.rs,ca=0;ca<Ea;ca++)void 0!==this.sd[ca]&&(ba=this.fd(ca),isFinite(ba.width)?(ne+=ba.width,ne+=ba.mg()):Mm(ba)===Nm?(ne+=ba.yb,ne+=ba.mg()):0!==ba.yb&&(qc+=ba.yb,qc+=ba.mg()));var Uf=isFinite(Fd.width)?Math.min(Fd.width,Vf.width):Wd!==qh&&isFinite(Ud)?Ud:qc,Uf=Math.max(Uf,this.wg.width),Uf=Math.max(Uf-ne,0),Dh=Math.max(Uf/qc,
			1);isFinite(Dh)||(Dh=1);for(ca=0;ca<Ea;ca++)void 0!==this.sd[ca]&&(ba=this.fd(ca),isFinite(ba.width)||Mm(ba)===Nm||(ba.Ra=ba.yb*Dh),ba.position=e.width,0!==ba.yb&&(e.width+=ba.yb,e.width+=ba.mg()));Ea=this.lt;for(ca=0;ca<Ea;ca++)void 0!==this.zd[ca]&&(ba=this.gd(ca),isFinite(ba.height)?(ld+=ba.height,ld+=ba.mg()):Mm(ba)===Nm?(ld+=ba.yb,ld+=ba.mg()):0!==ba.yb&&(Xd+=ba.yb,Xd+=ba.mg()));var $e=isFinite(Fd.height)?Math.min(Fd.height,Vf.height):Wd!==qh&&isFinite(Ye)?Ye:Xd,$e=Math.max($e,this.wg.height),
			$e=Math.max($e-ld,0),Wf=Math.max($e/Xd,1);isFinite(Wf)||(Wf=1);for(ca=0;ca<Ea;ca++)void 0!==this.zd[ca]&&(ba=this.gd(ca),isFinite(ba.height)||Mm(ba)===Nm||(ba.Ra=ba.yb*Wf),ba.position=e.height,0!==ba.yb&&(e.height+=ba.yb,e.height+=ba.mg()));Ea=Vd.length;for(ca=0;ca<Ea;ca++){var Tb=Vd[ca];Tb.type===tl?(me=e.width,ba=this.gd(Tb.rc),Kc=ba.Ra):(ba=this.fd(Tb.column),me=ba.Ra,Kc=e.height);Tb.Pc.m(0,0,me,Kc);uj(Tb,!1);Sb[Tb.rc]||(Sb[Tb.rc]=[]);Sb[Tb.rc][Tb.column]||(Sb[Tb.rc][Tb.column]=[]);Sb[Tb.rc][Tb.column].push(Tb)}u.sa(Vd);
		this.zr=Sb;break;case "Viewbox":var sg=a,tg=b,sf=c,Bi=d;1<m.length&&u.k("Viewbox Panel cannot contain more than one GraphObject.");var Fe=m[0];Fe.$b=1;Fe.Ho();Ph(Fe,Infinity,Infinity,sf,Bi);var Ci=Fe.Ca,ak=Fe.margin,Jp=ak.right+ak.left,Kp=ak.top+ak.bottom;if(isFinite(sg)||isFinite(tg)){var Rr=Fe.scale,bk=Ci.width,ck=Ci.height,Lp=Math.max(sg-Jp,0),Mp=Math.max(tg-Kp,0),Di=1;this.ko===sh?0!==bk&&0!==ck&&(Di=Math.min(Lp/bk,Mp/ck)):0!==bk&&0!==ck&&(Di=Math.max(Lp/bk,Mp/ck));0===Di&&(Di=1E-4);Fe.$b*=Di;
		Rr!==Fe.scale&&(uj(Fe,!0),Ph(Fe,Infinity,Infinity,sf,Bi))}Ci=Fe.Ca;e.width=isFinite(sg)?sg:Math.max(Ci.width+Jp,0);e.height=isFinite(tg)?tg:Math.max(Ci.height+Kp,0);break;case "Link":var Np=m.length,ug=this instanceof lf?this.Mh:this;if(ug instanceof W)if(0===Np){var dk=this.Gc;bb(dk,0,0);var Yd=this.Ca;Yd.m(0,0,0,0)}else{var ek=this instanceof lf?null:ug.path,af=ug.Nm,Ge=this.wi;Ge.assign(af);Ge.x=0;var Eh=Ge.y=0,Ei=ug.points,Eh=void 0!==this.ka?this.ka:Ei.count;this.Og.m(af.x,af.y);this.Vi.clear();
		null!==ek&&(Om(ek,af.width,af.height),Yd=ek.Ca,Ge.Uh(Yd),this.Vi.add(Yd));for(var Fh=u.lh(),Fi=u.K(),Xf=u.K(),sm=0;sm<Np;sm++){var Qb=m[sm];if(Qb!==ek)if(Qb.ug&&Qb instanceof X)Om(Qb,af.width,af.height),Yd=Qb.Ca,Ge.Uh(Yd),this.Vi.add(Yd);else if(2>Eh)Ph(Qb,Infinity,Infinity),Yd=Qb.Ca,Ge.Uh(Yd),this.Vi.add(Yd);else{var Yf=Qb.Pf,Pp=Qb.Dw,tm=Qb.Hj;tm.ne()&&(tm=Ib);var Gi=Qb.Ew,Sr=Qb.BE,Hi=0,Ii=0,fk=0;if(Yf<-Eh||Yf>=Eh){var Qp=ug.XD,Ji=ug.WD;Gi!==dh&&(fk=ug.computeAngle(Qb,Gi,Ji),Qb.angle=fk);Hi=Qp.x-
			af.x;Ii=Qp.y-af.y}else{var tf,Gh;if(0<=Yf)tf=Ei.ja(Yf),Gh=Yf<Eh-1?Ei.ja(Yf+1):tf;else{var um=Eh+Yf;tf=Ei.ja(um);Gh=0<um?Ei.ja(um-1):tf}Ji=0<=Yf?tf.Gi(Gh):Gh.Gi(tf);Gi!==dh&&(fk=ug.computeAngle(Qb,Gi,Ji),Qb.Zm=fk);Hi=tf.x+(Gh.x-tf.x)*Pp-af.x;Ii=tf.y+(Gh.y-tf.y)*Pp-af.y}Ph(Qb,Infinity,Infinity);var Yd=Qb.Ca,dk=Qb.Ja,Ki=0;Qb instanceof X&&(Ki=Qb.ib);var gk=dk.width+Ki,vm=dk.height+Ki;Fh.reset();Fh.translate(-Yd.x,-Yd.y);Fh.scale(Qb.scale,Qb.scale);Fh.rotate(Gi===dh?Qb.angle:Ji,gk/2,vm/2);var Hh=new z(0,
			0,gk,vm);Fi.qt(Hh,tm);Fh.ab(Fi);var Tr=-Fi.x+Ki/2,Ur=-Fi.y+Ki/2;Xf.assign(Sr);isNaN(Xf.x)&&(Xf.x=0<=Yf?gk/2+3:-(gk/2+3));isNaN(Xf.y)&&(Xf.y=-(vm/2+3));Xf.rotate(Ji);Hi+=Xf.x;Ii+=Xf.y;Hh.set(Yd);Hh.x=Hi+Tr;Hh.y=Ii+Ur;this.Vi.add(Hh);Ge.Uh(Hh)}}if(this.ue)for(var Rp=this.vg;Rp.next();)Ph(Rp.value,Infinity,Infinity);this.wi=Ge;var wm=this.Og;wm.m(wm.x+Ge.x,wm.y+Ge.y);bb(e,Ge.width||0,Ge.height||0);u.Ye(Fh);u.v(Fi);u.v(Xf)}break;case "Grid":break;case "TableRow":case "TableColumn":u.k(this.toString()+
		" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:u.k("Unknown panel type: "+n)}}var He=e.width,Ie=e.height,hk=this.padding,Vr=hk.top+hk.bottom,He=He+(hk.left+hk.right),Ie=Ie+Vr;isFinite(f.width)&&(He=f.width);isFinite(f.height)&&(Ie=f.height);He=Math.min(k.width,He);Ie=Math.min(k.height,Ie);He=Math.max(h.width,He);Ie=Math.max(h.height,Ie);He=Math.max(c,He);Ie=Math.max(d,Ie);e.width=He;e.height=Ie;bb(this.Gc,He,Ie);ml(this,
		0,0,He,Ie)};B.prototype.findMainElement=B.prototype.If=function(){if(null===this.im){var a=this.Aa.n,b=a.length;if(0===b)return null;for(var c=0;c<b;c++){var d=a[c];if(!0===d.ug)return this.im=d}this.im=a[0]}return this.im};
	B.prototype.yi=function(a,b,c,d){var e=this.wi,f=this.Aa.n,h=u.Vj(0,0,0,0);if(0===f.length){var k=this.ba;k.x=a;k.y=b;k.width=c;k.height=d}else{if(!this.za.I()){var l=pl(this,!0),m=this.Pc,n=m.width,p=m.height,q=this.margin,r=q.left+q.right,s=q.top+q.bottom;n===c&&p===d&&(l=qh);switch(l){case qh:if(n>c||p>d)this.R(),Ph(this,n>c?c:n,p>d?d:p);break;case cd:this.R(!0);Ph(this,c+r,d+s,0,0);break;case fl:this.R(!0);Ph(this,c+r,p+s,0,0);break;case el:this.R(!0),Ph(this,n+r,d+s,0,0)}}k=this.ba;k.x=a;k.y=
		b;k.width=c;k.height=d;var t=this.pa.Ub;switch(t){case "Position":for(var v=f.length,x=e.x-this.padding.left,A=e.y-this.padding.top,y=0;y<v;y++){var C=f[y],I=C.Ca,H=C.margin,R=C.position.x,aa=C.position.y;h.x=isNaN(R)?-x:R-x;h.y=isNaN(aa)?-A:aa-A;if(C instanceof X){var S=C;if(S.sz){var N=S.ib/2;h.x-=N;h.y-=N}}h.x+=H.left;h.y+=H.top;h.width=I.width;h.height=I.height;C.visible&&C.yc(h.x,h.y,h.width,h.height)}break;case "Vertical":for(var Z=f.length,Ga=this.padding.left,ta=this.padding.top,Oa=0;Oa<Z;Oa++){var na=
		Ga,Ca=f[Oa];if(Ca.visible){var ra=Ca.Ca,dc=Ca.margin,ed=dc.left+dc.right,Lf=Ga+this.padding.right,ec=ra.width,We=pl(Ca,!1);if(isNaN(Ca.za.width)&&We===cd||We===fl)ec=Math.max(e.width-ed-Lf,0);var Mf=ec+ed+Lf,Ta=Ca.alignment;Ta.Kc()&&(Ta=this.Tk);Ta.pd()||(Ta=Ib);Ca.yc(na+Ta.offsetX+dc.left+(e.width*Ta.x-Mf*Ta.x),ta+Ta.offsetY+dc.top,ec,ra.height);ta+=ra.height+dc.bottom+dc.top}}break;case "Horizontal":for(var db=f.length,wa=this.padding.top,za=this.padding.left,lb=0;lb<db;lb++){var Eb=wa,$a=f[lb];
		if($a.visible){var jc=$a.Ca,ge=$a.margin,nc=ge.top+ge.bottom,Od=wa+this.padding.bottom,he=jc.height,Xe=pl($a,!1);if(isNaN($a.za.height)&&Xe===cd||Xe===el)he=Math.max(e.height-nc-Od,0);var pf=he+nc+Od,Pd=$a.alignment;Pd.Kc()&&(Pd=this.Tk);Pd.pd()||(Pd=Ib);$a.yc(za+Pd.offsetX+ge.left,Eb+Pd.offsetY+ge.top+(e.height*Pd.y-pf*Pd.y),jc.width,he);za+=jc.width+ge.left+ge.right}}break;case "Spot":var Fb=f.length,Lb=this.If(),Fc=Lb.Ca,Mg=Fc.width,Mb=Fc.height,yb=this.padding,fc=yb.left,mb=yb.top;h.x=fc-e.x;
		h.y=mb-e.y;Lb.yc(h.x,h.y,Mg,Mb);for(var ye=0;ye<Fb;ye++){var Qd=f[ye];if(Qd!==Lb){var og=Qd.Ca,Nf=og.width,zb=og.height,fd=Qd.alignment;fd.Kc()&&(fd=this.Tk);fd.pd()||(fd=Ib);var oc=Qd.Hj;oc.Kc()&&(oc=Ib);h.x=fd.x*Mg+fd.offsetX-(oc.x*Nf-oc.offsetX);h.y=fd.y*Mb+fd.offsetY-(oc.y*zb-oc.offsetY);h.x-=e.x;h.y-=e.y;Qd.visible&&Qd.yc(fc+h.x,mb+h.y,Nf,zb)}}break;case "Auto":var wb=f.length,Gc=this.If(),Nb=Gc.Ca,Na=u.Sf();Na.m(0,0,1,1);var eb=Gc.margin,Ab=eb.left,gc=eb.top,Rd=this.padding,Sd=Rd.left,qf=Rd.top;
		h.x=Ab;h.y=gc;h.width=Nb.width;h.height=Nb.height;Gc.yc(Sd+h.x,qf+h.y,h.width,h.height);var ze=Km(Gc),rf=Lm(Gc),Rb=0+ze.y*Nb.height+ze.offsetY,cb=0+rf.x*Nb.width+rf.offsetX,pc=0+rf.y*Nb.height+rf.offsetY;Na.x=0+ze.x*Nb.width+ze.offsetX;Na.y=Rb;kb(Na,cb,pc,0,0);Na.x+=Ab+Sd;Na.y+=gc+qf;for(var Pc=0;Pc<wb;Pc++){var gd=f[Pc];if(gd!==Gc){var ab=gd.Ca,eb=gd.margin,ub=Math.max(ab.width+eb.right+eb.left,0),kc=Math.max(ab.height+eb.top+eb.bottom,0),hd=gd.alignment;hd.Kc()&&(hd=this.Tk);hd.pd()||(hd=Ib);h.x=
			Na.width*hd.x+hd.offsetX-ub*hd.x+eb.left+Na.x;h.y=Na.height*hd.y+hd.offsetY-kc*hd.y+eb.top+Na.y;h.width=Na.width;h.height=Na.height;gd.visible&&(qb(Na.x,Na.y,Na.width,Na.height,h.x,h.y,ab.width,ab.height)?gd.yc(h.x,h.y,ab.width,ab.height):gd.yc(h.x,h.y,ab.width,ab.height,new z(Na.x,Na.y,Na.width,Na.height)))}}u.ic(Na);break;case "Table":for(var Ng=f.length,Og=this.padding,Pg=Og.left,Of=Og.top,Hc=this.zr,Qc=0,Ic=0,nb=Hc.length,ie=0,ob=0;ob<nb;ob++)Hc[ob]&&(ie=Math.max(ie,Hc[ob].length));for(var yc=
		Math.min(this.vi,nb-1);yc!==nb&&(void 0===this.zd[yc]||0===this.zd[yc].yb);)yc++;for(var yc=Math.min(yc,nb-1),Ae=-this.zd[yc].Na,Bb=Math.min(this.ii,ie-1);Bb!==ie&&(void 0===this.sd[Bb]||0===this.sd[Bb].yb);)Bb++;for(var Bb=Math.min(Bb,ie-1),Cb=-this.sd[Bb].Na,id=u.ul(),ob=0;ob<nb;ob++)if(Hc[ob])for(var ie=Hc[ob].length,Rc=this.gd(ob),Ic=Rc.Na+Ae+Of+Rc.$C(),Td=0;Td<ie;Td++)if(Hc[ob][Td])for(var Ud=this.fd(Td),Qc=Ud.Na+Cb+Pg+Ud.$C(),Ye=Hc[ob][Td],qm=Ye.length,zi=0;zi<qm;zi++){var Ea=Ye[zi],Be=Ea.Ca,
		Vd=Ea instanceof B?Ea:null;if(null===Vd||Vd.type!==tl&&Vd.type!==ul){id.m(0,0);for(var ca=1;ca<Ea.rowSpan&&!(ob+ca>=this.lt);ca++){var ha=this.gd(ob+ca);id.height+=ha.total}for(ca=1;ca<Ea.$F&&!(Td+ca>=this.rs);ca++){var pg=this.fd(Td+ca);id.width+=pg.total}var Qg=Ud.yb+id.width,zh=Rc.yb+id.height;h.x=Qc;h.y=Ic;h.width=Qg;h.height=zh;var Sc=Qc,Ah=Ic,Sb=Qg,Rg=zh;Qc+Qg>e.width&&(Sb=Math.max(e.width-Qc,0));Ic+zh>e.height&&(Rg=Math.max(e.height-Ic,0));var Tc=Ea.alignment,je=0,Jc=0,jd=0,zc=0;if(Tc.Kc()){Tc=
		this.Tk;Tc.pd()||(Tc=Ib);var je=Tc.x,Jc=Tc.y,jd=Tc.offsetX,zc=Tc.offsetY,kd=Ud.alignment,Pf=Rc.alignment;kd.pd()&&(je=kd.x,jd=kd.offsetX);Pf.pd()&&(Jc=Pf.y,zc=Pf.offsetY)}else je=Tc.x,Jc=Tc.y,jd=Tc.offsetX,zc=Tc.offsetY;if(isNaN(je)||isNaN(Jc))Jc=je=.5,zc=jd=0;var ba=Be.width,ke=Be.height,Ce=Ea.margin,Uj=Ce.left+Ce.right,Vj=Ce.top+Ce.bottom,Ac=Gl(Ea,Rc,Ud,!1);!isNaN(Ea.za.width)||Ac!==cd&&Ac!==fl||(ba=Math.max(Qg-Uj,0));!isNaN(Ea.za.height)||Ac!==cd&&Ac!==el||(ke=Math.max(zh-Vj,0));var fb=Ea.bf,gb=
		Ea.wg,ba=Math.min(fb.width,ba),ke=Math.min(fb.height,ke),ba=Math.max(gb.width,ba),ke=Math.max(gb.height,ke),Wj=ke+Vj;h.x+=h.width*je-(ba+Uj)*je+jd+Ce.left;h.y+=h.height*Jc-Wj*Jc+zc+Ce.top;Ea.visible&&(qb(Sc,Ah,Sb,Rg,h.x,h.y,Be.width,Be.height)?Ea.yc(h.x,h.y,ba,ke):Ea.yc(h.x,h.y,ba,ke,new z(Sc,Ah,Sb,Rg)))}else{Ea.Lg();Ea.Xb.Ma();var Qf=Ea.Xb;Qf.x=Vd.type===tl?Pg:Qc;Qf.y=Vd.type===ul?Of:Ic;Qf.width=Be.width;Qf.height=Be.height;Ea.Xb.freeze();rl(Ea,!1)}}u.Oj(id);for(ob=0;ob<Ng;ob++)Ea=f[ob],Vd=Ea instanceof
	B?Ea:null,null===Vd||Vd.type!==tl&&Vd.type!==ul||(Qf=Ea.Xb,Ea.Gc.Ma(),Ea.Gc.m(0,0,Qf.width,Qf.height),Ea.Gc.freeze());break;case "Viewbox":var qg=f[0],rg=qg.Ca,Ob=qg.margin,Rf=Ob.top+Ob.bottom,Sf=Math.max(rg.width+(Ob.right+Ob.left),0),Wd=Math.max(rg.height+Rf,0),le=qg.alignment;le.Kc()&&(le=this.Tk);le.pd()||(le=Ib);h.x=e.width*le.x-Sf*le.x+le.offsetX;h.y=e.height*le.y-Wd*le.y+le.offsetY;h.width=rg.width;h.height=rg.height;qg.yc(h.x,h.y,h.width,h.height);break;case "Link":var rm=f.length,Bh=this instanceof
	lf?this.Mh:this;if(Bh instanceof W){var De=this instanceof lf?null:Bh.path,Ze=this.Vi.n,Cd=0;if(null!==De&&Cd<this.Vi.count){var qc=Ze[Cd];Cd++;De.yc(qc.x-this.wi.x,qc.y-this.wi.y,qc.width,qc.height)}for(var Xd=0;Xd<rm;Xd++){var Xj=f[Xd];Xj!==De&&Cd<this.Vi.count&&(qc=Ze[Cd],Cd++,Xj.yc(qc.x-this.wi.x,qc.y-this.wi.y,qc.width,qc.height))}var Yj=Bh.points,Ai=Yj.count;if(2<=Ai&&this.ue)for(var Sg=this.vg;Sg.next();){var Bc=Sg.value,pb=Ai,me=Yj,Kc=Bc.Pf,Tg=Bc.Dw,Ee=Bc.Hj;Ee.ne()&&(Ee=Ib);var Pb=Bc.Ew,
		Ch=Bc.BE,Dd=0,Ed=0,Tf=0;if(Kc<-pb||Kc>=pb){var Uf=this.XD,$e=this.WD;Pb!==dh&&(Tf=this.computeAngle(Bc,Pb,$e),Bc.angle=Tf);Dd=Uf.x;Ed=Uf.y}else{var Fd=void 0,Vf=void 0;if(0<=Kc)Fd=me.n[Kc],Vf=Kc<pb-1?me.n[Kc+1]:Fd;else var ne=pb+Kc,Fd=me.n[ne],Vf=0<ne?me.n[ne-1]:Fd;$e=0<=Kc?Fd.Gi(Vf):Vf.Gi(Fd);Pb!==dh&&(Tf=this.computeAngle(Bc,Pb,$e),Bc.angle=Tf);Dd=Fd.x+(Vf.x-Fd.x)*Tg;Ed=Fd.y+(Vf.y-Fd.y)*Tg}var ld=u.lh();ld.reset();ld.scale(Bc.scale,Bc.scale);ld.rotate(Bc.angle,0,0);var Dh=Bc.Ja,Wf=u.Vj(0,0,Dh.width,
		Dh.height),Tb=u.K();Tb.qt(Wf,Ee);ld.ab(Tb);var sg=-Tb.x,tg=-Tb.y,sf=Ch.copy();isNaN(sf.x)&&(sf.x=0<=Kc?Tb.x+3:-(Tb.x+3));isNaN(sf.y)&&(sf.y=-(Tb.y+3));sf.rotate($e);Dd+=sf.x;Ed+=sf.y;ld.VE(Wf);var sg=sg+Wf.x,tg=tg+Wf.y,Bi=u.fc(Dd+sg,Ed+tg);Bc.move(Bi);u.v(Bi);u.v(Tb);u.ic(Wf);u.Ye(ld)}this instanceof lf?this.Ys():Bh.Ys()}break;case "Grid":break;case "TableRow":case "TableColumn":u.k(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");
		break;default:u.k("Unknown panel type: "+t)}u.ic(h)}};B.prototype.Jj=function(a){var b=this.Ja;if(qb(0,0,b.width,b.height,a.x,a.y)){for(var b=this.Aa.n,c=b.length,d=u.fc(0,0);c--;){var e=b[c];if(e.visible||e===this.ec)if(Wa(d.set(a),e.transform),e.Da(d))return u.v(d),!0}u.v(d);return null===this.Jb&&null===this.lc?!1:!0}return!1};B.prototype.Wv=function(a){if(this.an===a)return this;for(var b=this.Aa.n,c=b.length,d=0;d<c;d++){var e=b[d].Wv(a);if(null!==e)return e}return null};
	function Pm(a,b,c){c(a,b);if(b instanceof B){b=b.Aa.n;for(var d=b.length,e=0;e<d;e++)Pm(a,b[e],c)}}function Kj(a,b){Qm(a,a,b)}function Qm(a,b,c){c(b);b=b.Aa.n;for(var d=b.length,e=0;e<d;e++){var f=b[e];f instanceof B&&Qm(a,f,c)}}B.prototype.walkVisualTree=function(a){Rm(this,this,a)};function Rm(a,b,c){c(b);if(b instanceof B){b=b.Aa.n;for(var d=b.length,e=0;e<d;e++)Rm(a,b[e],c)}}B.prototype.findInVisualTree=B.prototype.ws=function(a){return Sm(this,this,a)};
	function Sm(a,b,c){if(c(b))return b;if(b instanceof B){b=b.Aa.n;for(var d=b.length,e=0;e<d;e++){var f=Sm(a,b[e],c);if(null!==f)return f}}return null}B.prototype.findObject=B.prototype.je=function(a){if(this.name===a)return this;for(var b=this.Aa.n,c=b.length,d=0;d<c;d++){var e=b[d];if(e.name===a)return e;if(e instanceof B)if(null===e.hi&&null===e.$f){if(e=e.je(a),null!==e)return e}else if(sk(e)&&(e=e.Aa.first(),null!==e&&(e=e.je(a),null!==e)))return e}return null};
	function Tm(a){a=a.Aa.n;for(var b=a.length,c=0,d=0;d<b;d++){var e=a[d];if(e instanceof B)c=Math.max(c,Tm(e));else if(e instanceof X){a:{if(!e.Tg)switch(e.un){case "None":case "Square":case "Ellipse":case "Circle":case "LineH":case "LineV":case "FramedRectangle":case "RoundedRectangle":case "Line1":case "Line2":case "Border":case "Cube1":case "Cube2":case "Junction":case "Cylinder1":case "Cylinder2":case "Cylinder3":case "Cylinder4":case "PlusLine":case "XLine":case "ThinCross":case "ThickCross":e=
		0;break a}e=e.Ug/2*e.hm*e.Ii()}c=Math.max(c,e)}}return c}g=B.prototype;g.Tf=function(){return!(this.type===tl||this.type===ul)};
	g.ke=function(a,b,c){if(!1===this.Bg)return null;void 0===b&&(b=null);void 0===c&&(c=null);if(Bj(this))return null;var d=this.Ja,e=1/this.Ii(),f=this.Tf(),h=f?a:Wa(u.fc(a.x,a.y),this.transform),k=this.g,l=10,m=5;null!==k&&(l=k.hz("extraTouchArea"),m=l/2);if(qb(-(m*e),-(m*e),d.width+l*e,d.height+l*e,h.x,h.y)){if(!this.Mg){var e=this.Aa.n,n=e.length,k=u.K(),m=(l=this.KD)?this.If():null;if(l&&(m.Tf()?Wa(k.set(a),m.transform):k.set(a),!m.Da(k)))return u.v(k),f||u.v(h),null;for(;n--;){var p=e[n];if(p.visible||
		p===this.ec)if(p.Tf()?Wa(k.set(a),p.transform):k.set(a),!l||p!==m){var q=null;p instanceof B?q=p.ke(k,b,c):!0===p.Bg&&p.Da(k)&&(q=p);if(null!==q&&(null!==b&&(q=b(q)),null!==q&&(null===c||c(q))))return u.v(k),f||u.v(h),q}}u.v(k)}if(null===this.background&&null===this.om)return f||u.v(h),null;a=qb(0,0,d.width,d.height,h.x,h.y)?this:null;f||u.v(h);return a}f||u.v(h);return null};
	g.zs=function(a,b,c,d){if(!1===this.Bg)return!1;void 0===b&&(b=null);void 0===c&&(c=null);d instanceof E||d instanceof F||(d=new E(T));var e=this.Ja,f=this.Tf(),h=f?a:Wa(u.fc(a.x,a.y),this.transform);if(qb(0,0,e.width,e.height,h.x,h.y)){if(!this.Mg){for(var e=this.Aa.n,k=e.length,l=u.K();k--;){var m=e[k];if(m.visible||m===this.ec){m.Tf()?Wa(l.set(a),m.transform):l.set(a);var n=m,m=m instanceof B?m:null;(null!==m?m.zs(l,b,c,d):n.Da(l))&&!1!==n.Bg&&(null!==b&&(n=b(n)),null===n||null!==c&&!c(n)||d.add(n))}}u.v(l)}f||
	u.v(h);return null!==this.background||null!==this.om}f||u.v(h);return!1};
	g.Nj=function(a,b,c,d,e,f){if(!1===this.Bg)return!1;void 0===b&&(b=null);void 0===c&&(c=null);var h=f;void 0===f&&(h=u.lh(),h.reset());h.multiply(this.transform);if(this.tm(a,h))return Um(this,b,c,e),void 0===f&&u.Ye(h),!0;if(this.tg(a,h)){if(!this.Mg)for(var k=this.Aa.n,l=k.length;l--;){var m=k[l];if(m.visible||m===this.ec){var n=m.ba,p=this.Ja;if(!(n.x>p.width||n.y>p.height||0>n.x+n.width||0>n.y+n.height)){n=m;m=m instanceof B?m:null;p=u.lh();p.set(h);if(null!==m?m.Nj(a,b,c,d,e,p):ol(n,a,d,p))null!==
	b&&(n=b(n)),null===n||null!==c&&!c(n)||e.add(n);u.Ye(p)}}}void 0===f&&u.Ye(h);return d}void 0===f&&u.Ye(h);return!1};function Um(a,b,c,d){for(var e=a.Aa.n,f=e.length;f--;){var h=e[f];if(h.visible){var k=h.ba,l=a.Ja;k.x>l.width||k.y>l.height||0>k.x+k.width||0>k.y+k.height||(h instanceof B&&Um(h,b,c,d),null!==b&&(h=b(h)),null===h||null!==c&&!c(h)||d.add(h))}}}
	g.zm=function(a,b,c,d,e,f){if(!1===this.Bg)return!1;void 0===c&&(c=null);void 0===d&&(d=null);var h=this.Ja,k=this.Tf(),l=k?a:Wa(u.fc(a.x,a.y),this.transform),m=k?b:Wa(u.fc(b.x,b.y),this.transform),n=l.Lj(m),p=0<l.x&&l.x<h.width&&0<l.y&&l.y<h.height||Xa(l.x,l.y,0,0,0,h.height)<n||Xa(l.x,l.y,0,h.height,h.width,h.height)<n||Xa(l.x,l.y,h.width,h.height,h.width,0)<n||Xa(l.x,l.y,h.width,0,0,0)<n,h=0<l.x&&l.x<h.width&&0<l.y&&l.y<h.height&&Xa(l.x,l.y,0,0,0,h.height)<n&&Xa(l.x,l.y,0,h.height,h.width,h.height)<
		n&&Xa(l.x,l.y,h.width,h.height,h.width,0)<n&&Xa(l.x,l.y,h.width,0,0,0)<n;k||(u.v(l),u.v(m));if(p){if(!this.Mg){k=u.K();l=u.K();m=this.Aa.n;for(n=m.length;n--;){var q=m[n];if(q.visible||q===this.ec){var r=q.ba,s=this.Ja;r.x>s.width||r.y>s.height||0>r.x+r.width||0>r.y+r.height||(q.Tf()?(r=q.transform,Wa(k.set(a),r),Wa(l.set(b),r)):(k.set(a),l.set(b)),r=q,q=q instanceof B?q:null,null!==q?!q.zm(k,l,c,d,e,f):!r.sD(k,l,e))||(null!==c&&(r=c(r)),null===r||null!==d&&!d(r)||f.add(r))}}u.v(k);u.v(l)}return e?
		p:h}return!1};function Km(a){var b=a.A;if(void 0===b||b===uc)b=null;null===b&&a instanceof X&&(a=a.Qa,null!==a&&(b=a.A));null===b&&(b=xb);return b}function Lm(a){var b=a.B;if(void 0===b||b===uc)b=null;null===b&&a instanceof X&&(a=a.Qa,null!==a&&(b=a.B));null===b&&(b=Vb);return b}B.prototype.add=B.prototype.add=function(a){u.C(a,T,B,"add:element");this.Yd(this.Aa.count,a)};B.prototype.elt=B.prototype.ja=function(a){return this.Aa.ja(a)};
	B.prototype.insertAt=B.prototype.Yd=function(a,b){b instanceof G&&u.k("Cannot add a Part to a Panel: "+b);if(this===b||this.gl(b))this===b&&u.k("Cannot make a Panel contain itself: "+this.toString()),u.k("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+b.toString());var c=b.S;null!==c&&c!==this&&u.k("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+b.toString()+", already contained by "+c.toString()+", cannot be shared by this Panel: "+
		this.toString());this.pa!==bj||b instanceof X||u.k("Can only add Shapes to a Grid Panel, not: "+b);b.ql(this);b.Xl=null;if(null!==this.QD){var d=b.data;null!==d&&"object"===typeof d&&(null===this.Zf&&(this.Zf=new la(Object,B)),this.Zf.add(d,b))}var e=this.Aa,d=-1;if(c===this){for(var f=-1,h=this.Aa.n,k=h.length,l=0;l<k;l++)if(h[l]===b){f=l;break}if(-1!==f){if(f===a||f+1>=e.count&&a>=e.count)return;e.jd(f);d=f}else u.k("element "+b.toString()+" has panel "+c.toString()+" but is not contained by it.")}if(0>
		a||a>e.count)a=e.count;e.Yd(a,b);this.R();b.R();null!==b.Jd?this.zh=!0:b instanceof B&&!0===b.zh&&(this.zh=!0);c=this.T;null!==c&&(c.Bk=null,c.kj=NaN,this.zh&&c instanceof U&&(c.zh=!0),c.zh&&(c.Qd=null),e=this.g,null!==e&&e.ga.eb||(-1!==d&&c.Cc(ce,"elements",this,b,null,d,null),c.Cc(be,"elements",this,null,b,null,a)))};B.prototype.remove=B.prototype.remove=function(a){u.C(a,T,B,"remove:element");for(var b=this.Aa.n,c=b.length,d=-1,e=0;e<c;e++)if(b[e]===a){d=e;break}-1!==d&&this.Fe(d)};
	B.prototype.removeAt=B.prototype.jd=function(a){0<=a&&this.Fe(a)};B.prototype.Fe=function(a){var b=this.Aa,c=b.ja(a);c.Xl=null;c.ql(null);if(null!==this.Zf){var d=c.data;"object"===typeof d&&this.Zf.remove(d)}b.jd(a);uj(this,!1);this.R();this.im===c&&(this.im=null);b=this.T;null!==b&&(b.Bk=null,b.kj=NaN,d=this.g,null!==d&&d.ga.eb||b.Cc(ce,"elements",this,c,null,a,null))};u.u(B,{lt:"rowCount"},function(){return void 0===this.zd?0:this.zd.length});
	B.prototype.getRowDefinition=B.prototype.gd=function(a){0>a&&u.xa(a,">= 0",B,"getRowDefinition:idx");a=Math.round(a);var b=this.zd;if(void 0===b[a]){var c=new Se;c.ql(this);c.ae=!0;c.index=a;b[a]=c}return b[a]};B.prototype.removeRowDefinition=B.prototype.oE=function(a){0>a&&u.xa(a,">= 0",B,"removeRowDefinition:idx");a=Math.round(a);var b=this.zd;this.Cc(ce,"coldefs",this,b[a],null,a,null);b[a]&&delete b[a];this.R()};u.u(B,{rs:"columnCount"},function(){return void 0===this.sd?0:this.sd.length});
	B.prototype.getColumnDefinition=B.prototype.fd=function(a){0>a&&u.xa(a,">= 0",B,"getColumnDefinition:idx");a=Math.round(a);var b=this.sd;if(void 0===b[a]){var c=new Se;c.ql(this);c.ae=!1;c.index=a;b[a]=c}return b[a]};B.prototype.removeColumnDefinition=B.prototype.kE=function(a){0>a&&u.xa(a,">= 0",B,"removeColumnDefinition:idx");a=Math.round(a);var b=this.sd;this.Cc(ce,"coldefs",this,b[a],null,a,null);b[a]&&delete b[a];this.R()};
	u.defineProperty(B,{bI:"rowSizing"},function(){return void 0===this.bm?Gm:this.bm},function(a){if(void 0!==this.bm){var b=this.bm;b!==a&&(a!==Gm&&a!==Nm&&u.k("rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.bm=a,this.R(),this.h("rowSizing",b,a))}});
	u.defineProperty(B,{ZF:"columnSizing"},function(){return void 0===this.Bl?Gm:this.Bl},function(a){if(void 0!==this.Bl){var b=this.Bl;b!==a&&(a!==Gm&&a!==Nm&&u.k("columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.Bl=a,this.R(),this.h("columnSizing",b,a))}});
	u.defineProperty(B,{DK:"topIndex"},function(){return void 0===this.vi?0:this.vi},function(a){if(void 0!==this.vi){var b=this.vi;b!==a&&((!isFinite(a)||0>a)&&u.k("topIndex must be greater than zero and a real number. Was "+a),this.vi=a,this.R(),this.h("topIndex",b,a))}});
	u.defineProperty(B,{QJ:"leftIndex"},function(){return void 0===this.ii?0:this.ii},function(a){if(void 0!==this.ii){var b=this.ii;b!==a&&((!isFinite(a)||0>a)&&u.k("leftIndex must be greater than zero and a real number. Was "+a),this.ii=a,this.R(),this.h("leftIndex",b,a))}});B.prototype.findRowForLocalY=function(a){if(0>a)return-1;if(this.type!==Fl)return NaN;for(var b=0,c=this.zd,d=c.length,e=this.vi;e<d;e++){var f=c[e];if(void 0!==f&&(b+=f.total,a<b))return e}return-1};
	B.prototype.findColumnForLocalX=function(a){if(0>a)return-1;if(this.type!==Fl)return NaN;for(var b=0,c=this.sd,d=c.length,e=this.ii;e<d;e++){var f=c[e];if(void 0!==f&&(b+=f.total,a<b))return e}return-1};
	u.defineProperty(B,{data:"data"},function(){return this.sh},function(a){var b=this.sh;if(b!==a){var c=this instanceof G&&!(this instanceof lf);c&&u.j(a,"object",B,"data");nf(this);this.sh=a;var d=this.g;null!==d&&(c?this instanceof W?(null!==b&&d.lk.remove(b),null!==a&&d.lk.add(a,this)):(null!==b&&d.ai.remove(b),null!==a&&d.ai.add(a,this)):(c=this.S,null!==c&&null!==c.Zf&&(null!==b&&c.Zf.remove(b),null!==a&&c.Zf.add(a,this))));this.h("data",b,a);null!==d&&d.ga.eb||null!==a&&this.Ob()}});
	u.defineProperty(B,{iH:"itemIndex"},function(){return this.wq},function(a){var b=this.wq;b!==a&&(this.wq=a,this.h("itemIndex",b,a))});function Pl(a){a=a.zl;return null!==a&&a.Ea}
	function nf(a){var b=a.zl;if(null===b)null!==a.data&&u.k("Template cannot have .data be non-null: "+a),a.zl=b=new E(bf);else if(b.Ea)return;var c=new E(T);Pm(a,a,function(a,d){var e=d.Fc;if(null!==e)for(Jl(d,!1),e=e.i;e.next();){var f=e.value;f.mode===df&&Jl(d,!0);if(null!==f.Om){var h=ef(f,a,d);null!==h&&(c.add(h),null===h.ao&&(h.ao=new E(bf)),h.ao.add(f))}b.add(f)}if(d instanceof B&&d.type===Fl){if(0<d.zd.length)for(e=d.zd,f=e.length,h=0;h<f;h++){var k=e[h];if(void 0!==k&&null!==k.Fc)for(var l=
		k.Fc.i;l.next();){var v=l.value;v.gg=k;v.By=2;v.ov=k.index;b.add(v)}}if(0<d.sd.length)for(e=d.sd,f=e.length,h=0;h<f;h++)if(k=e[h],void 0!==k&&null!==k.Fc)for(l=k.Fc.i;l.next();)v=l.value,v.gg=k,v.By=1,v.ov=k.index,b.add(v)}});for(var d=c.i;d.next();){var e=d.value;if(null!==e.ao){Jl(e,!0);for(var f=e.ao.i;f.next();){var h=f.value;null===e.Fc&&(e.Fc=new E(bf));e.Fc.add(h)}}e.ao=null}for(d=b.i;d.next();)if(e=d.value,f=e.gg,null!==f){e.gg=null;var k=e.Nw,l=k.indexOf(".");0<l&&f instanceof B&&(h=k.substring(0,
		l),k=k.substr(l+1),l=f.je(h),null!==l?(f=l,e.Nw=k):u.trace('Warning: unable to find GraphObject named "'+h+'" for Binding: '+e.toString()));f instanceof Se?(e.tl=u.Uc(f.S),f.S.an=e.tl):(e.tl=u.Uc(f),f.an=e.tl)}b.freeze();a instanceof G&&a.Gd()&&(Ph(a,Infinity,Infinity),a.yc())}
	B.prototype.updateTargetBindings=B.prototype.Ob=function(a){var b=this.zl;if(null!==b)for(void 0===a&&(a=""),b=b.i;b.next();){var c=b.value,d=c.KE;if(""===a||""===d||d===a)if(d=c.Nw,null!==c.eG||""!==d){var d=this.data,e=c.Om;if(null!==e)d=""===e?this:"."===e?this:".."===e?this:this.je(e);else{var f=this.g;null!==f&&c.yt&&(d=f.ha.$s)}if(null!==d){var f=this,h=c.tl;if(-1!==h){if(f=this.Wv(h),null===f)continue}else null!==c.gg&&(f=c.gg);"."===e?d=f:".."===e&&(d=f.S);e=c.By;if(0!==e){if(!(f instanceof
		B))continue;h=f;1===e?f=h.fd(c.ov):2===e&&(f=h.gd(c.ov))}void 0!==f&&c.YE(f,d)}}}};u.defineProperty(B,{QD:"itemArray"},function(){return this.hi},function(a){var b=this.hi;if(b!==a){var c=this.g;null!==c&&null!==b&&Qj(c,this);this.hi=a;null!==c&&null!==a&&Mj(c,this);this.h("itemArray",b,a);null!==c&&c.ga.eb||this.Sz()}});function sk(a){return a.type===oh||a.type===Yi||a.type===ah||a.type===Fl&&0<a.Aa.length&&(a=a.Aa.ja(0),a.ug&&a instanceof B&&(a.type===tl||a.type===ul))?!0:!1}
	B.prototype.rebuildItemElements=B.prototype.Sz=function(){var a=0;for(sk(this)&&(a=1);this.Aa.length>a;)this.Fe(a);a=this.QD;if(null!==a)for(var b=u.qb(a),c=0;c<b;c++)rk(this,u.hb(a,c),c)};function rk(a,b,c){if(!(void 0===b||null===b||0>c)){var d=a.getCategoryForItemData(b,c),d=a.findTemplateForItemData(b,c,d);if(null!==d){nf(d);d=d.copy();"object"===typeof b&&(null===a.Zf&&(a.Zf=new la(Object,B)),a.Zf.add(b,d));var e=c;sk(a)&&e++;a.Yd(e,d);tk(a,e,c);d.data=b}}}
	function tk(a,b,c){for(a=a.Aa;b<a.length;){var d=a.ja(b);if(d instanceof B){var e=b,f=c;d.type===tl?d.rc=e:d.type===ul&&(d.column=e);d.iH=f}b++;c++}}function vi(a){a=a.Aa.n;for(var b=a.length,c=0;c<b;c++){var d=a[c];if(d instanceof Vm||d instanceof B&&vi(d))return!0}return!1}
	u.defineProperty(B,{NJ:"itemTemplate"},function(){return null===this.$f?null:this.$f.ua("")},function(a){if(null===this.$f){if(null===a)return;this.$f=new la("string",B)}var b=this.$f.ua("");b!==a&&(u.C(a,B,B,"itemTemplate"),(a instanceof G||a.ug)&&u.k("itemTemplate must not be a Part or be Panel.isPanelMain: "+a),this.$f.add("",a),this.h("itemTemplate",b,a),a=this.g,null!==a&&a.ga.eb||this.Sz())});
	u.defineProperty(B,{jH:"itemTemplateMap"},function(){return this.$f},function(a){var b=this.$f;if(b!==a){u.C(a,la,B,"itemTemplateMap");for(var c=a.i;c.next();){var d=c.value;(d instanceof G||d.ug)&&u.k("Template in itemTemplateMap must not be a Part or be Panel.isPanelMain: "+d)}this.$f=a;this.h("itemTemplateMap",b,a);a=this.g;null!==a&&a.ga.eb||this.Sz()}});
	u.defineProperty(B,{MJ:"itemCategoryProperty"},function(){return this.In},function(a){var b=this.In;b!==a&&("string"!==typeof a&&"function"!==typeof a&&u.Kd(a,"string or function",B,"itemCategoryProperty"),this.In=a,this.h("itemCategoryProperty",b,a))});
	B.prototype.getCategoryForItemData=function(a){if(null===a)return"";var b=this.In,c="";if("function"===typeof b)c=b(a);else if("string"===typeof b&&"object"===typeof a){if(""===b)return"";c=u.sb(a,b)}else return"";if(void 0===c)return"";if("string"===typeof c)return c;u.k("Panel.getCategoryForItemData found a non-string category for "+a+": "+c);return""};var Wm=!1,Xm=null;
	B.prototype.findTemplateForItemData=function(a,b,c){a=this.jH;b=null;null!==a&&(b=a.ua(c));null===b&&(Wm||(Wm=!0,u.trace('No item template Panel found for category "'+c+'" on '+this),u.trace("  Using default item template."),c=new B,a=new qa,a.bind(new bf("text","",de)),c.add(a),Xm=c),b=Xm);return b};u.defineProperty(B,{FJ:"isAtomic"},function(){return this.Mg},function(a){var b=this.Mg;b!==a&&(u.j(a,"boolean",B,"isAtomic"),this.Mg=a,this.h("isAtomic",b,a))});
	u.defineProperty(B,{KD:"isClipping"},function(){return this.iq},function(a){var b=this.iq;b!==a&&(u.j(a,"boolean",B,"isClipping"),this.iq=a,this.h("isClipping",b,a))});function Se(){u.gc(this);this.Rg=null;this.yu=!0;this.vd=0;this.Qe=NaN;this.oj=0;this.mj=Infinity;this.se=uc;this.Na=this.yb=0;this.Fc=null;this.Lr=Ym;this.Jh=dl;this.Ir=this.wj=null;this.Jr=NaN;this.Jb=this.Fh=null;this.Kp=!1}u.fa("RowColumnDefinition",Se);
	Se.prototype.copy=function(){var a=new Se;a.yu=this.yu;a.vd=this.vd;a.Qe=this.Qe;a.oj=this.oj;a.mj=this.mj;a.se=this.se;a.yb=this.yb;a.Na=this.Na;a.Jh=this.Jh;a.Lr=this.Lr;a.wj=null===this.wj?null:this.wj.Z();a.Ir=this.Ir;a.Jr=this.Jr;a.Fh=null;null!==this.Fh&&(a.Fh=u.Pk(this.Fh));a.Jb=this.Jb;a.Kp=this.Kp;a.Fc=this.Fc;return a};
	Se.prototype.ss=function(a){u.C(a,Se,Se,"copyFrom:pd");a.ae?this.height=a.height:this.width=a.width;this.Li=a.Li;this.Kf=a.Kf;this.alignment=a.alignment;this.stretch=a.stretch;this.tt=a.tt;this.wj=null===a.wj?null:a.wj.Z();this.fp=a.fp;this.gp=a.gp;this.Fh=null;a.Fh&&(this.Fh=u.Pk(a.Fh));this.background=a.background;this.$y=a.$y;this.Fc=a.Fc};Se.prototype.toString=function(){return"RowColumnDefinition "+(this.ae?"(Row ":"(Column ")+this.index+") #"+u.Uc(this)};var Ym;
	Se.Default=Ym=u.s(Se,"Default",0);var Nm;Se.None=Nm=u.s(Se,"None",1);var Gm;Se.ProportionalExtra=Gm=u.s(Se,"ProportionalExtra",2);Se.prototype.ql=function(a){this.Rg=a};Se.prototype.computeEffectiveSpacingTop=Se.prototype.$C=function(){var a=0;if(0!==this.index){var b=this.Rg,c=this.fp;null===c&&null!==b&&(c=this.ae?b.bi:b.th);null!==c&&(a=this.gp,isNaN(a)&&(a=null!==b?this.ae?b.vh:b.uh:0))}b=this.DE;if(null===b)if(b=this.Rg,null!==b)b=b.Xi;else return a;return a+(this.ae?b.top:b.left)};
	Se.prototype.computeEffectiveSpacing=Se.prototype.mg=function(){var a=0;if(0!==this.index){var b=this.Rg,c=this.fp;null===c&&null!==b&&(c=this.ae?b.bi:b.th);null!==c&&(a=this.gp,isNaN(a)&&(a=null!==b?this.ae?b.vh:b.uh:0))}b=this.DE;if(null===b)if(b=this.Rg,null!==b)b=b.Xi;else return a;return a+(this.ae?b.top+b.bottom:b.left+b.right)};
	Se.prototype.Rc=function(a,b,c,d,e){var f=this.Rg;if(null!==f&&(f.Cc($d,a,this,b,c,d,e),null!==this.Fc&&(b=f.Bo(),null!==b&&(b=b.data,null!==b))))for(c=this.Fc.i;c.next();)c.value.Ow(this,b,a,null)};u.u(Se,{S:"panel"},function(){return this.Rg});u.defineProperty(Se,{ae:"isRow"},function(){return this.yu},function(a){this.yu=a});u.defineProperty(Se,{index:"index"},function(){return this.vd},function(a){this.vd=a});
	u.defineProperty(Se,{height:"height"},function(){return this.Qe},function(a){var b=this.Qe;b!==a&&(0>a&&u.xa(a,">= 0",Se,"height"),this.Qe=a,this.Ra=this.yb,null!==this.S&&this.S.R(),this.Rc("height",b,a))});u.defineProperty(Se,{width:"width"},function(){return this.Qe},function(a){var b=this.Qe;b!==a&&(0>a&&u.xa(a,">= 0",Se,"width"),this.Qe=a,this.Ra=this.yb,null!==this.S&&this.S.R(),this.Rc("width",b,a))});
	u.defineProperty(Se,{Li:"minimum"},function(){return this.oj},function(a){var b=this.oj;b!==a&&((0>a||!isFinite(a))&&u.xa(a,">= 0",Se,"minimum"),this.oj=a,this.Ra=this.yb,null!==this.S&&this.S.R(),this.Rc("minimum",b,a))});u.defineProperty(Se,{Kf:"maximum"},function(){return this.mj},function(a){var b=this.mj;b!==a&&(0>a&&u.xa(a,">= 0",Se,"maximum"),this.mj=a,this.Ra=this.yb,null!==this.S&&this.S.R(),this.Rc("maximum",b,a))});
	u.defineProperty(Se,{alignment:"alignment"},function(){return this.se},function(a){var b=this.se;b.L(a)||(this.se=a.Z(),null!==this.S&&this.S.R(),this.Rc("alignment",b,a))});u.defineProperty(Se,{stretch:"stretch"},function(){return this.Jh},function(a){var b=this.Jh;b!==a&&(this.Jh=a,null!==this.S&&this.S.R(),this.Rc("stretch",b,a))});
	u.defineProperty(Se,{DE:"separatorPadding"},function(){return this.wj},function(a){"number"===typeof a&&(a=new rb(a));var b=this.wj;null!==a&&null!==b&&b.L(a)||(null!==a&&(a=a.Z()),this.wj=a,null!==this.S&&this.S.R(),this.Rc("separatorPadding",b,a))});u.defineProperty(Se,{fp:"separatorStroke"},function(){return this.Ir},function(a){var b=this.Ir;b!==a&&(null===a||"string"===typeof a||a instanceof ga)&&(a instanceof ga&&a.freeze(),this.Ir=a,null!==this.S&&this.S.R(),this.Rc("separatorStroke",b,a))});
	u.defineProperty(Se,{gp:"separatorStrokeWidth"},function(){return this.Jr},function(a){var b=this.Jr;b!==a&&(this.Jr=a,null!==this.S&&this.S.R(),this.Rc("separatorStrokeWidth",b,a))});
	u.defineProperty(Se,{gI:"separatorDashArray"},function(){return this.Fh},function(a){var b=this.Fh;if(b!==a){null===a||Array.isArray(a)||u.Kd(a,"Array",Se,"separatorDashArray:value");if(null!==a){for(var c=a.length,d=0,e=0;e<c;e++){var f=a[e];"number"===typeof f&&0<=f&&isFinite(f)||u.k("separatorDashArray:value "+f+" must be a positive number or zero.");d+=f}if(0===d){if(null===b)return;a=null}}this.Fh=a;null!==this.S&&this.S.na();this.Rc("separatorDashArray",b,a)}});
	u.defineProperty(Se,{background:"background"},function(){return this.Jb},function(a){var b=this.Jb;b!==a&&(null===a||"string"===typeof a||a instanceof ga)&&(a instanceof ga&&a.freeze(),this.Jb=a,null!==this.S&&this.S.na(),this.Rc("background",b,a))});u.defineProperty(Se,{$y:"coversSeparators"},function(){return this.Kp},function(a){var b=this.Kp;b!==a&&(u.j(a,"boolean",Se,"coversSeparators"),this.Kp=a,null!==this.S&&this.S.na(),this.Rc("coversSeparators",b,a))});
	u.defineProperty(Se,{tt:"sizing"},function(){return this.Lr},function(a){var b=this.Lr;b!==a&&(this.Lr=a,null!==this.S&&this.S.R(),this.Rc("sizing",b,a))});function Mm(a){if(a.tt===Ym){var b=a.Rg;return a.ae?b.bI:b.ZF}return a.tt}u.defineProperty(Se,{Ra:"actual"},function(){return this.yb},function(a){this.yb=isNaN(this.Qe)?Math.max(Math.min(this.mj,a),this.oj):Math.max(Math.min(this.mj,this.Qe),this.oj)});
	u.defineProperty(Se,{total:"total"},function(){return this.yb+this.mg()},function(a){this.yb=isNaN(this.Qe)?Math.max(Math.min(this.mj,a),this.oj):Math.max(Math.min(this.mj,this.Qe),this.oj);this.yb=Math.max(0,this.yb-this.mg())});u.defineProperty(Se,{position:"position"},function(){return this.Na},function(a){this.Na=a});
	Se.prototype.bind=Se.prototype.bind=function(a){a.gg=this;var b=this.S;null!==b&&(b=b.Bo(),null!==b&&Pl(b)&&u.k("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+a));null===this.Fc&&(this.Fc=new E(bf));this.Fc.add(a)};
	function X(){T.call(this);this.Qa=null;this.un="None";this.Tg=!1;this.aq=dl;this.jk=null;this.xc=this.kd="black";this.Ug=1;this.eo="butt";this.fo="miter";this.hm=10;this.gm=null;this.dd=0;this.ti=this.si=uc;this.fr=this.er=NaN;this.jq=!1;this.pq=!0;this.ir=null;this.xn=this.ho="None";this.gq=1}u.Ia(X,T);u.fa("Shape",X);
	X.prototype.cloneProtected=function(a){T.prototype.cloneProtected.call(this,a);a.Qa=this.Qa;a.un=this.un;a.Tg=this.Tg;a.aq=this.aq;a.jk=this.jk;a.kd=this.kd;a.xc=this.xc;a.Ug=this.Ug;a.eo=this.eo;a.fo=this.fo;a.hm=this.hm;a.gm=null;null!==this.gm&&(a.gm=u.Pk(this.gm));a.dd=this.dd;a.si=this.si.Z();a.ti=this.ti.Z();a.er=this.er;a.fr=this.fr;a.jq=this.jq;a.pq=this.pq;a.ir=this.ir;a.ho=this.ho;a.xn=this.xn;a.gq=this.gq};
	X.prototype.toString=function(){return"Shape("+("None"!==this.Fb?this.Fb:"None"!==this.lp?this.lp:this.fz)+")#"+u.Uc(this)};
	function Zm(a,b,c,d){var e=.001,f=d.Ca,h=f.width,f=f.height,k=0,l=0,m=0,n=0,e=c.length;if(!(4>e)){for(var k=c[0],l=c[1],p=0,q=0,r=0,s=m=0,t=q=0,v=u.gb(),x=2;x<e;x+=2)m=c[x],n=c[x+1],p=m-k,q=n-l,0===p&&(p=.001),r=q/p,s=Math.atan2(q,p),q=Math.sqrt(p*p+q*q),k=[],k[0]=p,k[1]=s,k[2]=r,k[3]=q,v.push(k),t+=q,k=m,l=n;k=c[0];l=c[1];c=0;for(var e=h,n=h/2,x=0===n?!1:!0,q=0,m=v[q],p=m[0],s=m[1],r=m[2],m=m[3],A=0;.1<=t;){0===A&&(x?(e=h,c++,e-=n,t-=n,x=!1):(e=h,c++),0===e&&(e=1));if(e>t){u.sa(v);return}e>m?(A=
		e-m,e=m):A=0;var y=Math.sqrt(e*e/(1+r*r));0>p&&(y=-y);k+=y;l+=r*y;a.translate(k,l);a.rotate(s);a.translate(-(h/2),-(f/2));0===A&&d.Mj(a,b);a.translate(h/2,f/2);a.rotate(-s);a.translate(-k,-l);t-=e;m-=e;if(0!==A){q++;if(q===v.length){u.sa(v);return}m=v[q];p=m[0];s=m[1];r=m[2];m=m[3];e=A}}u.sa(v)}}
	X.prototype.Mj=function(a,b){if(null!==this.xc||null!==this.kd){null!==this.kd&&yl(this,a,this.kd,!0,!1);null!==this.xc&&yl(this,a,this.xc,!1,!1);var c=this.Ug;if(0===c){var d=this.T;d instanceof lf&&d.type===ah&&d.uc instanceof X&&(c=d.uc.ib)}a.lineWidth=c;a.lineJoin=this.fo;a.lineCap=this.eo;a.miterLimit=this.hm;var e=!1;this.T&&b.Sg.drawShadows&&(e=this.T.il);var f=!0;null!==this.xc&&null===this.kd&&(f=!1);var d=!1,h=!0,k=this.hA;null!==k&&(d=!0,void 0!==a.setLineDash?(a.setLineDash(k),a.lineDashOffset=
		this.dd):void 0!==a.webkitLineDash?(a.webkitLineDash=k,a.webkitLineDashOffset=this.dd):void 0!==a.mozDash?(a.mozDash=k,a.mozDashOffset=this.dd):h=!1);var l=this.Qa;if(null!==l){if(l.pa===dd)a.beginPath(),d&&!h?kl(a,l.nc,l.tc,l.pb,l.Bb,k,this.dd):(a.moveTo(l.nc,l.tc),a.lineTo(l.pb,l.Bb)),null!==this.kd&&zl(a,this.kd),0!==c&&null!==this.xc&&Bl(a);else if(l.pa===md){var m=l.nc,n=l.tc,p=l.pb,q=l.Bb,l=Math.min(m,p),r=Math.min(n,q),m=Math.abs(p-m),n=Math.abs(q-n);null!==this.kd&&(a.beginPath(),a.rect(l,
		r,m,n),zl(a,this.kd));if(null!==this.xc){var s=p=0,t=0;f&&e&&(p=a.shadowOffsetX,s=a.shadowOffsetY,t=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0);d&&!h?(h=u.gb(),h.push(l),h.push(r),h.push(l+m),h.push(r),h.push(l+m),h.push(r+n),h.push(l),h.push(r+n),h.push(l),h.push(r),a.beginPath(),$m(a,h,k,this.dd),Bl(a),u.sa(h)):0!==c&&(a.beginPath(),a.rect(l,r,m,n),Bl(a));f&&e&&(a.shadowOffsetX=p,a.shadowOffsetY=s,a.shadowBlur=t)}}else if(l.pa===nd)m=l.nc,n=l.tc,p=l.pb,q=l.Bb,l=Math.abs(p-m)/
		2,r=Math.abs(q-n)/2,m=Math.min(m,p)+l,n=Math.min(n,q)+r,a.beginPath(),a.moveTo(m,n-r),a.bezierCurveTo(m+K.ta*l,n-r,m+l,n-K.ta*r,m+l,n),a.bezierCurveTo(m+l,n+K.ta*r,m+K.ta*l,n+r,m,n+r),a.bezierCurveTo(m-K.ta*l,n+r,m-l,n+K.ta*r,m-l,n),a.bezierCurveTo(m-l,n-K.ta*r,m-K.ta*l,n-r,m,n-r),a.closePath(),null!==this.kd&&zl(a,this.kd),d&&!h&&(h=u.gb(),K.ye(m,n-r,m+K.ta*l,n-r,m+l,n-K.ta*r,m+l,n,.5,h),K.ye(m+l,n,m+l,n+K.ta*r,m+K.ta*l,n+r,m,n+r,.5,h),K.ye(m,n+r,m-K.ta*l,n+r,m-l,n+K.ta*r,m-l,n,.5,h),K.ye(m-l,n,
		m-l,n-K.ta*r,m-K.ta*l,n-r,m,n-r,.5,h),a.beginPath(),$m(a,h,k,this.dd),u.sa(h)),0!==c&&null!==this.xc&&(t=s=p=0,f&&e&&(p=a.shadowOffsetX,s=a.shadowOffsetY,t=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),Bl(a),f&&e&&(a.shadowOffsetX=p,a.shadowOffsetY=s,a.shadowBlur=t));else if(l.pa===ad){r=l.Zi;n=r.length;for(q=0;q<n;q++){m=r.n[q];a.beginPath();a.moveTo(m.va,m.wa);for(var p=m.Ha.n,s=p.length,v=null,t=0;t<s;t++){var x=p[t];switch(x.pa){case yd:a.moveTo(x.F,x.G);break;case pd:a.lineTo(x.F,
		x.G);break;case zd:a.bezierCurveTo(x.cd,x.xe,x.eg,x.fg,x.pb,x.Bb);break;case Ad:a.quadraticCurveTo(x.cd,x.xe,x.pb,x.Bb);break;case Bd:if(x.radiusX===x.radiusY)v=Math.PI/180,a.arc(x.cd,x.xe,x.radiusX,x.Je*v,(x.Je+x.Qf)*v,0>x.Qf);else{var v=Hd(x,m),A=v.length;if(0===A){a.lineTo(x.ma,x.ya);break}for(var y=0;y<A;y++){var C=v[y];0===y&&a.lineTo(C[0],C[1]);a.bezierCurveTo(C[2],C[3],C[4],C[5],C[6],C[7])}}break;case Gd:y=A=0;if(null!==v&&v.type===Bd){v=Hd(v,m);C=v.length;if(0===C){a.lineTo(x.ma,x.ya);break}v=
		v[C-1]||null;null!==v&&(A=v[6],y=v[7])}else A=null!==v?v.F:m.va,y=null!==v?v.G:m.wa;v=Id(x,m,A,y);A=v.length;if(0===A){a.lineTo(x.ma,x.ya);break}for(y=0;y<A;y++)C=v[y],a.bezierCurveTo(C[2],C[3],C[4],C[5],C[6],C[7]);break;default:u.k("Segment not of valid type")}x.Bh&&a.closePath();v=x}e?(t=s=p=0,m.Fn?(!0===m.Jl&&null!==this.kd?(zl(a,this.kd),f=!0):f=!1,0!==c&&null!==this.xc&&(f&&(p=a.shadowOffsetX,s=a.shadowOffsetY,t=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),d&&!h||Bl(a),f&&
	(a.shadowOffsetX=p,a.shadowOffsetY=s,a.shadowBlur=t))):(f&&(p=a.shadowOffsetX,s=a.shadowOffsetY,t=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),!0===m.Jl&&null!==this.kd&&zl(a,this.kd),0!==c&&null!==this.xc&&(d&&!h||Bl(a)),f&&(a.shadowOffsetX=p,a.shadowOffsetY=s,a.shadowBlur=t))):(!0===m.Jl&&null!==this.kd&&zl(a,this.kd),0===c||null===this.xc||d&&!h||Bl(a))}if(d&&!h)for(c=f,f=l.Zi,h=f.length,l=0;l<h;l++){r=f.n[l];a.beginPath();n=u.gb();n.push(r.va);n.push(r.wa);q=r.va;m=r.wa;p=
		q;s=m;t=r.Ha.n;x=t.length;for(v=0;v<x;v++){A=t[v];switch(A.pa){case yd:$m(a,n,k,this.dd);n.length=0;n.push(A.F);n.push(A.G);q=A.F;m=A.G;p=q;s=m;break;case pd:n.push(A.F);n.push(A.G);q=A.F;m=A.G;break;case zd:K.ye(q,m,A.cd,A.xe,A.eg,A.fg,A.pb,A.Bb,.5,n);q=A.F;m=A.G;break;case Ad:K.Zo(q,m,A.cd,A.xe,A.pb,A.Bb,.5,n);q=A.F;m=A.G;break;case Bd:y=Hd(A,r);C=y.length;if(0===C){n.push(A.ma);n.push(A.ya);q=A.ma;m=A.ya;break}for(var I=0;I<C;I++){var H=y[I];K.ye(q,m,H[2],H[3],H[4],H[5],H[6],H[7],.5,n);q=H[6];
		m=H[7]}break;case Gd:y=Id(A,r,q,m);C=y.length;if(0===C){n.push(A.ma);n.push(A.ya);q=A.ma;m=A.ya;break}for(I=0;I<C;I++)H=y[I],K.ye(q,m,H[2],H[3],H[4],H[5],H[6],H[7],.5,n),q=H[6],m=H[7];break;default:u.k("Segment not of valid type")}A.Bh&&(n.push(p),n.push(s),$m(a,n,k,this.dd))}$m(a,n,k,this.dd);u.sa(n);null!==this.xc&&(q=n=r=0,c&&e&&(r=a.shadowOffsetX,n=a.shadowOffsetY,q=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),Bl(a),c&&e&&(a.shadowOffsetX=r,a.shadowOffsetY=n,a.shadowBlur=q))}}d&&
	(void 0!==a.setLineDash?(a.setLineDash(u.nh),a.lineDashOffset=0):void 0!==a.webkitLineDash?(a.webkitLineDash=u.nh,a.webkitLineDashOffset=0):void 0!==a.mozDash&&(a.mozDash=null,a.mozDashOffset=0));if(null!==this.eE){d=this.eE;Ph(d,Infinity,Infinity);k=d.Ca;d.yc(0,0,k.width,k.height);a.save();k=this.ed.ub.first();a.beginPath();c=u.gb();c.push(k.va);c.push(k.wa);e=k.va;f=k.wa;h=e;l=f;r=k.Ha.n;n=r.length;for(q=0;q<n;q++){m=r[q];switch(m.pa){case yd:Zm(a,b,c,d);c.length=0;c.push(m.F);c.push(m.G);e=m.F;
		f=m.G;h=e;l=f;break;case pd:c.push(m.F);c.push(m.G);e=m.F;f=m.G;break;case zd:K.ye(e,f,m.cd,m.xe,m.eg,m.fg,m.pb,m.Bb,.5,c);e=m.F;f=m.G;break;case Ad:K.Zo(e,f,m.cd,m.xe,m.pb,m.Bb,.5,c);e=m.F;f=m.G;break;case Bd:p=Hd(m,k);s=p.length;if(0===s){c.push(m.ma);c.push(m.ya);e=m.ma;f=m.ya;break}for(t=0;t<s;t++)x=p[t],K.ye(e,f,x[2],x[3],x[4],x[5],x[6],x[7],.5,c),e=x[6],f=x[7];break;case Gd:p=Id(m,k,e,f);s=p.length;if(0===s){c.push(m.ma);c.push(m.ya);e=m.ma;f=m.ya;break}for(t=0;t<s;t++)x=p[t],K.ye(e,f,x[2],
		x[3],x[4],x[5],x[6],x[7],.5,c),e=x[6],f=x[7];break;default:u.k("Segment not of valid type")}m.Bh&&(c.push(h),c.push(l),Zm(a,b,c,d))}Zm(a,b,c,d);u.sa(c);a.restore()}}}};
	function $m(a,b,c,d){var e=.001,f=c.length,h=0,k=0,l=0,m=0,e=b.length;if(!(4>e))if(h=b[0],k=b[1],4===e)kl(a,h,k,b[2],b[3],c,d);else{a.moveTo(h,k);for(var n=0,p=0,q=0,r=p=l=0,s=u.gb(),t=2;t<e;t+=2)l=b[t],m=b[t+1],n=l-h,p=m-k,0===n&&(n=.001),q=p/n,p=Math.sqrt(n*n+p*p),h=[],h[0]=n,h[1]=q,h[2]=p,s.push(h),r+=p,h=l,k=m;h=b[0];k=b[1];b=0;for(var m=!0,e=c[b%f],t=0!==d,p=0,l=s[p],n=l[0],q=l[1],l=l[2],v=0;.1<=r;){0===v&&(e=c[b%f],b++,t&&(d%=e,e-=d,t=!1));e>r&&(e=r);e>l?(v=e-l,e=l):v=0;var x=Math.sqrt(e*e/
		(1+q*q));0>n&&(x=-x);h+=x;k+=q*x;m?a.lineTo(h,k):a.moveTo(h,k);r-=e;l-=e;if(0!==v){p++;if(p===s.length){u.sa(s);return}l=s[p];n=l[0];q=l[1];l=l[2];e=v}else m=!m}u.sa(s)}}X.prototype.getDocumentPoint=X.prototype.mb=function(a,b){void 0===b&&(b=new w);a.ne()&&u.k("getDocumentPoint:s Spot must be real: "+a.toString());var c=this.Ja,d=this.ib;b.m(a.x*(c.width+d)-d/2+c.x+a.offsetX,a.y*(c.height+d)-d/2+c.y+a.offsetY);this.Ff.ab(b);return b};
	X.prototype.Jj=function(a,b){var c=this.Qa;if(null===c||null===this.fill&&null===this.stroke)return!1;var d=c.lb,e=this.ib/2;c.type!==dd||b||(e+=2);var f=u.Sf();f.assign(d);f.Jf(e+2,e+2);if(!f.Da(a))return u.ic(f),!1;d=e+1E-4;if(c.type===dd){if(null===this.stroke)return!1;d=(c.F-c.va)*(a.x-c.va)+(c.G-c.wa)*(a.y-c.wa);if(0>(c.va-c.F)*(a.x-c.F)+(c.wa-c.G)*(a.y-c.G)||0>d)return!1;u.ic(f);return K.rd(c.va,c.wa,c.F,c.G,e,a.x,a.y)}if(c.type===md){var h=c.va,k=c.wa,l=c.F,m=c.G,c=Math.min(h,l),n=Math.min(k,
		m),h=Math.abs(l-h),k=Math.abs(m-k);f.x=c;f.y=n;f.width=h;f.height=k;if(null===this.fill){f.Jf(-d,-d);if(f.Da(a))return u.ic(f),!1;f.Jf(d,d)}null!==this.stroke&&f.Jf(e,e);e=f.Da(a);u.ic(f);return e}if(c.type===nd){h=c.va;k=c.wa;l=c.F;m=c.G;c=Math.min(h,l);n=Math.min(k,m);h=Math.abs(l-h);k=Math.abs(m-k);h/=2;k/=2;c=a.x-(c+h);n=a.y-(n+k);if(null===this.fill){h-=d;k-=d;if(0>=h||0>=k||1>=c*c/(h*h)+n*n/(k*k))return u.ic(f),!1;h+=d;k+=d}null!==this.stroke&&(h+=e,k+=e);u.ic(f);return 0>=h||0>=k?!1:1>=c*c/
	(h*h)+n*n/(k*k)}if(c.type===ad)return u.ic(f),null===this.fill?Ld(c,a.x,a.y,e):c.Da(a,e,1<this.ib,b);u.k("Unknown Geometry type");return!1};
	X.prototype.Qo=function(a,b,c,d){var e=this.za,f=this.Ug;a=Math.max(a,0);b=Math.max(b,0);var h;if(this.Tg)h=this.Qa.lb;else{var k=this.Fb,l=K.Ww[k];if(void 0===l){var m=K.rg[k];"string"===typeof m&&(m=K.rg[m]);"function"===typeof m?(l=m(null,100,100),K.Ww[k]=l):u.k("Unsupported Figure:"+k)}h=l.lb}var k=h.width,l=h.height,m=h.width,n=h.height;switch(pl(this,!0)){case qh:d=c=0;break;case cd:m=Math.max(a-f,0);n=Math.max(b-f,0);break;case fl:m=Math.max(a-f,0);d=0;break;case el:c=0,n=Math.max(b-f,0)}isFinite(e.width)&&
	(m=e.width);isFinite(e.height)&&(n=e.height);e=this.bf;h=this.wg;c=Math.max(c,h.width)-f;d=Math.max(d,h.height)-f;m=Math.min(e.width,m);n=Math.min(e.height,n);m=isFinite(m)?Math.max(c,m):Math.max(k,c);n=isFinite(n)?Math.max(d,n):Math.max(l,d);c=rh(this);switch(c){case qh:break;case cd:k=m;l=n;break;case sh:c=Math.min(m/k,n/l);isFinite(c)||(c=1);k*=c;l*=c;break;default:u.k(c+" is not a valid geometryStretch.")}if(this.Tg)h=this.ed,e=k,d=l,c=h.copy(),h=h.lb,e/=h.width,d/=h.height,isFinite(e)||(e=1),
	isFinite(d)||(d=1),1===e&&1===d||c.scale(e,d),this.Qa=c;else if(null===this.Qa||this.Qa.En!==a-f||this.Qa.Dn!==b-f)this.Qa=K.makeGeometry(this,k,l);h=this.Qa.lb;Infinity===a||Infinity===b?ml(this,h.x-f/2,h.y-f/2,0===a&&0===k?0:h.width+f,0===b&&0===l?0:h.height+f):ml(this,-(f/2),-(f/2),m+f,n+f)};
	function Om(a,b,c){if(!1!==Aj(a)){a.Pc.Ma();var d=a.Ug;if(0===d){var e=a.T;e instanceof lf&&e.type===ah&&e.uc instanceof X&&(d=e.uc.ib)}d*=a.$b;ml(a,-(d/2),-(d/2),b+d,c+d);b=a.Pc;c=a.bf;d=a.wg;b.width=Math.min(c.width,b.width);b.height=Math.min(c.height,b.height);b.width=Math.max(d.width,b.width);b.height=Math.max(d.height,b.height);a.Pc.freeze();a.Pc.I()||u.k("Non-real measuredBounds has been set. Object "+a+", measuredBounds: "+a.Pc.toString());uj(a,!1)}}
	function rh(a){var b=a.yD;return a.Tg?b===dl?cd:b:b===dl?K.Ww[a.Fb].Cd:b}X.prototype.yi=function(a,b,c,d){ql(this,a,b,c,d)};X.prototype.getNearestIntersectionPoint=X.prototype.bl=function(a,b,c){return this.Eo(a.x,a.y,b.x,b.y,c)};
	X.prototype.Eo=function(a,b,c,d,e){var f=this.transform,h=1/(f.m11*f.m22-f.m12*f.m21),k=f.m22*h,l=-f.m12*h,m=-f.m21*h,n=f.m11*h,p=h*(f.m21*f.dy-f.m22*f.dx),q=h*(f.m12*f.dx-f.m11*f.dy),f=a*k+b*m+p,h=a*l+b*n+q,k=c*k+d*m+p,l=c*l+d*n+q,m=this.ib/2,p=this.Qa;null===p&&(Ph(this,Infinity,Infinity),p=this.Qa);q=p.lb;n=!1;if(p.type===dd)if(1.5>=this.ib)n=K.bh(p.nc,p.tc,p.pb,p.Bb,f,h,k,l,e);else{var r=0,s=0;p.nc===p.pb?(r=m,s=0):(b=(p.Bb-p.tc)/(p.pb-p.nc),s=m/Math.sqrt(1+b*b),r=s*b);d=u.gb();b=new w;K.bh(p.nc+
		r,p.tc+s,p.pb+r,p.Bb+s,f,h,k,l,b)&&d.push(b);b=new w;K.bh(p.nc-r,p.tc-s,p.pb-r,p.Bb-s,f,h,k,l,b)&&d.push(b);b=new w;K.bh(p.nc+r,p.tc+s,p.nc-r,p.tc-s,f,h,k,l,b)&&d.push(b);b=new w;K.bh(p.pb+r,p.Bb+s,p.pb-r,p.Bb-s,f,h,k,l,b)&&d.push(b);b=d.length;if(0===b)return u.sa(d),!1;n=!0;s=Infinity;for(r=0;r<b;r++){var k=d[r],t=(k.x-f)*(k.x-f)+(k.y-h)*(k.y-h);t<s&&(s=t,e.x=k.x,e.y=k.y)}u.sa(d)}else if(p.type===md)b=q.x-m,n=K.bl(b,q.y-m,q.x+q.width+m,q.y+q.height+m,f,h,k,l,e);else if(p.type===nd)a:if(b=q.copy().Jf(m,
			m),0===b.width)n=K.bh(b.x,b.y,b.x,b.y+b.height,f,h,k,l,e);else if(0===b.height)n=K.bh(b.x,b.y,b.x+b.width,b.y,f,h,k,l,e);else{a=b.width/2;var v=b.height/2;d=b.x+a;b=b.y+v;c=9999;f!==k&&(c=(h-l)/(f-k));if(9999>Math.abs(c)){n=h-b-c*(f-d);if(0>a*a*c*c+v*v-n*n){e.x=NaN;e.y=NaN;n=!1;break a}m=Math.sqrt(a*a*c*c+v*v-n*n);k=(-(a*a*c*n)+a*v*m)/(v*v+a*a*c*c)+d;a=(-(a*a*c*n)-a*v*m)/(v*v+a*a*c*c)+d;l=c*(k-d)+n+b;b=c*(a-d)+n+b;d=Math.abs((f-k)*(f-k))+Math.abs((h-l)*(h-l));h=Math.abs((f-a)*(f-a))+Math.abs((h-b)*
			(h-b));d<h?(e.x=k,e.y=l):(e.x=a,e.y=b)}else{k=v*v;l=f-d;k-=k/(a*a)*l*l;if(0>k){e.x=NaN;e.y=NaN;n=!1;break a}m=Math.sqrt(k);l=b+m;b-=m;d=Math.abs(l-h);h=Math.abs(b-h);d<h?(e.x=f,e.y=l):(e.x=f,e.y=b)}n=!0}else if(p.type===ad){var x=0,A=0,y=t=0,q=u.K(),r=k-f,s=l-h,s=r*r+s*s;e.x=k;e.y=l;for(r=0;r<p.ub.count;r++)for(var C=p.ub.n[r],I=C.Ha,x=C.va,A=C.wa,H=x,R=A,aa=0;aa<I.count;aa++){var S=I.n[aa],N=S.type,t=S.F,y=S.G,Z=!1;switch(N){case yd:H=t;R=y;break;case pd:Z=an(x,A,t,y,f,h,k,l,q);break;case zd:var Z=
		S.Rb,N=S.jc,Ga=S.ef,ta=S.ff,Z=K.ls(x,A,Z,N,Ga,ta,t,y,f,h,k,l,.5,q);break;case Ad:Z=(x+2*S.Rb)/3;N=(A+2*S.jc)/3;Ga=(2*S.Rb+t)/3;ta=(2*S.Rb+t)/3;Z=K.ls(x,A,Z,N,Ga,ta,t,y,f,h,k,l,.5,q);break;case Bd:case Gd:N=S.type===Bd?Hd(S,C):Id(S,C,x,A);Ga=N.length;if(0===Ga){Z=an(x,A,S.ma,S.ya,f,h,k,l,q);break}for(y=0;y<Ga;y++)v=N[y],0===y&&an(x,A,v[0],v[1],f,h,k,l,q)&&(t=bn(f,h,q,s,e),t<s&&(s=t,n=!0)),K.ls(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],f,h,k,l,.5,q)&&(t=bn(f,h,q,s,e),t<s&&(s=t,n=!0));t=v[6];y=v[7];break;
		default:u.k("Unknown Segment type: "+S.type)}x=t;A=y;Z&&(t=bn(f,h,q,s,e),t<s&&(s=t,n=!0));S.fw&&(t=H,y=R,an(x,A,t,y,f,h,k,l,q)&&(t=bn(f,h,q,s,e),t<s&&(s=t,n=!0)))}f=c-a;h=d-b;b=Math.sqrt(f*f+h*h);0!==b&&(f/=b,h/=b);e.x-=f*m;e.y-=h*m;u.v(q)}else u.k("Invalid Geometry type");if(!n)return!1;this.transform.ab(e);return!0};function bn(a,b,c,d,e){a=c.x-a;b=c.y-b;b=a*a+b*b;return b<d?(e.x=c.x,e.y=c.y,b):d}
	function an(a,b,c,d,e,f,h,k,l){var m=!1,n=(e-h)*(b-d)-(f-k)*(a-c);if(0===n)return!1;l.x=((e*k-f*h)*(a-c)-(e-h)*(a*d-b*c))/n;l.y=((e*k-f*h)*(b-d)-(f-k)*(a*d-b*c))/n;(a>c?a-c:c-a)<(b>d?b-d:d-b)?(e=b<d?b:d,a=b<d?d:b,(l.y>e||K.cb(l.y,e))&&(l.y<a||K.cb(l.y,a))&&(m=!0)):(e=a<c?a:c,a=a<c?c:a,(l.x>e||K.cb(l.x,e))&&(l.x<a||K.cb(l.x,a))&&(m=!0));return m}
	X.prototype.containedInRect=X.prototype.tm=function(a,b){if(void 0===b)return a.Kj(this.ba);var c=this.Qa;null===c&&(Ph(this,Infinity,Infinity),c=this.Qa);var c=c.lb,d=this.ib/2,e=!1,f=u.K();f.m(c.x-d,c.y-d);a.Da(b.ab(f))&&(f.m(c.x-d,c.bottom+d),a.Da(b.ab(f))&&(f.m(c.right+d,c.bottom+d),a.Da(b.ab(f))&&(f.m(c.right+d,c.y-d),a.Da(b.ab(f))&&(e=!0))));u.v(f);return e};
	X.prototype.intersectsRect=X.prototype.tg=function(a,b){if(this.tm(a,b)||void 0===b&&(b=this.transform,a.Kj(this.ba)))return!0;var c=u.lh();c.set(b);c.pz();var d=a.left,e=a.right,f=a.top,h=a.bottom,k=u.K();k.m(d,f);c.ab(k);if(this.Jj(k,!0))return u.v(k),!0;k.m(e,f);c.ab(k);if(this.Jj(k,!0))return u.v(k),!0;k.m(d,h);c.ab(k);if(this.Jj(k,!0))return u.v(k),!0;k.m(e,h);c.ab(k);if(this.Jj(k,!0))return u.v(k),!0;var l=u.K(),m=u.K();c.set(b);c.aE(this.transform);c.pz();l.x=e;l.y=f;l.transform(c);k.x=d;k.y=
		f;k.transform(c);var n=!1;cn(this,k,l,m)?n=!0:(k.x=e,k.y=h,k.transform(c),cn(this,k,l,m)?n=!0:(l.x=d,l.y=h,l.transform(c),cn(this,k,l,m)?n=!0:(k.x=d,k.y=f,k.transform(c),cn(this,k,l,m)&&(n=!0))));u.v(k);u.Ye(c);u.v(l);u.v(m);return n};function cn(a,b,c,d){if(!a.bl(b,c,d))return!1;a=b.x;b=b.y;var e=c.x;c=c.y;var f=d.x;d=d.y;if(a===e){var h=0;a=0;b<c?(h=b,a=c):(h=c,a=b);return d>=h&&d<=a}a<e?(h=a,a=e):h=e;return f>=h&&f<=a}
	X.prototype.sD=function(a,b,c){function d(a,b){for(var c=a.length,d=0;d<c;d+=2)if(b.yo(a[d],a[d+1])>e)return!0;return!1}if(c&&null!==this.fill&&this.Jj(a,!0))return!0;var e=a.Lj(b);b=e;1.5<this.ib&&(e=this.ib/2+Math.sqrt(e),e*=e);var f=this.Qa;null===f&&(Ph(this,Infinity,Infinity),f=this.Qa);if(!c){var h=f.lb,k=h.x,l=h.y,m=h.x+h.width,h=h.y+h.height;if(Ya(a.x,a.y,k,l)<=e&&Ya(a.x,a.y,m,l)<=e&&Ya(a.x,a.y,k,h)<=e&&Ya(a.x,a.y,m,h)<=e)return!0}k=f.nc;l=f.tc;m=f.pb;h=f.Bb;if(f.type===dd){if(c=Xa(a.x,a.y,
			k,l,m,h),f=(k-m)*(a.x-m)+(l-h)*(a.y-h),c<=(0<=(m-k)*(a.x-k)+(h-l)*(a.y-l)&&0<=f?e:b))return!0}else{if(f.type===md)return b=!1,c&&(b=Xa(a.x,a.y,k,l,k,h)<=e||Xa(a.x,a.y,k,l,m,l)<=e||Xa(a.x,a.y,m,l,m,h)<=e||Xa(a.x,a.y,k,h,m,h)<=e),b;if(f.type===nd){b=a.x-(k+m)/2;var f=a.y-(l+h)/2,n=Math.abs(m-k)/2,p=Math.abs(h-l)/2;if(0===n||0===p)return c=Xa(a.x,a.y,k,l,m,h),c<=e?!0:!1;if(c){if(a=K.sG(n,p,b,f),a*a<=e)return!0}else return Ya(b,f,-n,0)>=e||Ya(b,f,0,-p)>=e||Ya(b,f,0,p)>=e||Ya(b,f,n,0)>=e?!1:!0}else if(f.type===
		ad){h=f.lb;k=h.x;l=h.y;m=h.x+h.width;h=h.y+h.height;if(a.x>m&&a.x<k&&a.y>h&&a.y<l&&Xa(a.x,a.y,k,l,k,h)>e&&Xa(a.x,a.y,k,l,m,l)>e&&Xa(a.x,a.y,m,h,k,h)>e&&Xa(a.x,a.y,m,h,m,l)>e)return!1;b=Math.sqrt(e);if(c){if(null===this.fill?Ld(f,a.x,a.y,b):f.Da(a,b,!0))return!0}else{c=f.ub;for(b=0;b<c.count;b++){k=c.n[b];n=k.va;p=k.wa;if(a.yo(n,p)>e)return!1;l=k.Ha.n;m=l.length;for(h=0;h<m;h++){var q=l[h];switch(q.type){case yd:case pd:n=q.F;p=q.G;if(a.yo(n,p)>e)return!1;break;case zd:f=u.gb();K.ye(n,p,q.Rb,q.jc,
		q.ef,q.ff,q.F,q.G,.8,f);n=d(f,a);u.sa(f);if(n)return!1;n=q.F;p=q.G;if(a.yo(n,p)>e)return!1;break;case Ad:f=u.gb();K.Zo(n,p,q.Rb,q.jc,q.F,q.G,.8,f);n=d(f,a);u.sa(f);if(n)return!1;n=q.F;p=q.G;if(a.yo(n,p)>e)return!1;break;case Bd:case Gd:var r=q.type===Bd?Hd(q,k):Id(q,k,n,p),s=r.length;if(0===s){n=q.ma;p=q.ya;if(a.yo(n,p)>e)return!1;break}q=null;f=u.gb();for(b=0;b<s;b++)if(q=r[b],f.length=0,K.ye(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],.8,f),d(f,a))return u.sa(f),!1;u.sa(f);null!==q&&(n=q[6],p=q[7]);
		break;default:u.k("Unknown Segment type: "+q.type)}}}return!0}}}return!1};u.defineProperty(X,{ed:"geometry"},function(){return this.jk?this.jk:this.Qa},function(a){var b=this.Qa;if(b!==a){this.jk=null!==a?this.Qa=a.freeze():this.Qa=null;var c=this.T;null!==c&&(c.kj=NaN);this.Tg=!0;this.R();this.h("geometry",b,a);a=this.T;null!==a&&0!==(this.ea&1024)&&ll(this,a,"geometryString")}});
	u.defineProperty(X,{EG:"geometryString"},function(){return null===this.ed?"":this.ed.toString()},function(a){var b=sd(a);a=b.normalize();this.ed=b;var b=u.K(),c=this.position;c.I()?b.m(c.x-a.x,c.y-a.y):b.m(-a.x,-a.y);this.position=b;u.v(b)});u.defineProperty(X,{sz:"isGeometryPositioned"},function(){return this.jq},function(a){var b=this.jq;b!==a&&(this.jq=a,this.R(),this.h("isGeometryPositioned",b,a))});X.prototype.le=function(){this.Tg?this.jk=null:this.Qa=null;this.R()};
	u.defineProperty(X,{fill:"fill"},function(){return this.kd},function(a){var b=this.kd;b!==a&&(a instanceof ga&&a.freeze(),this.kd=a,this.na(),this.h("fill",b,a))});u.defineProperty(X,{stroke:"stroke"},function(){return this.xc},function(a){var b=this.xc;b!==a&&(a instanceof ga&&a.freeze(),this.xc=a,this.na(),this.h("stroke",b,a))});
	u.defineProperty(X,{ib:"strokeWidth"},function(){return this.Ug},function(a){var b=this.Ug;if(b!==a)if(0<=a){this.Ug=a;this.R();var c=this.T;null!==c&&(c.kj=NaN);this.h("strokeWidth",b,a)}else u.xa(a,"value >= 0",X,"strokeWidth:value")});u.defineProperty(X,{qI:"strokeCap"},function(){return this.eo},function(a){var b=this.eo;b!==a&&("string"!==typeof a||"butt"!==a&&"round"!==a&&"square"!==a?u.xa(a,'"butt", "round", or "square"',X,"strokeCap"):(this.eo=a,this.na(),this.h("strokeCap",b,a)))});
	u.defineProperty(X,{yK:"strokeJoin"},function(){return this.fo},function(a){var b=this.fo;b!==a&&("string"!==typeof a||"miter"!==a&&"bevel"!==a&&"round"!==a?u.xa(a,'"miter", "bevel", or "round"',X,"strokeJoin"):(this.fo=a,this.na(),this.h("strokeJoin",b,a)))});u.defineProperty(X,{zK:"strokeMiterLimit"},function(){return this.hm},function(a){var b=this.hm;if(b!==a)if(0<a){this.hm=a;this.na();var c=this.T;null!==c&&(c.kj=NaN);this.h("strokeMiterLimit",b,a)}else u.xa(a,"value > 0",X,"strokeWidth:value")});
	u.defineProperty(X,{hA:"strokeDashArray"},function(){return this.gm},function(a){var b=this.gm;if(b!==a){null===a||Array.isArray(a)||u.Kd(a,"Array",X,"strokeDashArray:value");if(null!==a){for(var c=a.length,d=0,e=0;e<c;e++){var f=a[e];"number"===typeof f&&0<=f&&isFinite(f)||u.k("strokeDashArray:value "+f+" must be a positive number or zero.");d+=f}if(0===d){if(null===b)return;a=null}}this.gm=a;this.na();this.h("strokeDashArray",b,a)}});
	u.defineProperty(X,{rI:"strokeDashOffset"},function(){return this.dd},function(a){var b=this.dd;b!==a&&0<=a&&(this.dd=a,this.na(),this.h("strokeDashOffset",b,a))});u.defineProperty(X,{Fb:"figure"},function(){return this.un},function(a){var b=this.un;if(b!==a){var c=K.rg[a];"function"===typeof c?c=a:(c=K.rg[a.toLowerCase()])||u.k("Unknown Shape.figure: "+a);b!==c&&(a=this.T,null!==a&&(a.kj=NaN),this.un=c,this.Tg=!1,this.le(),this.h("figure",b,c))}});
	u.defineProperty(X,{lp:"toArrow"},function(){return this.ho},function(a){var b=this.ho;!0===a?a="Standard":!1===a&&(a="");if(b!==a){var c=K.UC(a);null===c?u.k("Unknown Shape.toArrow: "+a):b!==c&&(this.ho=c,this.Tg=!1,this.le(),dn(this),this.h("toArrow",b,c))}});
	u.defineProperty(X,{fz:"fromArrow"},function(){return this.xn},function(a){var b=this.xn;!0===a?a="Standard":!1===a&&(a="");if(b!==a){var c=K.UC(a);null===c?u.k("Unknown Shape.fromArrow: "+a):b!==c&&(this.xn=c,this.Tg=!1,this.le(),dn(this),this.h("fromArrow",b,c))}});function dn(a){var b=a.g;null!==b&&b.ga.eb||(a.Ew=en,"None"!==a.ho?(a.Pf=-1,a.Hj=xc):"None"!==a.xn&&(a.Pf=0,a.Hj=new L(1-xc.x,xc.y)))}
	u.defineProperty(X,{A:"spot1"},function(){return this.si},function(a){u.C(a,L,X,"spot1");var b=this.si;b.L(a)||(this.si=a=a.Z(),this.R(),this.h("spot1",b,a))});u.defineProperty(X,{B:"spot2"},function(){return this.ti},function(a){u.C(a,L,X,"spot2");var b=this.ti;b.L(a)||(this.ti=a=a.Z(),this.R(),this.h("spot2",b,a))});u.defineProperty(X,{wc:"parameter1"},function(){return this.er},function(a){var b=this.er;b!==a&&(this.er=a,this.le(),this.h("parameter1",b,a))});
	u.defineProperty(X,{ft:"parameter2"},function(){return this.fr},function(a){var b=this.fr;b!==a&&(this.fr=a,this.le(),this.h("parameter2",b,a))});u.u(X,{Ja:"naturalBounds"},function(){if(null!==this.Qa)return this.Gc.assign(this.Qa.lb),this.Gc;var a=this.za;return new z(0,0,a.width,a.height)});u.defineProperty(X,{IJ:"isRectangular"},function(){return this.pq},function(a){var b=this.pq;b!==a&&(this.pq=a,this.R(),this.h("isRectangular",b,a))});
	u.defineProperty(X,{eE:"pathObject"},function(){return this.ir},function(a){var b=this.ir;b!==a&&(this.ir=a,this.na(),this.h("pathObject",b,a))});u.defineProperty(X,{yD:"geometryStretch"},function(){return this.aq},function(a){var b=this.aq;b!==a&&(u.rb(a,T,X,"geometryStretch"),this.aq=a,this.h("geometryStretch",b,a))});
	u.defineProperty(X,{interval:"interval"},function(){return this.gq},function(a){var b=this.gq;a=Math.floor(a);b!==a&&0<=a&&(this.gq=a,null!==this.g&&vj(this.g),this.R(),this.h("interval",b,a))});X.getFigureGenerators=function(){var a=new la("string","function"),b;for(b in K.rg)if(b!==b.toLowerCase()){var c=K.rg[b];"function"===typeof c&&a.add(b,c)}a.freeze();return a};
	X.defineFigureGenerator=function(a,b){u.j(a,"string",X,"defineFigureGenerator:name");"string"===typeof b?""!==b&&K.rg[b]||u.k("Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: "+b):u.j(b,"function",X,"defineFigureGenerator:func");var c=a.toLowerCase();""!==a&&"none"!==c&&a!==c||u.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+a);var d=K.rg;d[a]=b;d[c]=a};
	X.getArrowheadGeometries=function(){var a=new la("string",$c),b;for(b in K.Ri)if(b!==b.toLowerCase()){var c=K.Ri[b];c instanceof $c&&a.add(b,c)}a.freeze();return a};
	X.defineArrowheadGeometry=function(a,b){u.j(a,"string",X,"defineArrowheadGeometry:name");var c=null;"string"===typeof b?(u.j(b,"string",X,"defineArrowheadGeometry:pathstr"),c=sd(b,!1)):(u.C(b,$c,X,"defineArrowheadGeometry:pathstr"),c=b);var d=a.toLowerCase();""!==a&&"none"!==d&&a!==d||u.k("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+a);var e=K.Ri;e[a]=c;e[d]=a};
	function qa(){T.call(this);this.ie="";this.xc="black";this.Jg="13px sans-serif";this.Rd="start";this.mq=!0;this.Ll=this.Ml=!1;this.Ek=fn;this.km=gn;this.Iu=this.ve=0;this.wn=this.by=this.ey=null;this.ej=new hn;this.Vp=!1;this.lf=this.Hk=this.Tr=null;this.zj=this.yj=0;this.ji=Infinity;this.Cu=0}u.Ia(qa,T);u.fa("TextBlock",qa);var jn=new pa,kn=0,ln=new pa,mn=0,nn="...",on="",pn=u.createElement("canvas").getContext("2d");qa.getEllipsis=function(){return nn};
	qa.setEllipsis=function(a){nn=a;ln=new pa;mn=0};qa.prototype.cloneProtected=function(a){T.prototype.cloneProtected.call(this,a);a.ie=this.ie;a.xc=this.xc;a.Jg=this.Jg;a.Rd=this.Rd;a.mq=this.mq;a.Ml=this.Ml;a.Ll=this.Ll;a.km=this.km;a.Ek=this.Ek;a.ve=this.ve;a.Iu=this.Iu;a.ey=this.ey;a.by=this.by;a.wn=this.wn;a.ej.ss(this.ej);a.Vp=this.Vp;a.Tr=this.Tr;a.Hk=this.Hk;a.lf=this.lf;a.yj=this.yj;a.zj=this.zj;a.ji=this.ji;a.Cu=this.Cu};
	qa.prototype.toString=function(){return 22<this.ie.length?'TextBlock("'+this.ie.substring(0,20)+'"...)':'TextBlock("'+this.ie+'")'};var qn;qa.None=qn=u.s(qa,"None",0);var rn;qa.WrapFit=rn=u.s(qa,"WrapFit",1);var gn;qa.WrapDesiredSize=gn=u.s(qa,"WrapDesiredSize",2);var fn;qa.OverflowClip=fn=u.s(qa,"OverflowClip",0);var sn;qa.OverflowEllipsis=sn=u.s(qa,"OverflowEllipsis",1);qa.prototype.R=function(){T.prototype.R.call(this);this.by=this.ey=null};
	u.defineProperty(qa,{font:"font"},function(){return this.Jg},function(a){var b=this.Jg;b!==a&&(this.Jg=a,this.wn=null,this.R(),this.h("font",b,a))});qa.isValidFont=function(a){var b=pn.font;if(a===b||"10px sans-serif"===a)return!0;pn.font="10px sans-serif";var c;pn.font=a;var d=pn.font;if("10px sans-serif"!==d)return pn.font=b,!0;pn.font="19px serif";c=pn.font;pn.font=a;d=pn.font;pn.font=b;return d!==c};
	u.defineProperty(qa,{text:"text"},function(){return this.ie},function(a){var b=this.ie;a=null!==a&&void 0!==a?a.toString():"";b!==a&&(this.ie=a,this.R(),this.h("text",b,a))});u.defineProperty(qa,{textAlign:"textAlign"},function(){return this.Rd},function(a){var b=this.Rd;b!==a&&("start"===a||"end"===a||"left"===a||"right"===a||"center"===a?(this.Rd=a,this.na(),this.h("textAlign",b,a)):u.xa(a,'"start", "end", "left", "right", or "center"',qa,"textAlign"))});
	u.u(qa,{Ja:"naturalBounds"},function(){if(!this.Gc.I()){var a=tn(this,this.ie,this.ej,999999).width,b=un(this,a,this.ej),c=this.za;isNaN(c.width)||(a=c.width);isNaN(c.height)||(b=c.height);bb(this.Gc,a,b)}return this.Gc});u.defineProperty(qa,{jw:"isMultiline"},function(){return this.mq},function(a){var b=this.mq;b!==a&&(this.mq=a,this.R(),this.h("isMultiline",b,a))});
	u.defineProperty(qa,{LJ:"isUnderline"},function(){return this.Ml},function(a){var b=this.Ml;b!==a&&(this.Ml=a,this.na(),this.h("isUnderline",b,a))});u.defineProperty(qa,{JJ:"isStrikethrough"},function(){return this.Ll},function(a){var b=this.Ll;b!==a&&(this.Ll=a,this.na(),this.h("isStrikethrough",b,a))});u.defineProperty(qa,{aF:"wrap"},function(){return this.km},function(a){var b=this.km;b!==a&&(this.km=a,this.R(),this.h("wrap",b,a))});
	u.defineProperty(qa,{overflow:"overflow"},function(){return this.Ek},function(a){var b=this.Ek;b!==a&&(this.Ek=a,this.R(),this.h("overflow",b,a))});u.defineProperty(qa,{stroke:"stroke"},function(){return this.xc},function(a){var b=this.xc;b!==a&&(a instanceof ga&&a.freeze(),this.xc=a,this.na(),this.h("stroke",b,a))});u.u(qa,{oH:"lineCount"},function(){return this.ve});u.defineProperty(qa,{cz:"editable"},function(){return this.Vp},function(a){var b=this.Vp;b!==a&&(this.Vp=a,this.h("editable",b,a))});
	u.defineProperty(qa,{ME:"textEditor"},function(){return this.Tr},function(a){var b=this.Tr;b!==a&&(a instanceof HTMLElement||u.k("textEditor must be an HTMLElement"),this.Tr=a,this.h("textEditor",b,a))});u.defineProperty(qa,{dz:"errorFunction"},function(){return this.lf},function(a){var b=this.lf;b!==a&&(null!==a&&u.j(a,"function",qa,"errorFunction"),this.lf=a,this.h("errorFunction",b,a))});function xl(a,b){var c=a.Jg;null!==c&&b.Ft!==c&&(b.font=c,b.Ft=c)}
	qa.prototype.Mj=function(a,b){if(null!==this.xc&&0!==this.ie.length&&null!==this.Jg){var c=this.Ja.width,d=vn(this);a.textAlign=this.Rd;yl(this,a,this.xc,!0,!1);(this.Ml||this.Ll)&&yl(this,a,this.xc,!1,!1);var e=this.ej,f=0,h=!1,k=u.fc(0,0);this.Ff.ab(k);var l=u.fc(0,d);this.Ff.ab(l);var m=k.Lj(l);u.v(k);u.v(l);k=b.scale;8>m*k*k&&(h=!0);b.Ig!==a&&(h=!1);!1===b.aw("textGreeking")&&(h=!1);for(var m=this.yj,k=this.zj,l=this.ve,n=0;n<l;n++){var p=e.hf[n],q=e.te[n];p>c&&(p=c);var f=f+m,r=q,q=a,s=f,t=c,
		v=d,x=0;h?("start"===this.Rd||"left"===this.Rd?x=0:"end"===this.Rd||"right"===this.Rd?x=t-p:"center"===this.Rd?x=(t-p)/2:u.k("textAlign must be start, end, left, right, or center"),q.fillRect(0+x,s+.25*v,p,1)):("start"===this.Rd||"left"===this.Rd?x=0:"end"===this.Rd||"right"===this.Rd?x=t:"center"===this.Rd?x=t/2:u.k("textAlign must be start, end, left, right, or center"),q.fillText(r,0+x,s+v-.25*v),r=v/20|0,0===r&&(r=1),"end"===this.Rd||"right"===this.Rd?x-=p:"center"===this.Rd&&(x-=p/2),this.Ml&&
	(q.beginPath(),q.lineWidth=r,q.moveTo(0+x,s+v-.2*v),q.lineTo(0+x+p,s+v-.2*v),q.stroke()),this.Ll&&(q.beginPath(),q.lineWidth=r,s=s+v-v/2.2|0,0!==r%2&&(s+=.5),q.moveTo(0+x,s),q.lineTo(0+x+p,s),q.stroke()));f+=d+k}}};
	qa.prototype.Qo=function(a,b,c,d){this.Cu=a;var e=this.ej;e.reset();var f=0,h=0;if(isNaN(this.za.width)){f=this.ie.replace(/\r\n/g,"\n").replace(/\r/g,"\n");if(0===f.length)f=0;else if(this.jw){for(var k=h=0,l=!1;!l;){var m=f.indexOf("\n",k);-1===m&&(m=f.length,l=!0);k=wn(f.substr(k,m-k).replace(/^\s+|\s+$/g,""),this.Jg);k>h&&(h=k);k=m+1}f=h}else h=f.indexOf("\n",0),0<=h&&(f=f.substr(0,h)),f=k=wn(f,this.Jg);f=Math.min(f,a/this.scale);f=Math.max(8,f)}else f=this.za.width;null!==this.S&&(f=Math.min(f,
		this.S.bf.width),f=Math.max(f,this.S.wg.width));h=un(this,f,e);m=h=isNaN(this.za.height)?Math.min(h,b/this.scale):this.za.height;if(0!==e.Oe&&1!==e.te.length&&this.Ek===sn&&(b=this.Jg,l=this.Ek===sn?xn(b):0,k=this.yj+this.zj,k=Math.max(0,vn(this)+k),m=Math.max(Math.floor(m/k)-1,0),!(m+1>=e.te.length))){k=e.te[m];for(a=Math.max(1,a-l);wn(k,b)>a&&1<k.length;)k=k.substr(0,k.length-1);k+=nn;a=wn(k,b);e.te[m]=k;e.te=e.te.slice(0,m+1);e.hf[m]=a;e.hf=e.hf.slice(0,m+1);e.xi=e.te.length;e.Oe=Math.max(e.Oe,
		a);this.ve=e.xi}if(this.aF===rn||isNaN(this.za.width))f=e.Oe,isNaN(this.za.width)&&(f=Math.max(8,f));f=Math.max(c,f);h=Math.max(d,h);bb(this.Gc,f,h);ml(this,0,0,f,h)};qa.prototype.yi=function(a,b,c,d){ql(this,a,b,c,d)};
	function tn(a,b,c,d){b=b.replace(/^\s+|\s+$/g,"");var e=0,f=0,h=0,k=a.Jg,f=a.yj+a.zj,l=Math.max(0,vn(a)+f),h=a.Ek===sn?xn(k):0;if(a.ve>=a.ji)return new ia(0,l);if(a.km===qn){c.xi=1;f=wn(b,k);if(0===h||f<=d)return c.Oe=f,c.hf.push(c.Oe),c.te.push(b),new ia(f,l);var m=yn(b);b=b.substr(m.length);for(var n=yn(b),f=wn(m+n,k);0<n.length&&f<=d;)m+=n,b=b.substr(n.length),n=yn(b),f=wn((m+n).replace(/^\s+|\s+$/g,""),k);m+=n.replace(/^\s+|\s+$/g,"");for(d=Math.max(1,d-h);wn(m,k)>d&&1<m.length;)m=m.substr(0,
		m.length-1);m+=nn;h=wn(m,k);c.hf.push(h);c.Oe=h;c.te.push(m);return new ia(h,l)}var p=0;0===b.length&&(p=1,c.hf.push(0),c.te.push(b));for(;0<b.length;){m=yn(b);for(b=b.substr(m.length);wn(m,k)>d;){n=1;f=wn(m.substr(0,n),k);for(h=0;f<=d;)n++,h=f,f=wn(m.substr(0,n),k);1===n?(c.hf[a.ve+p]=f,e=Math.max(e,f)):(c.hf[a.ve+p]=h,e=Math.max(e,h));n--;1>n&&(n=1);c.te[a.ve+p]=m.substr(0,n);p++;m=m.substr(n);if(a.ve+p>a.ji)break}n=yn(b);for(f=wn(m+n,k);0<n.length&&f<=d;)m+=n,b=b.substr(n.length),n=yn(b),f=wn((m+
	n).replace(/^\s+|\s+$/g,""),k);m=m.replace(/^\s+|\s+$/g,"");if(""!==m&&(0===n.length?(c.hf.push(f),e=Math.max(e,f)):(h=wn(m,k),c.hf.push(h),e=Math.max(e,h)),c.te.push(m),p++,a.ve+p>a.ji))break}c.xi=Math.min(a.ji,p);c.Oe=Math.max(c.Oe,e);return new ia(c.Oe,l*c.xi)}function yn(a){for(var b=a.length,c=0;c<b&&" "!==a.charAt(c);)c++;for(;c<b&&" "===a.charAt(c);)c++;return c>=b?a:a.substr(0,c)}function wn(a,b){on!==b&&(on=pn.font=b);return pn.measureText(a).width}
	function vn(a){if(null!==a.wn)return a.wn;var b=a.Jg;on!==b&&(on=pn.font=b);var c=0;void 0!==jn[b]&&5E3>kn?c=jn[b]:(c=1.3*pn.measureText("M").width,jn[b]=c,kn++);return a.wn=c}function xn(a){on!==a&&(on=pn.font=a);var b=0;void 0!==ln[a]&&5E3>mn?b=ln[a]:(b=pn.measureText(nn).width,ln[a]=b,mn++);return b}
	function un(a,b,c){var d=a.ie.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e=a.yj+a.zj,e=Math.max(0,vn(a)+e);if(0===d.length)return c.Oe=0,a.ve=1,e;if(!a.jw){var f=d.indexOf("\n",0);0<=f&&(d=d.substr(0,f))}for(var f=0,h=a.ve=0,k=-1,l=!1;!l;)k=d.indexOf("\n",h),-1===k&&(k=d.length,l=!0),h<=k&&(h=d.substr(h,k-h),a.km!==qn?(c.xi=0,h=tn(a,h,c,b),f+=h.height,a.ve+=c.xi):(tn(a,h,c,b),f+=e,a.ve++),a.ve===a.ji&&(l=!0)),h=k+1;return a.Iu=f}
	u.defineProperty(qa,{kA:"textValidation"},function(){return this.Hk},function(a){var b=this.Hk;b!==a&&(null!==a&&u.j(a,"function",qa,"textValidation"),this.Hk=a,this.h("textValidation",b,a))});u.defineProperty(qa,{vK:"spacingAbove"},function(){return this.yj},function(a){var b=this.yj;b!==a&&(this.yj=a,this.h("spacingAbove",b,a))});u.defineProperty(qa,{wK:"spacingBelow"},function(){return this.zj},function(a){var b=this.zj;b!==a&&(this.zj=a,this.h("spacingBelow",b,a))});
	u.defineProperty(qa,{YJ:"maxLines"},function(){return this.ji},function(a){var b=this.ji;b!==a&&(a=Math.floor(a),0>=a&&u.xa(a,"> 0",qa,"maxLines"),this.ji=a,this.h("maxLines",b,a),this.R())});u.u(qa,{ZJ:"metrics"},function(){return this.ej});function hn(){this.Oe=this.xi=0;this.hf=[];this.te=[]}hn.prototype.reset=function(){this.Oe=this.xi=0;this.hf=[];this.te=[]};hn.prototype.ss=function(a){this.xi=a.xi;this.Oe=a.Oe;this.hf=u.Pk(a.hf);this.te=u.Pk(a.te)};u.u(hn,{cJ:"arrSize"},function(){return this.hf});
	u.u(hn,{dJ:"arrText"},function(){return this.te});u.u(hn,{XJ:"maxLineWidth"},function(){return this.Oe});function Ri(){T.call(this);this.Me=null;this.Nr="";this.xj=(new z(NaN,NaN,NaN,NaN)).freeze();this.An=cd;this.Sr=this.Aj=this.lf=null;this.Tx=!1;this.$n=null;this.JB=0}u.Ia(Ri,T);u.fa("Picture",Ri);var zn=new pa,An=0,Mi=[];
	function Bn(){var a=Mi;if(0===a.length)for(var b=window.document.getElementsByTagName("canvas"),c=b.length,d=0;d<c;d++){var e=b[d];e.parentElement&&e.parentElement.Y&&a.push(e.parentElement.Y)}return a}var Cn;Ri.clearCache=Cn=function(a){void 0===a&&(a="");u.j(a,"string",Ri,"clearCache:url");""!==a?zn[a]&&(delete zn[a],An--):(zn=new pa,An=0)};
	Ri.prototype.cloneProtected=function(a){T.prototype.cloneProtected.call(this,a);a.element=this.Me;a.Nr=this.Nr;a.xj.assign(this.xj);a.An=this.An;a.lf=this.lf;a.Aj=this.Aj;a.$n=this.$n};Ri.prototype.toString=function(){return"Picture("+this.source+")#"+u.Uc(this)};
	u.defineProperty(Ri,{element:"element"},function(){return this.Me},function(a){var b=this.Me;b!==a&&(null===a||a instanceof HTMLImageElement||a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||u.k("Picture.element must be an instance of Image, Canvas, or Video, not: "+a),this.Tx=a instanceof HTMLCanvasElement,this.Me=a,null!==a&&(!0===a.complete||void 0===a.complete?(a.pu instanceof Event&&null!==this.lf&&this.lf(this,a.pu),!0===a.Vx&&null!==this.Aj&&this.Aj(this,null),a.Vx=!0,this.za.I()||
	(uj(this,!1),this.R())):a.iB||(a.addEventListener("load",function(b){Dn(a,b)}),a.addEventListener("error",function(b){En(a,b)}),a.iB=!0)),this.h("element",b,a),this.na())});
	u.defineProperty(Ri,{source:"source"},function(){return this.Nr},function(a){var b=this.Nr;if(b!==a){u.j(a,"string",Ri,"source");this.Nr=a;var c=zn,d=this.g;if(void 0!==c[a])var e=c[a].no[0].source;else{30<An&&(Cn(),c=zn);e=u.createElement("img");e.addEventListener("load",function(a){Dn(e,a)});e.addEventListener("error",function(a){En(e,a)});e.iB=!0;e.src=a;var f=this.$n;null!==f&&(e.crossOrigin=f(this));c[a]=new Fn(e);An++}null!==d&&vk(d,this);this.element=e;null!==d&&uk(d,this);this.na();this.h("source",
		b,a)}});function Dn(a,b){a.Vx=!0;a.pu=!1;for(var c=null,d=Bn(),e=d.length,f=0;f<e;f++){var h=d[f],k=h.Un.ua(a.src);if(null!==k){e=k.length;for(f=0;f<e;f++)c=k[f],c.za.I()||(h.VB.add(c),h.de()),null!==c.Aj&&c.Aj(c,b);h.na()}}}function En(a,b){a.pu=b;for(var c=null,d=Bn(),e=d.length,f=0;f<e;f++)if(c=d[f].Un.ua(a.src),null!==c){for(var e=c.length,h=u.gb(),f=0;f<e;f++)h.push(c[f]);for(f=0;f<e;f++)c=h[f],null!==c.lf&&c.lf(c,b);u.sa(h)}}
	u.defineProperty(Ri,{uK:"sourceCrossOrigin"},function(){return this.$n},function(a){if(this.$n!==a&&(null!==a&&u.j(a,"function",Ri,"sourceCrossOrigin"),this.$n=a,null!==this.element)){var b=this.element.src;null===a&&"string"===typeof b?this.element.crossOrigin=null:null!==a&&(this.element.crossOrigin=a(this))}});u.defineProperty(Ri,{Mi:"sourceRect"},function(){return this.xj},function(a){var b=this.xj;b.L(a)||(u.C(a,z,Ri,"sourceRect"),this.xj=a=a.Z(),this.na(),this.h("sourceRect",b,a))});
	u.defineProperty(Ri,{RG:"imageStretch"},function(){return this.An},function(a){var b=this.An;b!==a&&(u.rb(a,T,Ri,"imageStretch"),this.An=a,this.na(),this.h("imageStretch",b,a))});u.defineProperty(Ri,{dz:"errorFunction"},function(){return this.lf},function(a){var b=this.lf;b!==a&&(null!==a&&u.j(a,"function",Ri,"errorFunction"),this.lf=a,this.h("errorFunction",b,a))});
	u.defineProperty(Ri,{CK:"successFunction"},function(){return this.Aj},function(a){var b=this.Aj;b!==a&&(null!==a&&u.j(a,"function",Ri,"successFunction"),this.Aj=a,this.h("successFunction",b,a))});
	Ri.prototype.Mj=function(a,b){var c=this.Me;if(null!==c){var d=c.src;null!==d&&""!==d||u.k("Element has no source attribute: "+c);if(!(c.pu instanceof Event)&&!0===c.Vx){var d=this.Ja,e=0,f=0,h=this.Tx,k=h?+c.width:c.naturalWidth,h=h?+c.height:c.naturalHeight;void 0===k&&c.videoWidth&&(k=c.videoWidth);void 0===h&&c.videoHeight&&(h=c.videoHeight);k=k||d.width;h=h||d.height;if(0!==k&&0!==h){var l=k,m=h;this.Mi.I()&&(e=this.xj.x,f=this.xj.y,k=this.xj.width,h=this.xj.height);var n=k,p=h,q=this.An;switch(q){case qh:if(this.Mi.I())break;
		e+=Math.max((n-d.width)/2,0);f+=Math.max((p-d.height)/2,0);k=Math.min(d.width,n);h=Math.min(d.height,p);break;case cd:n=d.width;p=d.height;break;case sh:case th:var r=0;q===sh?(r=Math.min(d.height/p,d.width/n),n*=r,p*=r):q===th&&(r=Math.max(d.height/p,d.width/n),n*=r,p*=r,e+=(n-d.width)/2,f+=(p-d.height)/2,k*=1/(n/d.width),h*=1/(p/d.height),n=d.width,p=d.height)}this.JB=k*h;var q=this.Ii()*b.scale,s=this.JB/(n*q*p*q),r=zn[this.source],q=null;if(void 0!==r&&16<s){2>r.no.length&&(Gn(r,4,l,m),Gn(r,16,
		l,m));for(var l=r.no,m=l.length,q=l[0],t=0;t<m;t++)if(l[t].$o*l[t].$o<s)q=l[t];else break}if(!b.rn){if(null===this.Sr)if(null===this.Me)this.Sr=!1;else{l=u.createElement("canvas").getContext("2d");l.drawImage(this.Me,0,0);try{l.getImageData(0,0,1,1),this.Sr=!1}catch(v){this.Sr=!0}}if(this.Sr)return}if(b.aw("pictureRatioOptimization")&&!b.Ux&&void 0!==r&&null!==q&&1!==q.$o){a.save();r=q.$o;try{a.drawImage(q.source,e/r,f/r,Math.min(q.source.width,k/r),Math.min(q.source.height,h/r),Math.max((d.width-
		n)/2,0),Math.max((d.height-p)/2,0),Math.min(d.width,n),Math.min(d.height,p))}catch(x){}a.restore()}else try{a.drawImage(c,e,f,k,h,Math.max((d.width-n)/2,0),Math.max((d.height-p)/2,0),Math.min(d.width,n),Math.min(d.height,p))}catch(A){}}}}};u.u(Ri,{Ja:"naturalBounds"},function(){return this.Gc});
	Ri.prototype.Qo=function(a,b,c,d){var e=this.za,f=pl(this,!0),h=this.Me,k=this.Tx;if(k||!this.ay&&h&&h.complete)this.ay=!0;null===h&&(isFinite(a)||(a=0),isFinite(b)||(b=0));isFinite(e.width)||f===cd||f===fl?(isFinite(a)||(a=this.Mi.I()?this.Mi.width:k?+h.width:h.naturalWidth),c=0):null!==h&&!1!==this.ay&&(a=this.Mi.I()?this.Mi.width:k?+h.width:h.naturalWidth);isFinite(e.height)||f===cd||f===el?(isFinite(b)||(b=this.Mi.I()?this.Mi.height:k?+h.height:h.naturalHeight),d=0):null!==h&&!1!==this.ay&&(b=
		this.Mi.I()?this.Mi.height:k?+h.height:h.naturalHeight);isFinite(e.width)&&(a=e.width);isFinite(e.height)&&(b=e.height);e=this.bf;f=this.wg;c=Math.max(c,f.width);d=Math.max(d,f.height);a=Math.min(e.width,a);b=Math.min(e.height,b);a=Math.max(c,a);b=Math.max(d,b);null===h||h.complete||(isFinite(a)||(a=0),isFinite(b)||(b=0));bb(this.Gc,a,b);ml(this,0,0,a,b)};Ri.prototype.yi=function(a,b,c,d){ql(this,a,b,c,d)};function Fn(a){this.no=[new Hn(a,1)]}
	function Gn(a,b,c,d){var e=new oa(null),f=e.getContext("2d"),h=1/b;e.width=c/b;e.height=d/b;b=new Hn(e.Ed,b);c=a.no[a.no.length-1];f.setTransform(h*c.$o,0,0,h*c.$o,0,0);f.drawImage(c.source,0,0);a.no.push(b)}function Hn(a,b){this.source=a;this.$o=b}function ka(){this.o=new $c;this.Tb=null}g=ka.prototype;g.reset=function(){this.o=new $c;this.Tb=null};
	function M(a,b,c,d,e,f){null===a.o&&u.k("StreamGeometryContext has been closed");void 0!==e&&!0===e?(null===a.Tb&&u.k("Need to call beginFigure first"),d=new Jd(yd),d.F=b,d.G=c,a.Tb.Ha.add(d)):(a.Tb=new bd,a.Tb.va=b,a.Tb.wa=c,a.Tb.Os=d,a.o.ub.add(a.Tb));void 0!==f&&(a.Tb.Fn=f)}function P(a){null===a.o&&u.k("StreamGeometryContext has been closed");null===a.Tb&&u.k("Need to call beginFigure first");var b=a.Tb.Ha.length;0<b&&a.Tb.Ha.ja(b-1).close()}
	function vd(a){null===a.o&&u.k("StreamGeometryContext has been closed");null===a.Tb&&u.k("Need to call beginFigure first");0<a.Tb.Ha.length&&(a.Tb.Os=!0)}g.$a=function(a){null===this.o&&u.k("StreamGeometryContext has been closed");null===this.Tb&&u.k("Need to call beginFigure first");this.Tb.il=a};g.moveTo=function(a,b,c){void 0===c&&(c=!1);null===this.o&&u.k("StreamGeometryContext has been closed");null===this.Tb&&u.k("Need to call beginFigure first");var d=new Jd(yd);d.F=a;d.G=b;c&&d.close();this.Tb.Ha.add(d)};
	g.lineTo=function(a,b,c){void 0===c&&(c=!1);null===this.o&&u.k("StreamGeometryContext has been closed");null===this.Tb&&u.k("Need to call beginFigure first");var d=new Jd(pd);d.F=a;d.G=b;c&&d.close();this.Tb.Ha.add(d)};function O(a,b,c,d,e,f,h,k){void 0===k&&(k=!1);null===a.o&&u.k("StreamGeometryContext has been closed");null===a.Tb&&u.k("Need to call beginFigure first");var l=new Jd(zd);l.Rb=b;l.jc=c;l.ef=d;l.ff=e;l.F=f;l.G=h;k&&l.close();a.Tb.Ha.add(l)}
	function td(a,b,c,d,e){var f;void 0===f&&(f=!1);null===a.o&&u.k("StreamGeometryContext has been closed");null===a.Tb&&u.k("Need to call beginFigure first");var h=new Jd(Ad);h.Rb=b;h.jc=c;h.F=d;h.G=e;f&&h.close();a.Tb.Ha.add(h)}g.arcTo=function(a,b,c,d,e,f,h){void 0===f&&(f=0);void 0===h&&(h=!1);null===this.o&&u.k("StreamGeometryContext has been closed");null===this.Tb&&u.k("Need to call beginFigure first");var k=new Jd(Bd);k.Je=a;k.Qf=b;k.ma=c;k.ya=d;k.radiusX=e;k.radiusY=0!==f?f:e;h&&k.close();this.Tb.Ha.add(k)};
	function ud(a,b,c,d,e,f,h,k){var l;void 0===l&&(l=!1);null===a.o&&u.k("StreamGeometryContext has been closed");null===a.Tb&&u.k("Need to call beginFigure first");b=new Jd(Gd,h,k,b,c,d,e,f);l&&b.close();a.Tb.Ha.add(b)}
	K.makeGeometry=function(a,b,c){var d=a.za,e=d.width,d=d.height;void 0!==b&&!isNaN(b)&&isFinite(b)&&(e=b);void 0!==c&&!isNaN(c)&&isFinite(c)&&(d=c);isFinite(e)||(e=100);isFinite(d)||(d=100);b=null;"None"!==a.lp?b=K.Ri[a.lp]:"None"!==a.fz?b=K.Ri[a.fz]:(c=K.rg[a.Fb],"string"===typeof c&&(c=K.rg[c]),void 0===c&&u.k("Unknown Shape.figure: "+a.Fb),b=c(a,e,d),b.En=e,b.Dn=d);null===b&&(c=K.rg.Rectangle,"function"===typeof c&&(b=c(a,e,d)));return b};
	K.Bi=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var s=1-l;a=a*s+c*l;b=b*s+d*l;c=c*s+e*l;d=d*s+f*l;e=e*s+h*l;f=f*s+k*l;k=a*s+c*l;h=b*s+d*l;c=c*s+e*l;d=d*s+f*l;m.x=a;m.y=b;n.x=k;n.y=h;p.x=k*s+c*l;p.y=h*s+d*l;q.x=c;q.y=d;r.x=e;r.y=f};K.vo=function(a){a=K.xm(a);var b=u.gb();b[0]=a[0];for(var c=1,d=1;d<a.length;)b[c]=a[d],b[c+1]=a[d],b[c+2]=a[d+1],d+=2,c+=3;u.sa(a);return b};
	K.xm=function(a){var b=K.Qk(a),c=u.gb(),d=Math.floor(b.length/2),e=b.length-1;a=0===a%2?2:1;for(var f=0;f<e;f++){var h=b[f],k=b[f+1],l=b[(d+f-1)%e],m=b[(d+f+a)%e];c[2*f]=h;c[2*f+1]=K.al(h.x,h.y,l.x,l.y,k.x,k.y,m.x,m.y,new w)}c[c.length]=c[0];u.sa(b);return c};K.al=function(a,b,c,d,e,f,h,k,l){c=a-c;var m=e-h,n=h=0;0===c||0===m?0===c?(k=(f-k)/m,h=a,n=k*h+(f-k*e)):(d=(b-d)/c,h=e,n=d*h+(b-d*a)):(d=(b-d)/c,k=(f-k)/m,a=b-d*a,h=(f-k*e-a)/(d-k),n=d*h+a);l.m(h,n);return l};
	K.Qk=function(a){for(var b=u.gb(),c=1.5*Math.PI,d=0,e=0;e<a;e++)d=2*Math.PI/a*e+c,b[e]=new w(.5+.5*Math.cos(d),.5+.5*Math.sin(d));b.push(b[0]);return b};K.tA=(new L(.156,.156)).La();K.uA=(new L(.844,.844)).La();
	K.rg={None:"Rectangle",Rectangle:function(a,b,c){a=new $c;a.type=md;a.va=0;a.wa=0;a.F=b;a.G=c;return a},Square:function(a,b,c){a=new $c;a.Cd=sh;a.type=md;a.va=0;a.wa=0;a.F=Math.min(b,c);a.G=Math.min(b,c);return a},Ellipse:function(a,b,c){a=new $c;a.type=nd;a.va=0;a.wa=0;a.F=b;a.G=c;a.A=K.tA;a.B=K.uA;return a},Circle:function(a,b,c){a=new $c;a.Cd=sh;a.type=nd;a.va=0;a.wa=0;a.F=Math.min(b,c);a.G=Math.min(b,c);a.A=K.tA;a.B=K.uA;return a},Connector:"Ellipse",TriangleRight:function(a,b,c){a=new $c;var d=
		new bd,e=new Jd;e.F=b;e.G=.5*c;d.Ha.add(e);b=new Jd;b.F=0;b.G=c;d.Ha.add(b.close());a.ub.add(d);a.A=new L(0,.25);a.B=new L(.5,.75);return a},TriangleDown:function(a,b,c){a=new $c;var d=new bd,e=new Jd;e.F=b;e.G=0;d.Ha.add(e);e=new Jd;e.F=.5*b;e.G=c;d.Ha.add(e.close());a.ub.add(d);a.A=new L(.25,0);a.B=new L(.75,.5);return a},TriangleLeft:function(a,b,c){a=new $c;var d=new bd;d.va=b;d.wa=c;var e=new Jd;e.F=0;e.G=.5*c;d.Ha.add(e);c=new Jd;c.F=b;c.G=0;d.Ha.add(c.close());a.ub.add(d);a.A=new L(.5,.25);
		a.B=new L(1,.75);return a},TriangleUp:function(a,b,c){a=new $c;var d=new bd;d.va=b;d.wa=c;var e=new Jd;e.F=0;e.G=c;d.Ha.add(e);c=new Jd;c.F=.5*b;c.G=0;d.Ha.add(c.close());a.ub.add(d);a.A=new L(.25,.5);a.B=new L(.75,1);return a},Line1:function(a,b,c){a=new $c;a.type=dd;a.va=0;a.wa=0;a.F=b;a.G=c;return a},Line2:function(a,b,c){a=new $c;a.type=dd;a.va=b;a.wa=0;a.F=0;a.G=c;return a},MinusLine:"LineH",LineH:function(a,b,c){a=new $c;a.type=dd;a.va=0;a.wa=c/2;a.F=b;a.G=c/2;return a},LineV:function(a,b,c){a=
		new $c;a.type=dd;a.va=b/2;a.wa=0;a.F=b/2;a.G=c;return a},BarH:"Rectangle",BarV:"Rectangle",Curve1:function(a,b,c){var d=K.ta;a=u.p();M(a,0,0,!1);O(a,d*b,0,1*b,(1-d)*c,b,c);b=a.o;u.q(a);return b},Curve2:function(a,b,c){var d=K.ta;a=u.p();M(a,0,0,!1);O(a,0,d*c,(1-d)*b,c,b,c);b=a.o;u.q(a);return b},Curve3:function(a,b,c){var d=K.ta;a=u.p();M(a,1*b,0,!1);O(a,1*b,d*c,d*b,1*c,0,1*c);b=a.o;u.q(a);return b},Curve4:function(a,b,c){var d=K.ta;a=u.p();M(a,1*b,0,!1);O(a,(1-d)*b,0,0,(1-d)*c,0,1*c);b=a.o;u.q(a);
		return b},Alternative:"Triangle",Merge:"Triangle",Triangle:function(a,b,c){a=u.p();M(a,.5*b,0*c,!0);a.lineTo(0*b,1*c);a.lineTo(1*b,1*c,!0);b=a.o;b.A=new L(.25,.5);b.B=new L(.75,1);u.q(a);return b},Decision:"Diamond",Diamond:function(a,b,c){a=u.p();M(a,.5*b,0,!0);a.lineTo(0,.5*c);a.lineTo(.5*b,1*c);a.lineTo(1*b,.5*c,!0);b=a.o;b.A=new L(.25,.25);b.B=new L(.75,.75);u.q(a);return b},Pentagon:function(a,b,c){var d=K.Qk(5);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;5>e;e++)a.lineTo(d[e].x*b,d[e].y*c);
		u.sa(d);P(a);b=a.o;b.A=new L(.2,.22);b.B=new L(.8,.9);u.q(a);return b},DataTransmission:"Hexagon",Hexagon:function(a,b,c){var d=K.Qk(6);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;6>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.07,.25);b.B=new L(.93,.75);u.q(a);return b},Heptagon:function(a,b,c){var d=K.Qk(7);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;7>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.2,.15);b.B=new L(.8,.85);u.q(a);return b},Octagon:function(a,
																																																																																																																															  b,c){var d=K.Qk(8);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;8>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.15,.15);b.B=new L(.85,.85);u.q(a);return b},Nonagon:function(a,b,c){var d=K.Qk(9);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;9>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.17,.13);b.B=new L(.82,.82);u.q(a);return b},Decagon:function(a,b,c){var d=K.Qk(10);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;10>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);
		b=a.o;b.A=new L(.16,.16);b.B=new L(.84,.84);u.q(a);return b},Dodecagon:function(a,b,c){var d=K.Qk(12);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;12>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.16,.16);b.B=new L(.84,.84);u.q(a);return b},FivePointedStar:function(a,b,c){var d=K.xm(5);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;10>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.312,.383);b.B=new L(.693,.765);u.q(a);return b},SixPointedStar:function(a,b,c){var d=
		K.xm(6);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;12>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.17,.251);b.B=new L(.833,.755);u.q(a);return b},SevenPointedStar:function(a,b,c){var d=K.xm(7);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;14>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.363,.361);b.B=new L(.641,.709);u.q(a);return b},EightPointedStar:function(a,b,c){var d=K.xm(8);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;16>e;e++)a.lineTo(d[e].x*b,d[e].y*
		c);u.sa(d);P(a);b=a.o;b.A=new L(.252,.255);b.B=new L(.75,.75);u.q(a);return b},NinePointedStar:function(a,b,c){var d=K.xm(9);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;18>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.355,.361);b.B=new L(.645,.651);u.q(a);return b},TenPointedStar:function(a,b,c){var d=K.xm(10);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;20>e;e++)a.lineTo(d[e].x*b,d[e].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.281,.261);b.B=new L(.723,.748);u.q(a);return b},FivePointedBurst:function(a,
																																																																																																																																			   b,c){var d=K.vo(5);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)O(a,d[e].x*b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.312,.383);b.B=new L(.693,.765);u.q(a);return b},SixPointedBurst:function(a,b,c){var d=K.vo(6);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)O(a,d[e].x*b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.17,.251);b.B=new L(.833,.755);u.q(a);return b},SevenPointedBurst:function(a,
																																																																																																																																																																																																																																																																		b,c){var d=K.vo(7);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)O(a,d[e].x*b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.363,.361);b.B=new L(.641,.709);u.q(a);return b},EightPointedBurst:function(a,b,c){var d=K.vo(8);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)O(a,d[e].x*b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.252,.255);b.B=new L(.75,.75);u.q(a);return b},NinePointedBurst:function(a,
																																																																																																																																																																																																																																																																																																																																																																																																 b,c){var d=K.vo(9);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)O(a,d[e].x*b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.355,.361);b.B=new L(.645,.651);u.q(a);return b},TenPointedBurst:function(a,b,c){var d=K.vo(10);a=u.p();M(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)O(a,d[e].x*b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);u.sa(d);P(a);b=a.o;b.A=new L(.281,.261);b.B=new L(.723,.748);u.q(a);return b},Cloud:function(a,b,c){a=
		u.p();M(a,.08034461*b,.1944299*c,!0);O(a,-.09239631*b,.07836421*c,.1406031*b,-.0542823*c,.2008615*b,.05349299*c);O(a,.2450511*b,-.00697547*c,.3776197*b,-.01112067*c,.4338609*b,.074219*c);O(a,.4539471*b,0,.6066018*b,-.02526587*c,.6558228*b,.07004196*c);O(a,.6914277*b,-.01904177*c,.8921095*b,-.01220843*c,.8921095*b,.08370865*c);O(a,1.036446*b,.04105738*c,1.020377*b,.3022052*c,.9147671*b,.3194596*c);O(a,1.04448*b,.360238*c,.992256*b,.5219009*c,.9082935*b,.562044*c);O(a,1.032337*b,.5771781*c,1.018411*
		b,.8120651*c,.9212406*b,.8217117*c);O(a,1.028411*b,.9571472*c,.8556702*b,1.052487*c,.7592566*b,.9156953*c);O(a,.7431877*b,1.009325*c,.5624123*b,1.021761*c,.5101666*b,.9310455*c);O(a,.4820677*b,1.031761*c,.3030112*b,1.002796*c,.2609328*b,.9344623*c);O(a,.2329994*b,1.01518*c,.03213784*b,1.01518*c,.08034461*b,.870098*c);O(a,-.02812061*b,.9032597*c,-.01205169*b,.6835638*c,.06829292*b,.6545475*c);O(a,-.01812061*b,.6089503*c,-.00606892*b,.4555777*c,.06427569*b,.4265613*c);O(a,-.01606892*b,.3892545*c,-.01205169*
		b,.1944299*c,.08034461*b,.1944299*c);P(a);b=a.o;b.A=new L(.1,.1);b.B=new L(.9,.9);u.q(a);return b},Gate:"Crescent",Crescent:function(a,b,c){a=u.p();M(a,0,0,!0);O(a,1*b,0,1*b,1*c,0,1*c);O(a,.5*b,.75*c,.5*b,.25*c,0,0);P(a);b=a.o;b.A=new L(.511,.19);b.B=new L(.776,.76);u.q(a);return b},FramedRectangle:function(a,b,c){var d=u.p(),e=a?a.wc:NaN;a=a?a.ft:NaN;isNaN(e)&&(e=.1);isNaN(a)&&(a=.1);M(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c,!0);M(d,e*b,a*c,!1,!0);d.lineTo(e*b,(1-a)*c);d.lineTo((1-
		e)*b,(1-a)*c);d.lineTo((1-e)*b,a*c,!0);b=d.o;b.A=new L(e,a);b.B=new L(1-e,1-a);u.q(d);return b},Delay:"HalfEllipse",HalfEllipse:function(a,b,c){var d=K.ta;a=u.p();M(a,0,0,!0);O(a,d*b,0,1*b,(.5-d/2)*c,1*b,.5*c);O(a,1*b,(.5+d/2)*c,d*b,1*c,0,1*c);P(a);b=a.o;b.A=new L(0,.2);b.B=new L(.75,.8);u.q(a);return b},Heart:function(a,b,c){a=u.p();M(a,.5*b,1*c,!0);O(a,.1*b,.8*c,0,.5*c,0*b,.3*c);O(a,0*b,0,.45*b,0,.5*b,.3*c);O(a,.55*b,0,1*b,0,1*b,.3*c);O(a,b,.5*c,.9*b,.8*c,.5*b,1*c);P(a);b=a.o;b.A=new L(.15,.29);
		b.B=new L(.86,.68);u.q(a);return b},Spade:function(a,b,c){a=u.p();M(a,.5*b,0,!0);a.lineTo(.51*b,.01*c);O(a,.6*b,.2*c,b,.25*c,b,.5*c);O(a,b,.8*c,.6*b,.8*c,.55*b,.7*c);O(a,.5*b,.75*c,.55*b,.95*c,.75*b,c);a.lineTo(.25*b,c);O(a,.45*b,.95*c,.5*b,.75*c,.45*b,.7*c);O(a,.4*b,.8*c,0,.8*c,0,.5*c);O(a,0,.25*c,.4*b,.2*c,.49*b,.01*c);P(a);b=a.o;b.A=new L(.19,.26);b.B=new L(.8,.68);u.q(a);return b},Club:function(a,b,c){a=u.p();M(a,.4*b,.6*c,!0);O(a,.5*b,.75*c,.45*b,.95*c,.15*b,1*c);a.lineTo(.85*b,c);O(a,.55*b,
		.95*c,.5*b,.75*c,.6*b,.6*c);var d=.2,e=.3,f=0,h=4*(Math.SQRT2-1)/3*d;O(a,(.5-d+e)*b,(.5+h+f)*c,(.5-h+e)*b,(.5+d+f)*c,(.5+e)*b,(.5+d+f)*c);O(a,(.5+h+e)*b,(.5+d+f)*c,(.5+d+e)*b,(.5+h+f)*c,(.5+d+e)*b,(.5+f)*c);O(a,(.5+d+e)*b,(.5-h+f)*c,(.5+h+e)*b,(.5-d+f)*c,(.5+e)*b,(.5-d+f)*c);O(a,(.5-h+e)*b,(.5-d+f)*c,(.5-d+e+.05)*b,(.5-h+f-.02)*c,.65*b,.36771243*c);d=.2;e=0;f=-.3;h=4*(Math.SQRT2-1)/3*d;O(a,(.5+h+e)*b,(.5+d+f)*c,(.5+d+e)*b,(.5+h+f)*c,(.5+d+e)*b,(.5+f)*c);O(a,(.5+d+e)*b,(.5-h+f)*c,(.5+h+e)*b,(.5-d+
		f)*c,(.5+e)*b,(.5-d+f)*c);O(a,(.5-h+e)*b,(.5-d+f)*c,(.5-d+e)*b,(.5-h+f)*c,(.5-d+e)*b,(.5+f)*c);O(a,(.5-d+e)*b,(.5+h+f)*c,(.5-h+e)*b,(.5+d+f)*c,.35*b,.36771243*c);d=.2;e=-.3;f=0;h=4*(Math.SQRT2-1)/3*d;O(a,(.5+d+e-.05)*b,(.5-h+f-.02)*c,(.5+h+e)*b,(.5-d+f)*c,(.5+e)*b,(.5-d+f)*c);O(a,(.5-h+e)*b,(.5-d+f)*c,(.5-d+e)*b,(.5-h+f)*c,(.5-d+e)*b,(.5+f)*c);O(a,(.5-d+e)*b,(.5+h+f)*c,(.5-h+e)*b,(.5+d+f)*c,(.5+e)*b,(.5+d+f)*c);O(a,(.5+h+e)*b,(.5+d+f)*c,(.5+d+e)*b,(.5+h+f)*c,.4*b,.6*c);P(a);b=a.o;b.A=new L(.06,.39);
		b.B=new L(.93,.58);u.q(a);return b},Ring:function(a,b,c){a=u.p();var d=4*(Math.SQRT2-1)/3*.5;M(a,b,.5*c,!0);O(a,b,(.5-d)*c,(.5+d)*b,0,.5*b,0);O(a,(.5-d)*b,0,0,(.5-d)*c,0,.5*c);O(a,0,(.5+d)*c,(.5-d)*b,c,.5*b,c);O(a,(.5+d)*b,c,b,(.5+d)*c,b,.5*c);d=4*(Math.SQRT2-1)/3*.4;M(a,.5*b,.1*c,!0,!0);O(a,(.5+d)*b,.1*c,.9*b,(.5-d)*c,.9*b,.5*c);O(a,.9*b,(.5+d)*c,(.5+d)*b,.9*c,.5*b,.9*c);O(a,(.5-d)*b,.9*c,.1*b,(.5+d)*c,.1*b,.5*c);O(a,.1*b,(.5-d)*c,(.5-d)*b,.1*c,.5*b,.1*c);b=a.o;b.A=new L(.146,.146);b.B=new L(.853,
		.853);b.Cd=sh;u.q(a);return b},YinYang:function(a,b,c){var d=.5;a=u.p();d=.5;M(a,.5*b,0,!0);a.arcTo(270,180,.5*b,.5*b,.5*b);O(a,1*b,d*c,0,d*c,d*b,0,!0);var d=.1,e=.25;M(a,(.5+d)*b,e*c,!0,!0);a.arcTo(0,-360,.5*b,c*e,d*b);P(a);M(a,.5*b,0,!1);a.arcTo(270,-180,.5*b,.5*b,.5*b);a.$a(!1);e=.75;M(a,(.5+d)*b,e*c,!0);a.arcTo(0,360,.5*b,c*e,d*b);P(a);b=a.o;b.Cd=sh;u.q(a);return b},Peace:function(a,b,c){a=u.p();var d=4*(Math.SQRT2-1)/3*.5;M(a,b,.5*c,!0);O(a,b,(.5-d)*c,(.5+d)*b,0,.5*b,0);O(a,(.5-d)*b,0,0,(.5-
		d)*c,0,.5*c);O(a,0,(.5+d)*c,(.5-d)*b,c,.5*b,c);O(a,(.5+d)*b,c,b,(.5+d)*c,b,.5*c);d=4*(Math.SQRT2-1)/3*.4;M(a,.5*b,.1*c,!0,!0);O(a,(.5+d)*b,.1*c,.9*b,(.5-d)*c,.9*b,.5*c);O(a,.9*b,(.5+d)*c,(.5+d)*b,.9*c,.5*b,.9*c);O(a,(.5-d)*b,.9*c,.1*b,(.5+d)*c,.1*b,.5*c);O(a,.1*b,(.5-d)*c,(.5-d)*b,.1*c,.5*b,.1*c);var d=.07,e=0,f=-.707*.11,h=4*(Math.SQRT2-1)/3*d;M(a,(.5+d+e)*b,(.5+f)*c,!0);O(a,(.5+d+e)*b,(.5-h+f)*c,(.5+h+e)*b,(.5-d+f)*c,(.5+e)*b,(.5-d+f)*c);O(a,(.5-h+e)*b,(.5-d+f)*c,(.5-d+e)*b,(.5-h+f)*c,(.5-d+e)*
		b,(.5+f)*c);O(a,(.5-d+e)*b,(.5+h+f)*c,(.5-h+e)*b,(.5+d+f)*c,(.5+e)*b,(.5+d+f)*c);O(a,(.5+h+e)*b,(.5+d+f)*c,(.5+d+e)*b,(.5+h+f)*c,(.5+d+e)*b,(.5+f)*c);d=.07;e=-.707*.11;f=.707*.11;h=4*(Math.SQRT2-1)/3*d;M(a,(.5+d+e)*b,(.5+f)*c,!0);O(a,(.5+d+e)*b,(.5-h+f)*c,(.5+h+e)*b,(.5-d+f)*c,(.5+e)*b,(.5-d+f)*c);O(a,(.5-h+e)*b,(.5-d+f)*c,(.5-d+e)*b,(.5-h+f)*c,(.5-d+e)*b,(.5+f)*c);O(a,(.5-d+e)*b,(.5+h+f)*c,(.5-h+e)*b,(.5+d+f)*c,(.5+e)*b,(.5+d+f)*c);O(a,(.5+h+e)*b,(.5+d+f)*c,(.5+d+e)*b,(.5+h+f)*c,(.5+d+e)*b,(.5+f)*
		c);d=.07;e=.707*.11;f=.707*.11;h=4*(Math.SQRT2-1)/3*d;M(a,(.5+d+e)*b,(.5+f)*c,!0);O(a,(.5+d+e)*b,(.5-h+f)*c,(.5+h+e)*b,(.5-d+f)*c,(.5+e)*b,(.5-d+f)*c);O(a,(.5-h+e)*b,(.5-d+f)*c,(.5-d+e)*b,(.5-h+f)*c,(.5-d+e)*b,(.5+f)*c);O(a,(.5-d+e)*b,(.5+h+f)*c,(.5-h+e)*b,(.5+d+f)*c,(.5+e)*b,(.5+d+f)*c);O(a,(.5+h+e)*b,(.5+d+f)*c,(.5+d+e)*b,(.5+h+f)*c,(.5+d+e)*b,(.5+f)*c);b=a.o;b.A=new L(.146,.146);b.B=new L(.853,.853);b.Cd=sh;u.q(a);return b},NotAllowed:function(a,b,c){var d=K.ta,e=.5*d,f=.5;a=u.p();M(a,.5*b,(.5-
		f)*c,!0);O(a,(.5-e)*b,(.5-f)*c,(.5-f)*b,(.5-e)*c,(.5-f)*b,.5*c);O(a,(.5-f)*b,(.5+e)*c,(.5-e)*b,(.5+f)*c,.5*b,(.5+f)*c);O(a,(.5+e)*b,(.5+f)*c,(.5+f)*b,(.5+e)*c,(.5+f)*b,.5*c);O(a,(.5+f)*b,(.5-e)*c,(.5+e)*b,(.5-f)*c,.5*b,(.5-f)*c);var f=.4,e=.4*d,d=u.K(),h=u.K(),k=u.K(),l=u.K();K.Bi(.5,.5-f,.5+e,.5-f,.5+f,.5-e,.5+f,.5,.42,d,h,k,l,l);var m=u.K(),n=u.K(),p=u.K();K.Bi(.5,.5-f,.5+e,.5-f,.5+f,.5-e,.5+f,.5,.58,l,l,p,m,n);var q=u.K(),r=u.K(),s=u.K();K.Bi(.5,.5+f,.5-e,.5+f,.5-f,.5+e,.5-f,.5,.42,q,r,s,l,l);
		var t=u.K(),v=u.K(),x=u.K();K.Bi(.5,.5+f,.5-e,.5+f,.5-f,.5+e,.5-f,.5,.58,l,l,x,t,v);M(a,x.x*b,x.y*c,!0,!0);O(a,t.x*b,t.y*c,v.x*b,v.y*c,(.5-f)*b,.5*c);O(a,(.5-f)*b,(.5-e)*c,(.5-e)*b,(.5-f)*c,.5*b,(.5-f)*c);O(a,d.x*b,d.y*c,h.x*b,h.y*c,k.x*b,k.y*c);a.lineTo(x.x*b,x.y*c);P(a);M(a,s.x*b,s.y*c,!0,!0);a.lineTo(p.x*b,p.y*c);O(a,m.x*b,m.y*c,n.x*b,n.y*c,(.5+f)*b,.5*c);O(a,(.5+f)*b,(.5+e)*c,(.5+e)*b,(.5+f)*c,.5*b,(.5+f)*c);O(a,q.x*b,q.y*c,r.x*b,r.y*c,s.x*b,s.y*c);P(a);u.v(d);u.v(h);u.v(k);u.v(l);u.v(m);u.v(n);
		u.v(p);u.v(q);u.v(r);u.v(s);u.v(t);u.v(v);u.v(x);b=a.o;u.q(a);b.Cd=sh;return b},Fragile:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(.25*b,0);a.lineTo(.2*b,.15*c);a.lineTo(.3*b,.25*c);a.lineTo(.29*b,.33*c);a.lineTo(.35*b,.25*c);a.lineTo(.3*b,.15*c);a.lineTo(.4*b,0);a.lineTo(1*b,0);O(a,1*b,.25*c,.75*b,.5*c,.55*b,.5*c);a.lineTo(.55*b,.9*c);a.lineTo(.7*b,.9*c);a.lineTo(.7*b,1*c);a.lineTo(.3*b,1*c);a.lineTo(.3*b,.9*c);a.lineTo(.45*b,.9*c);a.lineTo(.45*b,.5*c);O(a,.25*b,.5*c,0,.25*c,0,0);P(a);b=a.o;b.A=
		new L(.25,0);b.B=new L(.75,.4);u.q(a);return b},HourGlass:function(a,b,c){a=u.p();M(a,.65*b,.5*c,!0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(.35*b,.5*c);a.lineTo(0,0);a.lineTo(1*b,0);P(a);b=a.o;u.q(a);return b},Lightning:function(a,b,c){a=u.p();M(a,0*b,.55*c,!0);a.lineTo(.75*b,0);a.lineTo(.25*b,.45*c);a.lineTo(.9*b,.48*c);a.lineTo(.4*b,1*c);a.lineTo(.65*b,.55*c);P(a);b=a.o;u.q(a);return b},Parallelogram1:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&(a=.1);var d=u.p();M(d,a*b,0,!0);d.lineTo(1*b,0);d.lineTo((1-
		a)*b,1*c);d.lineTo(0,1*c);P(d);b=d.o;b.A=new L(a,0);b.B=new L(1-a,1);u.q(d);return b},Input:"Output",Output:function(a,b,c){a=u.p();M(a,0,1*c,!0);a.lineTo(.1*b,0);a.lineTo(1*b,0);a.lineTo(.9*b,1*c);P(a);b=a.o;b.A=new L(.1,0);b.B=new L(.9,1);u.q(a);return b},Parallelogram2:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&(a=.25);var d=u.p();M(d,a*b,0,!0);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);P(d);b=d.o;b.A=new L(a,0);b.B=new L(1-a,1);u.q(d);return b},ThickCross:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&
	(a=.25);var d=u.p();M(d,(.5-a/2)*b,0,!0);d.lineTo((.5+a/2)*b,0);d.lineTo((.5+a/2)*b,(.5-a/2)*c);d.lineTo(1*b,(.5-a/2)*c);d.lineTo(1*b,(.5+a/2)*c);d.lineTo((.5+a/2)*b,(.5+a/2)*c);d.lineTo((.5+a/2)*b,1*c);d.lineTo((.5-a/2)*b,1*c);d.lineTo((.5-a/2)*b,(.5+a/2)*c);d.lineTo(0,(.5+a/2)*c);d.lineTo(0,(.5-a/2)*c);d.lineTo((.5-a/2)*b,(.5-a/2)*c);P(d);b=d.o;b.A=new L(.5-a/2,.5-a/2);b.B=new L(.5+a/2,.5+a/2);u.q(d);return b},ThickX:function(a,b,c){a=.25/Math.SQRT2;var d=u.p();M(d,.3*b,0,!0);d.lineTo(.5*b,.2*c);
		d.lineTo(.7*b,0);d.lineTo(1*b,.3*c);d.lineTo(.8*b,.5*c);d.lineTo(1*b,.7*c);d.lineTo(.7*b,1*c);d.lineTo(.5*b,.8*c);d.lineTo(.3*b,1*c);d.lineTo(0,.7*c);d.lineTo(.2*b,.5*c);d.lineTo(0,.3*c);P(d);b=d.o;b.A=new L(.5-a,.5-a);b.B=new L(.5+a,.5+a);u.q(d);return b},ThinCross:function(a,b,c){var d=a?a.wc:NaN;isNaN(d)&&(d=.1);a=u.p();M(a,(.5-d/2)*b,0,!0);a.lineTo((.5+d/2)*b,0);a.lineTo((.5+d/2)*b,(.5-d/2)*c);a.lineTo(1*b,(.5-d/2)*c);a.lineTo(1*b,(.5+d/2)*c);a.lineTo((.5+d/2)*b,(.5+d/2)*c);a.lineTo((.5+d/2)*
		b,1*c);a.lineTo((.5-d/2)*b,1*c);a.lineTo((.5-d/2)*b,(.5+d/2)*c);a.lineTo(0,(.5+d/2)*c);a.lineTo(0,(.5-d/2)*c);a.lineTo((.5-d/2)*b,(.5-d/2)*c);P(a);b=a.o;u.q(a);return b},ThinX:function(a,b,c){a=u.p();M(a,.1*b,0,!0);a.lineTo(.5*b,.4*c);a.lineTo(.9*b,0);a.lineTo(1*b,.1*c);a.lineTo(.6*b,.5*c);a.lineTo(1*b,.9*c);a.lineTo(.9*b,1*c);a.lineTo(.5*b,.6*c);a.lineTo(.1*b,1*c);a.lineTo(0,.9*c);a.lineTo(.4*b,.5*c);a.lineTo(0,.1*c);P(a);return a.o},RightTriangle:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(1*b,
		1*c);a.lineTo(0,1*c);P(a);b=a.o;b.A=new L(0,.5);b.B=new L(.5,1);u.q(a);return b},RoundedIBeam:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(1*b,0);O(a,.5*b,.25*c,.5*b,.75*c,1*b,1*c);a.lineTo(0,1*c);O(a,.5*b,.75*c,.5*b,.25*c,0,0);P(a);b=a.o;u.q(a);return b},RoundedRectangle:function(a,b,c){var d=a?a.wc:NaN;isNaN(d)&&(d=5);d=Math.min(d,b/3);d=Math.min(d,c/3);a=d*K.ta;var e=u.p();M(e,d,0,!0);e.lineTo(b-d,0);O(e,b-a,0,b,a,b,d);e.lineTo(b,c-d);O(e,b,c-a,b-a,c,b-d,c);e.lineTo(d,c);O(e,a,c,0,c-a,0,c-d);e.lineTo(0,
		d);O(e,0,a,a,0,d,0);P(e);b=e.o;1<a?(b.A=new L(0,0,a,a),b.B=new L(1,1,-a,-a)):(b.A=xb,b.B=Vb);u.q(e);return b},Border:function(a,b,c){var d=a?a.wc:NaN;isNaN(d)&&(d=5);d=Math.min(d,b/3);d=Math.min(d,c/3);a=u.p();M(a,d,0,!0);a.lineTo(b-d,0);O(a,b-0,0,b,0,b,d);a.lineTo(b,c-d);O(a,b,c-0,b-0,c,b-d,c);a.lineTo(d,c);O(a,0,c,0,c-0,0,c-d);a.lineTo(0,d);O(a,0,0,0,0,d,0);P(a);b=a.o;b.A=xb;b.B=Vb;u.q(a);return b},SquareIBeam:function(a,b,c){var d=a?a.wc:NaN;isNaN(d)&&(d=.2);a=u.p();M(a,0,0,!0);a.lineTo(1*b,0);
		a.lineTo(1*b,d*c);a.lineTo((.5+d/2)*b,d*c);a.lineTo((.5+d/2)*b,(1-d)*c);a.lineTo(1*b,(1-d)*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,(1-d)*c);a.lineTo((.5-d/2)*b,(1-d)*c);a.lineTo((.5-d/2)*b,d*c);a.lineTo(0,d*c);P(a);b=a.o;u.q(a);return b},Trapezoid:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&(a=.2);var d=u.p();M(d,a*b,0,!0);d.lineTo((1-a)*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);P(d);b=d.o;b.A=new L(a,0);b.B=new L(1-a,1);u.q(d);return b},ManualLoop:"ManualOperation",ManualOperation:function(a,b,c){var d=
		a?a.wc:NaN;isNaN(d)&&(d=0);a=u.p();M(a,d,0,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(.9*b,1*c);a.lineTo(.1*b,1*c);P(a);b=a.o;b.A=new L(.1,0);b.B=new L(.9,1);u.q(a);return b},GenderMale:function(a,b,c){a=u.p();var d=K.ta,e=.4*d,f=.4,h=u.K(),k=u.K(),l=u.K(),m=u.K();M(a,(.5-f)*b,.5*c,!0);O(a,(.5-f)*b,(.5-e)*c,(.5-e)*b,(.5-f)*c,.5*b,(.5-f)*c);K.Bi(.5,.5-f,.5+e,.5-f,.5+f,.5-e,.5+f,.5,.44,l,m,k,h,h);O(a,l.x*b,l.y*c,m.x*b,m.y*c,k.x*b,k.y*c);var n=u.fc(k.x,k.y);K.Bi(.5,.5-f,.5+e,.5-f,.5+f,.5-e,.5+f,.5,.56,
		h,h,k,l,m);var p=u.fc(k.x,k.y);a.lineTo((.1*n.x+.855)*b,.1*n.y*c);a.lineTo(.85*b,.1*n.y*c);a.lineTo(.85*b,0);a.lineTo(1*b,0);a.lineTo(1*b,.15*c);a.lineTo((.1*p.x+.9)*b,.15*c);a.lineTo((.1*p.x+.9)*b,(.1*p.y+.05*.9)*c);a.lineTo(p.x*b,p.y*c);O(a,l.x*b,l.y*c,m.x*b,m.y*c,(.5+f)*b,.5*c);O(a,(.5+f)*b,(.5+e)*c,(.5+e)*b,(.5+f)*c,.5*b,(.5+f)*c);O(a,(.5-e)*b,(.5+f)*c,(.5-f)*b,(.5+e)*c,(.5-f)*b,.5*c);f=.35;e=.35*d;M(a,.5*b,(.5-f)*c,!0,!0);O(a,(.5-e)*b,(.5-f)*c,(.5-f)*b,(.5-e)*c,(.5-f)*b,.5*c);O(a,(.5-f)*b,(.5+
		e)*c,(.5-e)*b,(.5+f)*c,.5*b,(.5+f)*c);O(a,(.5+e)*b,(.5+f)*c,(.5+f)*b,(.5+e)*c,(.5+f)*b,.5*c);O(a,(.5+f)*b,(.5-e)*c,(.5+e)*b,(.5-f)*c,.5*b,(.5-f)*c);M(a,(.5-f)*b,.5*c,!0);u.v(h);u.v(k);u.v(l);u.v(m);u.v(n);u.v(p);b=a.o;b.A=new L(.202,.257);b.B=new L(.692,.839);b.Cd=sh;u.q(a);return b},GenderFemale:function(a,b,c){a=u.p();var d=.375,e=0,f=-.125,h=4*(Math.SQRT2-1)/3*d;M(a,(.525+e)*b,(.5+d+f)*c,!0);O(a,(.5+h+e)*b,(.5+d+f)*c,(.5+d+e)*b,(.5+h+f)*c,(.5+d+e)*b,(.5+f)*c);O(a,(.5+d+e)*b,(.5-h+f)*c,(.5+h+e)*
		b,(.5-d+f)*c,(.5+e)*b,(.5-d+f)*c);O(a,(.5-h+e)*b,(.5-d+f)*c,(.5-d+e)*b,(.5-h+f)*c,(.5-d+e)*b,(.5+f)*c);O(a,(.5-d+e)*b,(.5+h+f)*c,(.5-h+e)*b,(.5+d+f)*c,(.475+e)*b,(.5+d+f)*c);a.lineTo(.475*b,.85*c);a.lineTo(.425*b,.85*c);a.lineTo(.425*b,.9*c);a.lineTo(.475*b,.9*c);a.lineTo(.475*b,1*c);a.lineTo(.525*b,1*c);a.lineTo(.525*b,.9*c);a.lineTo(.575*b,.9*c);a.lineTo(.575*b,.85*c);a.lineTo(.525*b,.85*c);P(a);d=.325;e=0;f=-.125;h=4*(Math.SQRT2-1)/3*d;M(a,(.5+d+e)*b,(.5+f)*c,!0,!0);O(a,(.5+d+e)*b,(.5+h+f)*c,(.5+
		h+e)*b,(.5+d+f)*c,(.5+e)*b,(.5+d+f)*c);O(a,(.5-h+e)*b,(.5+d+f)*c,(.5-d+e)*b,(.5+h+f)*c,(.5-d+e)*b,(.5+f)*c);O(a,(.5-d+e)*b,(.5-h+f)*c,(.5-h+e)*b,(.5-d+f)*c,(.5+e)*b,(.5-d+f)*c);O(a,(.5+h+e)*b,(.5-d+f)*c,(.5+d+e)*b,(.5-h+f)*c,(.5+d+e)*b,(.5+f)*c);M(a,(.525+e)*b,(.5+d+f)*c,!0);b=a.o;b.A=new L(.232,.136);b.B=new L(.782,.611);b.Cd=sh;u.q(a);return b},PlusLine:function(a,b,c){a=u.p();M(a,0,.5*c,!1);a.lineTo(1*b,.5*c);a.moveTo(.5*b,0);a.lineTo(.5*b,1*c);b=a.o;u.q(a);return b},XLine:function(a,b,c){a=u.p();
		M(a,0,1*c,!1);a.lineTo(1*b,0);a.moveTo(0,0);a.lineTo(1*b,1*c);b=a.o;u.q(a);return b},AsteriskLine:function(a,b,c){a=u.p();var d=.2/Math.SQRT2;M(a,d*b,(1-d)*c,!1);a.lineTo((1-d)*b,d*c);a.moveTo(d*b,d*c);a.lineTo((1-d)*b,(1-d)*c);a.moveTo(0*b,.5*c);a.lineTo(1*b,.5*c);a.moveTo(.5*b,0*c);a.lineTo(.5*b,1*c);b=a.o;u.q(a);return b},CircleLine:function(a,b,c){var d=.5*K.ta;a=u.p();M(a,1*b,.5*c,!1);O(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);O(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);O(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);
		O(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);b=a.o;b.A=new L(.146,.146);b.B=new L(.853,.853);b.Cd=sh;u.q(a);return b},Pie:function(a,b,c){a=u.p();var d=4*(Math.SQRT2-1)/3*.5;M(a,(.5*Math.SQRT2/2+.5)*b,(.5-.5*Math.SQRT2/2)*c,!0);O(a,.7*b,0*c,.5*b,0*c,.5*b,0*c);O(a,(.5-d+0)*b,0*c,0*b,(.5-d+0)*c,0*b,.5*c);O(a,0*b,(.5+d+0)*c,(.5-d+0)*b,1*c,.5*b,1*c);O(a,(.5+d+0)*b,1*c,1*b,(.5+d+0)*c,1*b,.5*c);a.lineTo(.5*b,.5*c);P(a);b=a.o;u.q(a);return b},PiePiece:function(a,b,c){var d=K.ta/Math.SQRT2*.5,e=Math.SQRT2/2,f=1-
		Math.SQRT2/2;a=u.p();M(a,b,c,!0);O(a,b,(1-d)*c,(e+d)*b,(f+d)*c,e*b,f*c);a.lineTo(0,c);P(a);b=a.o;u.q(a);return b},StopSign:function(a,b,c){a=1/(Math.SQRT2+2);var d=u.p();M(d,a*b,0,!0);d.lineTo((1-a)*b,0);d.lineTo(1*b,a*c);d.lineTo(1*b,(1-a)*c);d.lineTo((1-a)*b,1*c);d.lineTo(a*b,1*c);d.lineTo(0,(1-a)*c);d.lineTo(0,a*c);P(d);b=d.o;b.A=new L(a/2,a/2);b.B=new L(1-a/2,1-a/2);u.q(d);return b},LogicImplies:function(a,b,c){var d=a?a.wc:NaN;isNaN(d)&&(d=.2);a=u.p();M(a,(1-d)*b,0*c,!1);a.lineTo(1*b,.5*c);a.lineTo((1-
		d)*b,c);a.moveTo(0,.5*c);a.lineTo(b,.5*c);b=a.o;b.A=xb;b.B=new L(.8,.5);u.q(a);return b},LogicIff:function(a,b,c){var d=a?a.wc:NaN;isNaN(d)&&(d=.2);a=u.p();M(a,(1-d)*b,0*c,!1);a.lineTo(1*b,.5*c);a.lineTo((1-d)*b,c);a.moveTo(0,.5*c);a.lineTo(b,.5*c);a.moveTo(d*b,0);a.lineTo(0,.5*c);a.lineTo(d*b,c);b=a.o;b.A=new L(.2,0);b.B=new L(.8,.5);u.q(a);return b},LogicNot:function(a,b,c){a=u.p();M(a,0,0,!1);a.lineTo(1*b,0);a.lineTo(1*b,1*c);b=a.o;u.q(a);return b},LogicAnd:function(a,b,c){a=u.p();M(a,0,1*c,!1);
		a.lineTo(.5*b,0);a.lineTo(1*b,1*c);b=a.o;b.A=new L(.25,.5);b.B=new L(.75,1);u.q(a);return b},LogicOr:function(a,b,c){a=u.p();M(a,0,0,!1);a.lineTo(.5*b,1*c);a.lineTo(1*b,0);b=a.o;b.A=new L(.219,0);b.B=new L(.78,.409);u.q(a);return b},LogicXor:function(a,b,c){a=u.p();M(a,.5*b,0,!1);a.lineTo(.5*b,1*c);a.moveTo(0,.5*c);a.lineTo(1*b,.5*c);var d=.5*K.ta;O(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);O(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);O(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);O(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);b=a.o;
		b.Cd=sh;u.q(a);return b},LogicTruth:function(a,b,c){a=u.p();M(a,0,0,!1);a.lineTo(1*b,0);a.moveTo(.5*b,0);a.lineTo(.5*b,1*c);b=a.o;u.q(a);return b},LogicFalsity:function(a,b,c){a=u.p();M(a,0,1*c,!1);a.lineTo(1*b,1*c);a.moveTo(.5*b,1*c);a.lineTo(.5*b,0);b=a.o;u.q(a);return b},LogicThereExists:function(a,b,c){a=u.p();M(a,0,0,!1);a.lineTo(1*b,0);a.lineTo(1*b,.5*c);a.lineTo(0,.5*c);a.moveTo(1*b,.5*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);b=a.o;u.q(a);return b},LogicForAll:function(a,b,c){a=u.p();M(a,0,0,!1);
		a.lineTo(.5*b,1*c);a.lineTo(1*b,0);a.moveTo(.25*b,.5*c);a.lineTo(.75*b,.5*c);b=a.o;b.A=new L(.25,0);b.B=new L(.75,.5);u.q(a);return b},LogicIsDefinedAs:function(a,b,c){a=u.p();M(a,0,0,!1);a.lineTo(b,0);a.moveTo(0,.5*c);a.lineTo(b,.5*c);a.moveTo(0,c);a.lineTo(b,c);b=a.o;b.A=new L(.01,.01);b.B=new L(.99,.49);u.q(a);return b},LogicIntersect:function(a,b,c){var d=.5*K.ta;a=u.p();M(a,0,1*c,!1);a.lineTo(0,.5*c);O(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);O(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);a.lineTo(1*b,1*c);b=
		a.o;b.A=new L(0,.5);b.B=Vb;u.q(a);return b},LogicUnion:function(a,b,c){var d=.5*K.ta;a=u.p();M(a,1*b,0,!1);a.lineTo(1*b,.5*c);O(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);O(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);a.lineTo(0,0);b=a.o;b.A=xb;b.B=new L(1,.5);u.q(a);return b},Arrow:function(a,b,c){var d=a?a.wc:NaN,e=a?a.ft:NaN;isNaN(d)&&(d=.3);isNaN(e)&&(e=.3);a=u.p();M(a,0,(.5-e/2)*c,!0);a.lineTo((1-d)*b,(.5-e/2)*c);a.lineTo((1-d)*b,0);a.lineTo(1*b,.5*c);a.lineTo((1-d)*b,1*c);a.lineTo((1-d)*b,(.5+e/2)*c);a.lineTo(0,
		(.5+e/2)*c);P(a);b=a.o;b.A=new L(0,.5-e/2);d=K.al(0,.5+e/2,1,.5+e/2,1-d,1,1,.5,u.K());b.B=new L(d.x,d.y);u.v(d);u.q(a);return b},ISOProcess:"Chevron",Chevron:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(.5*b,0);a.lineTo(1*b,.5*c);a.lineTo(.5*b,1*c);a.lineTo(0,1*c);a.lineTo(.5*b,.5*c);P(a);b=a.o;u.q(a);return b},DoubleArrow:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(.3*b,.214*c);a.lineTo(.3*b,0);a.lineTo(1*b,.5*c);a.lineTo(.3*b,1*c);a.lineTo(.3*b,.786*c);a.lineTo(0,1*c);P(a);M(a,.3*b,.214*c,!1);
		a.lineTo(.3*b,.786*c);a.$a(!1);b=a.o;u.q(a);return b},DoubleEndArrow:function(a,b,c){a=u.p();M(a,1*b,.5*c,!0);a.lineTo(.7*b,1*c);a.lineTo(.7*b,.7*c);a.lineTo(.3*b,.7*c);a.lineTo(.3*b,1*c);a.lineTo(0,.5*c);a.lineTo(.3*b,0);a.lineTo(.3*b,.3*c);a.lineTo(.7*b,.3*c);a.lineTo(.7*b,0);P(a);b=a.o;c=K.al(0,.5,.3,0,0,.3,.3,.3,u.K());b.A=new L(c.x,c.y);c=K.al(.7,1,1,.5,.7,.7,1,.7,c);b.B=new L(c.x,c.y);u.v(c);u.q(a);return b},IBeamArrow:function(a,b,c){a=u.p();M(a,1*b,.5*c,!0);a.lineTo(.7*b,1*c);a.lineTo(.7*
		b,.7*c);a.lineTo(.2*b,.7*c);a.lineTo(.2*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(.2*b,0);a.lineTo(.2*b,.3*c);a.lineTo(.7*b,.3*c);a.lineTo(.7*b,0);P(a);b=a.o;b.A=new L(0,.3);c=K.al(.7,1,1,.5,.7,.7,1,.7,u.K());b.B=new L(c.x,c.y);u.v(c);u.q(a);return b},Pointer:function(a,b,c){a=u.p();M(a,1*b,.5*c,!0);a.lineTo(0,1*c);a.lineTo(.2*b,.5*c);a.lineTo(0,0);P(a);b=a.o;b.A=new L(.2,.35);c=K.al(.2,.65,1,.65,0,1,1,.5,u.K());b.B=new L(c.x,c.y);u.v(c);u.q(a);return b},RoundedPointer:function(a,b,c){a=u.p();
		M(a,1*b,.5*c,!0);a.lineTo(0,1*c);O(a,.5*b,.75*c,.5*b,.25*c,0,0);P(a);b=a.o;b.A=new L(.4,.35);c=K.al(.2,.65,1,.65,0,1,1,.5,u.K());b.B=new L(c.x,c.y);u.v(c);u.q(a);return b},SplitEndArrow:function(a,b,c){a=u.p();M(a,1*b,.5*c,!0);a.lineTo(.7*b,1*c);a.lineTo(.7*b,.7*c);a.lineTo(0,.7*c);a.lineTo(.2*b,.5*c);a.lineTo(0,.3*c);a.lineTo(.7*b,.3*c);a.lineTo(.7*b,0);P(a);b=a.o;b.A=new L(.2,.3);c=K.al(.7,1,1,.5,.7,.7,1,.7,u.K());b.B=new L(c.x,c.y);u.v(c);u.q(a);return b},MessageToUser:"SquareArrow",SquareArrow:function(a,
																																																																																																																																		b,c){a=u.p();M(a,1*b,.5*c,!0);a.lineTo(.7*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(.7*b,0);P(a);b=a.o;b.A=xb;b.B=new L(.7,1);u.q(a);return b},Cone1:function(a,b,c){var d=K.ta;a=.5*d;var e=.1*d,d=u.p();M(d,0,.9*c,!0);d.lineTo(.5*b,0);d.lineTo(1*b,.9*c);O(d,1*b,(.9+e)*c,(.5+a)*b,1*c,.5*b,1*c);O(d,(.5-a)*b,1*c,0,(.9+e)*c,0,.9*c);P(d);b=d.o;b.A=new L(.25,.5);b.B=new L(.75,.97);u.q(d);return b},Cone2:function(a,b,c){a=u.p();M(a,0,.9*c,!0);O(a,(1-.85/.9)*b,1*c,.85/.9*b,1*c,1*b,.9*c);a.lineTo(.5*b,
		0);a.lineTo(0,.9*c);P(a);M(a,0,.9*c,!1);O(a,(1-.85/.9)*b,.8*c,.85/.9*b,.8*c,1*b,.9*c);a.$a(!1);b=a.o;b.A=new L(.25,.5);b.B=new L(.75,.82);u.q(a);return b},Cube1:function(a,b,c){a=u.p();M(a,.5*b,1*c,!0);a.lineTo(1*b,.85*c);a.lineTo(1*b,.15*c);a.lineTo(.5*b,0*c);a.lineTo(0*b,.15*c);a.lineTo(0*b,.85*c);P(a);M(a,.5*b,1*c,!1);a.lineTo(.5*b,.3*c);a.lineTo(0,.15*c);a.moveTo(.5*b,.3*c);a.lineTo(1*b,.15*c);a.$a(!1);b=a.o;b.A=new L(0,.3);b.B=new L(.5,.85);u.q(a);return b},Cube2:function(a,b,c){a=u.p();M(a,
		0,.3*c,!0);a.lineTo(0*b,1*c);a.lineTo(.7*b,c);a.lineTo(1*b,.7*c);a.lineTo(1*b,0*c);a.lineTo(.3*b,0*c);P(a);M(a,0,.3*c,!1);a.lineTo(.7*b,.3*c);a.lineTo(1*b,0*c);a.moveTo(.7*b,.3*c);a.lineTo(.7*b,1*c);a.$a(!1);b=a.o;b.A=new L(0,.3);b.B=new L(.7,1);u.q(a);return b},MagneticData:"Cylinder1",Cylinder1:function(a,b,c){var d=K.ta;a=.5*d;var e=.1*d,d=u.p();M(d,0,.1*c,!0);O(d,0,(.1-e)*c,(.5-a)*b,0,.5*b,0);O(d,(.5+a)*b,0,1*b,(.1-e)*c,1*b,.1*c);d.lineTo(b,.9*c);O(d,1*b,(.9+e)*c,(.5+a)*b,1*c,.5*b,1*c);O(d,(.5-
		a)*b,1*c,0,(.9+e)*c,0,.9*c);d.lineTo(0,.1*c);M(d,0,.1*c,!1);O(d,0,(.1+e)*c,(.5-a)*b,.2*c,.5*b,.2*c);O(d,(.5+a)*b,.2*c,1*b,(.1+e)*c,1*b,.1*c);d.$a(!1);b=d.o;b.A=new L(0,.2);b.B=new L(1,.9);u.q(d);return b},Cylinder2:function(a,b,c){var d=K.ta;a=.5*d;var e=.1*d,d=u.p();M(d,0,.9*c,!0);d.lineTo(0,.1*c);O(d,0,(.1-e)*c,(.5-a)*b,0,.5*b,0);O(d,(.5+a)*b,0,1*b,(.1-e)*c,1*b,.1*c);d.lineTo(1*b,.9*c);O(d,1*b,(.9+e)*c,(.5+a)*b,1*c,.5*b,1*c);O(d,(.5-a)*b,1*c,0,(.9+e)*c,0,.9*c);M(d,0,.9*c,!1);O(d,0,(.9-e)*c,(.5-
		a)*b,.8*c,.5*b,.8*c);O(d,(.5+a)*b,.8*c,1*b,(.9-e)*c,1*b,.9*c);d.$a(!1);b=d.o;b.A=new L(0,.1);b.B=new L(1,.8);u.q(d);return b},Cylinder3:function(a,b,c){var d=K.ta;a=.1*d;var e=.5*d,d=u.p();M(d,.1*b,0,!0);d.lineTo(.9*b,0);O(d,(.9+a)*b,0,1*b,(.5-e)*c,1*b,.5*c);O(d,1*b,(.5+e)*c,(.9+a)*b,1*c,.9*b,1*c);d.lineTo(.1*b,1*c);O(d,(.1-a)*b,1*c,0,(.5+e)*c,0,.5*c);O(d,0,(.5-e)*c,(.1-a)*b,0,.1*b,0);M(d,.1*b,0,!1);O(d,(.1+a)*b,0,.2*b,(.5-e)*c,.2*b,.5*c);O(d,.2*b,(.5+e)*c,(.1+a)*b,1*c,.1*b,1*c);d.$a(!1);b=d.o;b.A=
		new L(.2,0);b.B=new L(.9,1);u.q(d);return b},DirectData:"Cylinder4",Cylinder4:function(a,b,c){var d=K.ta;a=.1*d;var e=.5*d,d=u.p();M(d,.9*b,0,!0);O(d,(.9+a)*b,0,1*b,(.5-e)*c,1*b,.5*c);O(d,1*b,(.5+e)*c,(.9+a)*b,1*c,.9*b,1*c);d.lineTo(.1*b,1*c);O(d,(.1-a)*b,1*c,0,(.5+e)*c,0,.5*c);O(d,0,(.5-e)*c,(.1-a)*b,0,.1*b,0);d.lineTo(.9*b,0);M(d,.9*b,0,!1);O(d,(.9-a)*b,0,.8*b,(.5-e)*c,.8*b,.5*c);O(d,.8*b,(.5+e)*c,(.9-a)*b,1*c,.9*b,1*c);d.$a(!1);b=d.o;b.A=new L(.1,0);b.B=new L(.8,1);u.q(d);return b},Prism1:function(a,
																																																																																																																																  b,c){a=u.p();M(a,.25*b,.25*c,!0);a.lineTo(.75*b,0);a.lineTo(b,.5*c);a.lineTo(.5*b,c);a.lineTo(0,c);P(a);M(a,.25*b,.25*c,!1);a.lineTo(.5*b,c);a.$a(!1);b=a.o;b.A=new L(.408,.172);b.B=new L(.833,.662);u.q(a);return b},Prism2:function(a,b,c){a=u.p();M(a,0,.25*c,!0);a.lineTo(.75*b,0);a.lineTo(1*b,.25*c);a.lineTo(.75*b,.75*c);a.lineTo(0,1*c);P(a);M(a,0,c,!1);a.lineTo(.25*b,.5*c);a.lineTo(b,.25*c);a.moveTo(0,.25*c);a.lineTo(.25*b,.5*c);a.$a(!1);b=a.o;b.A=new L(.25,.5);b.B=new L(.75,.75);u.q(a);return b},
		Pyramid1:function(a,b,c){a=u.p();M(a,.5*b,0,!0);a.lineTo(b,.75*c);a.lineTo(.5*b,1*c);a.lineTo(0,.75*c);P(a);M(a,.5*b,0,!1);a.lineTo(.5*b,1*c);a.$a(!1);b=a.o;b.A=new L(.25,.367);b.B=new L(.75,.875);u.q(a);return b},Pyramid2:function(a,b,c){a=u.p();M(a,.5*b,0,!0);a.lineTo(b,.85*c);a.lineTo(.5*b,1*c);a.lineTo(0,.85*c);P(a);M(a,.5*b,0,!1);a.lineTo(.5*b,.7*c);a.lineTo(0,.85*c);a.moveTo(.5*b,.7*c);a.lineTo(1*b,.85*c);a.$a(!1);b=a.o;b.A=new L(.25,.367);b.B=new L(.75,.875);u.q(a);return b},Actor:function(a,
																																																																																																																															  b,c){var d=K.ta,e=.2*d,f=.1*d,h=.5,k=.1;a=u.p();M(a,h*b,(k+.1)*c,!0);O(a,(h-e)*b,(k+.1)*c,(h-.2)*b,(k+f)*c,(h-.2)*b,k*c);O(a,(h-.2)*b,(k-f)*c,(h-e)*b,(k-.1)*c,h*b,(k-.1)*c);O(a,(h+e)*b,(k-.1)*c,(h+.2)*b,(k-f)*c,(h+.2)*b,k*c);O(a,(h+.2)*b,(k+f)*c,(h+e)*b,(k+.1)*c,h*b,(k+.1)*c);e=.05;f=d*e;M(a,.5*b,.2*c,!0);a.lineTo(.95*b,.2*c);h=.95;k=.25;O(a,(h+f)*b,(k-e)*c,(h+e)*b,(k-f)*c,(h+e)*b,k*c);a.lineTo(1*b,.6*c);a.lineTo(.85*b,.6*c);a.lineTo(.85*b,.35*c);e=.025;f=d*e;h=.825;k=.35;O(a,(h+e)*b,(k-f)*c,(h+f)*
			b,(k-e)*c,h*b,(k-e)*c);O(a,(h-f)*b,(k-e)*c,(h-e)*b,(k-f)*c,(h-e)*b,k*c);a.lineTo(.8*b,1*c);a.lineTo(.55*b,1*c);a.lineTo(.55*b,.7*c);e=.05;f=d*e;h=.5;k=.7;O(a,(h+e)*b,(k-f)*c,(h+f)*b,(k-e)*c,h*b,(k-e)*c);O(a,(h-f)*b,(k-e)*c,(h-e)*b,(k-f)*c,(h-e)*b,k*c);a.lineTo(.45*b,1*c);a.lineTo(.2*b,1*c);a.lineTo(.2*b,.35*c);e=.025;f=d*e;h=.175;k=.35;O(a,(h+e)*b,(k-f)*c,(h+f)*b,(k-e)*c,h*b,(k-e)*c);O(a,(h-f)*b,(k-e)*c,(h-e)*b,(k-f)*c,(h-e)*b,k*c);a.lineTo(.15*b,.6*c);a.lineTo(0*b,.6*c);a.lineTo(0*b,.25*c);e=.05;
			f=d*e;h=.05;k=.25;O(a,(h-e)*b,(k-f)*c,(h-f)*b,(k-e)*c,h*b,(k-e)*c);a.lineTo(.5*b,.2*c);b=a.o;b.A=new L(.2,.2);b.B=new L(.8,.65);u.q(a);return b},Card:function(a,b,c){a=u.p();M(a,1*b,0*c,!0);a.lineTo(1*b,1*c);a.lineTo(0*b,1*c);a.lineTo(0*b,.2*c);a.lineTo(.2*b,0*c);P(a);b=a.o;b.A=new L(0,.2);b.B=Vb;u.q(a);return b},Collate:function(a,b,c){a=u.p();M(a,.5*b,.5*c,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(.5*b,.5*c);M(a,.5*b,.5*c,!0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(.5*b,.5*c);b=a.o;b.A=new L(.25,
			0);b.B=new L(.75,.25);u.q(a);return b},CreateRequest:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&(a=.1);var d=u.p();M(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);P(d);M(d,0,a*c,!1);d.lineTo(1*b,a*c);d.moveTo(0,(1-a)*c);d.lineTo(1*b,(1-a)*c);d.$a(!1);b=d.o;b.A=new L(0,a);b.B=new L(1,1-a);u.q(d);return b},Database:function(a,b,c){a=u.p();var d=K.ta,e=.5*d,d=.1*d;M(a,1*b,.1*c,!0);a.lineTo(1*b,.9*c);O(a,1*b,(.9+d)*c,(.5+e)*b,1*c,.5*b,1*c);O(a,(.5-e)*b,1*c,0,(.9+d)*c,0,.9*c);a.lineTo(0,.1*c);
			O(a,0,(.1-d)*c,(.5-e)*b,0,.5*b,0);O(a,(.5+e)*b,0,1*b,(.1-d)*c,1*b,.1*c);M(a,1*b,.1*c,!1);O(a,1*b,(.1+d)*c,(.5+e)*b,.2*c,.5*b,.2*c);O(a,(.5-e)*b,.2*c,0,(.1+d)*c,0,.1*c);a.moveTo(1*b,.2*c);O(a,1*b,(.2+d)*c,(.5+e)*b,.3*c,.5*b,.3*c);O(a,(.5-e)*b,.3*c,0,(.2+d)*c,0,.2*c);a.moveTo(1*b,.3*c);O(a,1*b,(.3+d)*c,(.5+e)*b,.4*c,.5*b,.4*c);O(a,(.5-e)*b,.4*c,0,(.3+d)*c,0,.3*c);a.$a(!1);b=a.o;b.A=new L(0,.4);b.B=new L(1,.9);u.q(a);return b},StoredData:"DataStorage",DataStorage:function(a,b,c){a=u.p();M(a,0,0,!0);
			a.lineTo(.75*b,0);O(a,1*b,0,1*b,1*c,.75*b,1*c);a.lineTo(0,1*c);O(a,.25*b,.9*c,.25*b,.1*c,0,0);P(a);b=a.o;b.A=new L(.226,0);b.B=new L(.81,1);u.q(a);return b},DiskStorage:function(a,b,c){a=u.p();var d=K.ta,e=.5*d,d=.1*d;M(a,1*b,.1*c,!0);a.lineTo(1*b,.9*c);O(a,1*b,(.9+d)*c,(.5+e)*b,1*c,.5*b,1*c);O(a,(.5-e)*b,1*c,0,(.9+d)*c,0,.9*c);a.lineTo(0,.1*c);O(a,0,(.1-d)*c,(.5-e)*b,0,.5*b,0);O(a,(.5+e)*b,0,1*b,(.1-d)*c,1*b,.1*c);M(a,1*b,.1*c,!1);O(a,1*b,(.1+d)*c,(.5+e)*b,.2*c,.5*b,.2*c);O(a,(.5-e)*b,.2*c,0,(.1+
			d)*c,0,.1*c);a.moveTo(1*b,.2*c);O(a,1*b,(.2+d)*c,(.5+e)*b,.3*c,.5*b,.3*c);O(a,(.5-e)*b,.3*c,0,(.2+d)*c,0,.2*c);a.$a(!1);b=a.o;b.A=new L(0,.3);b.B=new L(1,.9);u.q(a);return b},Display:function(a,b,c){a=u.p();M(a,.25*b,0,!0);a.lineTo(.75*b,0);O(a,1*b,0,1*b,1*c,.75*b,1*c);a.lineTo(.25*b,1*c);a.lineTo(0,.5*c);P(a);b=a.o;b.A=new L(.25,0);b.B=new L(.75,1);u.q(a);return b},DividedEvent:function(a,b,c){a=a?a.wc:NaN;isNaN(a)?a=.2:.15>a&&(a=.15);var d=u.p(),e=.2*K.ta;M(d,0,.2*c,!0);O(d,0,(.2-e)*c,(.2-e)*b,
			0,.2*b,0);d.lineTo(.8*b,0);O(d,(.8+e)*b,0,1*b,(.2-e)*c,1*b,.2*c);d.lineTo(1*b,.8*c);O(d,1*b,(.8+e)*c,(.8+e)*b,1*c,.8*b,1*c);d.lineTo(.2*b,1*c);O(d,(.2-e)*b,1*c,0,(.8+e)*c,0,.8*c);d.lineTo(0,.2*c);M(d,0,a*c,!1);d.lineTo(1*b,a*c);d.$a(!1);b=d.o;b.A=new L(0,a);b.B=new L(1,1-a);u.q(d);return b},DividedProcess:function(a,b,c){a=a?a.wc:NaN;if(isNaN(a)||.1>a)a=.1;var d=u.p();M(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);P(d);M(d,0,a*c,!1);d.lineTo(1*b,a*c);d.$a(!1);b=d.o;b.A=new L(0,a);b.B=
			Vb;u.q(d);return b},Document:function(a,b,c){c/=.8;a=u.p();M(a,0,.7*c,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,.7*c);O(a,.5*b,.4*c,.5*b,1*c,0,.7*c);P(a);b=a.o;b.A=xb;b.B=new L(1,.6);u.q(a);return b},ExternalOrganization:function(a,b,c){a=a?a.wc:NaN;if(isNaN(a)||.2>a)a=.2;var d=u.p();M(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);P(d);M(d,a*b,0,!1);d.lineTo(0,a*c);d.moveTo(1*b,a*c);d.lineTo((1-a)*b,0);d.moveTo(0,(1-a)*c);d.lineTo(a*b,1*c);d.moveTo((1-a)*b,1*c);d.lineTo(1*b,(1-
			a)*c);d.$a(!1);b=d.o;b.A=new L(a/2,a/2);b.B=new L(1-a/2,1-a/2);u.q(d);return b},ExternalProcess:function(a,b,c){a=u.p();M(a,.5*b,0,!0);a.lineTo(1*b,.5*c);a.lineTo(.5*b,1*c);a.lineTo(0,.5*c);P(a);M(a,.1*b,.4*c,!1);a.lineTo(.1*b,.6*c);a.moveTo(.9*b,.6*c);a.lineTo(.9*b,.4*c);a.moveTo(.6*b,.1*c);a.lineTo(.4*b,.1*c);a.moveTo(.4*b,.9*c);a.lineTo(.6*b,.9*c);a.$a(!1);b=a.o;b.A=new L(.25,.25);b.B=new L(.75,.75);u.q(a);return b},File:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(.75*b,0);a.lineTo(1*b,.25*c);
			a.lineTo(1*b,1*c);a.lineTo(0,1*c);P(a);M(a,.75*b,0,!1);a.lineTo(.75*b,.25*c);a.lineTo(1*b,.25*c);a.$a(!1);b=a.o;b.A=new L(0,.25);b.B=Vb;u.q(a);return b},Interrupt:function(a,b,c){a=u.p();M(a,1*b,.5*c,!0);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,.5*c);M(a,1*b,.5*c,!1);a.lineTo(1*b,1*c);M(a,1*b,.5*c,!1);a.lineTo(1*b,0);b=a.o;b.A=new L(0,.25);b.B=new L(.5,.75);u.q(a);return b},InternalStorage:function(a,b,c){var d=a?a.wc:NaN;a=a?a.ft:NaN;isNaN(d)&&(d=.1);isNaN(a)&&(a=.1);var e=u.p();M(e,0,0,!0);e.lineTo(1*
			b,0);e.lineTo(1*b,1*c);e.lineTo(0,1*c);P(e);M(e,d*b,0,!1);e.lineTo(d*b,1*c);e.moveTo(0,a*c);e.lineTo(1*b,a*c);e.$a(!1);b=e.o;b.A=new L(d,a);b.B=Vb;u.q(e);return b},Junction:function(a,b,c){a=u.p();var d=1/Math.SQRT2,e=(1-1/Math.SQRT2)/2,f=.5*K.ta;M(a,1*b,.5*c,!0);O(a,1*b,(.5+f)*c,(.5+f)*b,1*c,.5*b,1*c);O(a,(.5-f)*b,1*c,0,(.5+f)*c,0,.5*c);O(a,0,(.5-f)*c,(.5-f)*b,0,.5*b,0);O(a,(.5+f)*b,0,1*b,(.5-f)*c,1*b,.5*c);M(a,(e+d)*b,(e+d)*c,!1);a.lineTo(e*b,e*c);a.moveTo(e*b,(e+d)*c);a.lineTo((e+d)*b,e*c);a.$a(!1);
			b=a.o;b.Cd=sh;u.q(a);return b},LinedDocument:function(a,b,c){c/=.8;a=u.p();M(a,0,.7*c,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,.7*c);O(a,.5*b,.4*c,.5*b,1*c,0,.7*c);P(a);M(a,.1*b,0,!1);a.lineTo(.1*b,.75*c);a.$a(!1);b=a.o;b.A=new L(.1,0);b.B=new L(1,.6);u.q(a);return b},LoopLimit:function(a,b,c){a=u.p();M(a,0,1*c,!0);a.lineTo(0,.25*c);a.lineTo(.25*b,0);a.lineTo(.75*b,0);a.lineTo(1*b,.25*c);a.lineTo(1*b,1*c);P(a);b=a.o;b.A=new L(0,.25);b.B=Vb;u.q(a);return b},SequentialData:"MagneticTape",MagneticTape:function(a,
																																																																																																																																				   b,c){a=u.p();var d=.5*K.ta;M(a,.5*b,1*c,!0);O(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);O(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);O(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);O(a,1*b,(.5+d)*c,(.5+d)*b,.9*c,.6*b,.9*c);a.lineTo(1*b,.9*c);a.lineTo(1*b,1*c);a.lineTo(.5*b,1*c);b=a.o;b.A=new L(.15,.15);b.B=new L(.85,.8);u.q(a);return b},ManualInput:function(a,b,c){a=u.p();M(a,1*b,0,!0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,.25*c);P(a);b=a.o;b.A=new L(0,.25);b.B=Vb;u.q(a);return b},MessageFromUser:function(a,b,c){a=a?a.wc:
			NaN;isNaN(a)&&(a=.7);var d=u.p();M(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(a*b,.5*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);P(d);b=d.o;b.A=xb;b.B=new L(a,1);u.q(d);return b},MicroformProcessing:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&(a=.25);var d=u.p();M(d,0,0,!0);d.lineTo(.5*b,a*c);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(.5*b,(1-a)*c);d.lineTo(0,1*c);P(d);b=d.o;b.A=new L(0,a);b.B=new L(1,1-a);u.q(d);return b},MicroformRecording:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(.75*b,.25*c);a.lineTo(1*b,.15*
			c);a.lineTo(1*b,.85*c);a.lineTo(.75*b,.75*c);a.lineTo(0,1*c);P(a);b=a.o;b.A=new L(0,.25);b.B=new L(1,.75);u.q(a);return b},MultiDocument:function(a,b,c){c/=.8;a=u.p();M(a,b,0,!0);a.lineTo(b,.5*c);O(a,.96*b,.47*c,.93*b,.45*c,.9*b,.44*c);a.lineTo(.9*b,.6*c);O(a,.86*b,.57*c,.83*b,.55*c,.8*b,.54*c);a.lineTo(.8*b,.7*c);O(a,.4*b,.4*c,.4*b,1*c,0,.7*c);a.lineTo(0,.2*c);a.lineTo(.1*b,.2*c);a.lineTo(.1*b,.1*c);a.lineTo(.2*b,.1*c);a.lineTo(.2*b,0);P(a);M(a,.1*b,.2*c,!1);a.lineTo(.8*b,.2*c);a.lineTo(.8*b,.54*
			c);a.moveTo(.2*b,.1*c);a.lineTo(.9*b,.1*c);a.lineTo(.9*b,.44*c);a.$a(!1);b=a.o;b.A=new L(0,.25);b.B=new L(.8,.77);u.q(a);return b},MultiProcess:function(a,b,c){a=u.p();M(a,.1*b,.1*c,!0);a.lineTo(.2*b,.1*c);a.lineTo(.2*b,0);a.lineTo(1*b,0);a.lineTo(1*b,.8*c);a.lineTo(.9*b,.8*c);a.lineTo(.9*b,.9*c);a.lineTo(.8*b,.9*c);a.lineTo(.8*b,1*c);a.lineTo(0,1*c);a.lineTo(0,.2*c);a.lineTo(.1*b,.2*c);P(a);M(a,.2*b,.1*c,!1);a.lineTo(.9*b,.1*c);a.lineTo(.9*b,.8*c);a.moveTo(.1*b,.2*c);a.lineTo(.8*b,.2*c);a.lineTo(.8*
			b,.9*c);a.$a(!1);b=a.o;b.A=new L(0,.2);b.B=new L(.8,1);u.q(a);return b},OfflineStorage:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&(a=.1);var d=1-a,e=u.p();M(e,0,0,!0);e.lineTo(1*b,0);e.lineTo(.5*b,1*c);P(e);M(e,.5*a*b,a*c,!1);e.lineTo((1-.5*a)*b,a*c);e.$a(!1);b=e.o;b.A=new L(d/4+.5*a,a);b.B=new L(3*d/4+.5*a,a+.5*d);u.q(e);return b},OffPageConnector:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(.75*b,0);a.lineTo(1*b,.5*c);a.lineTo(.75*b,1*c);a.lineTo(0,1*c);P(a);b=a.o;b.A=xb;b.B=new L(.75,1);u.q(a);return b},
		Or:function(a,b,c){a=u.p();var d=.5*K.ta;M(a,1*b,.5*c,!0);O(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);O(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);O(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);O(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);M(a,1*b,.5*c,!1);a.lineTo(0,.5*c);a.moveTo(.5*b,1*c);a.lineTo(.5*b,0);a.$a(!1);b=a.o;b.Cd=sh;u.q(a);return b},PaperTape:function(a,b,c){c/=.8;a=u.p();M(a,0,.7*c,!0);a.lineTo(0,.3*c);O(a,.5*b,.6*c,.5*b,0,1*b,.3*c);a.lineTo(1*b,.7*c);O(a,.5*b,.4*c,.5*b,1*c,0,.7*c);P(a);b=a.o;b.A=new L(0,.49);b.B=
			new L(1,.75);u.q(a);return b},PrimitiveFromCall:function(a,b,c){var d=a?a.wc:NaN;a=a?a.ft:NaN;isNaN(d)&&(d=.1);isNaN(a)&&(a=.3);var e=u.p();M(e,0,0,!0);e.lineTo(1*b,0);e.lineTo((1-a)*b,.5*c);e.lineTo(1*b,1*c);e.lineTo(0,1*c);P(e);b=e.o;b.A=new L(d,0);b.B=new L(1-a,1);u.q(e);return b},PrimitiveToCall:function(a,b,c){var d=a?a.wc:NaN;a=a?a.ft:NaN;isNaN(d)&&(d=.1);isNaN(a)&&(a=.3);var e=u.p();M(e,0,0,!0);e.lineTo((1-a)*b,0);e.lineTo(1*b,.5*c);e.lineTo((1-a)*b,1*c);e.lineTo(0,1*c);P(e);b=e.o;b.A=new L(d,
			0);b.B=new L(1-a,1);u.q(e);return b},Subroutine:"Procedure",Procedure:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&(a=.1);var d=u.p();M(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);P(d);M(d,(1-a)*b,0,!1);d.lineTo((1-a)*b,1*c);d.moveTo(a*b,0);d.lineTo(a*b,1*c);d.$a(!1);b=d.o;b.A=new L(a,0);b.B=new L(1-a,1);u.q(d);return b},Process:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&(a=.1);var d=u.p();M(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);P(d);M(d,a*b,0,!1);d.lineTo(a*b,1*c);d.$a(!1);
			b=d.o;b.A=new L(a,0);b.B=Vb;u.q(d);return b},Sort:function(a,b,c){a=u.p();M(a,.5*b,0,!0);a.lineTo(1*b,.5*c);a.lineTo(.5*b,1*c);a.lineTo(0,.5*c);P(a);M(a,0,.5*c,!1);a.lineTo(1*b,.5*c);a.$a(!1);b=a.o;b.A=new L(.25,.25);b.B=new L(.75,.5);u.q(a);return b},Start:function(a,b,c){a=u.p();M(a,.25*b,0,!0);M(a,.25*b,0,!0);a.arcTo(270,180,.75*b,.5*c,.25*b,.5*c);a.arcTo(90,180,.25*b,.5*c,.25*b,.5*c);M(a,.25*b,0,!1);a.lineTo(.25*b,1*c);a.moveTo(.75*b,0);a.lineTo(.75*b,1*c);a.$a(!1);b=a.o;b.A=new L(.25,0);b.B=
			new L(.75,1);u.q(a);return b},Terminator:function(a,b,c){a=u.p();M(a,.25*b,0,!0);a.arcTo(270,180,.75*b,.5*c,.25*b,.5*c);a.arcTo(90,180,.25*b,.5*c,.25*b,.5*c);b=a.o;b.A=new L(.23,0);b.B=new L(.77,1);u.q(a);return b},TransmittalTape:function(a,b,c){a=a?a.wc:NaN;isNaN(a)&&(a=.1);var d=u.p();M(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(.75*b,(1-a)*c);d.lineTo(0,(1-a)*c);P(d);b=d.o;b.A=xb;b.B=new L(1,1-a);u.q(d);return b},AndGate:function(a,b,c){a=u.p();var d=.5*K.ta;M(a,0,0,!0);a.lineTo(.5*
			b,0);O(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);O(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);a.lineTo(0,1*c);P(a);b=a.o;b.A=xb;b.B=new L(.55,1);u.q(a);return b},Buffer:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(1*b,.5*c);a.lineTo(0,1*c);P(a);b=a.o;b.A=new L(0,.25);b.B=new L(.5,.75);u.q(a);return b},Clock:function(a,b,c){a=u.p();var d=.5*K.ta;M(a,1*b,.5*c,!0);O(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);O(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);O(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);O(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);
			M(a,1*b,.5*c,!1);a.lineTo(1*b,.5*c);M(a,.8*b,.75*c,!1);a.lineTo(.8*b,.25*c);a.lineTo(.6*b,.25*c);a.lineTo(.6*b,.75*c);a.lineTo(.4*b,.75*c);a.lineTo(.4*b,.25*c);a.lineTo(.2*b,.25*c);a.lineTo(.2*b,.75*c);a.$a(!1);b=a.o;b.Cd=sh;u.q(a);return b},Ground:function(a,b,c){a=u.p();M(a,.5*b,0,!1);a.lineTo(.5*b,.4*c);a.moveTo(.2*b,.6*c);a.lineTo(.8*b,.6*c);a.moveTo(.3*b,.8*c);a.lineTo(.7*b,.8*c);a.moveTo(.4*b,1*c);a.lineTo(.6*b,1*c);b=a.o;u.q(a);return b},Inverter:function(a,b,c){a=u.p();var d=.1*K.ta;M(a,.8*
			b,.5*c,!0);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(.8*b,.5*c);M(a,1*b,.5*c,!0);O(a,1*b,(.5+d)*c,(.9+d)*b,.6*c,.9*b,.6*c);O(a,(.9-d)*b,.6*c,.8*b,(.5+d)*c,.8*b,.5*c);O(a,.8*b,(.5-d)*c,(.9-d)*b,.4*c,.9*b,.4*c);O(a,(.9+d)*b,.4*c,1*b,(.5-d)*c,1*b,.5*c);b=a.o;b.A=new L(0,.25);b.B=new L(.4,.75);u.q(a);return b},NandGate:function(a,b,c){a=u.p();var d=K.ta,e=.5*d,f=.4*d,d=.1*d;M(a,.8*b,.5*c,!0);O(a,.8*b,(.5+f)*c,(.4+e)*b,1*c,.4*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(.4*b,0);O(a,(.4+e)*b,0,.8*b,(.5-f)*
			c,.8*b,.5*c);M(a,1*b,.5*c,!0);O(a,1*b,(.5+d)*c,(.9+d)*b,.6*c,.9*b,.6*c);O(a,(.9-d)*b,.6*c,.8*b,(.5+d)*c,.8*b,.5*c);O(a,.8*b,(.5-d)*c,(.9-d)*b,.4*c,.9*b,.4*c);O(a,(.9+d)*b,.4*c,1*b,(.5-d)*c,1*b,.5*c);b=a.o;b.A=new L(0,.05);b.B=new L(.55,.95);u.q(a);return b},NorGate:function(a,b,c){a=u.p();var d=K.ta,e=.5,f=d*e,h=0,k=.5;M(a,.8*b,.5*c,!0);O(a,.7*b,(k+f)*c,(h+f)*b,(k+e)*c,0,1*c);O(a,.25*b,.75*c,.25*b,.25*c,0,0);O(a,(h+f)*b,(k-e)*c,.7*b,(k-f)*c,.8*b,.5*c);e=.1;f=.1*d;h=.9;k=.5;M(a,(h-e)*b,k*c,!0);O(a,
			(h-e)*b,(k-f)*c,(h-f)*b,(k-e)*c,h*b,(k-e)*c);O(a,(h+f)*b,(k-e)*c,(h+e)*b,(k-f)*c,(h+e)*b,k*c);O(a,(h+e)*b,(k+f)*c,(h+f)*b,(k+e)*c,h*b,(k+e)*c);O(a,(h-f)*b,(k+e)*c,(h-e)*b,(k+f)*c,(h-e)*b,k*c);b=a.o;b.A=new L(.2,.25);b.B=new L(.6,.75);u.q(a);return b},OrGate:function(a,b,c){a=u.p();var d=.5*K.ta;M(a,0,0,!0);O(a,(0+d+d)*b,0*c,.8*b,(.5-d)*c,1*b,.5*c);O(a,.8*b,(.5+d)*c,(0+d+d)*b,1*c,0,1*c);O(a,.25*b,.75*c,.25*b,.25*c,0,0);P(a);b=a.o;b.A=new L(.2,.25);b.B=new L(.75,.75);u.q(a);return b},XnorGate:function(a,
																																																																																																																																	 b,c){a=u.p();var d=K.ta,e=.5,f=d*e,h=.2,k=.5;M(a,.1*b,0,!1);O(a,.35*b,.25*c,.35*b,.75*c,.1*b,1*c);M(a,.8*b,.5*c,!0);O(a,.7*b,(k+f)*c,(h+f)*b,(k+e)*c,.2*b,1*c);O(a,.45*b,.75*c,.45*b,.25*c,.2*b,0);O(a,(h+f)*b,(k-e)*c,.7*b,(k-f)*c,.8*b,.5*c);e=.1;f=.1*d;h=.9;k=.5;M(a,(h-e)*b,k*c,!0);O(a,(h-e)*b,(k-f)*c,(h-f)*b,(k-e)*c,h*b,(k-e)*c);O(a,(h+f)*b,(k-e)*c,(h+e)*b,(k-f)*c,(h+e)*b,k*c);O(a,(h+e)*b,(k+f)*c,(h+f)*b,(k+e)*c,h*b,(k+e)*c);O(a,(h-f)*b,(k+e)*c,(h-e)*b,(k+f)*c,(h-e)*b,k*c);b=a.o;b.A=new L(.4,.25);
			b.B=new L(.65,.75);u.q(a);return b},XorGate:function(a,b,c){a=u.p();var d=.5*K.ta;M(a,.1*b,0,!1);O(a,.35*b,.25*c,.35*b,.75*c,.1*b,1*c);M(a,.2*b,0,!0);O(a,(.2+d)*b,0*c,.9*b,(.5-d)*c,1*b,.5*c);O(a,.9*b,(.5+d)*c,(.2+d)*b,1*c,.2*b,1*c);O(a,.45*b,.75*c,.45*b,.25*c,.2*b,0);P(a);b=a.o;b.A=new L(.4,.25);b.B=new L(.8,.75);u.q(a);return b},Capacitor:function(a,b,c){a=u.p();M(a,0,0,!1);a.lineTo(0,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);b=a.o;u.q(a);return b},Resistor:function(a,b,c){a=u.p();M(a,0,.5*c,!1);a.lineTo(.1*
			b,0);a.lineTo(.2*b,1*c);a.lineTo(.3*b,0);a.lineTo(.4*b,1*c);a.lineTo(.5*b,0);a.lineTo(.6*b,1*c);a.lineTo(.7*b,.5*c);b=a.o;u.q(a);return b},Inductor:function(a,b,c){a=u.p();var d=.1*K.ta,e=.1;M(a,(e-.5*d)*b,c,!1);O(a,(e-d)*b,c,(e-.1)*b,0,(e+.1)*b,0);e=.3;O(a,(e+.1)*b,0,(e+d)*b,c,e*b,c);O(a,(e-d)*b,c,(e-.1)*b,0,(e+.1)*b,0);e=.5;O(a,(e+.1)*b,0,(e+d)*b,c,e*b,c);O(a,(e-d)*b,c,(e-.1)*b,0,(e+.1)*b,0);e=.7;O(a,(e+.1)*b,0,(e+d)*b,c,e*b,c);O(a,(e-d)*b,c,(e-.1)*b,0,(e+.1)*b,0);e=.9;O(a,(e+.1)*b,0,(e+d)*b,c,
			(e+.5*d)*b,c);b=a.o;u.q(a);return b},ACvoltageSource:function(a,b,c){a=u.p();var d=.5*K.ta;M(a,0*b,.5*c,!1);O(a,0*b,(.5-d)*c,(.5-d)*b,0*c,.5*b,0*c);O(a,(.5+d)*b,0*c,1*b,(.5-d)*c,1*b,.5*c);O(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);O(a,(.5-d)*b,1*c,0*b,(.5+d)*c,0*b,.5*c);a.moveTo(.1*b,.5*c);O(a,.5*b,0*c,.5*b,1*c,.9*b,.5*c);b=a.o;b.Cd=sh;u.q(a);return b},DCvoltageSource:function(a,b,c){a=u.p();M(a,0,.75*c,!1);a.lineTo(0,.25*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);b=a.o;u.q(a);return b},Diode:function(a,b,
																																																																																																																															  c){a=u.p();M(a,1*b,0,!1);a.lineTo(1*b,.5*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,.5*c);a.lineTo(1*b,1*c);b=a.o;b.A=new L(0,.25);b.B=new L(.5,.75);u.q(a);return b},Wifi:function(a,b,c){var d=b,e=c;b*=.38;c*=.6;a=u.p();var f=K.ta,h=.8*f,k=.8,l=0,m=.5,d=(d-b)/2,e=(e-c)/2;M(a,l*b+d,(m+k)*c+e,!0);O(a,(l-h)*b+d,(m+k)*c+e,(l-k)*b+d,(m+h)*c+e,(l-k)*b+d,m*c+e);O(a,(l-k)*b+d,(m-h)*c+e,(l-h)*b+d,(m-k)*c+e,l*b+d,(m-k)*c+e);O(a,l*b+d,(m-k)*c+e,(l-k+.5*h)*b+d,(m-h)*c+e,(l-k+.5*h)*b+d,m*c+e);O(a,(l-k+.5*h)*
			b+d,(m+h)*c+e,l*b+d,(m+k)*c+e,l*b+d,(m+k)*c+e);P(a);h=.4*f;k=.4;l=.2;m=.5;M(a,l*b+d,(m+k)*c+e,!0);O(a,(l-h)*b+d,(m+k)*c+e,(l-k)*b+d,(m+h)*c+e,(l-k)*b+d,m*c+e);O(a,(l-k)*b+d,(m-h)*c+e,(l-h)*b+d,(m-k)*c+e,l*b+d,(m-k)*c+e);O(a,l*b+d,(m-k)*c+e,(l-k+.5*h)*b+d,(m-h)*c+e,(l-k+.5*h)*b+d,m*c+e);O(a,(l-k+.5*h)*b+d,(m+h)*c+e,l*b+d,(m+k)*c+e,l*b+d,(m+k)*c+e);P(a);h=.2*f;k=.2;m=l=.5;M(a,(l-k)*b+d,m*c+e,!0);O(a,(l-k)*b+d,(m-h)*c+e,(l-h)*b+d,(m-k)*c+e,l*b+d,(m-k)*c+e);O(a,(l+h)*b+d,(m-k)*c+e,(l+k)*b+d,(m-h)*c+e,
			(l+k)*b+d,m*c+e);O(a,(l+k)*b+d,(m+h)*c+e,(l+h)*b+d,(m+k)*c+e,l*b+d,(m+k)*c+e);O(a,(l-h)*b+d,(m+k)*c+e,(l-k)*b+d,(m+h)*c+e,(l-k)*b+d,m*c+e);h=.4*f;k=.4;l=.8;m=.5;M(a,l*b+d,(m-k)*c+e,!0);O(a,(l+h)*b+d,(m-k)*c+e,(l+k)*b+d,(m-h)*c+e,(l+k)*b+d,m*c+e);O(a,(l+k)*b+d,(m+h)*c+e,(l+h)*b+d,(m+k)*c+e,l*b+d,(m+k)*c+e);O(a,l*b+d,(m+k)*c+e,(l+k-.5*h)*b+d,(m+h)*c+e,(l+k-.5*h)*b+d,m*c+e);O(a,(l+k-.5*h)*b+d,(m-h)*c+e,l*b+d,(m-k)*c+e,l*b+d,(m-k)*c+e);P(a);h=.8*f;k=.8;l=1;m=.5;M(a,l*b+d,(m-k)*c+e,!0);O(a,(l+h)*b+d,(m-
			k)*c+e,(l+k)*b+d,(m-h)*c+e,(l+k)*b+d,m*c+e);O(a,(l+k)*b+d,(m+h)*c+e,(l+h)*b+d,(m+k)*c+e,l*b+d,(m+k)*c+e);O(a,l*b+d,(m+k)*c+e,(l+k-.5*h)*b+d,(m+h)*c+e,(l+k-.5*h)*b+d,m*c+e);O(a,(l+k-.5*h)*b+d,(m-h)*c+e,l*b+d,(m-k)*c+e,l*b+d,(m-k)*c+e);P(a);b=a.o;u.q(a);return b},Email:function(a,b,c){a=u.p();M(a,0,0,!0);a.lineTo(1*b,0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);P(a);M(a,0,0,!1);a.lineTo(.5*b,.6*c);a.lineTo(1*b,0);a.moveTo(0,1*c);a.lineTo(.45*b,.54*c);a.moveTo(1*b,1*c);a.lineTo(.55*b,.54*c);a.$a(!1);
			b=a.o;u.q(a);return b},Ethernet:function(a,b,c){a=u.p();M(a,.35*b,0,!0);a.lineTo(.65*b,0);a.lineTo(.65*b,.4*c);a.lineTo(.35*b,.4*c);a.lineTo(.35*b,0);P(a);M(a,.1*b,1*c,!0,!0);a.lineTo(.4*b,1*c);a.lineTo(.4*b,.6*c);a.lineTo(.1*b,.6*c);a.lineTo(.1*b,1*c);P(a);M(a,.6*b,1*c,!0,!0);a.lineTo(.9*b,1*c);a.lineTo(.9*b,.6*c);a.lineTo(.6*b,.6*c);a.lineTo(.6*b,1*c);P(a);M(a,0,.5*c,!1);a.lineTo(1*b,.5*c);a.moveTo(.5*b,.5*c);a.lineTo(.5*b,.4*c);a.moveTo(.75*b,.5*c);a.lineTo(.75*b,.6*c);a.moveTo(.25*b,.5*c);a.lineTo(.25*
			b,.6*c);a.$a(!1);b=a.o;u.q(a);return b},Power:function(a,b,c){a=u.p();var d=K.ta,e=.4*d,f=.4,h=u.K(),k=u.K(),l=u.K(),m=u.K();K.Bi(.5,.5-f,.5+e,.5-f,.5+f,.5-e,.5+f,.5,.5,h,h,k,l,m);var n=u.fc(k.x,k.y);M(a,k.x*b,k.y*c,!0);O(a,l.x*b,l.y*c,m.x*b,m.y*c,(.5+f)*b,.5*c);O(a,(.5+f)*b,(.5+e)*c,(.5+e)*b,(.5+f)*c,.5*b,(.5+f)*c);O(a,(.5-e)*b,(.5+f)*c,(.5-f)*b,(.5+e)*c,(.5-f)*b,.5*c);K.Bi(.5-f,.5,.5-f,.5-e,.5-e,.5-f,.5,.5-f,.5,l,m,k,h,h);O(a,l.x*b,l.y*c,m.x*b,m.y*c,k.x*b,k.y*c);e=.3*d;f=.3;K.Bi(.5-f,.5,.5-f,.5-
			e,.5-e,.5-f,.5,.5-f,.5,l,m,k,h,h);a.lineTo(k.x*b,k.y*c);O(a,m.x*b,m.y*c,l.x*b,l.y*c,(.5-f)*b,.5*c);O(a,(.5-f)*b,(.5+e)*c,(.5-e)*b,(.5+f)*c,.5*b,(.5+f)*c);O(a,(.5+e)*b,(.5+f)*c,(.5+f)*b,(.5+e)*c,(.5+f)*b,.5*c);K.Bi(.5,.5-f,.5+e,.5-f,.5+f,.5-e,.5+f,.5,.5,h,h,k,l,m);O(a,m.x*b,m.y*c,l.x*b,l.y*c,k.x*b,k.y*c);P(a);M(a,.45*b,0,!0);a.lineTo(.45*b,.5*c);a.lineTo(.55*b,.5*c);a.lineTo(.55*b,0);P(a);u.v(h);u.v(k);u.v(l);u.v(m);u.v(n);b=a.o;b.A=new L(.25,.55);b.B=new L(.75,.8);u.q(a);return b},Fallout:function(a,
																																																																																																																																   b,c){a=u.p();var d=.5*K.ta;M(a,0*b,.5*c,!0);O(a,0*b,(.5-d)*c,(.5-d)*b,0*c,.5*b,0*c);O(a,(.5+d)*b,0*c,1*b,(.5-d)*c,1*b,.5*c);O(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);O(a,(.5-d)*b,1*c,0*b,(.5+d)*c,0*b,.5*c);var e=d=0;M(a,(.3+d)*b,(.8+e)*c,!0,!0);a.lineTo((.5+d)*b,(.5+e)*c);a.lineTo((.1+d)*b,(.5+e)*c);a.lineTo((.3+d)*b,(.8+e)*c);d=.4;e=0;P(a);M(a,(.3+d)*b,(.8+e)*c,!0,!0);a.lineTo((.5+d)*b,(.5+e)*c);a.lineTo((.1+d)*b,(.5+e)*c);a.lineTo((.3+d)*b,(.8+e)*c);d=.2;e=-.3;P(a);M(a,(.3+d)*b,(.8+e)*c,!0,!0);a.lineTo((.5+
			d)*b,(.5+e)*c);a.lineTo((.1+d)*b,(.5+e)*c);a.lineTo((.3+d)*b,(.8+e)*c);P(a);b=a.o;b.Cd=sh;u.q(a);return b},IrritationHazard:function(a,b,c){a=u.p();M(a,.2*b,0*c,!0);a.lineTo(.5*b,.3*c);a.lineTo(.8*b,0*c);a.lineTo(1*b,.2*c);a.lineTo(.7*b,.5*c);a.lineTo(1*b,.8*c);a.lineTo(.8*b,1*c);a.lineTo(.5*b,.7*c);a.lineTo(.2*b,1*c);a.lineTo(0*b,.8*c);a.lineTo(.3*b,.5*c);a.lineTo(0*b,.2*c);P(a);b=a.o;b.A=new L(.3,.3);b.B=new L(.7,.7);u.q(a);return b},ElectricalHazard:function(a,b,c){a=u.p();M(a,.37*b,0*c,!0);a.lineTo(.5*
			b,.11*c);a.lineTo(.77*b,.04*c);a.lineTo(.33*b,.49*c);a.lineTo(1*b,.37*c);a.lineTo(.63*b,.86*c);a.lineTo(.77*b,.91*c);a.lineTo(.34*b,1*c);a.lineTo(.34*b,.78*c);a.lineTo(.44*b,.8*c);a.lineTo(.65*b,.56*c);a.lineTo(0*b,.68*c);P(a);b=a.o;u.q(a);return b},FireHazard:function(a,b,c){a=u.p();M(a,.1*b,1*c,!0);O(a,-.25*b,.63*c,.45*b,.44*c,.29*b,0*c);O(a,.48*b,.17*c,.54*b,.35*c,.51*b,.42*c);O(a,.59*b,.29*c,.58*b,.28*c,.59*b,.18*c);O(a,.8*b,.34*c,.88*b,.43*c,.75*b,.6*c);O(a,.87*b,.48*c,.88*b,.43*c,.88*b,.31*
			c);O(a,1.17*b,.76*c,.82*b,.8*c,.9*b,1*c);P(a);b=a.o;b.A=new L(.05,.645);b.B=new L(.884,.908);u.q(a);return b},BpmnActivityLoop:function(a,b,c){a=u.p();var d=4*(Math.SQRT2-1)/3*.5;M(a,.65*b,1*c,!1);O(a,(1-d+0)*b,1*c,1*b,(.5+d+0)*c,1*b,.5*c);O(a,1*b,(.5-d+0)*c,(.5+d+0)*b,0*c,.5*b,0*c);O(a,(.5-d+0)*b,0*c,0*b,(.5-d+0)*c,0*b,.5*c);O(a,0*b,(.5+d+0)*c,(.5-d+0)*b,1*c,.35*b,.98*c);a.moveTo(.25*b,.8*c);a.lineTo(.35*b,1*c);a.lineTo(.1*b,1*c);b=a.o;u.q(a);return b},BpmnActivityParallel:function(a,b,c){a=u.p();
			M(a,0,0,!1);a.lineTo(0,1*c);a.moveTo(.5*b,0);a.lineTo(.5*b,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);b=a.o;u.q(a);return b},BpmnActivitySequential:function(a,b,c){a=u.p();M(a,0,0,!1);a.lineTo(1*b,0);a.moveTo(0,.5*c);a.lineTo(1*b,.5*c);a.moveTo(0,1*c);a.lineTo(1*b,1*c);b=a.o;u.q(a);return b},BpmnActivityAdHoc:function(a,b,c){a=u.p();M(a,0,0,!1);M(a,1*b,1*c,!1);M(a,0,.5*c,!1);O(a,.2*b,.35*c,.3*b,.35*c,.5*b,.5*c);O(a,.7*b,.65*c,.8*b,.65*c,1*b,.5*c);b=a.o;u.q(a);return b},BpmnActivityCompensation:function(a,
																																																																																																																																	b,c){a=u.p();M(a,0,.5*c,!0);a.lineTo(.5*b,0);a.lineTo(.5*b,.5*c);a.lineTo(1*b,1*c);a.lineTo(1*b,0);a.lineTo(.5*b,.5*c);a.lineTo(.5*b,1*c);P(a);b=a.o;u.q(a);return b},BpmnTaskMessage:function(a,b,c){a=u.p();M(a,0,.2*c,!0);a.lineTo(1*b,.2*c);a.lineTo(1*b,.8*c);a.lineTo(0,.8*c);a.lineTo(0,.8*c);P(a);M(a,0,.2*c,!1);a.lineTo(.5*b,.5*c);a.lineTo(1*b,.2*c);a.$a(!1);b=a.o;u.q(a);return b},BpmnTaskScript:function(a,b,c){a=u.p();M(a,.7*b,1*c,!0);a.lineTo(.3*b,1*c);O(a,.6*b,.5*c,0,.5*c,.3*b,0);a.lineTo(.7*b,
			0);O(a,.4*b,.5*c,1*b,.5*c,.7*b,1*c);P(a);M(a,.45*b,.73*c,!1);a.lineTo(.7*b,.73*c);a.moveTo(.38*b,.5*c);a.lineTo(.63*b,.5*c);a.moveTo(.31*b,.27*c);a.lineTo(.56*b,.27*c);a.$a(!1);b=a.o;u.q(a);return b},BpmnTaskUser:function(a,b,c){a=u.p();M(a,0,0,!1);M(a,.335*b,(1-.555)*c,!0);a.lineTo(.335*b,.595*c);a.lineTo(.665*b,.595*c);a.lineTo(.665*b,(1-.555)*c);O(a,.88*b,.46*c,.98*b,.54*c,1*b,.68*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,.68*c);O(a,.02*b,.54*c,.12*b,.46*c,.335*b,(1-.555)*c);a.lineTo(.365*
			b,.405*c);var d=.5-.285,e=Math.PI/4,f=4*(1-Math.cos(e))/(3*Math.sin(e)),e=f*d,f=f*d;O(a,(.5-(e+d)/2)*b,(d+(d+f)/2)*c,(.5-d)*b,(d+f)*c,(.5-d)*b,d*c);O(a,(.5-d)*b,(d-f)*c,(.5-e)*b,(d-d)*c,.5*b,(d-d)*c);O(a,(.5+e)*b,(d-d)*c,(.5+d)*b,(d-f)*c,(.5+d)*b,d*c);O(a,(.5+d)*b,(d+f)*c,(.5+(e+d)/2)*b,(d+(d+f)/2)*c,.635*b,.405*c);a.lineTo(.635*b,.405*c);a.lineTo(.665*b,(1-.555)*c);a.lineTo(.665*b,.595*c);a.lineTo(.335*b,.595*c);M(a,.2*b,1*c,!1);a.lineTo(.2*b,.8*c);M(a,.8*b,1*c,!1);a.lineTo(.8*b,.8*c);b=a.o;u.q(a);
			return b},BpmnEventConditional:function(a,b,c){a=u.p();M(a,.1*b,0,!0);a.lineTo(.9*b,0);a.lineTo(.9*b,1*c);a.lineTo(.1*b,1*c);P(a);M(a,.2*b,.2*c,!1);a.lineTo(.8*b,.2*c);a.moveTo(.2*b,.4*c);a.lineTo(.8*b,.4*c);a.moveTo(.2*b,.6*c);a.lineTo(.8*b,.6*c);a.moveTo(.2*b,.8*c);a.lineTo(.8*b,.8*c);a.$a(!1);b=a.o;u.q(a);return b},BpmnEventError:function(a,b,c){a=u.p();M(a,0,1*c,!0);a.lineTo(.33*b,0);a.lineTo(.66*b,.5*c);a.lineTo(1*b,0);a.lineTo(.66*b,1*c);a.lineTo(.33*b,.5*c);P(a);b=a.o;u.q(a);return b},BpmnEventEscalation:function(a,
																																																																																																																																						  b,c){a=u.p();M(a,0,0,!1);M(a,1*b,1*c,!1);M(a,.1*b,1*c,!0);a.lineTo(.5*b,0);a.lineTo(.9*b,1*c);a.lineTo(.5*b,.5*c);P(a);b=a.o;u.q(a);return b},BpmnEventTimer:function(a,b,c){a=u.p();var d=.5*K.ta;M(a,1*b,.5*c,!0);O(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);O(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);O(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);O(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);M(a,.5*b,0,!1);a.lineTo(.5*b,.15*c);a.moveTo(.5*b,1*c);a.lineTo(.5*b,.85*c);a.moveTo(0,.5*c);a.lineTo(.15*b,.5*c);a.moveTo(1*b,.5*c);a.lineTo(.85*
			b,.5*c);a.moveTo(.5*b,.5*c);a.lineTo(.58*b,.1*c);a.moveTo(.5*b,.5*c);a.lineTo(.78*b,.54*c);a.$a(!1);b=a.o;b.Cd=sh;u.q(a);return b}};for(var In in K.rg)K.rg[In.toLowerCase()]=In;
	K.Jv={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",
		BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",
		BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",
		TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",
		BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",
		DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",
		TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",
		OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",
		OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};K.jI=function(){if(null!==K.Jv){for(var a in K.Jv){var b=sd(K.Jv[a],!1);K.Ri[a]=b;a.toLowerCase()!==a&&(K.Ri[a.toLowerCase()]=a)}K.Jv=null}};
	K.UC=function(a){K.jI();var b=K.Ri[a];if(void 0===b){b=a.toLowerCase();if("none"===b)return"None";b=K.Ri[b]}return"string"===typeof b?b:b instanceof $c?a:null};
	function G(a){0===arguments.length?B.call(this):B.call(this,a);this.O=311807;this.wk=this.Wh="";this.wr=this.tr=this.Fr=this.zq=null;this.Hr="";this.Vh=this.Gr=this.cm=null;this.vr="";this.Wn=null;this.ur=(new ia(NaN,NaN)).freeze();this.xr="";this.Xn=null;this.ie="";this.Du=this.Ip=this.kk=null;this.Og=(new w(NaN,NaN)).freeze();this.Gq="";this.zk=null;this.Hq=xb;this.Qq=K.eF;this.Jq=K.dF;this.Sp=null;this.Aq=Jn;this.fm=(new w(6,6)).freeze();this.em="gray";this.dm=4;this.BB=-1;this.pF=new z;this.Bk=
		null;this.kj=NaN}u.Ia(G,B);u.fa("Part",G);G.prototype.cloneProtected=function(a){B.prototype.cloneProtected.call(this,a);a.O=this.O&-4097|49152;a.Wh=this.Wh;a.wk=this.wk;a.zq=this.zq;a.Fr=this.Fr;a.tr=this.tr;a.wr=this.wr;a.Hr=this.Hr;a.Gr=this.Gr;a.Vh=null;a.vr=this.vr;a.ur.assign(this.ur);a.xr=this.xr;a.ie=this.ie;a.Ip=this.Ip;a.Og.assign(this.Og);a.Gq=this.Gq;a.Hq=this.Hq.Z();a.Qq=this.Qq.Z();a.Jq=this.Jq.Z();a.Sp=this.Sp;a.Aq=this.Aq;a.fm.assign(this.fm);a.em=this.em;a.dm=this.dm};
	G.prototype.Oh=function(a){B.prototype.Oh.call(this,a);a.dl();a.cm=null;a.Wn=null;a.Xn=null;a.zk=null;a.Bk=null};G.prototype.toString=function(){var a=u.sg(Object.getPrototypeOf(this))+"#"+u.Uc(this);null!==this.data&&(a+="("+de(this.data)+")");return a};G.LayoutNone=0;var Jj;G.LayoutAdded=Jj=1;var Rj;G.LayoutRemoved=Rj=2;G.LayoutShown=4;G.LayoutHidden=8;G.LayoutNodeSized=16;var Ik;G.LayoutGroupLayout=Ik=32;G.LayoutNodeReplaced=64;var Jn;G.LayoutStandard=Jn=Jj|Rj|28|Ik|64;G.LayoutAll=16777215;
	G.prototype.Mm=function(a,b,c,d,e,f,h){var k=this.g;null!==k&&(a===be&&"elements"===b?e instanceof B?Kj(e,function(a){Mj(k,a);Lj(k,a)}):e instanceof Ri&&uk(k,e):a===ce&&"elements"===b&&(e instanceof B?Kj(e,function(a){Qj(k,a);Pj(k,a)}):e instanceof Ri&&vk(k,e)),k.Cc(a,b,c,d,e,f,h))};G.prototype.updateTargetBindings=G.prototype.Ob=function(a){B.prototype.Ob.call(this,a);if(null!==this.data){a=this.Aa.n;for(var b=a.length,c=0;c<b;c++){var d=a[c];d instanceof B&&Kj(d,function(a){null!==a.data&&a.Ob()})}}};
	G.prototype.updateRelationshipsFromData=function(){var a=this.data;if(null!==a){var b=this.g;if(null!==b){var c=b.ha;if(c instanceof Q){var d=c.Cm(a),b=b.zG(d),e=this.Sa;b!==e&&(b=null!==e?c.wb(e.data):void 0,e=c.Xo,"function"===typeof e?e(a,b):a[e]=b,c.Hw(a,d))}}}};u.u(G,{Bv:"adornments"},function(){return null===this.Vh?Ia:this.Vh.RD});G.prototype.findAdornment=G.prototype.zo=function(a){var b=this.Vh;return null===b?null:b.ua(a)};
	G.prototype.addAdornment=G.prototype.Kk=function(a,b){if(null!==b){var c=null,d=this.Vh;null!==d&&(c=d.ua(a));if(c!==b){if(null!==c){var e=c.g;null!==e&&e.remove(c)}null===d&&(this.Vh=d=new la("string",lf));b.Wh!==a&&(b.Jc=a);d.add(a,b);c=this.g;null!==c&&(c.add(b),b.data=this.data)}}};G.prototype.removeAdornment=G.prototype.ol=function(a){var b=this.Vh;if(null!==b){var c=b.ua(a);if(null!==c){var d=c.g;null!==d&&d.remove(c)}b.remove(a);0===b.count&&(this.Vh=null)}};
	G.prototype.clearAdornments=G.prototype.ns=function(){var a=this.Vh;if(null!==a){for(var b=u.gb(),a=a.i;a.next();)b.push(a.key);for(var a=b.length,c=0;c<a;c++)this.ol(b[c]);u.sa(b)}};
	G.prototype.updateAdornments=function(){var a=this.g;if(null!==a){a:{if(this.Za&&this.dI){var b=this.ot;if(!(null!==b&&this.ba.I()&&this.Ga()&&b.kl()&&b.ba.I()))break a;var c=this.zo("Selection");if(null===c){c=this.eI;null===c&&(c=this instanceof W?a.sH:this instanceof V?a.MG:a.HH);if(!(c instanceof lf))break a;nf(c);c=c.copy();null!==c&&(c.Jc="Selection",c.uc=b)}if(null!==c){var d=c.placeholder;if(null!==d){var e=b.Ii(),f=0;b instanceof X&&(f=b.ib);var h=u.ul();h.m((b.Ja.width+f)*e,(b.Ja.height+
		f)*e);d.za=h;u.Oj(h)}c.angle=b.Zk();c.type!==ah&&(d=u.K(),c.location=b.mb(xb,d),u.v(d));this.Kk("Selection",c);break a}}this.ol("Selection")}Kn(this,a);for(a=this.Bv;a.next();)b=a.value,b.Ob(),b.R()}};function Kn(a,b){b.tb.df.each(function(b){b.isEnabled&&b.updateAdornments(a)})}u.u(G,{layer:"layer"},function(){return this.Du});u.u(G,{g:"diagram"},function(){var a=this.Du;return null!==a?a.g:null});
	u.defineProperty(G,{wf:"layerName"},function(){return this.wk},function(a){var b=this.wk;if(b!==a){u.j(a,"string",G,"layerName");var c=this.g;if(null===c||null!==c.xs(a)&&!c.Wm)if(this.wk=a,null!==c&&c.pc(),this.h("layerName",b,a),b=this.layer,null!==b&&b.name!==a&&(c=b.g,null!==c&&(a=c.xs(a),null!==a&&a!==b))){var d=b.Fe(-1,this,!0);0<=d&&c.Cc(ce,"parts",b,this,null,d,!0);d=a.Go(99999999,this,!0);0<=d&&c.Cc(be,"parts",a,null,this,!0,d);d=this.Ss;if(null!==d){var e=c.Oa;c.Oa=!0;d(this,b,a);c.Oa=e}}}});
	u.defineProperty(G,{Ss:"layerChanged"},function(){return this.zq},function(a){var b=this.zq;b!==a&&(null!==a&&u.j(a,"function",G,"layerChanged"),this.zq=a,this.h("layerChanged",b,a))});G.prototype.invalidateAdornments=G.prototype.Zd=function(){var a=this.g;null!==a&&(cj(a),0!==(this.O&16384)!==!0&&(this.O|=16384,a.de()))};function ui(a){0!==(a.O&16384)!==!1&&(a.updateAdornments(),a.O&=-16385,a=a.g,null!==a&&(a.Md=!0))}
	u.defineProperty(G,{location:"location"},function(){return this.Og},function(a){var b=this.Og;if(!(b.L(a)||this instanceof W)){a=a.Z();var c=this.g;this.Og=a;if(!1===Bj(this)){var d=this.Na,e=a.x-b.x,f=a.y-b.y,h=d.copy();d.m(h.x+e,h.y+f);Kl(this,!1);d.L(h)||null===c||this.h("position",h,d);null===c||this instanceof lf||this instanceof W||(c=this.g.oh,c.bd&&d.I()&&ii(c,this,"position",h.copy(),d.copy()))}this.h("location",b,a)}});
	function Kl(a,b){if(!1===Cj(a)){var c=a.g;null!==c&&(c.Yf.add(a),a instanceof U&&!c.ga.eb&&a.Ze(),b||c.de());Ln(a,!0)}}function Mn(a){if(!1!==Cj(a)){var b=a.position,c=a.location;c.I()&&b.I()||(Nn(a,b,c),a.Lg());var b=a.Na,c=a.Xb,d=c.copy();c.Ma();c.x=b.x;c.y=b.y;c.freeze();a.uw(d,c);Ln(a,!1)}}
	u.u(G,{ec:"locationObject"},function(){if(null===this.zk){var a=this.Az;""!==a?(a=this.je(a),this.zk=null!==a?a:this):this.zk=this instanceof lf?this.type!==ah&&null!==this.placeholder?this.placeholder:this:this}return this.zk.visible?this.zk:this});u.defineProperty(G,{AH:"minLocation"},function(){return this.Qq},function(a){var b=this.Qq;b.L(a)||(this.Qq=a=a.Z(),this.h("minLocation",b,a))});
	u.defineProperty(G,{vH:"maxLocation"},function(){return this.Jq},function(a){var b=this.Jq;b.L(a)||(this.Jq=a=a.Z(),this.h("maxLocation",b,a))});u.defineProperty(G,{Az:"locationObjectName"},function(){return this.Gq},function(a){var b=this.Gq;b!==a&&(this.Gq=a,this.zk=null,El(this),this.h("locationObjectName",b,a))});u.defineProperty(G,{$e:"locationSpot"},function(){return this.Hq},function(a){var b=this.Hq;b.L(a)||(this.Hq=a=a.Z(),El(this),this.h("locationSpot",b,a))});
	G.prototype.move=G.prototype.move=function(a){this.position=a};G.prototype.moveTo=G.prototype.moveTo=function(a,b){var c=u.fc(a,b);this.move(c);u.v(c)};
	G.prototype.isVisible=G.prototype.Ga=function(){if(!this.visible)return!1;var a=this.layer;if(null!==a&&!a.visible)return!1;a=this.Sa;if(!(null===a||a.be&&a.Ga()))return!1;if(this instanceof U){a=this.Am();if(null!==a&&!a.Vc)return!1;a=this.ce;if(null!==a)return a.Ga()}else if(this instanceof W){var b=!0,c=this.g;null!==c&&(b=c.qd);c=this.W;if(null!==c){if(this.Ac&&b&&!c.Vc)return!1;if(c===a)return!0;c=c.findVisibleNode();if(null===c||c===a)return!1}c=this.ca;if(null!==c){if(this.Ac&&!b&&!c.Vc)return!1;
		if(c===a)return!0;b=c.findVisibleNode();if(null===b||b===a)return!1}}return!0};G.prototype.He=function(a){var b=this.g;a?(this.H(4),this.Zd(),null!==b&&b.Yf.add(this)):(this.H(8),this.ns());this.dl();null!==b&&(b.pc(),b.na())};
	G.prototype.findObject=G.prototype.je=function(a){if(this.name===a)return this;var b=this.Bk;null===b&&(this.Bk=b=new pa);if(void 0!==b[a])return b[a];for(var c=this.Aa.n,d=c.length,e=0;e<d;e++){var f=c[e];if(f.name===a)return b[a]=f;if(f instanceof B)if(null===f.hi&&null===f.$f){if(f=f.je(a),null!==f)return b[a]=f}else if(sk(f)&&(f=f.Aa.first(),null!==f&&f.name===a))return b[a]=f}return b[a]=null};
	function On(a,b,c,d){void 0===d&&(d=new w);c.ne()&&(c=Ib);var e=b.Ja;d.m(e.width*c.x+c.offsetX,e.height*c.y+c.offsetY);if(null===b||b===a)return d;b.transform.ab(d);for(b=b.S;null!==b&&b!==a;)b.transform.ab(d),b=b.S;a.yk.ab(d);d.offset(-a.Pc.x,-a.Pc.y);return d}G.prototype.ensureBounds=G.prototype.qf=function(){Ph(this,Infinity,Infinity);this.yc()};
	function yi(a,b){var c;c=a.pF;var d;isNaN(a.kj)&&(a.kj=Tm(a));d=a.kj;var e=2*d;if(!a.il)return c.m(b.x-1-d,b.y-1-d,b.width+2+e,b.height+2+e),c;d=b.x;var e=b.y,f=b.width,h=b.height,k=a.shadowBlur,l=a.kI,f=f+k,h=h+k;d-=k/2;e-=k/2;0<l.x?f+=l.x:(d+=l.x,f-=l.x);0<l.y?h+=l.y:(e+=l.y,h-=l.y);c.m(d-1,e-1,f+2,h+2);return c}g=G.prototype;
	g.yc=function(){this.Lg();if(!1===Bj(this))Mn(this);else{var a=u.Sf();a.assign(this.Xb);wl(this);this.Xb.Ma();var b=ti(this);this.yi(0,0,this.Pc.width,this.Pc.height);var c=this.position;Nn(this,c,this.location);var d=this.Xb;d.x=c.x;d.y=c.y;d.freeze();this.Lg();this.uw(a,d);a.L(d)?this.xf(b):!this.Gd()||K.D(a.width,d.width)&&K.D(a.height,d.height)||0<=this.BB&&this.H(16);u.ic(a);Ln(this,!1)}};
	g.uw=function(a,b){rl(this,!1);var c=this.g;if(null!==c){this.dl();var d=!1,e=a.I();if(!1===c.fi){var f=c.Dd,h=c.padding,k=f.x+h.left,l=f.y+h.top,m=f.width-2*h.right,f=f.height-2*h.bottom;e&&a.x>k&&a.y>l&&a.right<m&&a.bottom<f&&b.x>k&&b.y>l&&b.right<m&&b.bottom<f&&(d=!0)}0!==(this.O&65536)!==!0&&a.L(b)||Nj(this,d,c);c.na()}};
	g.eA=function(a,b){if(!a.I()||this instanceof W)return!1;var c=this.g;if(null!==c&&!(this instanceof lf)){var d=this.g.oh;d.bd&&ii(d,this,"position",b.copy(),a.copy())}if(null!==c&&!0===c.ga.eb)return!0;c=this.Og;d=c.copy();c.m(c.x+(a.x-b.x),c.y+(a.y-b.y));this.Na=a;!1===Cj(this)&&!1===Bj(this)&&(Kl(this,!1),this.Lg(),Mn(this));c.L(d)||this.h("location",d,c);return!0};
	g.GE=function(a,b){var c=this.Og;!1===Cj(this)&&!1===Bj(this)?(this.Og.m(c.x+a-this.Na.x,c.y+b-this.Na.y),this.Na.m(a,b),Kl(this,!0),this.Lg()):(c.m(NaN,NaN),this.Na.m(a,b))};
	function Nn(a,b,c){var d=NaN,e=NaN,f=u.K(),h=a.$e,k=a.ec;h.ne()&&u.k("determineOffset: Part's locationSpot must be real: "+h.toString());var l=k.Ja,d=0;k.ib&&(d=k.Ug);f.st(0,0,l.width+d,l.height+d,h);if(k!==a)for(k.ib&&f.offset(-d/2,-d/2),k.transform.ab(f),h=k.S;null!==h&&h!==a;)h.transform.ab(f),h=h.S;a.yk.ab(f);f.offset(-a.Pc.x,-a.Pc.y);h=a.g;c.I()?(k=b.x,l=b.y,d=c.x-f.x,e=c.y-f.y,b.m(d,e),c=!1,null!==h&&(d=h.oh,d.dj?c=!0:!d.bd||a instanceof lf||ii(d,a,"position",new w(k,l),b),c||b.x===k&&b.y===
	l||(d=h.fb,h.fb=!0,a.h("position",new w(k,l),b),h.fb=d))):b.I()&&(d=b.x,e=b.y,b=c.copy(),c.m(d+f.x,e+f.y),c.L(b)||null===h||(d=h.fb,h.fb=!0,a.h("location",b,c),h.fb=d));u.v(f)}function Nj(a,b,c){sl(a,!1);a instanceof U&&Qk(c,a);a.layer.zc||b||c.pc();b=a.Xb;var d=c.ob;d.I()?(ti(a)?jb(b,d)||a.xf(!1):b.tg(d)&&a.xf(!0),a.updateAdornments()):c.uk=!0}g.hl=function(){return!0};
	function wi(a,b){var c=a.Xb;if(0!==c.width&&0!==c.height&&!isNaN(c.x)&&!isNaN(c.y)&&a.Ga()){var d=a.transform,e=a.S,f=a.Ym;f.reset();null!==e&&(e.Tf()?f.multiply(e.Ff):null!==e.S&&f.multiply(e.S.Ff));f.multiply(a.Sd);null!==a.lc&&(yl(a,b,a.lc,!0,!0),b.fillRect(c.x,c.y,c.width,c.height));null===a.lc&&null===a.Jb&&(yl(a,b,"rgba(0,0,0,0.4)",!0,!1),b.fillRect(c.x,c.y,c.width,c.height));null!==a.Jb&&(d.Ps()||b.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy),e=a.Ja,c=e.width,e=e.height,yl(a,b,a.Jb,!0,!1),
		b.fillRect(0,0,c+0,e+0),d.Ps()||(c=1/(d.m11*d.m22-d.m12*d.m21),b.transform(d.m22*c,-d.m12*c,-d.m21*c,d.m11*c,c*(d.m21*d.dy-d.m22*d.dx),c*(d.m12*d.dx-d.m11*d.dy))))}}g.Gd=function(){return!0};
	u.defineProperty(G,{Jc:"category"},function(){return this.Wh},function(a){var b=this.Wh;if(b!==a){u.j(a,"string",G,"category");var c=this.g,d=this.data,e=null;if(null!==c&&null!==d&&!(this instanceof lf)){var f=c.ha.ga;f.isEnabled&&!f.eb&&(e=this.clone(),e.Aa.Td(this.Aa))}this.Wh=a;this.h("category",b,a);null===c||null===d||this instanceof lf?(e=this.Mh,null!==e&&(a=e.Vh,null!==a&&a.remove(b),e.Kk(this.Jc,this))):(f=c.ha,f.ga.eb||(this instanceof W?(f instanceof Q?f.EE(d,a):f instanceof qe&&f.hI(d,
		a),c=Ck(c,a),null!==c&&(nf(c),c=c.copy(),null!==c&&Pn(this,c,b,a))):(null!==f&&f.Fw(d,a),c=zk(c,d,a),null!==c&&(nf(c),c=c.copy(),null===c||c instanceof W||(c.location=this.location,Pn(this,c,b,a)))),null!==e&&(b=this.clone(),b.Aa.Td(this.Aa),this.h("self",e,b))))}});u.defineProperty(G,{self:"self"},function(){return this},function(a){Pn(this,a,this.Jc,a.Jc)});var Qn=!1;
	function Pn(a,b,c,d){b.constructor===a.constructor||Qn||(Qn=!0,u.trace('Should not change the class of the Part when changing category from "'+c+'" to "'+d+'"'),u.trace("  Old class: "+u.sg(a)+", new class: "+u.sg(b)+", part: "+a.toString()));a.ns();var e=a.data;c=a.wf;var f=a.Za,h=a.Yg,k=!0,l=!0,m=!1;if(a instanceof U)var n=a,k=n.Ki,l=n.Vc,m=n.mp;b.Oh(a);b.cloneProtected(a);a.Wh=d;a.R();a.na();b=a.g;d=!0;null!==b&&(d=b.fb,b.fb=!0);a.sh=e;null!==e&&a.Ob();null!==b&&(b.fb=d);e=a.wf;e!==c&&(a.wk=c,
		a.wf=e);a instanceof U&&(n=a,n.Ki=k,n.Vc=l,n.mp=m,n.Gd()&&n.H(64));a.Za=f;a.Yg=h}G.prototype.canCopy=function(){if(!this.iG)return!1;var a=this.layer;if(null===a)return!0;if(!a.Ij)return!1;a=a.g;return null===a?!0:a.Ij?!0:!1};G.prototype.canDelete=function(){if(!this.pG)return!1;var a=this.layer;if(null===a)return!0;if(!a.mm)return!1;a=a.g;return null===a?!0:a.mm?!0:!1};
	G.prototype.canEdit=function(){if(!this.uI)return!1;var a=this.layer;if(null===a)return!0;if(!a.Gv)return!1;a=a.g;return null===a?!0:a.Gv?!0:!1};G.prototype.canGroup=function(){if(!this.NG)return!1;var a=this.layer;if(null===a)return!0;if(!a.Dv)return!1;a=a.g;return null===a?!0:a.Dv?!0:!1};G.prototype.canMove=function(){if(!this.FH)return!1;var a=this.layer;if(null===a)return!0;if(!a.Nk)return!1;a=a.g;return null===a?!0:a.Nk?!0:!1};
	G.prototype.canReshape=function(){if(!this.TH)return!1;var a=this.layer;if(null===a)return!0;if(!a.Ev)return!1;a=a.g;return null===a?!0:a.Ev?!0:!1};G.prototype.canResize=function(){if(!this.UH)return!1;var a=this.layer;if(null===a)return!0;if(!a.ks)return!1;a=a.g;return null===a?!0:a.ks?!0:!1};G.prototype.canRotate=function(){if(!this.XH)return!1;var a=this.layer;if(null===a)return!0;if(!a.Fv)return!1;a=a.g;return null===a?!0:a.Fv?!0:!1};
	G.prototype.canSelect=function(){if(!this.pl)return!1;var a=this.layer;if(null===a)return!0;if(!a.pf)return!1;a=a.g;return null===a?!0:a.pf?!0:!1};u.defineProperty(G,{iG:"copyable"},function(){return 0!==(this.O&1)},function(a){var b=0!==(this.O&1);b!==a&&(this.O^=1,this.h("copyable",b,a))});u.defineProperty(G,{pG:"deletable"},function(){return 0!==(this.O&2)},function(a){var b=0!==(this.O&2);b!==a&&(this.O^=2,this.h("deletable",b,a))});
	u.defineProperty(G,{uI:"textEditable"},function(){return 0!==(this.O&4)},function(a){var b=0!==(this.O&4);b!==a&&(this.O^=4,this.h("textEditable",b,a),this.Zd())});u.defineProperty(G,{NG:"groupable"},function(){return 0!==(this.O&8)},function(a){var b=0!==(this.O&8);b!==a&&(this.O^=8,this.h("groupable",b,a))});u.defineProperty(G,{FH:"movable"},function(){return 0!==(this.O&16)},function(a){var b=0!==(this.O&16);b!==a&&(this.O^=16,this.h("movable",b,a))});
	u.defineProperty(G,{dI:"selectionAdorned"},function(){return 0!==(this.O&32)},function(a){var b=0!==(this.O&32);b!==a&&(this.O^=32,this.h("selectionAdorned",b,a),this.Zd())});u.defineProperty(G,{vz:"isInDocumentBounds"},function(){return 0!==(this.O&64)},function(a){var b=0!==(this.O&64);if(b!==a){this.O^=64;var c=this.g;null!==c&&c.pc();this.h("isInDocumentBounds",b,a)}});
	u.defineProperty(G,{OD:"isLayoutPositioned"},function(){return 0!==(this.O&128)},function(a){var b=0!==(this.O&128);b!==a&&(this.O^=128,this.h("isLayoutPositioned",b,a),this.H(a?4:8))});u.defineProperty(G,{pl:"selectable"},function(){return 0!==(this.O&256)},function(a){var b=0!==(this.O&256);b!==a&&(this.O^=256,this.h("selectable",b,a),this.Zd())});
	u.defineProperty(G,{TH:"reshapable"},function(){return 0!==(this.O&512)},function(a){var b=0!==(this.O&512);b!==a&&(this.O^=512,this.h("reshapable",b,a),this.Zd())});u.defineProperty(G,{UH:"resizable"},function(){return 0!==(this.O&1024)},function(a){var b=0!==(this.O&1024);b!==a&&(this.O^=1024,this.h("resizable",b,a),this.Zd())});u.defineProperty(G,{XH:"rotatable"},function(){return 0!==(this.O&2048)},function(a){var b=0!==(this.O&2048);b!==a&&(this.O^=2048,this.h("rotatable",b,a),this.Zd())});
	u.defineProperty(G,{Za:"isSelected"},function(){return 0!==(this.O&4096)},function(a){var b=0!==(this.O&4096);if(b!==a){var c=this.g;if(!a||this.canSelect()&&!(null!==c&&c.selection.count>=c.wH)){this.O^=4096;var d=!1;if(null!==c){d=c.fb;c.fb=!0;var e=c.selection;e.Ma();a?e.add(this):e.remove(this);e.freeze()}this.h("isSelected",b,a);this.Zd();a=this.fI;null!==a&&a(this);null!==c&&(c.de(),c.fb=d)}}});
	u.defineProperty(G,{Yg:"isHighlighted"},function(){return 0!==(this.O&524288)},function(a){var b=0!==(this.O&524288);if(b!==a){this.O^=524288;var c=this.g;null!==c&&(c=c.cw,c.Ma(),a?c.add(this):c.remove(this),c.freeze());this.h("isHighlighted",b,a);this.na()}});u.defineProperty(G,{il:"isShadowed"},function(){return 0!==(this.O&8192)},function(a){var b=0!==(this.O&8192);b!==a&&(this.O^=8192,this.h("isShadowed",b,a),this.na())});function Cj(a){return 0!==(a.O&32768)}
	function Ln(a,b){a.O=b?a.O|32768:a.O&-32769}function sl(a,b){a.O=b?a.O|65536:a.O&-65537}function ti(a){return 0!==(a.O&131072)}G.prototype.xf=function(a){this.O=a?this.O|131072:this.O&-131073};function Rn(a,b){a.O=b?a.O|1048576:a.O&-1048577}u.defineProperty(G,{HD:"isAnimated"},function(){return 0!==(this.O&262144)},function(a){var b=0!==(this.O&262144);b!==a&&(this.O^=262144,this.h("isAnimated",b,a))});
	u.defineProperty(G,{$z:"selectionObjectName"},function(){return this.Hr},function(a){var b=this.Hr;b!==a&&(this.Hr=a,this.cm=null,this.h("selectionObjectName",b,a))});u.defineProperty(G,{eI:"selectionAdornmentTemplate"},function(){return this.Fr},function(a){var b=this.Fr;b!==a&&(this instanceof W&&(a.type=ah),this.Fr=a,this.h("selectionAdornmentTemplate",b,a))});
	u.u(G,{ot:"selectionObject"},function(){if(null===this.cm){var a=this.$z;null!==a&&""!==a?(a=this.je(a),this.cm=null!==a?a:this):this instanceof W?(a=this.path,this.cm=null!==a?a:this):this.cm=this}return this.cm});u.defineProperty(G,{fI:"selectionChanged"},function(){return this.Gr},function(a){var b=this.Gr;b!==a&&(null!==a&&u.j(a,"function",G,"selectionChanged"),this.Gr=a,this.h("selectionChanged",b,a))});
	u.defineProperty(G,{rE:"resizeAdornmentTemplate"},function(){return this.tr},function(a){var b=this.tr;b!==a&&(this.tr=a,this.h("resizeAdornmentTemplate",b,a))});u.defineProperty(G,{tE:"resizeObjectName"},function(){return this.vr},function(a){var b=this.vr;b!==a&&(this.vr=a,this.Wn=null,this.h("resizeObjectName",b,a))});u.u(G,{sE:"resizeObject"},function(){if(null===this.Wn){var a=this.tE;null!==a&&""!==a?(a=this.je(a),this.Wn=null!==a?a:this):this.Wn=this}return this.Wn});
	u.defineProperty(G,{VH:"resizeCellSize"},function(){return this.ur},function(a){var b=this.ur;b.L(a)||(this.ur=a=a.Z(),this.h("resizeCellSize",b,a))});u.defineProperty(G,{YH:"rotateAdornmentTemplate"},function(){return this.wr},function(a){var b=this.wr;b!==a&&(this.wr=a,this.h("rotateAdornmentTemplate",b,a))});u.defineProperty(G,{ZH:"rotateObjectName"},function(){return this.xr},function(a){var b=this.xr;b!==a&&(this.xr=a,this.Xn=null,this.h("rotateObjectName",b,a))});
	u.u(G,{vE:"rotateObject"},function(){if(null===this.Xn){var a=this.ZH;null!==a&&""!==a?(a=this.je(a),this.Xn=null!==a?a:this):this.Xn=this}return this.Xn});u.defineProperty(G,{text:"text"},function(){return this.ie},function(a){var b=this.ie;b!==a&&(this.ie=a,this.h("text",b,a))});
	u.defineProperty(G,{Sa:"containingGroup"},function(){return this.kk},function(a){if(this.Gd()){var b=this.kk;if(b!==a){null===a||this!==a&&!a.Rh(this)||(this===a&&u.k("Cannot make a Group a member of itself: "+this.toString()),u.k("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+a.toString()));this.H(Rj);var c=this.g;null!==b?Sn(b,this):this instanceof V&&null!==c&&c.Ik.remove(this);this.kk=a;null!==a?Tn(a,this):this instanceof V&&null!==c&&c.Ik.add(this);this.H(Jj);
		if(null!==c){var d=this.data,e=c.ha;null!==d&&e instanceof Q&&e.Hw(d,e.wb(null!==a?a.data:null))}d=this.bD;null!==d&&(e=!0,null!==c&&(e=c.Oa,c.Oa=!0),d(this,b,a),null!==c&&(c.Oa=e));if(this instanceof V)for(c=new F(G),kf(c,this,!0,0,!0),c=c.i;c.next();)if(d=c.value,d instanceof U)for(d=d.oe;d.next();)xk(d.value);if(this instanceof U)for(d=this.oe;d.next();)xk(d.value);this.h("containingGroup",b,a);null!==a&&a.Lw()}}else u.k("cannot set the Part.containingGroup of a Link or Adornment")});g=G.prototype;
	g.dl=function(){var a=this.Sa;null!==a&&(a.R(),null!==a.Ib&&a.Ib.R(),a.Ze())};g.na=function(){var a=this.g;null!==a&&!Bj(this)&&!Cj(this)&&this.Ga()&&this.Xb.I()&&a.na(yi(this,this.Xb))};g.Ks=function(a){var b=this.kk;null===b||a||Tn(b,this)};g.Ls=function(a){var b=this.kk;null===b||a||Sn(b,this)};g.ym=function(){var a=this.data;if(null!==a){var b=this.g;null!==b&&(b=b.ha,null!==b&&b.Wz(a))}};
	u.defineProperty(G,{bD:"containingGroupChanged"},function(){return this.Ip},function(a){var b=this.Ip;b!==a&&(null!==a&&u.j(a,"function",G,"containingGroupChanged"),this.Ip=a,this.h("containingGroupChanged",b,a))});G.prototype.findSubGraphLevel=function(){return Un(this,this)};function Un(a,b){var c=b.Sa;return null!==c?1+Un(a,c):b instanceof U&&(c=b.ce,null!==c)?Un(a,c):0}G.prototype.findTopLevelPart=function(){return Vn(this,this)};
	function Vn(a,b){var c=b.Sa;return null!==c?Vn(a,c):b instanceof U&&(c=b.ce,null!==c)?Vn(a,c):b}u.u(G,{Jo:"isTopLevel"},function(){return null!==this.Sa||this instanceof U&&this.tf?!1:!0});G.prototype.isMemberOf=G.prototype.Rh=function(a){return a instanceof V?Wn(this,this,a):!1};function Wn(a,b,c){if(b===c||null===c)return!1;var d=b.Sa;return null===d||d!==c&&!Wn(a,d,c)?b instanceof U&&(b=b.ce,null!==b)?Wn(a,b,c):!1:!0}
	G.prototype.findCommonContainingGroup=G.prototype.yG=function(a){if(null===a)return null;if(this===a)return this.Sa;for(var b=this;null!==b;)b instanceof V&&Rn(b,!0),b=b.Sa;for(var c=null,b=a;null!==b;){if(0!==(b.O&1048576)){c=b;break}b=b.Sa}for(b=this;null!==b;)b instanceof V&&Rn(b,!1),b=b.Sa;return c};u.defineProperty(G,{nH:"layoutConditions"},function(){return this.Aq},function(a){var b=this.Aq;b!==a&&(this.Aq=a,this.h("layoutConditions",b,a))});
	G.prototype.canLayout=function(){if(!this.OD||!this.Ga())return!1;var a=this.layer;return null!==a&&a.zc||this instanceof U&&this.tf?!1:!0};G.prototype.invalidateLayout=G.prototype.H=function(a){void 0===a&&(a=16777215);var b;this.OD&&0!==(a&this.nH)?(b=this.layer,null!==b&&b.zc||this instanceof U&&this.tf?b=!1:(b=this.g,b=null!==b&&b.ga.eb?!1:!0)):b=!1;if(b)if(b=this.kk,null!==b){var c=b.Qb;null!==c?c.H():b.H(a)}else a=this.g,null!==a&&(c=a.Qb,null!==c&&c.H())};
	function Oj(a){if(!a.Ga())return!1;a=a.layer;return null!==a&&a.zc?!1:!0}u.defineProperty(G,{mD:"dragComputation"},function(){return this.Sp},function(a){var b=this.Sp;b!==a&&(null!==a&&u.j(a,"function",G,"dragComputation"),this.Sp=a,this.h("dragComputation",b,a))});u.defineProperty(G,{kI:"shadowOffset"},function(){return this.fm},function(a){var b=this.fm;b.L(a)||(this.fm=a=a.Z(),this.na(),this.h("shadowOffset",b,a))});
	u.defineProperty(G,{shadowColor:"shadowColor"},function(){return this.em},function(a){var b=this.em;b!==a&&(this.em=a,this.na(),this.h("shadowColor",b,a))});u.defineProperty(G,{shadowBlur:"shadowBlur"},function(){return this.dm},function(a){var b=this.dm;b!==a&&(this.dm=a,this.na(),this.h("shadowBlur",b,a))});function lf(a){0===arguments.length?G.call(this,vh):G.call(this,a);this.wf="Adornment";this.Gb=null;this.O&=-257;this.Og=new w(NaN,NaN);this.Vi=new E(z);this.Ib=null}u.Ia(lf,G);
	u.fa("Adornment",lf);lf.prototype.toString=function(){var a=this.Mh;return"Adornment("+this.Jc+")"+(null!==a?a.toString():"")};lf.prototype.updateRelationshipsFromData=function(){};lf.prototype.Ys=function(){var a=this.uc.T,b=this.uc;if(a instanceof W&&b instanceof X){var c=a.path,b=c.Qa;a.Ys();for(var b=c.Qa,a=this.Aa.n,c=a.length,d=0;d<c;d++){var e=a[d];e.ug&&e instanceof X&&(e.Qa=b)}}};u.u(lf,{placeholder:"placeholder"},function(){return this.Ib});
	u.defineProperty(lf,{uc:"adornedObject"},function(){return this.Gb},function(a){var b=this.Mh,c=null;null!==a&&(c=a.T);null===b||null!==a&&b===c||b.ol(this.Jc);this.Gb=a;null!==c&&c.Kk(this.Jc,this)});u.u(lf,{Mh:"adornedPart"},function(){var a=this.Gb;return null!==a?a.T:null});lf.prototype.hl=function(){var a=this.Gb;if(null===a)return!0;a=a.T;return null===a||!Bj(a)};lf.prototype.Gd=function(){return!1};u.u(lf,{Sa:"containingGroup"},function(){return null});
	lf.prototype.Mm=function(a,b,c,d,e,f,h){if(a===be&&"elements"===b)if(e instanceof ph){var k=e;null===this.Ib?this.Ib=k:this.Ib!==k&&u.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")}else e instanceof B&&(k=e.ws(function(a){return a instanceof ph}),k instanceof ph&&(null===this.Ib?this.Ib=k:this.Ib!==k&&u.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")));else a===ce&&"elements"===b&&null!==this.Ib&&(d===this.Ib?this.Ib=null:d instanceof B&&
	this.Ib.gl(d)&&(this.Ib=null));G.prototype.Mm.call(this,a,b,c,d,e,f,h)};lf.prototype.updateAdornments=function(){};lf.prototype.ym=function(){};function U(a){0===arguments.length?G.call(this,vh):G.call(this,a);this.hc=new E(W);this.Ln=this.xk=this.Dq=this.Cq=null;this.sq=!0;this.bs=!1;this.Xr=null;this.Bp=this.tq=!0;this.Cp=K.hF;this.Qd=this.ph=null;this.mr=Xn;this.Fj=!1}u.Ia(U,G);u.fa("Node",U);
	U.prototype.cloneProtected=function(a){G.prototype.cloneProtected.call(this,a);a.Cq=this.Cq;a.Dq=this.Dq;a.xk=this.xk;a.sq=this.sq;a.bs=this.bs;a.Xr=this.Xr;a.tq=this.tq;a.Bp=this.Bp;a.Cp=this.Cp.Z();a.mr=this.mr};U.prototype.Oh=function(a){G.prototype.Oh.call(this,a);a.Ze();a.ph=this.ph;a.Qd=null};var Yn;U.DirectionDefault=Yn=u.s(U,"DirectionDefault",0);U.DirectionAbsolute=u.s(U,"DirectionAbsolute",1);var Zn;U.DirectionRotatedNode=Zn=u.s(U,"DirectionRotatedNode",2);var jl;
	U.DirectionRotatedNodeOrthogonal=jl=u.s(U,"DirectionRotatedNodeOrthogonal",3);U.SpreadingNone=u.s(U,"SpreadingNone",10);var Xn;U.SpreadingEvenly=Xn=u.s(U,"SpreadingEvenly",11);var $n;U.SpreadingPacked=$n=u.s(U,"SpreadingPacked",12);function ao(a,b){null!==b&&(null===a.ph&&(a.ph=new F(bo)),a.ph.add(b))}
	U.prototype.Mm=function(a,b,c,d,e,f,h){a===be&&"elements"===b?this.Qd=null:a===ce&&"elements"===b&&(null===this.g?this.Qd=null:d instanceof T&&Pm(this,d,function(a,b){Ll(a,b,!0)}));G.prototype.Mm.call(this,a,b,c,d,e,f,h)};U.prototype.invalidateConnectedLinks=U.prototype.Ze=function(a){void 0===a&&(a=null);for(var b=this.oe;b.next();){var c=b.value;null!==a&&a.contains(c)||(co(this,c.od),co(this,c.fe),c.Vb())}};function co(a,b){if(null!==b){b.lr=null;var c=a.Sa;null===c||c.be||co(c,c.Xk(""))}}
	U.prototype.hl=function(){return!0};u.defineProperty(U,{NH:"portSpreading"},function(){return this.mr},function(a){var b=this.mr;b!==a&&(this.mr=a,this.h("portSpreading",b,a),a=this.g,null!==a&&a.ga.eb||this.Ze())});u.defineProperty(U,{TC:"avoidable"},function(){return this.Bp},function(a){var b=this.Bp;if(b!==a){this.Bp=a;var c=this.g;null!==c&&Qk(c,this);this.h("avoidable",b,a)}});
	u.defineProperty(U,{RF:"avoidableMargin"},function(){return this.Cp},function(a){"number"===typeof a?a=new rb(a):u.C(a,rb,U,"avoidableMargin");var b=this.Cp;if(!b.L(a)){this.Cp=a=a.Z();var c=this.g;null!==c&&Qk(c,this);this.h("avoidableMargin",b,a)}});U.prototype.canAvoid=function(){return this.TC&&!this.tf};U.prototype.getAvoidableRect=function(a){a.set(this.ba);a.Av(this.RF);return a};U.prototype.findVisibleNode=function(){for(var a=this;null!==a&&!a.Ga();)a=a.Sa;return a};
	U.prototype.He=function(a){G.prototype.He.call(this,a);for(var b=this.oe;b.next();)b.value.He(a)};u.u(U,{oe:"linksConnected"},function(){return this.hc.i});U.prototype.findLinksConnected=U.prototype.qD=function(a){void 0===a&&(a=null);if(null===a)return this.hc.i;var b=new Ka(this.hc),c=this;b.Lm=function(b){return b.W===c&&b.qg===a||b.ca===c&&b.mh===a};return b};
	U.prototype.findLinksOutOf=U.prototype.Xv=function(a){void 0===a&&(a=null);var b=new Ka(this.hc),c=this;b.Lm=function(b){return b.W!==c?!1:null===a?!0:b.qg===a};return b};U.prototype.findLinksInto=U.prototype.pg=function(a){void 0===a&&(a=null);var b=new Ka(this.hc),c=this;b.Lm=function(b){return b.ca!==c?!1:null===a?!0:b.mh===a};return b};
	U.prototype.findNodesConnected=U.prototype.rD=function(a){void 0===a&&(a=null);for(var b=null,c=null,d=this.hc.i;d.next();){var e=d.value;if(e.W===this){if(null===a||e.qg===a)e=e.ca,null!==b?b.add(e):null!==c&&c!==e?(b=new F(U),b.add(c),b.add(e)):c=e}else e.ca!==this||null!==a&&e.mh!==a||(e=e.W,null!==b?b.add(e):null!==c&&c!==e?(b=new F(U),b.add(c),b.add(e)):c=e)}return null!==b?b.i:null!==c?new Ja(c):Ia};
	U.prototype.findNodesOutOf=function(a){void 0===a&&(a=null);for(var b=null,c=null,d=this.hc.i;d.next();){var e=d.value;e.W!==this||null!==a&&e.qg!==a||(e=e.ca,null!==b?b.add(e):null!==c&&c!==e?(b=new F(U),b.add(c),b.add(e)):c=e)}return null!==b?b.i:null!==c?new Ja(c):Ia};
	U.prototype.findNodesInto=function(a){void 0===a&&(a=null);for(var b=null,c=null,d=this.hc.i;d.next();){var e=d.value;e.ca!==this||null!==a&&e.mh!==a||(e=e.W,null!==b?b.add(e):null!==c&&c!==e?(b=new F(U),b.add(c),b.add(e)):c=e)}return null!==b?b.i:null!==c?new Ja(c):Ia};
	U.prototype.findLinksBetween=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);var d=new Ka(this.hc),e=this;d.Lm=function(d){return(d.W!==e||d.ca!==a||null!==b&&d.qg!==b||null!==c&&d.mh!==c)&&(d.W!==a||d.ca!==e||null!==c&&d.qg!==c||null!==b&&d.mh!==b)?!1:!0};return d};U.prototype.findLinksTo=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);var d=new Ka(this.hc),e=this;d.Lm=function(d){return d.W!==e||d.ca!==a||null!==b&&d.qg!==b||null!==c&&d.mh===c?!1:!0};return d};
	u.defineProperty(U,{pH:"linkConnected"},function(){return this.Cq},function(a){var b=this.Cq;b!==a&&(null!==a&&u.j(a,"function",U,"linkConnected"),this.Cq=a,this.h("linkConnected",b,a))});u.defineProperty(U,{qH:"linkDisconnected"},function(){return this.Dq},function(a){var b=this.Dq;b!==a&&(null!==a&&u.j(a,"function",U,"linkDisconnected"),this.Dq=a,this.h("linkDisconnected",b,a))});
	u.defineProperty(U,{qw:"linkValidation"},function(){return this.xk},function(a){var b=this.xk;b!==a&&(null!==a&&u.j(a,"function",U,"linkValidation"),this.xk=a,this.h("linkValidation",b,a))});
	function eo(a,b,c){co(a,c);if(!a.hc.contains(b)){a.hc.add(b);var d=a.pH;if(null!==d){var e=!0,f=a.g;null!==f&&(e=f.Oa,f.Oa=!0);d(a,b,c);null!==f&&(f.Oa=e)}b.Ac&&(c=b.W,b=b.ca,null!==c&&null!==b&&c!==b&&(d=!0,f=a.g,null!==f&&(d=f.qd),a=d?b:c,e=d?c:b,a.Fj||(a.Fj=e),!e.Ki||null!==f&&f.ga.eb||(d?c===e&&(e.Ki=!1):b===e&&(e.Ki=!1))))}}
	function fo(a,b,c){co(a,c);if(a.hc.remove(b)){var d=a.qH,e=a.g;if(null!==d){var f=!0;null!==e&&(f=e.Oa,e.Oa=!0);d(a,b,c);null!==e&&(e.Oa=f)}b.Ac&&(c=!0,null!==e&&(c=e.qd),a=c?b.ca:b.W,b=c?b.W:b.ca,null!==a&&(a.Fj=!1),null===b||b.Ki||(0===b.hc.count?(b.Fj=null,null!==e&&e.ga.eb||(b.Ki=!0)):Jk(b)))}}
	function Jk(a){a.Fj=!1;if(0!==a.hc.count){var b=!0,c=a.g;if(null===c||!c.ga.eb){null!==c&&(b=c.qd);for(c=a.hc.i;c.next();){var d=c.value;if(d.Ac)if(b){if(d.W===a){a.Ki=!1;return}}else if(d.ca===a){a.Ki=!1;return}}a.Ki=!0}}}
	U.prototype.updateRelationshipsFromData=function(){G.prototype.updateRelationshipsFromData.call(this);var a=this.data;if(null!==a){var b=this.g;if(null!==b){var c=b.ha;if(c instanceof qe){var d=c.Dm(a),b=b.Xe(d),e=this.Am();b!==e&&(b=null!==e?c.wb(e.data):void 0,e=c.Yo,"function"===typeof e?e(a,b):a[e]=b,c.kh(a,d))}}}};U.prototype.Ks=function(a){G.prototype.Ks.call(this,a);a||Jk(this);var b=this.Ln;null===b||a||ho(b,this)};
	U.prototype.Ls=function(a){G.prototype.Ls.call(this,a);var b=this.Ln;null===b||a||null===b.ue||(b.ue.remove(this),b.R())};U.prototype.ym=function(){if(0<this.hc.count){var a=this.g;if(null===a)return;for(var b=this.hc.copy().i;b.next();)a.remove(b.value)}this.ce=null;G.prototype.ym.call(this)};u.u(U,{tf:"isLinkLabel"},function(){return null!==this.Ln});
	u.defineProperty(U,{ce:"labeledLink"},function(){return this.Ln},function(a){var b=this.Ln;if(b!==a){var c=this.g,d=this.data;if(null!==b&&(null!==b.ue&&(b.ue.remove(this),b.R()),null!==c&&null!==d&&!c.ga.eb)){var e=b.data,f=c.ha;if(null!==e&&f instanceof Q){var h=f.wb(d);void 0!==h&&f.mE(e,h)}}this.Ln=a;null!==a&&(ho(a,this),null===c||null===d||c.ga.eb||(e=a.data,f=c.ha,null!==e&&f instanceof Q&&(h=f.wb(d),void 0!==h&&f.My(e,h))));El(this);this.h("labeledLink",b,a)}});
	U.prototype.findPort=U.prototype.Xk=function(a){if(null===this.Qd){if(""===a&&!1===this.zh)return this;Ml(this)}var b=this.Qd.ua(a);return null!==b||""!==a&&(b=this.Qd.ua(""),null!==b)?b:this};u.u(U,{port:"port"},function(){return this.Xk("")});u.u(U,{ports:"ports"},function(){null===this.Qd&&Ml(this);return this.Qd.RD});function Ml(a){null===a.Qd?a.Qd=new la("string",T):a.Qd.clear();Pm(a,a,function(a,c){var d=c.Jd;null!==d&&a.Qd.add(d,c)});0===a.Qd.count&&a.Qd.add("",a)}
	function Ll(a,b,c){var d=b.Jd;if(null!==d&&(null!==a.Qd&&a.Qd.remove(d),b=a.g,null!==b&&c)){c=null;for(d=a.qD(d);d.next();)a=d.value,null===c&&(c=u.gb()),c.push(a);if(null!==c){for(d=0;d<c.length;d++)a=c[d],b.remove(a);u.sa(c)}}}
	U.prototype.isInTreeOf=function(a){if(null===a||a===this)return!1;var b=!0,c=this.g;null!==c&&(b=c.qd);c=this;if(b)for(;c!==a;){for(var b=null,d=c.hc.i;d.next();){var e=d.value;if(e.Ac&&(b=e.W,b!==c&&b!==this))break}if(b===this||null===b||b===c)return!1;c=b}else for(;c!==a;){b=null;for(d=c.hc.i;d.next()&&(e=d.value,!e.Ac||(b=e.ca,b===c||b===this)););if(b===this||null===b||b===c)return!1;c=b}return!0};
	U.prototype.findTreeRoot=function(){var a=!0,b=this.g;null!==b&&(a=b.qd);b=this;if(a)for(;;){for(var a=null,c=b.hc.i;c.next();){var d=c.value;if(d.Ac&&(a=d.W,a!==b&&a!==this))break}if(a===this)return this;if(null===a||a===b)return b;b=a}else for(;;){a=null;for(c=b.hc.i;c.next()&&(d=c.value,!d.Ac||(a=d.ca,a===b||a===this)););if(a===this)return this;if(null===a||a===b)return b;b=a}};
	U.prototype.findCommonTreeParent=function(a){if(null===a)return null;if(this===a)return this;for(var b=this;null!==b;)Rn(b,!0),b=b.Am();for(var c=null,b=a;null!==b;){if(0!==(b.O&1048576)){c=b;break}b=b.Am()}for(b=this;null!==b;)Rn(b,!1),b=b.Am();return c};U.prototype.findTreeParentLink=U.prototype.Bs=function(){var a=!0,b=this.g;null!==b&&(a=b.qd);b=this.hc.i;if(a)for(;b.next();){if(a=b.value,a.Ac&&a.W!==this)return a}else for(;b.next();)if(a=b.value,a.Ac&&a.ca!==this)return a;return null};
	U.prototype.findTreeParentNode=U.prototype.Am=function(){var a=this.Fj;if(null===a)return null;if(a instanceof U)return a;var b=!0,a=this.g;null!==a&&(b=a.qd);a=this.hc.i;if(b)for(;a.next();){if(b=a.value,b.Ac&&(b=b.W,b!==this))return this.Fj=b}else for(;a.next();)if(b=a.value,b.Ac&&(b=b.ca,b!==this))return this.Fj=b;return this.Fj=null};U.prototype.findTreeLevel=function(){return io(this,this)};function io(a,b){var c=b.Am();return null===c?0:1+io(a,c)}
	U.prototype.findTreeChildrenLinks=U.prototype.Zv=function(){var a=!0,b=this.g;null!==b&&(a=b.qd);if(a){var a=new Ka(this.hc),c=this;a.Lm=function(a){return a.Ac&&a.W===c?!0:!1}}else a=new Ka(this.hc),c=this,a.Lm=function(a){return a.Ac&&a.ca===c?!0:!1};return a};
	U.prototype.findTreeChildrenNodes=U.prototype.tD=function(){var a=!0,b=this.g;null!==b&&(a=b.qd);var c=b=null,d=this.hc.i;if(a)for(;d.next();)a=d.value,a.Ac&&a.W===this&&(a=a.ca,null!==b?b.add(a):null!==c&&c!==a?(b=new E(U),b.add(c),b.add(a)):c=a);else for(;d.next();)a=d.value,a.Ac&&a.ca===this&&(a=a.W,null!==b?b.add(a):null!==c&&c!==a?(b=new E(U),b.add(c),b.add(a)):c=a);return null!==b?b.i:null!==c?new Ja(c):Ia};
	U.prototype.findTreeParts=function(a){void 0===a&&(a=Infinity);u.j(a,"number",U,"collapseTree:level");var b=new F(G);kf(b,this,!1,a,!0);return b};U.prototype.collapseTree=U.prototype.collapseTree=function(a){void 0===a&&(a=1);u.ze(a,U,"collapseTree:level");1>a&&(a=1);var b=this.g;if(null!==b&&!b.me){var c=b.Mb;0!==b.ga.Le&&c.ml();b.me=!0;var c=b.qd,d=new F(U);d.add(this);jo(this,d,c,a,this.Vc);b.me=!1}};
	function jo(a,b,c,d,e){if(1<d)for(e=c?a.Xv():a.pg();e.next();){var f=e.value;f.Ac&&(f=f.iz(a),null===f||f===a||b.contains(f)||(b.add(f),jo(f,b,c,d-1,f.Vc)))}else ko(a,b,c,e)}function ko(a,b,c,d){for(var e=c?a.Xv():a.pg();e.next();){var f=e.value;f.Ac&&(f=f.iz(a),null===f||f===a||b.contains(f)||(b.add(f),d&&(f.dl(),f.He(!1)),f.Vc&&(f.mp=f.Vc,ko(f,b,c,f.mp))))}a.Vc=!1}
	U.prototype.expandTree=U.prototype.expandTree=function(a){void 0===a&&(a=2);u.ze(a,U,"expandTree:level");2>a&&(a=2);var b=this.g;if(null!==b&&!b.me){var c=b.Mb;0!==b.ga.Le&&c.ml();b.me=!0;var d=b.qd,e=new F(U);e.add(this);lo(this,e,d,a,this.Vc,c,this);b.me=!1}};
	function lo(a,b,c,d,e,f,h){for(var k=c?a.Xv():a.pg();k.next();){var l=k.value;l.Ac&&(e||l.ig||l.Vb(),l=l.iz(a),null!==l&&l!==a&&!b.contains(l)&&(b.add(l),e||(l.He(!0),l.dl(),ri(f,l,h)),2<d||l.mp))&&(l.mp=!1,lo(l,b,c,d-1,l.Vc,f,h))}a.Vc=!0}
	u.defineProperty(U,{Vc:"isTreeExpanded"},function(){return this.sq},function(a){var b=this.sq;if(b!==a){this.sq=a;var c=this.g;this.h("isTreeExpanded",b,a);b=this.AI;if(null!==b){var d=!0;null!==c&&(d=c.Oa,c.Oa=!0);b(this);null!==c&&(c.Oa=d)}a?null===c||c.me||(0!==c.ga.Le&&c.Mb.ml(),c.me=!0,a=c.qd,b=new F(U),b.add(this),lo(this,b,a,2,!1,c.Mb,this),c.me=!1):null===c||c.me||(0!==c.ga.Le&&c.Mb.ml(),c.me=!0,a=c.qd,b=new F(U),b.add(this),ko(this,b,a,!0),c.me=!1)}});
	u.defineProperty(U,{mp:"wasTreeExpanded"},function(){return this.bs},function(a){var b=this.bs;b!==a&&(this.bs=a,this.h("wasTreeExpanded",b,a))});u.defineProperty(U,{AI:"treeExpandedChanged"},function(){return this.Xr},function(a){var b=this.Xr;b!==a&&(null!==a&&u.j(a,"function",U,"treeExpandedChanged"),this.Xr=a,this.h("treeExpandedChanged",b,a))});u.defineProperty(U,{Ki:"isTreeLeaf"},function(){return this.tq},function(a){var b=this.tq;b!==a&&(this.tq=a,this.h("isTreeLeaf",b,a))});
	function W(){G.call(this,ah);this.Xf=null;this.yh="";this.hg=this.$p=null;this.Kh="";this.Wr=null;this.sr=this.rr=this.qr=!1;this.uq=!0;this.wp=dh;this.Jp=0;this.Mp=dh;this.Np=NaN;this.Zl=Xl;this.Mr=.5;this.ue=null;this.Qc=(new E(w)).freeze();this.Yn=this.we=null;this.ig=!1;this.qy=null;this.Ay=!1;this.bn=this.ei=this.Qa=null;this.jf=0;this.on=this.kn=null;this.Vi=new E(z);this.Ey=new w;this.qC=this.oC=null;this.lx=!1;this.Q=null}u.Ia(W,G);u.fa("Link",W);
	W.prototype.cloneProtected=function(a){G.prototype.cloneProtected.call(this,a);a.yh=this.yh;a.$p=this.$p;a.Kh=this.Kh;a.Wr=this.Wr;a.qr=this.qr;a.rr=this.rr;a.sr=this.sr;a.uq=this.uq;a.wp=this.wp;a.Jp=this.Jp;a.Mp=this.Mp;a.Np=this.Np;a.Zl=this.Zl;a.Mr=this.Mr;a.Q=null!==this.Q?this.Q.copy():null};W.prototype.Oh=function(a){G.prototype.Oh.call(this,a);this.yh=a.yh;this.Kh=a.Kh;a.we=null;a.Vb();a.bn=this.bn;a.jf=this.jf};var Xl;W.Normal=Xl=u.s(W,"Normal",1);W.Orthogonal=u.s(W,"Orthogonal",2);
	W.AvoidsNodes=u.s(W,"AvoidsNodes",6);var mo;W.AvoidsNodesStraight=mo=u.s(W,"AvoidsNodesStraight",7);var dh;W.None=dh=u.s(W,"None",0);var kh;W.Bezier=kh=u.s(W,"Bezier",9);var ch;W.JumpGap=ch=u.s(W,"JumpGap",10);var bh;W.JumpOver=bh=u.s(W,"JumpOver",11);var Ul;W.End=Ul=u.s(W,"End",17);var Vl;W.Scale=Vl=u.s(W,"Scale",18);var Wl;W.Stretch=Wl=u.s(W,"Stretch",19);var en;W.OrientAlong=en=u.s(W,"OrientAlong",21);var no;W.OrientPlus90=no=u.s(W,"OrientPlus90",22);var oo;
	W.OrientMinus90=oo=u.s(W,"OrientMinus90",23);var po;W.OrientOpposite=po=u.s(W,"OrientOpposite",24);var qo;W.OrientUpright=qo=u.s(W,"OrientUpright",25);var ro;W.OrientPlus90Upright=ro=u.s(W,"OrientPlus90Upright",26);var so;W.OrientMinus90Upright=so=u.s(W,"OrientMinus90Upright",27);var to;W.OrientUpright45=to=u.s(W,"OrientUpright45",28);W.prototype.Ee=function(){this.Q=new il};
	W.prototype.hl=function(){var a=this.W;if(null!==a){var b=a.findVisibleNode();null!==b&&(a=b);if(Bj(a)||Cj(a))return!1}a=this.ca;return null!==a&&(b=a.findVisibleNode(),null!==b&&(a=b),Bj(a)||Cj(a))?!1:!0};W.prototype.eA=function(){return!1};W.prototype.Gd=function(){return!1};
	W.prototype.computeAngle=function(a,b,c){a=0;switch(b){default:case dh:a=0;break;case en:a=c;break;case no:a=c+90;break;case oo:a=c-90;break;case po:a=c+180;break;case qo:a=K.dt(c);90<a&&270>a&&(a-=180);break;case ro:a=K.dt(c+90);90<a&&270>a&&(a-=180);break;case so:a=K.dt(c-90);90<a&&270>a&&(a-=180);break;case to:a=K.dt(c);if(45<a&&135>a||225<a&&315>a)return 0;90<a&&270>a&&(a-=180)}return K.dt(a)};
	u.defineProperty(W,{W:"fromNode"},function(){return this.Xf},function(a){var b=this.Xf;if(b!==a){var c=this.od;null!==b&&(this.hg!==b&&fo(b,this,c),uo(this),this.H(Rj));this.Xf=a;this.ei=null;this.Vb();var d=this.g;if(null!==d){var e=this.data,f=d.ha;if(null!==e)if(f instanceof Q){var h=null!==a?a.data:null;f.Gw(e,f.wb(h))}else f instanceof qe&&(h=null!==a?a.data:null,d.qd?f.kh(e,f.wb(h)):(null!==b&&f.kh(b.data,void 0),f.kh(h,f.wb(null!==this.hg?this.hg.data:null))))}e=this.od;f=this.wD;null!==f&&
	(h=!0,null!==d&&(h=d.Oa,d.Oa=!0),f(this,c,e),null!==d&&(d.Oa=h));null!==a&&(this.hg!==a&&eo(a,this,e),vo(this),this.H(Jj));this.h("fromNode",b,a);xk(this)}});
	u.defineProperty(W,{qg:"fromPortId"},function(){return this.yh},function(a){var b=this.yh;if(b!==a){var c=this.od;null!==c&&co(this.W,c);uo(this);this.yh=a;var d=this.od;null!==d&&co(this.W,d);var e=this.g;if(null!==e){var f=this.data,h=e.ha;null!==f&&h instanceof Q&&h.bA(f,a)}c!==d&&(this.ei=null,this.Vb(),f=this.wD,null!==f&&(h=!0,null!==e&&(h=e.Oa,e.Oa=!0),f(this,c,d),null!==e&&(e.Oa=h)));vo(this);this.h("fromPortId",b,a)}});u.u(W,{od:"fromPort"},function(){var a=this.Xf;return null===a?null:a.Xk(this.yh)});
	u.defineProperty(W,{wD:"fromPortChanged"},function(){return this.$p},function(a){var b=this.$p;b!==a&&(null!==a&&u.j(a,"function",W,"fromPortChanged"),this.$p=a,this.h("fromPortChanged",b,a))});
	u.defineProperty(W,{ca:"toNode"},function(){return this.hg},function(a){var b=this.hg;if(b!==a){var c=this.fe;null!==b&&(this.Xf!==b&&fo(b,this,c),uo(this),this.H(Rj));this.hg=a;this.ei=null;this.Vb();var d=this.g;if(null!==d){var e=this.data,f=d.ha;if(null!==e)if(f instanceof Q){var h=null!==a?a.data:null;f.Iw(e,f.wb(h))}else f instanceof qe&&(h=null!==a?a.data:null,d.qd?(null!==b&&f.kh(b.data,void 0),f.kh(h,f.wb(null!==this.Xf?this.Xf.data:null))):f.kh(e,f.wb(h)))}e=this.fe;f=this.OE;null!==f&&
	(h=!0,null!==d&&(h=d.Oa,d.Oa=!0),f(this,c,e),null!==d&&(d.Oa=h));null!==a&&(this.Xf!==a&&eo(a,this,e),vo(this),this.H(Jj));this.h("toNode",b,a);xk(this)}});
	u.defineProperty(W,{mh:"toPortId"},function(){return this.Kh},function(a){var b=this.Kh;if(b!==a){var c=this.fe;null!==c&&co(this.ca,c);uo(this);this.Kh=a;var d=this.fe;null!==d&&co(this.ca,d);var e=this.g;if(null!==e){var f=this.data,h=e.ha;null!==f&&h instanceof Q&&h.fA(f,a)}c!==d&&(this.ei=null,this.Vb(),f=this.OE,null!==f&&(h=!0,null!==e&&(h=e.Oa,e.Oa=!0),f(this,c,d),null!==e&&(e.Oa=h)));vo(this);this.h("toPortId",b,a)}});u.u(W,{fe:"toPort"},function(){var a=this.hg;return null===a?null:a.Xk(this.Kh)});
	u.defineProperty(W,{OE:"toPortChanged"},function(){return this.Wr},function(a){var b=this.Wr;b!==a&&(null!==a&&u.j(a,"function",W,"toPortChanged"),this.Wr=a,this.h("toPortChanged",b,a))});u.defineProperty(W,{vb:"fromSpot"},function(){return null!==this.Q?this.Q.cj:uc},function(a){null===this.Q&&this.Ee();var b=this.Q.cj;b.L(a)||(a=a.Z(),this.Q.cj=a,this.h("fromSpot",b,a),this.Vb())});
	u.defineProperty(W,{Yk:"fromEndSegmentLength"},function(){return null!==this.Q?this.Q.aj:NaN},function(a){null===this.Q&&this.Ee();var b=this.Q.aj;b!==a&&(0>a&&u.xa(a,">= 0",W,"fromEndSegmentLength"),this.Q.aj=a,this.h("fromEndSegmentLength",b,a),this.Vb())});u.defineProperty(W,{Fs:"fromEndSegmentDirection"},function(){return null!==this.Q?this.Q.$i:Yn},function(a){null===this.Q&&this.Ee();var b=this.Q.$i;b!==a&&(this.Q.$i=a,this.h("fromEndSegmentDirection",b,a),this.Vb())});
	u.defineProperty(W,{Gs:"fromShortLength"},function(){return null!==this.Q?this.Q.bj:NaN},function(a){null===this.Q&&this.Ee();var b=this.Q.bj;b!==a&&(this.Q.bj=a,this.h("fromShortLength",b,a),this.Vb())});u.defineProperty(W,{xb:"toSpot"},function(){return null!==this.Q?this.Q.Ej:uc},function(a){null===this.Q&&this.Ee();var b=this.Q.Ej;b.L(a)||(a=a.Z(),this.Q.Ej=a,this.h("toSpot",b,a),this.Vb())});
	u.defineProperty(W,{vl:"toEndSegmentLength"},function(){return null!==this.Q?this.Q.Cj:NaN},function(a){null===this.Q&&this.Ee();var b=this.Q.Cj;b!==a&&(0>a&&u.xa(a,">= 0",W,"toEndSegmentLength"),this.Q.Cj=a,this.h("toEndSegmentLength",b,a),this.Vb())});u.defineProperty(W,{xt:"toEndSegmentDirection"},function(){return null!==this.Q?this.Q.Bj:Yn},function(a){null===this.Q&&this.Ee();var b=this.Q.Bj;b!==a&&(this.Q.Bj=a,this.h("toEndSegmentDirection",b,a),this.Vb())});
	u.defineProperty(W,{zt:"toShortLength"},function(){return null!==this.Q?this.Q.Dj:NaN},function(a){null===this.Q&&this.Ee();var b=this.Q.Dj;b!==a&&(this.Q.Dj=a,this.h("toShortLength",b,a),this.Vb())});function xk(a){var b=a.W,c=a.ca;null!==b?null!==c?wo(a,b.yG(c)):wo(a,null):wo(a,null)}function wo(a,b){var c=a.kk;if(c!==b){null!==c&&Sn(c,a);a.kk=b;null!==b&&Tn(b,a);var d=a.bD;if(null!==d){var e=!0,f=a.g;null!==f&&(e=f.Oa,f.Oa=!0);d(a,c,b);null!==f&&(f.Oa=e)}!a.ig||a.oC!==c&&a.qC!==c||a.Vb()}}
	W.prototype.dl=function(){var a=this.Sa;null!==a&&this.W!==a&&this.ca!==a&&G.prototype.dl.call(this)};W.prototype.getOtherNode=W.prototype.iz=function(a){var b=this.W;return a===b?this.ca:b};W.prototype.getOtherPort=function(a){var b=this.od;return a===b?this.fe:b};u.u(W,{HJ:"isLabeledLink"},function(){return null===this.ue?!1:0<this.ue.count});u.u(W,{vg:"labelNodes"},function(){return null===this.ue?Ia:this.ue.i});function ho(a,b){null===a.ue&&(a.ue=new F(U));a.ue.add(b);a.R()}
	W.prototype.Ks=function(a){G.prototype.Ks.call(this,a);xo(this)&&eh(this,this.ba);if(!a){a=this.Xf;var b=this.hg;null!==a&&(eo(a,this,this.od),vo(this));null!==b&&(eo(b,this,this.fe),vo(this))}};W.prototype.Ls=function(a){G.prototype.Ls.call(this,a);xo(this)&&eh(this,this.ba);if(!a){a=this.Xf;var b=this.hg;null!==a&&(fo(a,this,this.od),uo(this));null!==b&&(fo(b,this,this.fe),uo(this))}};
	W.prototype.ym=function(){this.ig=!0;if(null!==this.ue){var a=this.g;if(null===a)return;for(var b=this.ue.copy().i;b.next();)a.remove(b.value)}b=this.data;null!==b&&(a=this.g,null!==a&&(a=a.ha,a instanceof Q?a.Vz(b):a instanceof qe&&a.kh(b,void 0)))};
	W.prototype.updateRelationshipsFromData=function(){var a=this.data;if(null!==a){var b=this.g;if(null!==b){var c=b.ha;if(c instanceof Q){var d=c.$k(a),e=b.Xe(d),f=this.W;e!==f&&(e=null!==f?c.wb(f.data):void 0,f=c.Mo,"function"===typeof f?f(a,e):a[f]=e,c.Gw(a,d));d=c.cl(a);e=b.Xe(d);f=this.ca;e!==f&&(e=null!==f?c.wb(f.data):void 0,f=c.Oo,"function"===typeof f?f(a,e):a[f]=e,c.Iw(a,d));var h=c.Pj(a);if(0<h.length||0<this.vg.count){if(1===h.length&&1===this.vg.count&&(b=h[0],d=this.vg.first(),c.wb(d.data)===
		b))return;var d=(new F).Td(h),k=new F;this.vg.each(function(a){null!==a.data&&(a=c.wb(a.data),void 0!==a&&k.add(a))});b=k.copy();b.jE(d);d=d.copy();d.jE(k);if(0<b.count||0<d.count)h.length=0,k.each(function(a){h.push(a)}),b.each(function(b){c.mE(a,b)}),d.each(function(b){c.My(a,b)})}}}}};
	W.prototype.move=W.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;G.prototype.move.call(this,a);this.ll(c,b);for(a=this.vg;a.next();){var d=a.value,e=d.position;d.moveTo(e.x+c,e.y+b)}};u.defineProperty(W,{QH:"relinkableFrom"},function(){return this.qr},function(a){var b=this.qr;b!==a&&(this.qr=a,this.h("relinkableFrom",b,a),this.Zd())});
	u.defineProperty(W,{RH:"relinkableTo"},function(){return this.rr},function(a){var b=this.rr;b!==a&&(this.rr=a,this.h("relinkableTo",b,a),this.Zd())});W.prototype.canRelinkFrom=function(){if(!this.QH)return!1;var a=this.layer;if(null===a)return!0;if(!a.nm)return!1;a=a.g;return null===a||a.nm?!0:!1};W.prototype.canRelinkTo=function(){if(!this.RH)return!1;var a=this.layer;if(null===a)return!0;if(!a.nm)return!1;a=a.g;return null===a||a.nm?!0:!1};
	u.defineProperty(W,{jt:"resegmentable"},function(){return this.sr},function(a){var b=this.sr;b!==a&&(this.sr=a,this.h("resegmentable",b,a),this.Zd())});u.defineProperty(W,{Ac:"isTreeLink"},function(){return this.uq},function(a){var b=this.uq;b!==a&&(this.uq=a,this.h("isTreeLink",b,a),null!==this.W&&Jk(this.W),null!==this.ca&&Jk(this.ca))});u.u(W,{path:"path"},function(){var a=this.If();return a instanceof X?a:null});
	u.u(W,{Nm:"routeBounds"},function(){this.updateRoute();var a=new z;var b=Infinity,c=Infinity,d=this.ka;if(0===d)a.m(NaN,NaN,0,0);else{if(1===d)d=this.l(0),b=Math.min(d.x,b),c=Math.min(d.y,c),a.m(d.x,d.y,0,0);else if(2===d){var e=this.l(0),f=this.l(1),b=Math.min(e.x,f.x),c=Math.min(e.y,f.y);a.m(e.x,e.y,0,0);a.Pi(f)}else if(this.computeCurve()===kh&&3<=d&&!this.dc)if(e=this.l(0),b=e.x,c=e.y,a.m(b,c,0,0),3===d)d=this.l(1),b=Math.min(d.x,b),c=Math.min(d.y,c),f=this.l(2),b=Math.min(f.x,b),c=Math.min(f.y,
		c),K.po(e.x,e.y,d.x,d.y,d.x,d.y,f.x,f.y,.5,a);else for(var h=3;h<d;h+=3){var k=this.l(h-2);h+3>=d&&(h=d-1);var l=this.l(h-1),f=this.l(h);K.po(e.x,e.y,k.x,k.y,l.x,l.y,f.x,f.y,.5,a);b=Math.min(f.x,b);c=Math.min(f.y,c);e=f}else for(e=this.l(0),f=this.l(1),b=Math.min(e.x,f.x),c=Math.min(e.y,f.y),a.m(e.x,e.y,0,0),a.Pi(f),h=2;h<d;h++)e=this.l(h),b=Math.min(e.x,b),c=Math.min(e.y,c),a.Pi(e);this.Ey.m(b-a.x,c-a.y)}return this.qy=a});u.u(W,{XD:"midPoint"},function(){this.updateRoute();return this.computeMidPoint(new w)});
	W.prototype.computeMidPoint=function(a){var b=this.ka;if(0===b)return a.assign(K.fF),a;if(1===b)return a.assign(this.l(0)),a;if(2===b){var c=this.l(0),d=this.l(1);a.m((c.x+d.x)/2,(c.y+d.y)/2);return a}if(this.computeCurve()===kh&&3<=b&&!this.dc){if(3===b)return this.l(1);var b=(b-1)/3|0,e=3*(b/2|0);1===b%2?(c=this.l(e),d=this.l(e+1),b=this.l(e+2),e=this.l(e+3),K.UF(c.x,c.y,d.x,d.y,b.x,b.y,e.x,e.y,a)):a.assign(this.l(e));return a}for(var e=0,f=u.gb(),h=0;h<b-1;h++)c=0,c=this.l(h),d=this.l(h+1),K.cb(c.x,
		d.x)?(c=d.y-c.y,0>c&&(c=-c)):K.cb(c.y,d.y)?(c=d.x-c.x,0>c&&(c=-c)):c=Math.sqrt(c.Lj(d)),f.push(c),e+=c;for(d=h=c=0;c<e/2&&h<b;){d=f[h];if(c+d>e/2)break;c+=d;h++}u.sa(f);b=this.l(h);f=this.l(h+1);b.x===f.x?b.y>f.y?a.m(b.x,b.y-(e/2-c)):a.m(b.x,b.y+(e/2-c)):b.y===f.y?b.x>f.x?a.m(b.x-(e/2-c),b.y):a.m(b.x+(e/2-c),b.y):(e=(e/2-c)/d,a.m(b.x+e*(f.x-b.x),b.y+e*(f.y-b.y)));return a};u.u(W,{WD:"midAngle"},function(){this.updateRoute();return this.computeMidAngle()});
	W.prototype.computeMidAngle=function(){var a=this.ka;if(2>a)return NaN;if(this.computeCurve()===kh&&4<=a&&!this.dc){var b=(a-1)/3|0,c=3*(b/2|0);if(1===b%2){var c=Math.floor(c),a=this.l(c),b=this.l(c+1),d=this.l(c+2),c=this.l(c+3);return K.TF(a.x,a.y,b.x,b.y,d.x,d.y,c.x,c.y)}if(0<c&&c+1<a)return a=this.l(c-1),b=this.l(c+1),a.Gi(b)}d=a/2|0;if(0===a%2)return a=this.l(d-1),b=this.l(d),a.Gi(b);var a=this.l(d-1),b=this.l(d),d=this.l(d+1),c=a.Lj(b),e=b.Lj(d);return c>e?a.Gi(b):b.Gi(d)};
	u.defineProperty(W,{points:"points"},function(){return this.Qc},function(a){var b=this.Qc;if(b!==a){var c=null;if(Array.isArray(a)){var d=0===a.length%2;if(d)for(var e=0;e<a.length;e++)if("number"!==typeof a[e]||isNaN(a[e])){d=!1;break}if(d)for(c=new E(w),d=0;d<a.length/2;d++)e=(new w(a[2*d],a[2*d+1])).freeze(),c.add(e);else{for(var f=!0,d=0;d<a.length;d++)if(e=a[d],!u.Ta(e)||"number"!==typeof e.x||isNaN(e.x)||"number"!==typeof e.y||isNaN(e.y)){f=!1;break}if(f)for(c=new E(w),d=0;d<a.length;d++)e=
		a[d],c.add((new w(e.x,e.y)).freeze());else u.k("Link.points array must contain only an even number of numbers or objects with x and y properties, not: "+a)}}else if(a instanceof E)for(c=a.copy(),a=c.i;a.next();)a.value.freeze();else u.k("Link.points value is not an instance of List or Array: "+a);c.freeze();this.Qc=c;this.le();yo(this);a=this.g;null!==a&&(a.ga.eb||a.rw.add(this),a.Mb.bd&&(this.Yn=c));this.h("points",b,c)}});u.u(W,{ka:"pointsCount"},function(){return this.Qc.count});
	W.prototype.getPoint=W.prototype.l=function(a){return this.Qc.n[a]};W.prototype.setPoint=W.prototype.yf=function(a,b){null===this.we&&u.k("Call Link.startRoute before modifying the points of the route.");this.Qc.Cg(a,b)};W.prototype.setPointAt=W.prototype.V=function(a,b,c){null===this.we&&u.k("Call Link.startRoute before modifying the points of the route.");this.Qc.Cg(a,new w(b,c))};
	W.prototype.insertPoint=function(a,b){null===this.we&&u.k("Call Link.startRoute before modifying the points of the route.");this.Qc.Yd(a,b)};W.prototype.insertPointAt=W.prototype.w=function(a,b,c){null===this.we&&u.k("Call Link.startRoute before modifying the points of the route.");this.Qc.Yd(a,new w(b,c))};W.prototype.addPoint=W.prototype.Lh=function(a){null===this.we&&u.k("Call Link.startRoute before modifying the points of the route.");this.Qc.add(a)};
	W.prototype.addPointAt=W.prototype.Lk=function(a,b){null===this.we&&u.k("Call Link.startRoute before modifying the points of the route.");this.Qc.add(new w(a,b))};W.prototype.removePoint=W.prototype.nE=function(a){null===this.we&&u.k("Call Link.startRoute before modifying the points of the route.");this.Qc.jd(a)};W.prototype.clearPoints=W.prototype.to=function(){null===this.we&&u.k("Call Link.startRoute before modifying the points of the route.");this.Qc.clear()};
	W.prototype.movePoints=W.prototype.ll=function(a,b){for(var c=new E(w),d=this.Qc.i;d.next();){var e=d.value;c.add((new w(e.x+a,e.y+b)).freeze())}c.freeze();d=this.Qc;this.Qc=c;this.le();yo(this);e=this.g;null!==e&&e.Mb.bd&&(this.Yn=c);this.h("points",d,c)};W.prototype.startRoute=W.prototype.rl=function(){null===this.we&&(this.we=this.Qc,this.Qc=this.Qc.copy())};
	W.prototype.commitRoute=W.prototype.Ci=function(){if(null!==this.we){for(var a=this.we,b=this.Qc,c=Infinity,d=Infinity,e=a.n,f=e.length,h=0;h<f;h++)var k=e[h],c=Math.min(k.x,c),d=Math.min(k.y,d);for(var l=Infinity,m=Infinity,n=b.n,p=n.length,h=0;h<p;h++)k=n[h],l=Math.min(k.x,l),m=Math.min(k.y,m),k.freeze();b.freeze();if(p===f)for(h=0;h<p;h++){if(f=e[h],k=n[h],f.x-c!==k.x-l||f.y-d!==k.y-m){this.le();break}}else this.le();this.we=null;c=this.g;null!==c&&c.Mb.bd&&(this.Yn=b);yo(this);this.h("points",
		a,b)}};W.prototype.rollbackRoute=W.prototype.WH=function(){null!==this.we&&(this.Qc=this.we,this.we=null)};function yo(a){0===a.Qc.count?a.ig=!1:(a.ig=!0,a.kn=a.l(0).copy(),a.on=a.l(a.ka-1).copy(),zo(a,!1))}W.prototype.invalidateRoute=W.prototype.Vb=function(){if(!(this.Ay||this.g&&(this.g.rw.contains(this)||this.g.ga.eb))){var a=this.path;null!==a&&(this.ig=!1,this.le(),a.R())}};u.defineProperty(W,{kp:null},function(){return this.Ay},function(a){this.Ay=a});
	W.prototype.updateRoute=function(){if(!this.ig&&!this.lx){var a=!0;try{this.lx=!0,this.rl(),a=this.computePoints()}finally{this.lx=!1,a?this.Ci():this.WH()}}};
	W.prototype.computePoints=function(){var a=this.g;if(null===a)return!1;var b=this.W,c=null;null===b?(a.$l||(a.Zu=new X,a.Zu.za=K.qp,a.Zu.ib=0,a.$l=new U,a.$l.add(a.Zu),a.$l.qf()),this.kn&&(a.$l.position=a.$l.location=this.kn,a.$l.qf(),b=a.$l,c=a.Zu)):c=this.od;if(null!==c){var d=Nl(c);d!==b&&b.Ga()?c=d:(d=b.findVisibleNode(),null!==d&&d!==b?(b=d,c=d.Xk("")):b=d)}this.oC=b;if(null===b||null===c||!b.location.I())return!1;var d=this.ca,e=null;null===d?(a.am||(a.$u=new X,a.$u.za=K.qp,a.$u.ib=0,a.am=new U,
		a.am.add(a.$u),a.am.qf()),this.on&&(a.am.position=a.am.location=this.on,a.am.qf(),d=a.am,e=a.$u)):e=this.fe;null!==e&&(a=Nl(e),a!==d&&d.Ga()?e=a:(a=d.findVisibleNode(),null!==a&&a!==d?(d=a,e=a.Xk("")):d=a));this.qC=d;if(null===d||null===e||!d.location.I())return!1;var a=this.ka,f=Ao(this,c),h=Bo(this,e),k=c===e&&null!==c,l=this.dc,m=this.Ve===kh;this.ei=k&&!l?m=!0:!1;var n=this.gs===dh||k;if(l||f!==vb||h!==vb||k){m=this.el;n&&(l&&m||k)&&this.to();var p=k?this.computeCurviness():0,q=this.getLinkPoint(b,
		c,f,!0,l,d,e),r=0,s=0,t=0;if(l||f!==vb||k){var v=this.computeEndSegmentLength(b,c,f,!0),t=this.getLinkDirection(b,c,q,f,!0,l,d,e);k&&(t-=l?90:30,0>p&&(t-=180));0>t?t+=360:360<=t&&(t-=360);k&&(v+=Math.abs(p));0===t?r=v:90===t?s=v:180===t?r=-v:270===t?s=-v:(r=v*Math.cos(t*Math.PI/180),s=v*Math.sin(t*Math.PI/180));if(f.ne()&&k){var x=c.mb(Ib,u.K()),A=u.fc(x.x+1E3*r,x.y+1E3*s);this.getLinkPointFromPoint(b,c,x,A,!0,q);u.v(x);u.v(A)}}var v=this.getLinkPoint(d,e,h,!1,l,b,c),y=0,C=0,I=0;if(l||h!==vb||k)x=
		this.computeEndSegmentLength(d,e,h,!1),I=this.getLinkDirection(d,e,v,h,!1,l,b,c),k&&(I+=l?0:30,0>p&&(I+=180)),0>I?I+=360:360<=I&&(I-=360),k&&(x+=Math.abs(p)),0===I?y=x:90===I?C=x:180===I?y=-x:270===I?C=-x:(y=x*Math.cos(I*Math.PI/180),C=x*Math.sin(I*Math.PI/180)),h.ne()&&k&&(x=e.mb(Ib,u.K()),A=u.fc(x.x+1E3*y,x.y+1E3*C),this.getLinkPointFromPoint(d,e,x,A,!1,v),u.v(x),u.v(A));e=q;if(l||f!==vb||k)e=new w(q.x+r,q.y+s);c=v;if(l||h!==vb||k)c=new w(v.x+y,v.y+C);!n&&!l&&f===vb&&3<a&&this.adjustPoints(0,q,
		a-2,c)?this.yf(a-1,v):!n&&!l&&h===vb&&3<a&&this.adjustPoints(1,e,a-1,v)?this.yf(0,q):!n&&!l&&4<a&&this.adjustPoints(1,e,a-2,c)?(this.yf(0,q),this.yf(a-1,v)):!n&&l&&6<=a&&!m&&this.adjustPoints(1,e,a-2,c)?(this.yf(0,q),this.yf(a-1,v)):(this.to(),this.Lh(q),(l||f!==vb||k)&&this.Lh(e),l&&this.addOrthoPoints(e,t,c,I,b,d),(l||h!==vb||k)&&this.Lh(c),this.Lh(v))}else f=!1,!n&&3<=a&&(n=this.getLinkPoint(b,c,vb,!0,!1,d,e),h=this.getLinkPoint(d,e,vb,!1,!1,b,c),f=this.adjustPoints(0,n,a-1,h))&&(n=this.getLinkPoint(b,
		c,vb,!0,!1,d,e),h=this.getLinkPoint(d,e,vb,!1,!1,b,c),this.adjustPoints(0,n,a-1,h)),f||(this.to(),m?(a=this.getLinkPoint(b,c,vb,!0,!1,d,e),n=this.getLinkPoint(d,e,vb,!1,!1,b,c),f=n.x-a.x,h=n.y-a.y,k=this.computeCurviness(),m=l=0,q=a.x+f/3,t=a.y+h/3,r=q,s=t,K.D(h,0)?s=0<f?s-k:s+k:(l=-f/h,m=Math.sqrt(k*k/(l*l+1)),0>k&&(m=-m),r=(0>h?-1:1)*m+q,s=l*(r-q)+t),q=a.x+2*f/3,t=a.y+2*h/3,v=q,y=t,K.D(h,0)?y=0<f?y-k:y+k:(v=(0>h?-1:1)*m+q,y=l*(v-q)+t),this.to(),this.Lh(a),this.Lk(r,s),this.Lk(v,y),this.Lh(n),this.yf(0,
		this.getLinkPoint(b,c,vb,!0,!1,d,e)),this.yf(3,this.getLinkPoint(d,e,vb,!1,!1,b,c))):(a=d,d=this.getLinkPoint(b,c,vb,!0,!1,a,e),e=this.getLinkPoint(a,e,vb,!1,!1,b,c),this.hasCurviness()?(h=e.x-d.x,b=e.y-d.y,c=this.computeCurviness(),a=d.x+h/2,n=d.y+b/2,f=a,k=n,K.D(b,0)?k=0<h?k-c:k+c:(h=-h/b,f=Math.sqrt(c*c/(h*h+1)),0>c&&(f=-f),f=(0>b?-1:1)*f+a,k=h*(f-a)+n),this.Lh(d),this.Lk(f,k)):this.Lh(d),this.Lh(e)));return!0};
	function Co(a,b){Math.abs(b.x-a.x)>Math.abs(b.y-a.y)?(b.x=b.x>=a.x?a.x+9E9:a.x-9E9,b.y=a.y):(b.y=b.y>=a.y?a.y+9E9:a.y-9E9,b.x=a.x);return b}
	W.prototype.getLinkPointFromPoint=function(a,b,c,d,e,f){void 0===f&&(f=new w);if(null===a||null===b)return f.assign(c),f;a.Ga()||(e=a.findVisibleNode(),null!==e&&e!==a&&(b=e.port));var h=e=0,k=0,l=0;a=null;e=b.S;null===e||e.Tf()||(e=e.S);if(null===e)e=d.x,h=d.y,k=c.x,l=c.y;else{a=e.Ff;e=1/(a.m11*a.m22-a.m12*a.m21);var k=a.m22*e,l=-a.m12*e,m=-a.m21*e,n=a.m11*e,p=e*(a.m21*a.dy-a.m22*a.dx),q=e*(a.m12*a.dx-a.m11*a.dy);e=d.x*k+d.y*m+p;h=d.x*l+d.y*n+q;k=c.x*k+c.y*m+p;l=c.x*l+c.y*n+q}b.Eo(e,h,k,l,f);null!==
	a&&f.transform(a);return f};function Do(a,b){var c=b.lr;null===c&&(c=new Eo,c.port=b,c.Bc=b.T,b.lr=c);return Fo(c,a)}
	W.prototype.getLinkPoint=function(a,b,c,d,e,f,h,k){void 0===k&&(k=new w);if(c.pd())return b.mb(c,k),k;if(c.Io()&&(c=Do(this,b),null!==c)){k.assign(c.No);if(e&&this.Bw===mo){var l=Do(this,h);if(c.wm<l.wm){c=u.K();var l=u.K(),m=new z(b.mb(xb,c),b.mb(Vb,l)),n=this.computeSpot(!d);a=this.getLinkPoint(f,h,n,!d,e,a,b,l);a.x>=m.x&&a.x<=m.x+m.width?k.x=a.x:a.y>=m.y&&a.y<=m.y+m.height&&(k.y=a.y);u.v(c);u.v(l)}}return k}f=b.mb(Ib,u.K());l=c=null;this.ka>(e?6:2)?(l=d?this.l(1):this.l(this.ka-2),e&&(l=Co(f,l.copy()))):
		(c=u.K(),l=h.mb(Ib,c),e&&(l=Co(f,l)));this.getLinkPointFromPoint(a,b,f,l,d,k);u.v(f);null!==c&&u.v(c);return k};
	W.prototype.getLinkDirection=function(a,b,c,d,e,f,h,k){a:if(d.pd())c=d.x>d.y?d.x>1-d.y?0:d.x<1-d.y?270:315:d.x<d.y?d.x>1-d.y?90:d.x<1-d.y?180:135:.5>d.x?225:.5<d.x?45:0;else{if(d.Io()){var l=Do(this,b);if(null!==l)switch(l.ee){case u.Xc:c=270;break a;case u.Ec:c=180;break a;default:case u.Nc:c=0;break a;case u.Mc:c=90;break a}}var l=b.mb(Ib,u.K()),m=null,n=null;this.ka>(f?6:2)?(n=e?this.l(1):this.l(this.ka-2),n=f?Co(l,n.copy()):c):(m=u.K(),n=k.mb(Ib,m));c=0;c=Math.abs(n.x-l.x)>Math.abs(n.y-l.y)?n.x>=
	l.x?0:180:n.y>=l.y?90:270;u.v(l);null!==m&&u.v(m)}d.ne()&&h.Rh(a)&&(c+=180,360<=c&&(c-=360));a=Yn;a=e?this.Fs:this.xt;a===Yn&&(a=e?b.Fs:b.xt);switch(a){case Zn:b=b.Zk();c+=b;360<=c&&(c-=360);break;case Yn:case jl:b=b.Zk();if(0===b)break;45<=b&&135>b?c+=90:135<=b&&225>b?c+=180:225<=b&&315>b&&(c+=270);360<=c&&(c-=360)}return c};
	W.prototype.computeEndSegmentLength=function(a,b,c,d){if(null!==b&&c.Io()&&(a=Do(this,b),null!==a))return a.Tv;a=NaN;a=d?this.Yk:this.vl;null!==b&&isNaN(a)&&(a=d?b.Yk:b.vl);isNaN(a)&&(a=10);return a};W.prototype.computeSpot=function(a){return a?Ao(this,this.od):Bo(this,this.fe)};function Ao(a,b){if(null===b)return Ib;var c=a.vb;c.Kc()&&(void 0===b&&(b=a.od),null!==b&&(c=b.vb));return c===uc?vb:c}
	function Bo(a,b){if(null===b)return Ib;var c=a.xb;c.Kc()&&(void 0===b&&(b=a.fe),null!==b&&(c=b.xb));return c===uc?vb:c}W.prototype.computeOtherPoint=function(a,b){var c=b.mb(Ib),d;d=b.lr;d=null!==d?Fo(d,this):null;null!==d&&(c=d.No);return c};W.prototype.computeShortLength=function(a){return a?Go(this):Ho(this)};function Go(a){var b=a.Gs;isNaN(b)&&(a=a.od,null!==a&&(b=a.Gs));return isNaN(b)?0:b}function Ho(a){var b=a.zt;isNaN(b)&&(a=a.fe,null!==a&&(b=a.zt));return isNaN(b)?0:b}
	W.prototype.Nj=function(a,b,c,d,e,f){if(!1===this.Bg)return!1;void 0===b&&(b=null);void 0===c&&(c=null);var h=f;void 0===f&&(h=u.lh(),h.reset());h.multiply(this.transform);if(this.tm(a,h))return Um(this,b,c,e),void 0===f&&u.Ye(h),!0;if(this.tg(a,h)){var k=!1;if(!this.Mg)for(var l=this.Aa.n,m=l.length;m--;){var n=l[m];if(n.visible||n===this.ec){var p=n.ba,q=this.Ja;if(!(p.x>q.width||p.y>q.height||0>p.x+p.width||0>p.y+p.height)){p=u.lh();p.set(h);if(n instanceof B)k=n.Nj(a,b,c,d,e,p);else if(this.path===
		n){var k=n,r=a,s=d,q=p;if(!1===k.Bg)k=!1;else if(q.multiply(k.transform),s)b:{var t=r,v=q;if(k.tm(t,v))k=!0;else{if(void 0===v&&(v=k.transform,t.Kj(k.ba))){k=!0;break b}var q=t.left,r=t.right,s=t.top,t=t.bottom,x=u.K(),A=u.K(),y=u.K(),C=u.lh();C.set(v);C.aE(k.transform);C.pz();A.x=r;A.y=s;A.transform(C);x.x=q;x.y=s;x.transform(C);v=!1;cn(k,x,A,y)?v=!0:(x.x=r,x.y=t,x.transform(C),cn(k,x,A,y)?v=!0:(A.x=q,A.y=t,A.transform(C),cn(k,x,A,y)?v=!0:(x.x=q,x.y=s,x.transform(C),cn(k,x,A,y)&&(v=!0))));u.Ye(C);
		u.v(x);u.v(A);u.v(y);k=v}}else k=k.tm(r,q)}else k=ol(n,a,d,p);k&&(null!==b&&(n=b(n)),n&&(null===c||c(n))&&e.add(n));u.Ye(p)}}}void 0===f&&u.Ye(h);return k||null!==this.background||null!==this.om}void 0===f&&u.Ye(h);return!1};u.u(W,{dc:"isOrthogonal"},function(){return 2===(this.Zl.value&2)});u.u(W,{el:"isAvoiding"},function(){return 4===(this.Zl.value&4)});W.prototype.computeCurve=function(){if(null===this.ei){var a=this.od,b=this.dc;this.ei=null!==a&&a===this.fe&&!b}return this.ei?kh:this.Ve};
	W.prototype.computeCorner=function(){if(this.Ve===kh)return 0;var a=this.Zy;if(isNaN(a)||0>a)a=10;return a};W.prototype.computeCurviness=function(){var a=this.Pv;if(isNaN(a)){var b=this.jf;if(0!==b){var a=10,c=this.g;null!==c&&(a=c.pw);c=Math.abs(b);a=a/2+((c-1)/2|0)*a;0===c%2&&(a=-a);0>b&&(a=-a)}else a=10}return a};W.prototype.computeThickness=function(){var a=this.path;return null!==a?Math.max(a.ib,1):1};W.prototype.hasCurviness=function(){return!isNaN(this.Pv)||0!==this.jf&&!this.dc};
	W.prototype.adjustPoints=function(a,b,c,d){var e=this.gs;if(this.dc){if(e===Vl)return!1;e===Wl&&(e=Ul)}switch(e){case Vl:var f=this.l(a),h=this.l(c);if(!f.L(b)||!h.L(d)){var e=f.x,f=f.y,k=h.x-e,l=h.y-f,m=Math.sqrt(k*k+l*l);if(!K.D(m,0)){var n=0;K.D(k,0)?n=0>l?-Math.PI/2:Math.PI/2:(n=Math.atan(l/Math.abs(k)),0>k&&(n=Math.PI-n));var h=b.x,p=b.y,l=d.x-h,q=d.y-p,r=Math.sqrt(l*l+q*q),k=0;K.D(l,0)?k=0>q?-Math.PI/2:Math.PI/2:(k=Math.atan(q/Math.abs(l)),0>l&&(k=Math.PI-k));m=r/m;n=k-n;this.yf(a,b);for(a+=
																																																																																																																														   1;a<c;a++)b=this.l(a),k=b.x-e,l=b.y-f,b=Math.sqrt(k*k+l*l),K.D(b,0)||(q=0,K.D(k,0)?q=0>l?-Math.PI/2:Math.PI/2:(q=Math.atan(l/Math.abs(k)),0>k&&(q=Math.PI-q)),k=q+n,b*=m,this.V(a,h+b*Math.cos(k),p+b*Math.sin(k)));this.yf(c,d)}}return!0;case Wl:f=this.l(a);p=this.l(c);if(!f.L(b)||!p.L(d)){var e=f.x,f=f.y,h=p.x,p=p.y,m=(h-e)*(h-e)+(p-f)*(p-f),k=b.x,n=b.y,l=d.x,q=d.y,r=0,s=1,r=0!==l-k?(q-n)/(l-k):9E9;0!==r&&(s=Math.sqrt(1+1/(r*r)));this.yf(a,b);for(a+=1;a<c;a++){b=this.l(a);var t=b.x,v=b.y,x=.5;0!==m&&
	(x=((e-t)*(e-h)+(f-v)*(f-p))/m);var A=e+x*(h-e),y=f+x*(p-f);b=Math.sqrt((t-A)*(t-A)+(v-y)*(v-y));v<r*(t-A)+y&&(b=-b);0<r&&(b=-b);t=k+x*(l-k);x=n+x*(q-n);0!==r?(b=t+b/s,this.V(a,b,x-(b-t)/r)):this.V(a,t,x+b)}this.yf(c,d)}return!0;case Ul:return this.dc&&(e=this.l(a),f=this.l(a+1),h=this.l(a+2),K.D(e.y,f.y)?K.D(f.x,h.x)?this.V(a+1,f.x,b.y):K.D(f.y,h.y)&&this.V(a+1,b.x,f.y):K.D(e.x,f.x)&&(K.D(f.y,h.y)?this.V(a+1,b.x,f.y):K.D(f.x,h.x)&&this.V(a+1,f.x,b.y)),e=this.l(c),f=this.l(c-1),h=this.l(c-2),K.D(e.y,
		f.y)?K.D(f.x,h.x)?this.V(c-1,f.x,d.y):K.D(f.y,h.y)&&this.V(c-1,d.x,f.y):K.D(e.x,f.x)&&(K.D(f.y,h.y)?this.V(c-1,d.x,f.y):K.D(f.x,h.x)&&this.V(c-1,f.x,d.y))),this.yf(a,b),this.yf(c,d),!0;default:return!1}};
	W.prototype.addOrthoPoints=function(a,b,c,d,e,f){b=-45<=b&&45>b?0:45<=b&&135>b?90:135<=b&&225>b?180:270;d=-45<=d&&45>d?0:45<=d&&135>d?90:135<=d&&225>d?180:270;var h=e.ba.copy(),k=f.ba.copy();if(h.I()&&k.I()){h.Jf(8,8);k.Jf(8,8);h.Pi(a);k.Pi(c);var l,m;if(0===b)if(c.x>a.x||270===d&&c.y<a.y&&k.right>a.x||90===d&&c.y>a.y&&k.right>a.x)l=new w(c.x,a.y),m=new w(c.x,(a.y+c.y)/2),180===d?(l.x=this.computeMidOrthoPosition(a.x,c.x,!1),m.x=l.x,m.y=c.y):270===d&&c.y<a.y||90===d&&c.y>a.y?(l.x=a.x<k.left?this.computeMidOrthoPosition(a.x,
		k.left,!1):a.x<k.right&&(270===d&&a.y<k.top||90===d&&a.y>k.bottom)?this.computeMidOrthoPosition(a.x,c.x,!1):k.right,m.x=l.x,m.y=c.y):0===d&&a.x<k.left&&a.y>k.top&&a.y<k.bottom&&(l.x=a.x,l.y=a.y<c.y?Math.min(c.y,k.top):Math.max(c.y,k.bottom),m.y=l.y);else{l=new w(a.x,c.y);m=new w((a.x+c.x)/2,c.y);if(180===d||90===d&&c.y<h.top||270===d&&c.y>h.bottom)180===d&&(k.Da(a)||h.Da(c))?l.y=this.computeMidOrthoPosition(a.y,c.y,!0):c.y<a.y&&(180===d||90===d)?l.y=this.computeMidOrthoPosition(h.top,Math.max(c.y,
		k.bottom),!0):c.y>a.y&&(180===d||270===d)&&(l.y=this.computeMidOrthoPosition(h.bottom,Math.min(c.y,k.top),!0)),m.x=c.x,m.y=l.y;if(l.y>h.top&&l.y<h.bottom)if(c.x>=h.left&&c.x<=a.x||a.x<=k.right&&a.x>=c.x){if(90===d||270===d)l=new w(Math.max((a.x+c.x)/2,a.x),a.y),m=new w(l.x,c.y)}else l.y=270===d||(0===d||180===d)&&c.y<a.y?Math.min(c.y,0===d?h.top:Math.min(h.top,k.top)):Math.max(c.y,0===d?h.bottom:Math.max(h.bottom,k.bottom)),m.x=c.x,m.y=l.y}else if(180===b)if(c.x<a.x||270===d&&c.y<a.y&&k.left<a.x||
		90===d&&c.y>a.y&&k.left<a.x)l=new w(c.x,a.y),m=new w(c.x,(a.y+c.y)/2),0===d?(l.x=this.computeMidOrthoPosition(a.x,c.x,!1),m.x=l.x,m.y=c.y):270===d&&c.y<a.y||90===d&&c.y>a.y?(l.x=a.x>k.right?this.computeMidOrthoPosition(a.x,k.right,!1):a.x>k.left&&(270===d&&a.y<k.top||90===d&&a.y>k.bottom)?this.computeMidOrthoPosition(a.x,c.x,!1):k.left,m.x=l.x,m.y=c.y):180===d&&a.x>k.right&&a.y>k.top&&a.y<k.bottom&&(l.x=a.x,l.y=a.y<c.y?Math.min(c.y,k.top):Math.max(c.y,k.bottom),m.y=l.y);else{l=new w(a.x,c.y);m=new w((a.x+
		c.x)/2,c.y);if(0===d||90===d&&c.y<h.top||270===d&&c.y>h.bottom)0===d&&(k.Da(a)||h.Da(c))?l.y=this.computeMidOrthoPosition(a.y,c.y,!0):c.y<a.y&&(0===d||90===d)?l.y=this.computeMidOrthoPosition(h.top,Math.max(c.y,k.bottom),!0):c.y>a.y&&(0===d||270===d)&&(l.y=this.computeMidOrthoPosition(h.bottom,Math.min(c.y,k.top),!0)),m.x=c.x,m.y=l.y;if(l.y>h.top&&l.y<h.bottom)if(c.x<=h.right&&c.x>=a.x||a.x>=k.left&&a.x<=c.x){if(90===d||270===d)l=new w(Math.min((a.x+c.x)/2,a.x),a.y),m=new w(l.x,c.y)}else l.y=270===
	d||(0===d||180===d)&&c.y<a.y?Math.min(c.y,180===d?h.top:Math.min(h.top,k.top)):Math.max(c.y,180===d?h.bottom:Math.max(h.bottom,k.bottom)),m.x=c.x,m.y=l.y}else if(90===b)if(c.y>a.y||180===d&&c.x<a.x&&k.bottom>a.y||0===d&&c.x>a.x&&k.bottom>a.y)l=new w(a.x,c.y),m=new w((a.x+c.x)/2,c.y),270===d?(l.y=this.computeMidOrthoPosition(a.y,c.y,!0),m.x=c.x,m.y=l.y):180===d&&c.x<a.x||0===d&&c.x>a.x?(l.y=a.y<k.top?this.computeMidOrthoPosition(a.y,k.top,!0):a.y<k.bottom&&(180===d&&a.x<k.left||0===d&&a.x>k.right)?
		this.computeMidOrthoPosition(a.y,c.y,!0):k.bottom,m.x=c.x,m.y=l.y):90===d&&a.y<k.top&&a.x>k.left&&a.x<k.right&&(l.x=a.x<c.x?Math.min(c.x,k.left):Math.max(c.x,k.right),l.y=a.y,m.x=l.x);else{l=new w(c.x,a.y);m=new w(c.x,(a.y+c.y)/2);if(270===d||0===d&&c.x<h.left||180===d&&c.x>h.right)270===d&&(k.Da(a)||h.Da(c))?l.x=this.computeMidOrthoPosition(a.x,c.x,!1):c.x<a.x&&(270===d||0===d)?l.x=this.computeMidOrthoPosition(h.left,Math.max(c.x,k.right),!1):c.x>a.x&&(270===d||180===d)&&(l.x=this.computeMidOrthoPosition(h.right,
		Math.min(c.x,k.left),!1)),m.x=l.x,m.y=c.y;if(l.x>h.left&&l.x<h.right)if(c.y>=h.top&&c.y<=a.y||a.y<=k.bottom&&a.y>=c.y){if(0===d||180===d)l=new w(a.x,Math.max((a.y+c.y)/2,a.y)),m=new w(c.x,l.y)}else l.x=180===d||(90===d||270===d)&&c.x<a.x?Math.min(c.x,90===d?h.left:Math.min(h.left,k.left)):Math.max(c.x,90===d?h.right:Math.max(h.right,k.right)),m.x=l.x,m.y=c.y}else if(c.y<a.y||180===d&&c.x<a.x&&k.top<a.y||0===d&&c.x>a.x&&k.top<a.y)l=new w(a.x,c.y),m=new w((a.x+c.x)/2,c.y),90===d?(l.y=this.computeMidOrthoPosition(a.y,
		c.y,!0),m.x=c.x,m.y=l.y):180===d&&c.x<a.x||0===d&&c.x>=a.x?(l.y=a.y>k.bottom?this.computeMidOrthoPosition(a.y,k.bottom,!0):a.y>k.top&&(180===d&&a.x<k.left||0===d&&a.x>k.right)?this.computeMidOrthoPosition(a.y,c.y,!0):k.top,m.x=c.x,m.y=l.y):270===d&&a.y>k.bottom&&a.x>k.left&&a.x<k.right&&(l.x=a.x<c.x?Math.min(c.x,k.left):Math.max(c.x,k.right),l.y=a.y,m.x=l.x);else{l=new w(c.x,a.y);m=new w(c.x,(a.y+c.y)/2);if(90===d||0===d&&c.x<h.left||180===d&&c.x>h.right)90===d&&(k.Da(a)||h.Da(c))?l.x=this.computeMidOrthoPosition(a.x,
		c.x,!1):c.x<a.x&&(90===d||0===d)?l.x=this.computeMidOrthoPosition(h.left,Math.max(c.x,k.right),!1):c.x>a.x&&(90===d||180===d)&&(l.x=this.computeMidOrthoPosition(h.right,Math.min(c.x,k.left),!1)),m.x=l.x,m.y=c.y;if(l.x>h.left&&l.x<h.right)if(c.y<=h.bottom&&c.y>=a.y||a.y>=k.top&&a.y<=c.y){if(0===d||180===d)l=new w(a.x,Math.min((a.y+c.y)/2,a.y)),m=new w(c.x,l.y)}else l.x=180===d||(90===d||270===d)&&c.x<a.x?Math.min(c.x,270===d?h.left:Math.min(h.left,k.left)):Math.max(c.x,270===d?h.right:Math.max(h.right,
		k.right)),m.x=l.x,m.y=c.y}var n=l,p=m;if(this.el){var q=this.g,r;(r=null===q)||(q.Mb.Xg?r=!1:(r=q.Va,r=r instanceof uf?!r.lv||r.YG:!0),r=!r);if(r||h.Da(c)&&!f.Rh(e)||k.Da(a)&&!e.Rh(f)||e===f||this.layer.zc)a=!1;else if(e=Lk(q,!0,this.Sa,null),e.Lo(Math.min(a.x,n.x),Math.min(a.y,n.y),Math.abs(a.x-n.x),Math.abs(a.y-n.y))&&e.Lo(Math.min(n.x,p.x),Math.min(n.y,p.y),Math.abs(n.x-p.x),Math.abs(n.y-p.y))&&e.Lo(Math.min(p.x,c.x),Math.min(p.y,c.y),Math.abs(p.x-c.x),Math.abs(p.y-c.y)))a=!1;else if(h=h.copy().Uh(k),
			h.Jf(2*e.so,2*e.qo),Io(e,a,b,c,d,h),k=Jo(e,c.x,c.y),e.abort||999999!==k||(Ok(e),k=e.JE,h.Jf(e.so*k,e.qo*k),Io(e,a,b,c,d,h),k=Jo(e,c.x,c.y)),e.abort||999999!==k||(Ok(e),k=e.SD,h.Jf(e.so*k,e.qo*k),Io(e,a,b,c,d,h),k=Jo(e,c.x,c.y)),!e.abort&&999999===k&&e.ZE&&(Ok(e),Io(e,a,b,c,d,e.lb),k=Jo(e,c.x,c.y)),!e.abort&&999999>k&&0!==Jo(e,c.x,c.y)){Ko(this,e,c.x,c.y,d,!0);d=this.l(2);if(4>this.ka)0===b||180===b?(d.x=a.x,d.y=c.y):(d.x=c.x,d.y=a.y),this.V(2,d.x,d.y),this.w(3,d.x,d.y);else if(c=this.l(3),0===b||
		180===b)K.D(d.x,c.x)?(b=0===b?Math.max(d.x,a.x):Math.min(d.x,a.x),this.V(2,b,a.y),this.V(3,b,c.y)):K.D(d.y,c.y)?(Math.abs(a.y-d.y)<=e.qo/2&&(this.V(2,d.x,a.y),this.V(3,c.x,a.y)),this.w(2,d.x,a.y)):this.V(2,a.x,d.y);else if(90===b||270===b)K.D(d.y,c.y)?(b=90===b?Math.max(d.y,a.y):Math.min(d.y,a.y),this.V(2,a.x,b),this.V(3,c.x,b)):K.D(d.x,c.x)?(Math.abs(a.x-d.x)<=e.so/2&&(this.V(2,a.x,d.y),this.V(3,a.x,c.y)),this.w(2,a.x,d.y)):this.V(2,d.x,a.y);a=!0}else a=!1}else a=!1;a||(this.Lh(l),this.Lh(m))}};
	W.prototype.computeMidOrthoPosition=function(a,b){if(this.hasCurviness()){var c=this.computeCurviness();return(a+b)/2+c}return(a+b)/2};function gg(a){if(!a.el)return!1;var b=a.points.n,c=b.length;if(4>c)return!1;a=Lk(a.g,!0,a.Sa,null);for(var d=1;d<c-2;d++){var e=b[d],f=b[d+1];if(!a.Lo(Math.min(e.x,f.x),Math.min(e.y,f.y),Math.abs(e.x-f.x),Math.abs(e.y-f.y)))return!0}return!1}
	function Ko(a,b,c,d,e,f){var h=b.so,k=b.qo,l=Jo(b,c,d),m=c,n=d;for(0===e?m+=h:90===e?n+=k:180===e?m-=h:n-=k;1<l&&Jo(b,m,n)===l-1;)c=m,d=n,0===e?m+=h:90===e?n+=k:180===e?m-=h:n-=k,l-=1;if(f){if(1<l)if(180===e||0===e)c=Math.floor(c/h)*h+h/2;else if(90===e||270===e)d=Math.floor(d/k)*k+k/2}else c=Math.floor(c/h)*h+h/2,d=Math.floor(d/k)*k+k/2;1<l&&(f=e,m=c,n=d,0===e?(f=90,n+=k):90===e?(f=180,m-=h):180===e?(f=270,n-=k):270===e&&(f=0,m+=h),Jo(b,m,n)===l-1?Ko(a,b,m,n,f,!1):(m=c,n=d,0===e?(f=270,n-=k):90===
	e?(f=0,m+=h):180===e?(f=90,n+=k):270===e&&(f=180,m-=h),Jo(b,m,n)===l-1&&Ko(a,b,m,n,f,!1)));a.Lk(c,d)}W.prototype.findClosestSegment=function(a){var b=a.x;a=a.y;for(var c=this.l(0),d=this.l(1),e=Xa(b,a,c.x,c.y,d.x,d.y),f=0,h=1;h<this.ka-1;h++){var c=this.l(h+1),k=Xa(b,a,d.x,d.y,c.x,c.y),d=c;k<e&&(f=h,e=k)}return f};W.prototype.invalidateGeometry=W.prototype.le=function(){this.Qa=null;this.R()};u.u(W,{ed:"geometry"},function(){null===this.Qa&&(this.updateRoute(),this.Qa=this.makeGeometry());return this.Qa});
	W.prototype.Ys=function(){if(null===this.Qa&&!1!==this.ig){this.Qa=this.makeGeometry();var a=this.path;if(null!==a){a.Qa=this.Qa;for(var b=this.Aa.n,c=b.length,d=0;d<c;d++){var e=b[d];e!==a&&e.ug&&e instanceof X&&(e.Qa=this.Qa)}}}};
	W.prototype.makeGeometry=function(){var a=this.ka;if(2>a){var b=new $c(ad),c=new bd(0,0);b.ub.add(c);return b}var d=!1,b=this.g;null!==b&&0!==b.ga.Le&&xo(this)&&(d=!0);var c=b=0,e=this.l(0).copy(),f=e.copy(),b=this.Qc.n,h=this.computeCurve();if(h===kh&&3<=a&&!K.cb(this.ip,0))if(3===a)var k=this.l(1),b=Math.min(e.x,k.x),c=Math.min(e.y,k.y),k=this.l(2),b=Math.min(b,k.x),c=Math.min(c,k.y);else{if(this.dc)for(k=0;k<a;k++)c=b[k],f.x=Math.min(c.x,f.x),f.y=Math.min(c.y,f.y);else for(k=3;k<a;k+=3)k+3>=a&&
	(k=a-1),b=this.l(k),f.x=Math.min(b.x,f.x),f.y=Math.min(b.y,f.y);b=f.x;c=f.y}else{for(k=0;k<a;k++)c=b[k],f.x=Math.min(c.x,f.x),f.y=Math.min(c.y,f.y);b=f.x;c=f.y}b-=this.Ey.x;c-=this.Ey.y;e.x-=b;e.y-=c;if(2===a){var l=this.l(1).copy();l.x-=b;l.y-=c;0!==Go(this)&&Lo(this,e,!0,f);0!==Ho(this)&&Lo(this,l,!1,f);b=new $c(dd);b.va=e.x;b.wa=e.y;b.F=l.x;b.G=l.y}else{l=u.p();0!==Go(this)&&Lo(this,e,!0,f);M(l,e.x,e.y,!1,!1);if(h===kh&&3<=a&&!K.cb(this.ip,0))if(3===a)k=this.l(1),a=k.x-b,d=k.y-c,k=this.l(2).copy(),
		k.x-=b,k.y-=c,0!==Ho(this)&&Lo(this,k,!1,f),O(l,a,d,a,d,k.x,k.y);else if(this.dc){for(var f=new w(b,c),e=this.l(1).copy(),h=new w(b,c),a=new w(b,c),d=this.l(0),m=null,n=this.ip/3,k=1;k<this.ka-1;k++){var m=this.l(k),p=d,q=m,r=this.l(Mo(this,m,k,!1));if(!K.cb(p.x,q.x)||!K.cb(q.x,r.x))if(!K.cb(p.y,q.y)||!K.cb(q.y,r.y)){var s=n,t=h,v=a;isNaN(s)&&(s=this.ip/3);var x=p.x,p=p.y,A=q.x,q=q.y,y=r.x,r=r.y,C=s*No(x,p,A,q),s=s*No(A,q,y,r);K.cb(p,q)&&K.cb(A,y)&&(A>x?r>q?(t.x=A-C,t.y=q-C,v.x=A+s,v.y=q+s):(t.x=
		A-C,t.y=q+C,v.x=A+s,v.y=q-s):r>q?(t.x=A+C,t.y=q-C,v.x=A-s,v.y=q+s):(t.x=A+C,t.y=q+C,v.x=A-s,v.y=q-s));K.cb(x,A)&&K.cb(q,r)&&(q>p?(y>A?(t.x=A-C,t.y=q-C,v.x=A+s):(t.x=A+C,t.y=q-C,v.x=A-s),v.y=q+s):(y>A?(t.x=A-C,t.y=q+C,v.x=A+s):(t.x=A+C,t.y=q+C,v.x=A-s),v.y=q-s));if(K.cb(x,A)&&K.cb(A,y)||K.cb(p,q)&&K.cb(q,r))x=.5*(x+y),p=.5*(p+r),t.x=x,t.y=p,v.x=x,v.y=p;1===k?(e.x=.5*(d.x+m.x),e.y=.5*(d.y+m.y)):2===k&&K.cb(d.x,this.l(0).x)&&K.cb(d.y,this.l(0).y)&&(e.x=.5*(d.x+m.x),e.y=.5*(d.y+m.y));O(l,e.x-b,e.y-c,
		h.x-b,h.y-c,m.x-b,m.y-c);f.set(h);e.set(a);d=m}}k=d.x;d=d.y;f=this.l(this.ka-1);k=.5*(k+f.x);d=.5*(d+f.y);O(l,a.x-b,a.y-c,k-b,d-c,f.x-b,f.y-c)}else for(k=3;k<a;k+=3)d=this.l(k-2),k+3>=a&&(k=a-1),f=this.l(k-1),e=this.l(k),k===a-1&&0!==Ho(this)&&(e=e.copy(),Lo(this,e,!1,K.Wj)),O(l,d.x-b,d.y-c,f.x-b,f.y-c,e.x-b,e.y-c);else{f=u.K();f.assign(this.l(0));for(k=1;k<a;){k=Mo(this,f,k,1<k);t=this.l(k);if(k>=a-1){f!==t&&(0!==Ho(this)&&(t=t.copy(),Lo(this,t,!1,K.Wj)),Oo(this,l,-b,-c,f,t,d));break}k=Mo(this,t,
		k+1,k<a-3);e=l;h=-b;m=-c;n=f;v=this.l(k);x=f;p=d;K.D(n.y,t.y)&&K.D(t.x,v.x)?(s=this.computeCorner(),s=Math.min(s,Math.abs(t.x-n.x)/2),s=A=Math.min(s,Math.abs(v.y-t.y)/2),K.D(s,0)?(Oo(this,e,h,m,n,t,p),x.assign(t)):(q=t.x,y=t.y,r=q,C=y,q=t.x>n.x?t.x-s:t.x+s,C=v.y>t.y?t.y+A:t.y-A,Oo(this,e,h,m,n,new w(q,y),p),td(e,t.x+h,t.y+m,r+h,C+m),x.m(r,C))):K.D(n.x,t.x)&&K.D(t.y,v.y)?(s=this.computeCorner(),A=Math.min(s,Math.abs(t.y-n.y)/2),A=s=Math.min(A,Math.abs(v.x-t.x)/2),K.D(s,0)?(Oo(this,e,h,m,n,t,p),x.assign(t)):
		(q=t.x,C=y=t.y,y=t.y>n.y?t.y-A:t.y+A,r=v.x>t.x?t.x+s:t.x-s,Oo(this,e,h,m,n,new w(q,y),p),td(e,t.x+h,t.y+m,r+h,C+m),x.m(r,C))):(Oo(this,e,h,m,n,t,p),x.assign(t))}u.v(f)}b=l.o;u.q(l)}return b};function No(a,b,c,d){a=c-a;if(isNaN(a)||Infinity===a||-Infinity===a)return NaN;0>a&&(a=-a);b=d-b;if(isNaN(b)||Infinity===b||-Infinity===b)return NaN;0>b&&(b=-b);return K.cb(a,0)?b:K.cb(b,0)?a:Math.sqrt(a*a+b*b)}
	function Lo(a,b,c,d){var e=a.ka;if(!(2>e))if(c){var f=a.l(1);c=f.x-d.x;d=f.y-d.y;f=No(b.x,b.y,c,d);0!==f&&(e=2===e?.5*f:f,a=Go(a),a>e&&(a=e),c=a*(c-b.x)/f,a=a*(d-b.y)/f,b.x+=c,b.y+=a)}else f=a.l(e-2),c=f.x-d.x,d=f.y-d.y,f=No(b.x,b.y,c,d),0!==f&&(e=2===e?.5*f:f,a=Ho(a),a>e&&(a=e),c=a*(b.x-c)/f,a=a*(b.y-d)/f,b.x-=c,b.y-=a)}
	function Mo(a,b,c,d){for(var e=a.ka,f=b;K.cb(b.x,f.x)&&K.cb(b.y,f.y);){if(c>=e)return e-1;f=a.l(c++)}if(!K.cb(b.x,f.x)&&!K.cb(b.y,f.y))return c-1;for(var h=f;K.cb(b.x,f.x)&&K.cb(f.x,h.x)&&(!d||(b.y>=f.y?f.y>=h.y:f.y<=h.y))||K.cb(b.y,f.y)&&K.cb(f.y,h.y)&&(!d||(b.x>=f.x?f.x>=h.x:f.x<=h.x));){if(c>=e)return e-1;h=a.l(c++)}return c-2}
	function Oo(a,b,c,d,e,f,h){if(!h&&xo(a)){h=[];var k=0;a.Ga()&&(k=Po(a,e,f,h));var l=e.x,l=e.y;if(0<k)if(K.D(e.y,f.y))if(e.x<f.x)for(var m=0;m<k;){var n=Math.max(e.x,Math.min(h[m++]-5,f.x-10));b.lineTo(n+c,f.y+d);for(var l=n+c,p=Math.min(n+10,f.x);m<k;){var q=h[m];if(q<p+10)m++,p=Math.min(q+5,f.x);else break}q=(n+p)/2+c;q=f.y-10+d;n=p+c;p=f.y+d;a.Ve===ch?M(b,n,p,!1,!1):O(b,l,q,n,q,n,p)}else for(m=k-1;0<=m;){n=Math.min(e.x,Math.max(h[m--]+5,f.x+10));b.lineTo(n+c,f.y+d);l=n+c;for(p=Math.max(n-10,f.x);0<=
	m;)if(q=h[m],q>p-10)m--,p=Math.max(q-5,f.x);else break;q=f.y-10+d;n=p+c;p=f.y+d;a.Ve===ch?M(b,n,p,!1,!1):O(b,l,q,n,q,n,p)}else if(K.D(e.x,f.x))if(e.y<f.y)for(m=0;m<k;){n=Math.max(e.y,Math.min(h[m++]-5,f.y-10));b.lineTo(f.x+c,n+d);l=n+d;for(p=Math.min(n+10,f.y);m<k;)if(q=h[m],q<p+10)m++,p=Math.min(q+5,f.y);else break;q=f.x-10+c;n=f.x+c;p+=d;a.Ve===ch?M(b,n,p,!1,!1):O(b,q,l,q,p,n,p)}else for(m=k-1;0<=m;){n=Math.min(e.y,Math.max(h[m--]+5,f.y+10));b.lineTo(f.x+c,n+d);l=n+d;for(p=Math.max(n-10,f.y);0<=
	m;)if(q=h[m],q>p-10)m--,p=Math.max(q-5,f.y);else break;q=f.x-10+c;n=f.x+c;p+=d;a.Ve===ch?M(b,n,p,!1,!1):O(b,q,l,q,p,n,p)}}b.lineTo(f.x+c,f.y+d)}
	function Po(a,b,c,d){var e=a.g;if(null===e||b.L(c))return 0;for(e=e.nw;e.next();){var f=e.value;if(null!==f&&f.visible)for(var f=f.Db.n,h=f.length,k=0;k<h;k++){var l=f[k];if(l instanceof W){if(l===a)return 0<d.length&&d.sort(function(a,b){return a-b}),d.length;if(l.Ga()&&xo(l)){var m=l.Nm;m.I()&&a.Nm.tg(m)&&!a.usesSamePort(l)&&(m=l.path,null!==m&&m.kl()&&Qo(b,c,d,l))}}}}0<d.length&&d.sort(function(a,b){return a-b});return d.length}
	function Qo(a,b,c,d){for(var e=K.D(a.y,b.y),f=d.ka,h=d.l(0),k=u.K(),l=1;l<f;l++){var m=d.l(l);if(l<f-1){var n=d.l(l+1);if(h.y===m.y&&m.y===n.y){if(m.x>h.x&&n.x>m.x||m.x<h.x&&n.x<m.x)m=n,l++}else h.x===m.x&&m.x===n.x&&(m.y>h.y&&n.y>m.y||m.y<h.y&&n.y<m.y)&&(m=n,l++)}a:{var n=k,p=a.x,q=a.y,r=b.x,s=b.y,t=h.x,h=h.y,v=m.x,x=m.y;if(!K.D(p,r)){if(K.D(q,s)&&K.D(t,v)&&Math.min(p,r)<t&&Math.max(p,r)>t&&Math.min(h,x)<q&&Math.max(h,x)>q&&!K.D(h,x)){n.x=t;n.y=q;n=!0;break a}}else if(!K.D(q,s)&&K.D(h,x)&&Math.min(q,
			s)<h&&Math.max(q,s)>h&&Math.min(t,v)<p&&Math.max(t,v)>p&&!K.D(t,v)){n.x=p;n.y=h;n=!0;break a}n.x=0;n.y=0;n=!1}n&&(e?c.push(k.x):c.push(k.y));h=m}u.v(k)}u.u(W,{Cs:"firstPickIndex"},function(){return 2>=this.ka?0:this.dc||Ao(this)!==vb?1:0});u.u(W,{mw:"lastPickIndex"},function(){var a=this.ka;return 0===a?0:2>=a?a-1:this.dc||Bo(this)!==vb?a-2:a-1});function xo(a){a=a.Ve;return a===bh||a===ch}function zo(a,b){if(b||xo(a)){var c=a.g;null===c||c.Fl.contains(a)||null===a.qy||c.Fl.add(a,a.qy)}}
	function eh(a,b){var c=a.layer;if(null!==c&&c.visible&&!c.zc){var d=c.g;if(null!==d)for(var e=!1,d=d.nw;d.next();){var f=d.value;if(f.visible)if(f===c)for(var e=!0,h=!1,f=f.Db.n,k=f.length,l=0;l<k;l++){var m=f[l];m instanceof W&&(m===a?h=!0:h&&Ro(a,m,b))}else if(e)for(f=f.Db.n,k=f.length,l=0;l<k;l++)m=f[l],m instanceof W&&Ro(a,m,b)}}}function Ro(a,b,c){if(null!==b&&null!==b.Qa&&xo(b)){var d=b.Nm;d.I()&&(a.Nm.tg(d)||c.tg(d))&&(a.usesSamePort(b)||b.le())}}
	W.prototype.usesSamePort=function(a){var b=this.ka,c=a.ka;if(0<b&&0<c){var d=this.l(0),e=a.l(0);if(d.De(e))return!0;b=this.l(b-1);a=a.l(c-1);if(b.De(a)||d.De(a)||b.De(e))return!0}else if(this.W===a.W||this.ca===a.ca||this.W==a.ca||this.ca==a.W)return!0;return!1};W.prototype.He=function(a){G.prototype.He.call(this,a);if(null!==this.ue)for(var b=this.ue.i;b.next();)b.value.He(a)};
	u.defineProperty(W,{gs:"adjusting"},function(){return this.wp},function(a){var b=this.wp;b!==a&&(this.wp=a,this.h("adjusting",b,a))});u.defineProperty(W,{Zy:"corner"},function(){return this.Jp},function(a){var b=this.Jp;b!==a&&(this.Jp=a,this.le(),this.h("corner",b,a))});u.defineProperty(W,{Ve:"curve"},function(){return this.Mp},function(a){var b=this.Mp;b!==a&&(this.Mp=a,this.Vb(),zo(this,b===ch||b===bh||a===ch||a===bh),this.h("curve",b,a))});
	u.defineProperty(W,{Pv:"curviness"},function(){return this.Np},function(a){var b=this.Np;b!==a&&(this.Np=a,this.Vb(),this.h("curviness",b,a))});u.defineProperty(W,{Bw:"routing"},function(){return this.Zl},function(a){var b=this.Zl;b!==a&&(this.Zl=a,this.ei=null,this.Vb(),zo(this,2===(b.value&2)||2===(a.value&2)),this.h("routing",b,a))});u.defineProperty(W,{ip:"smoothness"},function(){return this.Mr},function(a){var b=this.Mr;b!==a&&(this.Mr=a,this.le(),this.h("smoothness",b,a))});
	function vo(a){var b=a.Xf;if(null!==b){var c=a.hg;if(null!==c){var d=a.yh,e=a.Kh;a:{if(null!==c&&null!==b.ph)for(a=b.ph.i;a.next();){var f=a.value;if(f.Wo===b&&f.bt===c&&f.ww===d&&f.xw===e||f.Wo===c&&f.bt===b&&f.ww===e&&f.xw===d){a=f;break a}}a=null}for(var h=null,k=null,l=b.hc.n,m=l.length,f=0;f<m;f++){var n=l[f];if(n.Xf===b&&n.yh===d&&n.hg===c&&n.Kh===e||n.Xf===c&&n.yh===e&&n.hg===b&&n.Kh===d)null===k?k=n:(null===h&&(h=new E(W),h.add(k)),h.add(n))}if(null!==h)for(null===a&&(a=new bo,a.Wo=b,a.ww=
		d,a.bt=c,a.xw=e,ao(b,a),ao(c,a)),a.links=h,b=h.n,f=0;f<b.length;f++)if(n=b[f],0===n.jf){c=1;for(d=0;d<b.length;d++)Math.abs(b[d].jf)===c&&(c++,d=-1);n.bn=a;n.jf=n.W===a.Wo?c:-c;c=n.g;(null===c||c.mf)&&n.Vb()}}}}
	function uo(a){var b=a.bn;if(null!==b){var c=a.jf;a.bn=null;a.jf=0;b.links.remove(a);if(2>b.links.count)1===b.links.count&&(c=b.links.n[0],c.bn=null,c.jf=0,c.Vb()),c=b.Wo,null!==b&&null!==c.ph&&c.ph.remove(b),c=b.bt,null!==b&&null!==c.ph&&c.ph.remove(b);else for(c=Math.abs(c),a=0===c%2,b=b.links.i;b.next();){var d=b.value,e=Math.abs(d.jf),f=0===e%2;e>c&&a===f&&(d.jf=0<d.jf?d.jf-2:d.jf+2,d.Vb())}}}function bo(){u.gc(this);this.links=this.xw=this.bt=this.ww=this.Wo=null}
	u.Xd(bo,{Wo:!0,ww:!0,bt:!0,xw:!0,links:!0,spacing:!0});function Mk(){u.gc(this);this.gA=this.group=null;this.Ms=!0;this.abort=!1;this.cg=this.bg=1;this.Lq=this.Kq=-1;this.he=this.ge=8;this.mc=null;this.ZE=!1;this.JE=22;this.SD=111}u.Xd(Mk,{group:!0,gA:!0,Ms:!0,abort:!0,ZE:!0,JE:!0,SD:!0});
	Mk.prototype.initialize=function(a){if(!(0>=a.width||0>=a.height)){var b=a.y,c=a.x+a.width,d=a.y+a.height;this.bg=Math.floor((a.x-this.ge)/this.ge)*this.ge;this.cg=Math.floor((b-this.he)/this.he)*this.he;this.Kq=Math.ceil((c+2*this.ge)/this.ge)*this.ge;this.Lq=Math.ceil((d+2*this.he)/this.he)*this.he;a=1+(Math.ceil((this.Kq-this.bg)/this.ge)|0);b=1+(Math.ceil((this.Lq-this.cg)/this.he)|0);if(null===this.mc||this.io<a-1||this.jo<b-1){c=[];for(d=0;d<=a;d++){for(var e=[],f=0;f<=b;f++)e[f]=0;c[d]=e}this.mc=
		c;this.io=a-1;this.jo=b-1}if(null!==this.mc)for(a=0;a<=this.io;a++)for(b=0;b<=this.jo;b++)this.mc[a][b]=999999}};u.u(Mk,{lb:null},function(){return new z(this.bg,this.cg,this.Kq-this.bg,this.Lq-this.cg)});u.defineProperty(Mk,{so:null},function(){return this.ge},function(a){0<a&&a!==this.ge&&(this.ge=a,this.initialize(this.lb))});u.defineProperty(Mk,{qo:null},function(){return this.he},function(a){0<a&&a!==this.he&&(this.he=a,this.initialize(this.lb))});
	function So(a,b,c){return a.bg<=b&&b<=a.Kq&&a.cg<=c&&c<=a.Lq}function Jo(a,b,c){if(!So(a,b,c))return 0;b-=a.bg;b/=a.ge;c-=a.cg;c/=a.he;return a.mc[b|0][c|0]}function Pk(a,b,c){So(a,b,c)&&(b-=a.bg,b/=a.ge,c-=a.cg,c/=a.he,a.mc[b|0][c|0]=0)}function Ok(a){if(null!==a.mc)for(var b=0;b<=a.io;b++)for(var c=0;c<=a.jo;c++)1<=a.mc[b][c]&&(a.mc[b][c]|=999999)}
	Mk.prototype.Lo=function(a,b,c,d){if(a>this.Kq||a+c<this.bg||b>this.Lq||b+d<this.cg)return!0;a=(a-this.bg)/this.ge|0;b=(b-this.cg)/this.he|0;c=Math.max(0,c)/this.ge+1|0;var e=Math.max(0,d)/this.he+1|0;0>a&&(c+=a,a=0);0>b&&(e+=b,b=0);if(0>c||0>e)return!0;d=Math.min(a+c-1,this.io)|0;for(c=Math.min(b+e-1,this.jo)|0;a<=d;a++)for(e=b;e<=c;e++)if(0===this.mc[a][e])return!1;return!0};
	function To(a,b,c,d,e,f,h,k,l){if(!(b<f||b>h||c<k||c>l)){var m,n;m=b|0;n=c|0;var p=a.mc[m][n];if(1<=p&&999999>p)for(e?n+=d:m+=d,p+=1;f<=m&&m<=h&&k<=n&&n<=l&&!(p>=a.mc[m][n]);)a.mc[m][n]=p,p+=1,e?n+=d:m+=d;m=e?n:m;if(e)if(0<d)for(c+=d;c<m;c+=d)To(a,b,c,1,!e,f,h,k,l),To(a,b,c,-1,!e,f,h,k,l);else for(c+=d;c>m;c+=d)To(a,b,c,1,!e,f,h,k,l),To(a,b,c,-1,!e,f,h,k,l);else if(0<d)for(b+=d;b<m;b+=d)To(a,b,c,1,!e,f,h,k,l),To(a,b,c,-1,!e,f,h,k,l);else for(b+=d;b>m;b+=d)To(a,b,c,1,!e,f,h,k,l),To(a,b,c,-1,!e,f,h,
		k,l)}}function Uo(a,b,c,d,e,f,h,k,l,m,n){for(var p=b|0,q=c|0,r=a.mc[p][q];0===r&&p>k&&p<l&&q>m&&q<n;)if(h?q+=f:p+=f,r=a.mc[p][q],1>=Math.abs(p-d)&&1>=Math.abs(q-e))return a.abort=!0,0;p=b|0;q=c|0;r=a.mc[p][q];b=1;for(a.mc[p][q]=b;0===r&&p>k&&p<l&&q>m&&q<n;)h?q+=f:p+=f,r=a.mc[p][q],a.mc[p][q]=b,b+=1;return h?q:p}
	function Io(a,b,c,d,e,f){if(null!==a.mc){a.abort=!1;var h=b.x,k=b.y;if(So(a,h,k)){var h=h-a.bg,h=h/a.ge,k=k-a.cg,k=k/a.he,l=d.x,m=d.y;if(So(a,l,m))if(l-=a.bg,l/=a.ge,m-=a.cg,m/=a.he,1>=Math.abs(h-l)&&1>=Math.abs(k-m))a.abort=!0;else{var n=f.x;b=f.y;d=f.x+f.width;var p=f.y+f.height,n=n-a.bg,n=n/a.ge;b-=a.cg;b/=a.he;d-=a.bg;d/=a.ge;p-=a.cg;p/=a.he;f=Math.max(0,Math.min(a.io,n|0));d=Math.min(a.io,Math.max(0,d|0));b=Math.max(0,Math.min(a.jo,b|0));var p=Math.min(a.jo,Math.max(0,p|0)),h=h|0,k=k|0,l=l|0,
		m=m|0,n=h,q=k,r=0===c||90===c?1:-1;(c=90===c||270===c)?q=Uo(a,h,k,l,m,r,c,f,d,b,p):n=Uo(a,h,k,l,m,r,c,f,d,b,p);if(!a.abort){a:{c=0===e||90===e?1:-1;e=90===e||270===e;for(var r=l|0,s=m|0,t=a.mc[r][s];0===t&&r>f&&r<d&&s>b&&s<p;)if(e?s+=c:r+=c,t=a.mc[r][s],1>=Math.abs(r-h)&&1>=Math.abs(s-k)){a.abort=!0;break a}r=l|0;s=m|0;t=a.mc[r][s];for(a.mc[r][s]=999999;0===t&&r>f&&r<d&&s>b&&s<p;)e?s+=c:r+=c,t=a.mc[r][s],a.mc[r][s]=999999}a.abort||(To(a,n,q,1,!1,f,d,b,p),To(a,n,q,-1,!1,f,d,b,p),To(a,n,q,1,!0,f,d,
		b,p),To(a,n,q,-1,!0,f,d,b,p))}}}}}function Eo(){u.gc(this);this.port=this.Bc=null;this.xg=[];this.Vo=!1}u.Xd(Eo,{Bc:!0,port:!0,xg:!0,Vo:!0});Eo.prototype.toString=function(){for(var a=this.xg,b=this.Bc.toString()+" "+a.length.toString()+":",c=0;c<a.length;c++){var d=a[c];null!==d&&(b+="\n  "+d.toString())}return b};
	function Vo(a,b,c,d){b=b.offsetY;switch(b){case u.Mc:return 90;case u.Ec:return 180;case u.Xc:return 270;case u.Nc:return 0}switch(b){case u.Mc|u.Xc:return 180<c?270:90;case u.Ec|u.Nc:return 90<c&&270>=c?180:0}a=180*Math.atan2(a.height,a.width)/Math.PI;switch(b){case u.Ec|u.Xc:return c>a&&c<=180+a?180:270;case u.Xc|u.Nc:return c>180-a&&c<=360-a?270:0;case u.Nc|u.Mc:return c>a&&c<=180+a?90:0;case u.Mc|u.Ec:return c>180-a&&c<=360-a?180:90;case u.Ec|u.Xc|u.Nc:return 90<c&&c<=180+a?180:c>180+a&&c<=360-
	a?270:0;case u.Xc|u.Nc|u.Mc:return 180<c&&c<=360-a?270:c>a&&180>=c?90:0;case u.Nc|u.Mc|u.Ec:return c>a&&c<=180-a?90:c>180-a&&270>=c?180:0;case u.Mc|u.Ec|u.Xc:return c>180-a&&c<=180+a?180:c>180+a?270:90}d&&b!==(u.Ec|u.Xc|u.Nc|u.Mc)&&(c-=15,0>c&&(c+=360));return c>a&&c<180-a?90:c>=180-a&&c<=180+a?180:c>180+a&&c<360-a?270:0}
	function Fo(a,b){var c=a.xg;if(0===c.length){a:if(!a.Vo){c=a.Vo;a.Vo=!0;var d,e=null,f=a.Bc,f=f instanceof V?f:null;if(null===f||f.be)d=a.Bc.qD(a.port.Jd);else{if(!f.ba.I()){a.Vo=c;break a}e=f;d=e.pD()}var h=a.xg.length=0,k=a.port.mb(xb,u.K()),l=a.port.mb(Vb,u.K()),f=u.Vj(k.x,k.y,0,0);f.Pi(l);u.v(k);u.v(l);k=u.fc(f.x+f.width/2,f.y+f.height/2);for(d=d.i;d.next();)if(l=d.value,l.Ga()){var m=vb,n=l.od===a.port||l.W.Rh(e),m=n?Ao(l,a.port):Bo(l,a.port);if(m.Io()&&(n=n?l.fe:l.od,null!==n)){var p=n.T;if(null!==
		p){var n=l.computeOtherPoint(p,n),p=k.Gi(n),m=Vo(f,m,p,l.dc),q=0;0===m?(q=u.Nc,180<p&&(p-=360)):q=90===m?u.Mc:180===m?u.Ec:u.Xc;m=a.xg[h];void 0===m?(m=new Wo(l,p,q),a.xg[h]=m):(m.link=l,m.angle=p,m.ee=q);m.vw.set(n);h++}}}u.v(k);a.xg.sort(Eo.prototype.GH);e=a.xg.length;k=-1;for(h=d=0;h<e;h++)m=a.xg[h],void 0!==m&&(m.ee!==k&&(k=m.ee,d=0),m.Fo=d,d++);k=-1;d=0;for(h=e-1;0<=h;h--)m=a.xg[h],void 0!==m&&(m.ee!==k&&(k=m.ee,d=m.Fo+1),m.wm=d);h=a.xg;n=a.port;e=a.Bc.NH;k=u.K();d=u.K();l=u.K();m=u.K();n.mb(xb,
		k);n.mb(Gb,d);n.mb(Vb,l);n.mb(Kb,m);var r=q=p=n=0;if(e===$n)for(var s=0;s<h.length;s++){var t=h[s];if(null!==t){var v=t.link.computeThickness();switch(t.ee){case u.Mc:q+=v;break;case u.Ec:r+=v;break;case u.Xc:n+=v;break;default:case u.Nc:p+=v}}}for(var x=0,A=0,y=1,s=0;s<h.length;s++)if(t=h[s],null!==t){var C,I;if(x!=t.ee){x=t.ee;switch(x){case u.Mc:C=l;I=m;break;case u.Ec:C=m;I=k;break;case u.Xc:C=k;I=d;break;default:case u.Nc:C=d,I=l}var H=I.x-C.x;I=I.y-C.y;switch(x){case u.Mc:q>Math.abs(H)?(y=Math.abs(H)/
		q,q=Math.abs(H)):y=1;break;case u.Ec:r>Math.abs(I)?(y=Math.abs(I)/r,r=Math.abs(I)):y=1;break;case u.Xc:n>Math.abs(H)?(y=Math.abs(H)/n,n=Math.abs(H)):y=1;break;default:case u.Nc:p>Math.abs(I)?(y=Math.abs(I)/p,p=Math.abs(I)):y=1}A=0}var R=t.No;if(e===$n){v=t.link.computeThickness();v*=y;R.set(C);switch(x){case u.Mc:R.x=C.x+H/2+q/2-A-v/2;break;case u.Ec:R.y=C.y+I/2+r/2-A-v/2;break;case u.Xc:R.x=C.x+H/2-n/2+A+v/2;break;default:case u.Nc:R.y=C.y+I/2-p/2+A+v/2}A+=v}else v=.5,e===Xn&&(v=(t.Fo+1)/(t.wm+1)),
		R.x=C.x+H*v,R.y=C.y+I*v}u.v(k);u.v(d);u.v(l);u.v(m);C=a.xg;for(H=0;H<C.length;H++)I=C[H],null!==I&&(I.Tv=a.computeEndSegmentLength(I));a.Vo=c;u.ic(f)}c=a.xg}for(f=0;f<c.length;f++)if(C=c[f],null!==C&&C.link===b)return C;return null}Eo.prototype.GH=function(a,b){return a===b?0:null===a?-1:null===b?1:a.ee<b.ee?-1:a.ee>b.ee?1:a.angle<b.angle?-1:a.angle>b.angle?1:0};
	Eo.prototype.computeEndSegmentLength=function(a){var b=a.link,c=b.computeEndSegmentLength(this.Bc,this.port,vb,b.od===this.port),d=a.Fo;if(0>d)return c;var e=a.wm;if(1>=e||!b.dc)return c;var b=a.vw,f=a.No;if(a.ee===u.Ec||a.ee===u.Mc)d=e-1-d;return((a=a.ee===u.Ec||a.ee===u.Nc)?b.y<f.y:b.x<f.x)?c+8*d:(a?b.y===f.y:b.x===f.x)?c:c+8*(e-1-d)};function Wo(a,b,c){this.link=a;this.angle=b;this.ee=c;this.vw=new w;this.wm=this.Fo=0;this.No=new w;this.Tv=0}
	u.Xd(Wo,{link:!0,angle:!0,ee:!0,vw:!0,Fo:!0,wm:!0,No:!0,Tv:!0});Wo.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.ee.toString()+":"+this.Fo.toString()+"/"+this.wm.toString()+" "+this.No.toString()+" "+this.Tv.toString()+" "+this.vw.toString()};function il(){this.Ej=this.cj=uc;this.Cj=this.aj=NaN;this.Bj=this.$i=Yn;this.Dj=this.bj=NaN}
	il.prototype.copy=function(){var a=new il;a.cj=this.cj.Z();a.Ej=this.Ej.Z();a.aj=this.aj;a.Cj=this.Cj;a.$i=this.$i;a.Bj=this.Bj;a.bj=this.bj;a.Dj=this.Dj;return a};function V(a){0===arguments.length?U.call(this,vh):U.call(this,a);this.Nq=new F(G);this.Qn=new F(V);this.Ak=this.Oq=this.Mq=null;this.$r=!1;this.rq=!0;this.as=!1;this.Ib=this.Qr=null;this.Fp=!1;this.Gp=!0;this.eq=this.Hp=!1;this.Nd=new Je;this.Nd.group=this;this.ky=!1}u.Ia(V,U);u.fa("Group",V);
	V.prototype.cloneProtected=function(a){U.prototype.cloneProtected.call(this,a);a.Mq=this.Mq;a.Oq=this.Oq;a.Ak=this.Ak;a.$r=this.$r;a.rq=this.rq;a.as=this.as;a.Qr=this.Qr;var b=a.ws(function(a){return a instanceof ph});a.Ib=b instanceof ph?b:null;a.Fp=this.Fp;a.Gp=this.Gp;a.Hp=this.Hp;a.eq=this.eq;null!==this.Nd?(a.Nd=this.Nd.copy(),a.Nd.group=a):(null!==a.Nd&&(a.Nd.group=null),a.Nd=null)};
	V.prototype.Oh=function(a){U.prototype.Oh.call(this,a);var b=a.Ao();for(a=a.Lc;a.next();){var c=a.value;c.R();c.H(8);c.ns();if(c instanceof U)c.Ze(b);else if(c instanceof W)for(c=c.vg;c.next();)c.value.Ze(b)}};
	V.prototype.Mm=function(a,b,c,d,e,f,h){if(a===be&&"elements"===b)if(e instanceof ph){var k=e;null===this.Ib?this.Ib=k:this.Ib!==k&&u.k("Cannot insert a second Placeholder into the visual tree of a Group.")}else e instanceof B&&(k=e.ws(function(a){return a instanceof ph}),k instanceof ph&&(null===this.Ib?this.Ib=k:this.Ib!==k&&u.k("Cannot insert a second Placeholder into the visual tree of a Group.")));else a===ce&&"elements"===b&&null!==this.Ib&&(d===this.Ib?this.Ib=null:d instanceof B&&this.Ib.gl(d)&&
	(this.Ib=null));U.prototype.Mm.call(this,a,b,c,d,e,f,h)};V.prototype.yi=function(a,b,c,d){this.zk=this.Ib;B.prototype.yi.call(this,a,b,c,d)};V.prototype.hl=function(){if(!U.prototype.hl.call(this))return!1;for(var a=this.Lc;a.next();){var b=a.value;if(b instanceof U){if(b.Ga()&&Bj(b))return!1}else if(b instanceof W&&b.Ga()&&Bj(b)&&b.W!==this&&b.ca!==this)return!1}return!0};u.u(V,{placeholder:"placeholder"},function(){return this.Ib});
	u.defineProperty(V,{aD:"computesBoundsAfterDrag"},function(){return this.Fp},function(a){var b=this.Fp;b!==a&&(u.j(a,"boolean",V,"computesBoundsAfterDrag"),this.Fp=a,this.h("computesBoundsAfterDrag",b,a))});u.defineProperty(V,{bG:"computesBoundsIncludingLinks"},function(){return this.Gp},function(a){u.j(a,"boolean",V,"computesBoundsIncludingLinks");var b=this.Gp;b!==a&&(this.Gp=a,this.h("computesBoundsIncludingLinks",b,a))});
	u.defineProperty(V,{cG:"computesBoundsIncludingLocation"},function(){return this.Hp},function(a){u.j(a,"boolean",V,"computesBoundsIncludingLocation");var b=this.Hp;b!==a&&(this.Hp=a,this.h("computesBoundsIncludingLocation",b,a))});u.defineProperty(V,{OG:"handlesDragDropForMembers"},function(){return this.eq},function(a){u.j(a,"boolean",V,"handlesDragDropForMembers");var b=this.eq;b!==a&&(this.eq=a,this.h("handlesDragDropForMembers",b,a))});u.u(V,{Lc:"memberParts"},function(){return this.Nq.i});
	function Tn(a,b){if(a.Nq.add(b)){b instanceof V&&a.Qn.add(b);var c=a.xH;if(null!==c){var d=!0,e=a.g;null!==e&&(d=e.Oa,e.Oa=!0);c(a,b);null!==e&&(e.Oa=d)}a.Ga()&&a.be||b.He(!1)}c=a.Ib;null===c&&(c=a);c.R()}function Sn(a,b){if(a.Nq.remove(b)){b instanceof V&&a.Qn.remove(b);var c=a.yH;if(null!==c){var d=!0,e=a.g;null!==e&&(d=e.Oa,e.Oa=!0);c(a,b);null!==e&&(e.Oa=d)}a.Ga()&&a.be||b.He(!0)}c=a.Ib;null===c&&(c=a);c.R()}
	V.prototype.ym=function(){if(0<this.Nq.count){var a=this.g;if(null===a)return;for(var b=this.Nq.copy().i;b.next();)a.remove(b.value)}U.prototype.ym.call(this)};V.prototype.Lw=function(){var a=this.layer;null!==a&&a.Lw(this)};u.defineProperty(V,{Qb:"layout"},function(){return this.Nd},function(a){var b=this.Nd;b!==a&&(null!==a&&u.C(a,Je,V,"layout"),null!==b&&(b.g=null,b.group=null),this.Nd=a,null!==a&&(a.g=this.g,a.group=this),this.h("layout",b,a))});
	u.defineProperty(V,{xH:"memberAdded"},function(){return this.Mq},function(a){var b=this.Mq;b!==a&&(null!==a&&u.j(a,"function",V,"memberAdded"),this.Mq=a,this.h("memberAdded",b,a))});u.defineProperty(V,{yH:"memberRemoved"},function(){return this.Oq},function(a){var b=this.Oq;b!==a&&(null!==a&&u.j(a,"function",V,"memberRemoved"),this.Oq=a,this.h("memberRemoved",b,a))});
	u.defineProperty(V,{Cz:"memberValidation"},function(){return this.Ak},function(a){var b=this.Ak;b!==a&&(null!==a&&u.j(a,"function",V,"memberValidation"),this.Ak=a,this.h("memberValidation",b,a))});V.prototype.canAddMembers=function(a){var b=this.g;if(null===b)return!1;b=b.Eb;for(a=wf(a).i;a.next();)if(!b.isValidMember(this,a.value))return!1;return!0};
	V.prototype.addMembers=function(a,b){var c=this.g;if(null===c)return!1;for(var c=c.Eb,d=!0,e=wf(a).i;e.next();){var f=e.value;!b||c.isValidMember(this,f)?f.Sa=this:d=!1}return d};u.defineProperty(V,{CI:"ungroupable"},function(){return this.$r},function(a){var b=this.$r;b!==a&&(u.j(a,"boolean",V,"ungroupable"),this.$r=a,this.h("ungroupable",b,a))});V.prototype.canUngroup=function(){if(!this.CI)return!1;var a=this.layer;if(null!==a&&!a.Hv)return!1;a=a.g;return null===a||a.Hv?!0:!1};
	V.prototype.invalidateConnectedLinks=V.prototype.Ze=function(a){void 0===a&&(a=null);U.prototype.Ze.call(this,a);for(var b=this.pD();b.next();){var c=b.value;if(null===a||!a.contains(c)){var d=c.W;null!==d&&d.Rh(this)&&!d.Ga()?c.Vb():(d=c.ca,null!==d&&d.Rh(this)&&!d.Ga()&&c.Vb())}}};V.prototype.findExternalLinksConnected=V.prototype.pD=function(){var a=this.Ao();a.add(this);for(var b=new F(W),c=a.i;c.next();){var d=c.value;if(d instanceof U)for(d=d.oe;d.next();){var e=d.value;a.contains(e)||b.add(e)}}return b.i};
	V.prototype.findExternalNodesConnected=function(){var a=this.Ao();a.add(this);for(var b=new F(U),c=a.i;c.next();){var d=c.value;if(d instanceof U)for(d=d.oe;d.next();){var e=d.value,f=e.W;a.contains(f)&&f!==this||b.add(f);e=e.ca;a.contains(e)&&e!==this||b.add(e)}}return b.i};V.prototype.findSubGraphParts=V.prototype.Ao=function(){var a=new F(G);kf(a,this,!0,0,!0);a.remove(this);return a};V.prototype.He=function(a){U.prototype.He.call(this,a);for(var b=this.Lc;b.next();)b.value.He(a)};
	V.prototype.collapseSubGraph=V.prototype.collapseSubGraph=function(){var a=this.g;if(null!==a&&!a.me){a.me=!0;var b=this.Ao();Xo(this,b);a.me=!1}};function Xo(a,b){for(var c=a.Lc;c.next();){var d=c.value;d.He(!1);if(d instanceof V){var e=d;e.be&&(e.pA=e.be,Xo(e,b))}if(d instanceof U)d.Ze(b);else if(d instanceof W)for(d=d.vg;d.next();)d.value.Ze(b)}a.be=!1}
	V.prototype.expandSubGraph=V.prototype.expandSubGraph=function(){var a=this.g;if(null!==a&&!a.me){var b=a.Mb;0!==a.ga.Le&&b.ml();a.me=!0;var c=this.Ao();Yo(this,c,b,this);a.me=!1}};function Yo(a,b,c,d){for(var e=a.Lc;e.next();){var f=e.value;f.He(!0);if(f instanceof V){var h=f;h.pA&&(h.pA=!1,Yo(h,b,c,d))}if(f instanceof U)f.Ze(b),ri(c,f,d);else if(f instanceof W)for(f=f.vg;f.next();)f.value.Ze(b)}a.be=!0}
	u.defineProperty(V,{be:"isSubGraphExpanded"},function(){return this.rq},function(a){var b=this.rq;if(b!==a){u.j(a,"boolean",V,"isSubGraphExpanded");this.rq=a;var c=this.g;this.h("isSubGraphExpanded",b,a);b=this.sI;if(null!==b){var d=!0;null!==c&&(d=c.Oa,c.Oa=!0);b(this);null!==c&&(c.Oa=d)}null!==c&&c.ga.eb?null!==this.Ib&&this.Ib.R():a?this.expandSubGraph():this.collapseSubGraph()}});
	u.defineProperty(V,{pA:"wasSubGraphExpanded"},function(){return this.as},function(a){var b=this.as;b!==a&&(u.j(a,"boolean",V,"wasSubGraphExpanded"),this.as=a,this.h("wasSubGraphExpanded",b,a))});u.defineProperty(V,{sI:"subGraphExpandedChanged"},function(){return this.Qr},function(a){var b=this.Qr;b!==a&&(null!==a&&u.j(a,"function",V,"subGraphExpandedChanged"),this.Qr=a,this.h("subGraphExpandedChanged",b,a))});
	V.prototype.move=V.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);var c=a.x-c,b=a.y-b,d=u.fc(c,b);U.prototype.move.call(this,a);for(a=this.Ao().i;a.next();){var e=a.value;if(!(e instanceof W||e instanceof U&&e.tf)){var f=e.position,h=e.location;f.I()?(d.x=f.x+c,d.y=f.y+b,e.position=d):h.I()&&(d.x=h.x+c,d.y=h.y+b,e.location=d)}}for(a.reset();a.next();)e=a.value,e instanceof W&&(f=e.position,d.x=f.x+c,d.y=f.y+b,e.move(d));u.v(d)};
	function ph(){T.call(this);this.Pe=K.pp;this.Ar=new z(NaN,NaN,NaN,NaN)}u.Ia(ph,T);u.fa("Placeholder",ph);ph.prototype.cloneProtected=function(a){T.prototype.cloneProtected.call(this,a);a.Pe=this.Pe.Z();a.Ar=this.Ar.copy()};ph.prototype.Jj=function(a){if(null===this.background&&null===this.om)return!1;var b=this.Ja;return qb(0,0,b.width,b.height,a.x,a.y)};
	ph.prototype.Qo=function(){var a=this.T;null!==a&&(a instanceof V||a instanceof lf)||u.k("Placeholder is not inside a Group or Adornment.");if(a instanceof V){var b=this.computeBorder(this.Ar),c=this.Gc;bb(c,b.width||0,b.height||0);ml(this,0,0,c.width,c.height);for(var c=a.Lc,d=!1;c.next();)if(c.value.Ga()){d=!0;break}!d||isNaN(b.x)||isNaN(b.y)||(c=new w,c.qt(b,a.$e),a.location=new w(c.x,c.y))}else{var b=this.za,c=this.Gc,d=this.padding,e=d.left+d.right,f=d.top+d.bottom;if(b.I())bb(c,b.width+e||0,
		b.height+f||0),ml(this,-d.left,-d.top,c.width,c.height);else{var h=a.uc,k=h.mb(xb,u.K()),b=u.Vj(k.x,k.y,0,0);b.Pi(h.mb(Vb,k));b.Pi(h.mb(Gb,k));b.Pi(h.mb(Kb,k));a.Og.m(b.x,b.y);bb(c,b.width+e||0,b.height+f||0);ml(this,-d.left,-d.top,c.width,c.height);u.v(k);u.ic(b)}}};ph.prototype.yi=function(a,b,c,d){var e=this.ba;e.x=a;e.y=b;e.width=c;e.height=d};
	ph.prototype.computeBorder=function(a){var b=this.T;if(b instanceof V){var c=b;if(c.aD&&this.Ar.I()){var d=c.g;if(null!==d&&(d=d.Va,d instanceof uf&&!d.Tp&&null!==d.cc&&!d.cc.contains(c)))return a.assign(this.Ar),a}}var c=u.Sf(),d=this.computeMemberBounds(c),e=this.padding;a.m(d.x-e.left,d.y-e.top,d.width+e.left+e.right,d.height+e.top+e.bottom);u.ic(c);b instanceof V&&(c=b,c.cG&&c.location.I()&&a.Pi(c.location));return a};
	ph.prototype.computeMemberBounds=function(a){if(!(this.T instanceof V))return a.m(0,0,0,0),a;for(var b=this.T,c=Infinity,d=Infinity,e=-Infinity,f=-Infinity,h=b.Lc;h.next();){var k=h.value;if(k.Ga()){if(k instanceof W){var l=k;if(!b.bG)continue;if(Aj(l))continue;if(l.W===b||l.ca===b)continue}k=k.ba;k.left<c&&(c=k.left);k.top<d&&(d=k.top);k.right>e&&(e=k.right);k.bottom>f&&(f=k.bottom)}}isFinite(c)&&isFinite(d)?a.m(c,d,e-c,f-d):(b=b.location,c=this.padding,a.m(b.x+c.left,b.y+c.top,0,0));return a};
	u.defineProperty(ph,{padding:"padding"},function(){return this.Pe},function(a){"number"===typeof a?((isNaN(a)||0>a)&&u.xa(a,">= 0",ph,"padding"),a=new rb(a)):(u.C(a,rb,ph,"padding"),(isNaN(a.left)||0>a.left)&&u.xa(a.left,">= 0",ph,"padding:value.left"),(isNaN(a.right)||0>a.right)&&u.xa(a.right,">= 0",ph,"padding:value.right"),(isNaN(a.top)||0>a.top)&&u.xa(a.top,">= 0",ph,"padding:value.top"),(isNaN(a.bottom)||0>a.bottom)&&u.xa(a.bottom,">= 0",ph,"padding:value.bottom"));var b=this.Pe;b.L(a)||(this.Pe=
		a=a.Z(),this.h("padding",b,a))});function Je(){0<arguments.length&&u.Wc(Je);u.gc(this);this.Rx=this.Y=null;this.lq=this.nq=!0;this.vq=!1;this.yp=(new w(0,0)).freeze();this.oq=this.qq=!0;this.YA="";this.Hn=!1;this.ly=null}u.fa("Layout",Je);Je.prototype.cloneProtected=function(a){a.nq=this.nq;a.lq=this.lq;a.vq=this.vq;a.yp.assign(this.yp);a.qq=this.qq;a.oq=this.oq;a.YA=this.YA;this.lq||(a.Hn=!0)};Je.prototype.copy=function(){var a=new this.constructor;this.cloneProtected(a);return a};
	Je.prototype.toString=function(){var a=u.sg(Object.getPrototypeOf(this)),a=a+"(";null!==this.group&&(a+=" in "+this.group);null!==this.g&&(a+=" for "+this.g);return a+")"};u.defineProperty(Je,{g:"diagram"},function(){return this.Y},function(a){null!==a&&u.C(a,D,Je,"diagram");this.Y=a});u.defineProperty(Je,{group:"group"},function(){return this.Rx},function(a){this.Rx!==a&&(null!==a&&u.C(a,V,Je,"group"),this.Rx=a,null!==a&&(this.Y=a.g))});
	u.defineProperty(Je,{fH:"isOngoing"},function(){return this.nq},function(a){this.nq!==a&&(u.j(a,"boolean",Je,"isOngoing"),this.nq=a)});u.defineProperty(Je,{cH:"isInitial"},function(){return this.lq},function(a){u.j(a,"boolean",Je,"isInitial");this.lq=a;a||(this.Hn=!0)});u.defineProperty(Je,{kw:"isViewportSized"},function(){return this.vq},function(a){this.vq!==a&&(u.j(a,"boolean",Je,"isViewportSized"),(this.vq=a)&&this.H())});
	u.defineProperty(Je,{Rs:"isRouting"},function(){return this.qq},function(a){this.qq!==a&&(u.j(a,"boolean",Je,"isRouting"),this.qq=a)});u.defineProperty(Je,{PD:"isRealtime"},function(){return this.oq},function(a){this.oq!==a&&(u.j(a,"boolean",Je,"isRealtime"),this.oq=a)});u.defineProperty(Je,{vf:"isValidLayout"},function(){return this.Hn},function(a){this.Hn!==a&&(u.j(a,"boolean",Je,"isValidLayout"),this.Hn=a,a||(a=this.g,null!==a&&(a.Pt=!0)))});
	Je.prototype.invalidateLayout=Je.prototype.H=function(){if(this.Hn){var a=this.g;if(null!==a&&!a.ga.eb){var b=a.Mb;!b.Gn&&(b.Xg&&b.Ni(),this.fH&&a.mf||this.cH&&!a.mf)&&(this.vf=!1,a.de())}}};u.defineProperty(Je,{network:"network"},function(){return this.ly},function(a){var b=this.ly;b!==a&&(null!==a&&u.C(a,xa,Je,"network"),null!==b&&(b.Qb=null),this.ly=a,null!==a&&(a.Qb=this))});Je.prototype.createNetwork=function(){return new xa};
	Je.prototype.makeNetwork=function(a){var b=this.createNetwork();b.Qb=this;a instanceof D?(b.Gj(a.zg,!0),b.Gj(a.links,!0)):a instanceof V?b.Gj(a.Lc):b.Gj(a.i);return b};Je.prototype.updateParts=function(){var a=this.g;if(null===a&&null!==this.network)for(var b=this.network.vertexes.i;b.next();){var c=b.value.Bc;if(null!==c&&(a=c.g,null!==a))break}this.vf=!0;try{null!==a&&a.Wb("Layout"),this.commitLayout()}finally{null!==a&&a.Wd("Layout")}};
	Je.prototype.commitLayout=function(){for(var a=this.network.vertexes.i;a.next();)a.value.commit();if(this.Rs)for(a=this.network.edges.i;a.next();)a.value.commit()};
	Je.prototype.doLayout=function(a){null===a&&u.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");var b=new F(G);a instanceof D?(Zo(this,b,a.zg,!0,this.Hz,!0,!1,!0),Zo(this,b,a.Sj,!0,this.Hz,!0,!1,!0)):a instanceof V?Zo(this,b,a.Lc,!1,this.Hz,!0,!1,!0):b.Td(a.i);var c=b.count;if(0<c){a=this.g;null!==a&&a.Wb("Layout");for(var c=Math.ceil(Math.sqrt(c)),d=this.Ud.x,e=d,f=this.Ud.y,h=0,k=0,b=b.i;b.next();){var l=b.value;l.qf();var m=l.Ca,n=m.width,
		m=m.height;l.moveTo(e,f);l.ky=!1;e+=Math.max(n,50)+20;k=Math.max(k,Math.max(m,50));h>=c-1?(h=0,e=d,f+=k+20,k=0):h++}null!==a&&a.Wd("Layout")}this.vf=!0};Je.prototype.Hz=function(a){return!a.location.I()||a instanceof V&&a.ky?!0:!1};
	function Zo(a,b,c,d,e,f,h,k){for(c=c.i;c.next();){var l=c.value;d&&!l.Jo||null!==e&&!e(l)||!l.canLayout()||(f&&l instanceof U?l.tf||(l instanceof V?null===l.Qb?Zo(a,b,l.Lc,!1,e,f,h,k):b.add(l):b.add(l)):h&&l instanceof W?b.add(l):!k||!l.Gd()||l instanceof U||b.add(l))}}
	Je.prototype.collectParts=function(a){var b=new F(G);a instanceof D?(Zo(this,b,a.zg,!0,null,!0,!0,!0),Zo(this,b,a.links,!0,null,!0,!0,!0),Zo(this,b,a.Sj,!0,null,!0,!0,!0)):a instanceof V?Zo(this,b,a.Lc,!1,null,!0,!0,!0):Zo(this,b,a.i,!1,null,!0,!0,!0);return b};u.defineProperty(Je,{Ud:"arrangementOrigin"},function(){return this.yp},function(a){u.C(a,w,Je,"arrangementOrigin");this.yp.L(a)||(this.yp.assign(a),this.H())});
	Je.prototype.initialOrigin=function(a){var b=this.group;if(null!==b){var c=b.position.copy();(isNaN(c.x)||isNaN(c.y))&&c.set(a);b=b.placeholder;null!==b&&(c=b.mb(xb),(isNaN(c.x)||isNaN(c.y))&&c.set(a),c.x+=b.padding.left,c.y+=b.padding.top);return c}return a};function xa(){u.gc(this);this.Nd=null;this.clear()}u.fa("LayoutNetwork",xa);
	xa.prototype.clear=function(){if(this.vertexes)for(var a=this.vertexes.i;a.next();){var b=a.value;b.clear();b.network=null}if(this.edges)for(a=this.edges.i;a.next();)b=a.value,b.clear(),b.network=null;this.vertexes=new F(ya);this.edges=new F(Aa);this.Lz=new la(U,ya);this.zz=new la(W,Aa)};
	xa.prototype.toString=function(a){void 0===a&&(a=0);var b="LayoutNetwork"+(null!==this.Qb?"("+this.Qb.toString()+")":"");if(0>=a)return b;b+=" vertexes: "+this.vertexes.count+" edges: "+this.edges.count;if(1<a){for(var c=this.vertexes.i;c.next();)b+="\n    "+c.value.toString(a-1);for(c=this.edges.i;c.next();)b+="\n    "+c.value.toString(a-1)}return b};u.defineProperty(xa,{Qb:"layout"},function(){return this.Nd},function(a){this.Nd=a});xa.prototype.createVertex=function(){return new ya};
	xa.prototype.createEdge=function(){return new Aa};
	xa.prototype.addParts=xa.prototype.Gj=function(a,b,c){if(null!==a){void 0===b&&(b=!1);u.j(b,"boolean",xa,"addParts:toplevelonly");void 0===c&&(c=null);null===c&&(c=function(a){if(a instanceof U)return!a.tf;if(a instanceof W){var b=a.W;if(null===b||b.tf)return!1;a=a.ca;return null===a||a.tf?!1:!0}return!1});for(a=a.i;a.next();){var d=a.value;if(d instanceof U&&(!b||d.Jo)&&d.canLayout()&&c(d))if(d instanceof V&&null===d.Qb)this.Gj(d.Lc,!1);else if(null===this.Bm(d)){var e=this.createVertex();e.Bc=d;
		this.Mk(e)}}for(a.reset();a.next();)if(d=a.value,d instanceof W&&(!b||d.Jo)&&d.canLayout()&&c(d)&&null===this.Vv(d)){var f=d.W,e=d.ca;null!==f&&null!==e&&f!==e&&(f=this.findGroupVertex(f),e=this.findGroupVertex(e),null!==f&&null!==e&&this.Po(f,e,d))}}};xa.prototype.findGroupVertex=function(a){if(null===a)return null;var b=a.findVisibleNode();if(null===b)return null;a=this.Bm(b);if(null!==a)return a;for(b=b.Sa;null!==b;){a=this.Bm(b);if(null!==a)return a;b=b.Sa}return null};
	xa.prototype.addVertex=xa.prototype.Mk=function(a){if(null!==a){this.vertexes.add(a);var b=a.Bc;null!==b&&this.Lz.add(b,a);a.network=this}};xa.prototype.addNode=xa.prototype.fs=function(a){if(null===a)return null;var b=this.Bm(a);null===b&&(b=this.createVertex(),b.Bc=a,this.Mk(b));return b};xa.prototype.deleteVertex=xa.prototype.lD=function(a){if(null!==a&&$o(this,a)){for(var b=a.Ie,c=b.count-1;0<=c;c--){var d=b.ja(c);this.wo(d)}b=a.Ce;for(c=b.count-1;0<=c;c--)d=b.ja(c),this.wo(d)}};
	function $o(a,b){if(null===b)return!1;var c=a.vertexes.remove(b);c&&(a.Lz.remove(b.Bc),b.network=null);return c}xa.prototype.deleteNode=function(a){null!==a&&(a=this.Bm(a),null!==a&&this.lD(a))};xa.prototype.findVertex=xa.prototype.Bm=function(a){return null===a?null:this.Lz.ua(a)};xa.prototype.addEdge=xa.prototype.lo=function(a){if(null!==a){this.edges.add(a);var b=a.link;null!==b&&null===this.Vv(b)&&this.zz.add(b,a);b=a.toVertex;null!==b&&b.LC(a);b=a.fromVertex;null!==b&&b.KC(a);a.network=this}};
	xa.prototype.addLink=function(a){if(null===a)return null;var b=a.W,c=a.ca,d=this.Vv(a);null===d?(d=this.createEdge(),d.link=a,null!==b&&(d.fromVertex=this.fs(b)),null!==c&&(d.toVertex=this.fs(c)),this.lo(d)):(d.fromVertex=null!==b?this.fs(b):null,d.toVertex=null!==c?this.fs(c):null);return d};xa.prototype.deleteEdge=xa.prototype.wo=function(a){if(null!==a){var b=a.toVertex;null!==b&&b.kD(a);b=a.fromVertex;null!==b&&b.jD(a);ap(this,a)}};
	function ap(a,b){null!==b&&a.edges.remove(b)&&(a.zz.remove(b.link),b.network=null)}xa.prototype.deleteLink=function(a){null!==a&&(a=this.Vv(a),null!==a&&this.wo(a))};xa.prototype.findEdge=xa.prototype.Vv=function(a){return null===a?null:this.zz.ua(a)};xa.prototype.linkVertexes=xa.prototype.Po=function(a,b,c){if(null===a||null===b)return null;if(a.network===this&&b.network===this){var d=this.createEdge();d.link=c;d.fromVertex=a;d.toVertex=b;this.lo(d);return d}return null};
	xa.prototype.reverseEdge=xa.prototype.Aw=function(a){if(null!==a){var b=a.fromVertex,c=a.toVertex;null!==b&&null!==c&&(b.jD(a),c.kD(a),a.Aw(),b.LC(a),c.KC(a))}};xa.prototype.deleteSelfEdges=xa.prototype.Rv=function(){for(var a=u.gb(),b=this.edges.i;b.next();){var c=b.value;c.fromVertex===c.toVertex&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.wo(a[c]);u.sa(a)};
	xa.prototype.deleteArtificialVertexes=function(){for(var a=u.gb(),b=this.vertexes.i;b.next();){var c=b.value;null===c.Bc&&a.push(c)}c=a.length;for(b=0;b<c;b++)this.lD(a[b]);c=u.gb();for(b=this.edges.i;b.next();){var d=b.value;null===d.link&&c.push(d)}d=c.length;for(b=0;b<d;b++)this.wo(c[b]);u.sa(a);u.sa(c)};function bp(a){for(var b=u.gb(),c=a.edges.i;c.next();){var d=c.value;null!==d.fromVertex&&null!==d.toVertex||b.push(d)}c=b.length;for(d=0;d<c;d++)a.wo(b[d]);u.sa(b)}
	xa.prototype.splitIntoSubNetworks=xa.prototype.oI=function(){this.deleteArtificialVertexes();bp(this);this.Rv();for(var a=new E(xa),b=!0;b;)for(var b=!1,c=this.vertexes.i;c.next();){var d=c.value;if(0<d.Ie.count||0<d.Ce.count){b=this.Qb.createNetwork();a.add(b);cp(this,b,d);b=!0;break}}a.sort(function(a,b){return null===a||null===b||a===b?0:b.vertexes.count-a.vertexes.count});return a};
	function cp(a,b,c){if(null!==c&&c.network!==b){$o(a,c);b.Mk(c);for(var d=c.kc;d.next();){var e=d.value;e.network!==b&&(ap(a,e),b.lo(e),cp(a,b,e.fromVertex))}for(d=c.bc;d.next();)c=d.value,c.network!==b&&(ap(a,c),b.lo(c),cp(a,b,c.toVertex))}}xa.prototype.findAllParts=function(){for(var a=new F(G),b=this.vertexes.i;b.next();)a.add(b.value.Bc);for(b=this.edges.i;b.next();)a.add(b.value.link);return a};
	function ya(){u.gc(this);this.network=null;this.aa=(new z(0,0,10,10)).freeze();this.M=(new w(5,5)).freeze();this.clear()}u.fa("LayoutVertex",ya);ya.prototype.clear=function(){this.ld=this.sh=null;this.Ie=new E(Aa);this.Ce=new E(Aa)};
	ya.prototype.toString=function(a){void 0===a&&(a=0);var b="LayoutVertex#"+u.Uc(this);if(0<a&&(b+=null!==this.Bc?"("+this.Bc.toString()+")":"",1<a)){a="";for(var c=!0,d=this.Ie.i;d.next();){var e=d.value;c?c=!1:a+=",";a+=e.toString(0)}e="";c=!0;for(d=this.Ce.i;d.next();){var f=d.value;c?c=!1:e+=",";e+=f.toString(0)}b+=" sources: "+a+" destinations: "+e}return b};
	u.defineProperty(ya,{data:"data"},function(){return this.sh},function(a){this.sh=a;if(null!==a){var b=a.bounds;a=b.x;var c=b.y,d=b.width,b=b.height;this.M.m(d/2,b/2);this.aa.m(a,c,d,b)}});u.defineProperty(ya,{Bc:"node"},function(){return this.ld},function(a){if(this.ld!==a){this.ld=a;a.qf();var b=a.ba,c=b.x,d=b.y,e=b.width,b=b.height;isNaN(c)&&(c=0);isNaN(d)&&(d=0);this.aa.m(c,d,e,b);if(!(a instanceof V)&&(a=a.ec.mb(Ib),a.I())){this.M.m(a.x-c,a.y-d);return}this.M.m(e/2,b/2)}});
	u.defineProperty(ya,{lb:"bounds"},function(){return this.aa},function(a){this.aa.L(a)||this.aa.assign(a)});u.defineProperty(ya,{focus:"focus"},function(){return this.M},function(a){this.M.L(a)||this.M.assign(a)});u.defineProperty(ya,{ma:"centerX"},function(){return this.aa.x+this.M.x},function(a){var b=this.aa;b.x+this.M.x!==a&&(b.Ma(),b.x=a-this.M.x,b.freeze())});
	u.defineProperty(ya,{ya:"centerY"},function(){return this.aa.y+this.M.y},function(a){var b=this.aa;b.y+this.M.y!==a&&(b.Ma(),b.y=a-this.M.y,b.freeze())});u.defineProperty(ya,{Ds:"focusX"},function(){return this.M.x},function(a){var b=this.M;b.x!==a&&(b.Ma(),b.x=a,b.freeze())});u.defineProperty(ya,{Es:"focusY"},function(){return this.M.y},function(a){var b=this.M;b.y!==a&&(b.Ma(),b.y=a,b.freeze())});
	u.defineProperty(ya,{x:"x"},function(){return this.aa.x},function(a){var b=this.aa;b.x!==a&&(b.Ma(),b.x=a,b.freeze())});u.defineProperty(ya,{y:"y"},function(){return this.aa.y},function(a){var b=this.aa;b.y!==a&&(b.Ma(),b.y=a,b.freeze())});u.defineProperty(ya,{width:"width"},function(){return this.aa.width},function(a){var b=this.aa;b.width!==a&&(b.Ma(),b.width=a,b.freeze())});
	u.defineProperty(ya,{height:"height"},function(){return this.aa.height},function(a){var b=this.aa;b.height!==a&&(b.Ma(),b.height=a,b.freeze())});ya.prototype.commit=function(){var a=this.sh;if(null!==a){var b=this.lb,c=a.bounds;u.Ta(c)?(c.x=b.x,c.y=b.y,c.width=b.width,c.height=b.height):a.bounds=b.copy()}else if(a=this.Bc,null!==a){b=this.lb;if(!(a instanceof V)){var c=a.ba,d=a.ec.mb(Ib);if(c.I()&&d.I()){a.moveTo(b.x+this.Ds-(d.x-c.x),b.y+this.Es-(d.y-c.y));return}}a.moveTo(b.x,b.y)}};
	ya.prototype.addSourceEdge=ya.prototype.LC=function(a){null!==a&&(this.Ie.contains(a)||this.Ie.add(a))};ya.prototype.deleteSourceEdge=ya.prototype.kD=function(a){null!==a&&this.Ie.remove(a)};ya.prototype.addDestinationEdge=ya.prototype.KC=function(a){null!==a&&(this.Ce.contains(a)||this.Ce.add(a))};ya.prototype.deleteDestinationEdge=ya.prototype.jD=function(a){null!==a&&this.Ce.remove(a)};u.u(ya,{nI:"sourceVertexes"},function(){for(var a=new F(ya),b=this.kc;b.next();)a.add(b.value.fromVertex);return a.i});
	u.u(ya,{rG:"destinationVertexes"},function(){for(var a=new F(ya),b=this.bc;b.next();)a.add(b.value.toVertex);return a.i});u.u(ya,{vertexes:"vertexes"},function(){for(var a=new F(ya),b=this.kc;b.next();)a.add(b.value.fromVertex);for(b=this.bc;b.next();)a.add(b.value.toVertex);return a.i});u.u(ya,{kc:"sourceEdges"},function(){return this.Ie.i});u.u(ya,{bc:"destinationEdges"},function(){return this.Ce.i});
	u.u(ya,{edges:"edges"},function(){for(var a=new E(Aa),b=this.kc;b.next();)a.add(b.value);for(b=this.bc;b.next();)a.add(b.value);return a.i});u.u(ya,{xG:"edgesCount"},function(){return this.Ie.count+this.Ce.count});var dp;ya.standardComparer=dp=function(a,b){var c=a.ld,d=b.ld;return c?d?(c=c.text,d=d.text,c<d?-1:c>d?1:0):1:null!==d?-1:0};
	ya.smartComparer=function(a,b){if(null!==a){if(null!==b){var c=a.ld,d=b.ld;if(null!==c){if(null!==d){for(var c=c.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=d.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=0;e<c.length;e++)if(""!==d[e]&&void 0!==d[e]){var f=parseFloat(c[e]),h=parseFloat(d[e]);if(isNaN(f)){if(!isNaN(h))return 1;if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else{if(isNaN(h))return-1;if(0!==f-h)return f-
		h}}else if(""!==c[e])return 1;return""!==d[e]&&void 0!==d[e]?-1:0}return 1}return null!==d?-1:0}return 1}return null!==b?-1:0};function Aa(){u.gc(this);this.network=null;this.clear()}u.fa("LayoutEdge",Aa);Aa.prototype.clear=function(){this.toVertex=this.fromVertex=this.link=this.data=null};
	Aa.prototype.toString=function(a){void 0===a&&(a=0);var b="LayoutEdge#"+u.Uc(this);0<a&&(b+=null!==this.link?"("+this.link.toString()+")":"",1<a&&(b+=" "+(this.fromVertex?this.fromVertex.toString():"null")+" --\x3e "+(this.toVertex?this.toVertex.toString():"null")));return b};Aa.prototype.Aw=function(){var a=this.fromVertex;this.fromVertex=this.toVertex;this.toVertex=a};Aa.prototype.commit=function(){};
	Aa.prototype.getOtherVertex=Aa.prototype.GG=function(a){return this.toVertex===a?this.fromVertex:this.fromVertex===a?this.toVertex:null};function Xk(){0<arguments.length&&u.Wc(Xk);Je.call(this);this.kw=!0;this.cs=this.ds=NaN;this.Ti=(new ia(NaN,NaN)).freeze();this.Ih=(new ia(10,10)).freeze();this.se=em;this.Yc=cm;this.Hh=Zl;this.rh=ep}u.Ia(Xk,Je);u.fa("GridLayout",Xk);
	Xk.prototype.cloneProtected=function(a){Je.prototype.cloneProtected.call(this,a);a.ds=this.ds;a.cs=this.cs;a.Ti.assign(this.Ti);a.Ih.assign(this.Ih);a.se=this.se;a.Yc=this.Yc;a.Hh=this.Hh;a.rh=this.rh};
	Xk.prototype.doLayout=function(a){null===a&&u.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");this.Ud=this.initialOrigin(this.Ud);var b=this.g,c=new F(G);a instanceof D?(b=a,Zo(this,c,a.zg,!0,null,!0,!0,!0),Zo(this,c,a.links,!0,null,!0,!0,!0),Zo(this,c,a.Sj,!0,null,!0,!0,!0)):a instanceof V?(b=a.g,Zo(this,c,a.Lc,!1,null,!0,!0,!0)):c.Td(a.i);for(a=c.copy().i;a.next();){var d=a.value;if(d instanceof W){var e=d;if(null!==e.W||null!==e.ca){c.remove(e);
		continue}}d.qf();if(d instanceof V)for(d=d.Lc;d.next();)c.remove(d.value)}e=c.Ke();if(0!==e.length){switch(this.sorting){case bm:e.reverse();break;case Zl:e.sort(this.comparer);break;case $l:e.sort(this.comparer),e.reverse()}var f=this.FI;isNaN(f)&&(f=0);var h=this.bF,h=isNaN(h)&&null!==b?Math.max(b.ob.width-b.padding.left-b.padding.right,0):Math.max(this.bF,0);0>=f&&0>=h&&(f=1);c=this.spacing.width;isFinite(c)||(c=0);a=this.spacing.height;isFinite(a)||(a=0);null!==b&&b.Wb("Layout");d=[];switch(this.alignment){case fm:var k=
		c,l=a,m=Math.max(this.ro.width,1);if(!isFinite(m))for(var n=m=0;n<e.length;n++)var p=e[n],q=p.Ca,m=Math.max(m,q.width);var m=Math.max(m+k,1),r=Math.max(this.ro.height,1);if(!isFinite(r))for(n=r=0;n<e.length;n++)p=e[n],q=p.Ca,r=Math.max(r,q.height);for(var r=Math.max(r+l,1),s=this.Gf,t=this.Ud.x,v=t,x=this.Ud.y,A=0,y=0,n=0;n<e.length;n++){var p=e[n],q=p.Ca,C=Math.ceil((q.width+k)/m)*m,I=Math.ceil((q.height+l)/r)*r,H=0;switch(s){case dm:H=Math.abs(v-q.width);break;default:H=v+q.width}if(0<f&&A>f-1||
		0<h&&0<A&&H>h)d.push(new z(0,x,h+k,y)),A=0,v=t,x+=y,y=0;y=Math.max(y,I);I=0;switch(s){case dm:I=-q.width;break;default:I=0}p.moveTo(v+I,x);switch(s){case dm:v-=C;break;default:v+=C}A++}d.push(new z(0,x,h+k,y));break;case em:k=f;l=c;m=a;n=Math.max(this.ro.width,1);p=x=C=0;q=u.K();for(f=0;f<e.length;f++)r=e[f],s=r.Ca,t=On(r,r.ec,r.$e,q),C=Math.max(C,t.x),x=Math.max(x,s.width-t.x),p=Math.max(p,t.y);v=this.Gf;switch(v){case dm:C+=l;break;default:x+=l}var n=isFinite(n)?Math.max(n+l,1):Math.max(C+x,1),
		R=x=this.Ud.x,A=this.Ud.y,y=0;h>=C&&(h-=C);for(var C=I=0,H=Math.max(this.ro.height,1),aa=p=0,S=!0,N=u.K(),f=0;f<e.length;f++){r=e[f];s=r.Ca;t=On(r,r.ec,r.$e,q);if(0<y)switch(v){case dm:R=(R-x-(s.width-t.x))/n;R=K.cb(Math.round(R),R)?Math.round(R):Math.floor(R);R=R*n+x;break;default:R=(R-x+t.x)/n,R=K.cb(Math.round(R),R)?Math.round(R):Math.ceil(R),R=R*n+x}else switch(v){case dm:I=R+t.x+s.width;break;default:I=R-t.x}var Z=0;switch(v){case dm:Z=-(R+t.x)+I;break;default:Z=R+s.width-t.x-I}if(0<k&&y>k-1||
		0<h&&0<y&&Z>h){d.push(new z(0,S?A-p:A,h+l,aa+p+m));for(R=0;R<y&&f!==y;R++){var Z=e[f-y+R],Ga=On(Z,Z.ec,Z.$e,N);Z.moveTo(Z.position.x,Z.position.y+p-Ga.y)}aa+=m;A=S?A+aa:A+(aa+p);y=aa=p=0;R=x;S=!1}R===x&&(C=v===dm?Math.max(C,s.width-t.x):Math.min(C,-t.x));p=Math.max(p,t.y);aa=Math.max(aa,s.height-t.y);isFinite(H)&&(aa=Math.max(aa,Math.max(s.height,H)-t.y));S?r.moveTo(R-t.x,A-t.y):r.moveTo(R-t.x,A);switch(v){case dm:R-=t.x+l;break;default:R+=s.width-t.x+l}y++}d.push(new z(0,A,h+l,(S?aa:aa+p)+m));for(R=
																																																																																																																																   0;R<y&&f!==y;R++)Z=e[f-y+R],Ga=On(Z,Z.ec,Z.$e,q),Z.moveTo(Z.position.x,Z.position.y+p-Ga.y);u.v(q);u.v(N);if(v===dm)for(f=0;f<d.length;f++)e=d[f],e.width+=C,e.x-=C;else for(f=0;f<d.length;f++)e=d[f],e.x>C&&(e.width+=e.x-C,e.x=C)}for(k=f=h=e=0;k<d.length;k++)l=d[k],e=Math.min(e,l.x),h=Math.min(h,l.y),f=Math.max(f,l.x+l.width);this.Gf===dm?this.commitLayers(d,new w(e+c/2-(f+e),h-a/2)):this.commitLayers(d,new w(e-c/2,h-a/2));null!==b&&b.Wd("Layout");this.vf=!0}};Xk.prototype.commitLayers=function(){};
	u.defineProperty(Xk,{bF:"wrappingWidth"},function(){return this.ds},function(a){this.ds!==a&&(u.j(a,"number",Xk,"wrappingWidth"),0<a||isNaN(a))&&(this.ds=a,this.kw=isNaN(a),this.H())});u.defineProperty(Xk,{FI:"wrappingColumn"},function(){return this.cs},function(a){this.cs!==a&&(u.j(a,"number",Xk,"wrappingColumn"),0<a||isNaN(a))&&(this.cs=a,this.H())});u.defineProperty(Xk,{ro:"cellSize"},function(){return this.Ti},function(a){u.C(a,ia,Xk,"cellSize");this.Ti.L(a)||(this.Ti.assign(a),this.H())});
	u.defineProperty(Xk,{spacing:"spacing"},function(){return this.Ih},function(a){u.C(a,ia,Xk,"spacing");this.Ih.L(a)||(this.Ih.assign(a),this.H())});u.defineProperty(Xk,{alignment:"alignment"},function(){return this.se},function(a){this.se!==a&&(u.rb(a,Xk,Xk,"alignment"),a===em||a===fm)&&(this.se=a,this.H())});u.defineProperty(Xk,{Gf:"arrangement"},function(){return this.Yc},function(a){this.Yc!==a&&(u.rb(a,Xk,Xk,"arrangement"),a===cm||a===dm)&&(this.Yc=a,this.H())});
	u.defineProperty(Xk,{sorting:"sorting"},function(){return this.Hh},function(a){this.Hh!==a&&(u.rb(a,Xk,Xk,"sorting"),a===am||a===bm||a===Zl||a===$l)&&(this.Hh=a,this.H())});u.defineProperty(Xk,{comparer:"comparer"},function(){return this.rh},function(a){this.rh!==a&&(u.j(a,"function",Xk,"comparer"),this.rh=a,this.H())});var ep;Xk.standardComparer=ep=function(a,b){var c=a.text,d=b.text;return c<d?-1:c>d?1:0};
	Xk.smartComparer=function(a,b){if(null!==a){if(null!==b){for(var c=a.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=b.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=0;e<c.length;e++)if(""!==d[e]&&void 0!==d[e]){var f=parseFloat(c[e]),h=parseFloat(d[e]);if(isNaN(f)){if(!isNaN(h))return 1;if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else{if(isNaN(h))return-1;if(0!==f-h)return f-h}}else if(""!==c[e])return 1;return""!==
	d[e]&&void 0!==d[e]?-1:0}return 1}return null!==b?-1:0};var fm;Xk.Position=fm=u.s(Xk,"Position",0);var em;Xk.Location=em=u.s(Xk,"Location",1);var cm;Xk.LeftToRight=cm=u.s(Xk,"LeftToRight",2);var dm;Xk.RightToLeft=dm=u.s(Xk,"RightToLeft",3);var am;Xk.Forward=am=u.s(Xk,"Forward",4);var bm;Xk.Reverse=bm=u.s(Xk,"Reverse",5);var Zl;Xk.Ascending=Zl=u.s(Xk,"Ascending",6);var $l;Xk.Descending=$l=u.s(Xk,"Descending",7);
	function gm(){0<arguments.length&&u.Wc(gm);Je.call(this);this.Ix=this.sn=this.ud=0;this.Up=360;this.Hx=zm;this.mk=0;this.eB=zm;this.Wt=this.kg=this.yC=0;this.wv=new fp;this.Zt=this.Wl=0;this.zF=600;this.nr=NaN;this.Ap=1;this.Pr=0;this.Rr=360;this.Yc=zm;this.la=om;this.Hh=lm;this.rh=dp;this.Ih=6;this.ar=Cm}u.Ia(gm,Je);u.fa("CircularLayout",gm);
	gm.prototype.cloneProtected=function(a){Je.prototype.cloneProtected.call(this,a);a.nr=this.nr;a.Ap=this.Ap;a.Pr=this.Pr;a.Rr=this.Rr;a.Yc=this.Yc;a.la=this.la;a.Hh=this.Hh;a.rh=this.rh;a.Ih=this.Ih;a.ar=this.ar};gm.prototype.createNetwork=function(){return new gp};
	gm.prototype.doLayout=function(a){null===a&&u.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");null===this.network&&(this.network=this.makeNetwork(a));a=this.network.vertexes;if(1>=a.count)1===a.count&&(a=a.first(),a.ma=0,a.ya=0);else{var b=new E(hp);b.Td(a.i);a=new E(hp);var c=new E(hp),d;d=this.sort(b);var e=this.Hx,f=this.eB,h=this.ud,k=this.sn,l=this.Ix,m=this.Up,b=this.mk,n=this.yC,p=this.kg,q=this.Wt,e=this.Gf,f=this.sw,h=this.OH;if(!isFinite(h)||
		0>=h)h=NaN;k=this.QF;if(!isFinite(k)||0>=k)k=1;l=this.Je;isFinite(l)||(l=0);m=this.Qf;if(!isFinite(m)||360<m||1>m)m=360;b=this.spacing;isFinite(b)||(b=NaN);e===Am&&f===Bm?e=zm:e===Am&&f!==Bm&&(f=Bm,e=this.Gf);if((this.direction===mm||this.direction===nm)&&this.sorting!==lm){for(var r=0;!(r>=d.length);r+=2){a.add(d.ja(r));if(r+1>=d.length)break;c.add(d.ja(r+1))}this.direction===mm?(this.Gf===Am&&a.reverse(),d=new E(hp),d.Td(a),d.Td(c)):(this.Gf===Am&&c.reverse(),d=new E(hp),d.Td(c),d.Td(a))}for(var s=
		d.length,t=n=0,r=0;r<d.length;r++){var p=l+m*t*(this.direction===om?1:-1)/s,v=d.ja(r).diameter;isNaN(v)&&(v=ip(d.ja(r),p));360>m&&(0===r||r===d.length-1)&&(v/=2);n+=v;t++}if(isNaN(h)||e===Am){isNaN(b)&&(b=6);if(e!==zm&&e!==Am){v=-Infinity;for(r=0;r<s;r++){var q=d.ja(r),x=d.ja(r===s-1?0:r+1);isNaN(q.diameter)&&ip(q,0);isNaN(x.diameter)&&ip(x,0);v=Math.max(v,(q.diameter+x.diameter)/2)}q=v+b;e===xm?(p=2*Math.PI/s,h=(v+b)/p):h=jp(this,q*(360<=m?s:s-1),k,l*Math.PI/180,m*Math.PI/180)}else h=jp(this,n+(360<=
		m?s:s-1)*(e!==Am?b:1.6*b),k,l*Math.PI/180,m*Math.PI/180);p=h*k}else if(p=h*k,t=kp(this,h,p,l*Math.PI/180,m*Math.PI/180),isNaN(b)){if(e===zm||e===Am)b=(t-n)/(360<=m?s:s-1)}else if(e===zm||e===Am)r=(t-n)/(360<=m?s:s-1),r<b?(h=jp(this,n+b*(360<=m?s:s-1),k,l*Math.PI/180,m*Math.PI/180),p=h*k):b=r;else{v=-Infinity;for(r=0;r<s;r++)q=d.ja(r),x=d.ja(r===s-1?0:r+1),isNaN(q.diameter)&&ip(q,0),isNaN(x.diameter)&&ip(x,0),v=Math.max(v,(q.diameter+x.diameter)/2);q=v+b;r=jp(this,q*(360<=m?s:s-1),k,l*Math.PI/180,
		m*Math.PI/180);r>h?(h=r,p=h*k):q=t/(360<=m?s:s-1)}this.Hx=e;this.eB=f;this.ud=h;this.sn=k;this.Ix=l;this.Up=m;this.mk=b;this.yC=n;this.kg=p;this.Wt=q;b=d;d=this.Hx;e=this.ud;f=this.Ix;k=this.Up;l=this.mk;m=this.kg;n=this.Wt;if(this.direction!==mm&&this.direction!==nm||d!==Am)if(this.direction===mm||this.direction===nm){h=0;switch(d){case ym:h=180*lp(this,e,m,f,n)/Math.PI;break;case zm:n=b=0;h=a.first();null!==h&&(b=ip(h,Math.PI/2));h=c.first();null!==h&&(n=ip(h,Math.PI/2));h=180*lp(this,e,m,f,l+(b+
			n)/2)/Math.PI;break;case xm:h=k/b.length}if(this.direction===mm){switch(d){case ym:mp(this,a,f,pm);break;case zm:np(this,a,f,pm);break;case xm:op(this,a,k/2,f,pm)}switch(d){case ym:mp(this,c,f+h,om);break;case zm:np(this,c,f+h,om);break;case xm:op(this,c,k/2,f+h,om)}}else{switch(d){case ym:mp(this,c,f,pm);break;case zm:np(this,c,f,pm);break;case xm:op(this,c,k/2,f,pm)}switch(d){case ym:mp(this,a,f+h,om);break;case zm:np(this,a,f+h,om);break;case xm:op(this,a,k/2,f+h,om)}}}else switch(d){case ym:mp(this,
		b,f,this.direction);break;case zm:np(this,b,f,this.direction);break;case xm:op(this,b,k,f,this.direction);break;case Am:pp(this,b,k,f,this.direction)}else pp(this,b,k,f-k/2,om)}this.updateParts();this.network=null;this.vf=!0};
	function op(a,b,c,d,e){var f=a.Up,h=a.ud;a=a.kg;d=d*Math.PI/180;c=c*Math.PI/180;for(var k=b.length,l=0;l<k;l++){var m=d+(e===om?l*c/(360<=f?k:k-1):-(l*c)/k),n=b.ja(l),p=h*Math.tan(m)/a,p=Math.sqrt((h*h+a*a*p*p)/(1+p*p));n.ma=p*Math.cos(m);n.ya=p*Math.sin(m);n.actualAngle=180*m/Math.PI}}
	function np(a,b,c,d){var e=a.ud,f=a.kg,h=a.mk;c=c*Math.PI/180;for(var k=b.length,l=0;l<k;l++){var m=b.ja(l),n=b.ja(l===k-1?0:l+1),p=f*Math.sin(c);m.ma=e*Math.cos(c);m.ya=p;m.actualAngle=180*c/Math.PI;isNaN(m.diameter)&&ip(m,0);isNaN(n.diameter)&&ip(n,0);m=lp(a,e,f,d===om?c:-c,(m.diameter+n.diameter)/2+h);c+=d===om?m:-m}}
	function mp(a,b,c,d){var e=a.ud,f=a.kg,h=a.Wt;c=c*Math.PI/180;for(var k=b.length,l=0;l<k;l++){var m=b.ja(l);m.ma=e*Math.cos(c);m.ya=f*Math.sin(c);m.actualAngle=180*c/Math.PI;m=lp(a,e,f,d===om?c:-c,h);c+=d===om?m:-m}}function pp(a,b,c,d,e){var f=a.Zt,f=a.Up;a.Wl=0;a.wv=new fp;if(360>c){for(f=d+(e===om?f:-f);0>f;)f+=360;f%=360;180<f&&(f-=360);f*=Math.PI/180;a.Zt=f;qp(a,b,c,d,e)}else rp(a,b,c,d,e);a.wv.commit(b)}
	function rp(a,b,c,d,e){var f=a.ud,h=a.mk,k=a.sn,l=f*Math.cos(d*Math.PI/180),m=a.kg*Math.sin(d*Math.PI/180),n=b.Ke();if(3===n.length)n[0].ma=f,n[0].ya=0,n[1].ma=n[0].ma-n[0].width/2-n[1].width/2-h,n[1].y=n[0].y,n[2].ma=(n[0].ma+n[1].ma)/2,n[2].y=n[0].y-n[2].height-h;else if(4===n.length)n[0].ma=f,n[0].ya=0,n[2].ma=-n[0].ma,n[2].ya=n[0].ya,n[1].ma=0,n[1].y=Math.min(n[0].y,n[2].y)-n[1].height-h,n[3].ma=0,n[3].y=Math.max(n[0].y+n[0].height+h,n[2].y+n[2].height+h);else{for(var f=u.K(),p=0;p<n.length;p++){n[p].ma=
		l;n[p].ya=m;if(p>=n.length-1)break;sp(a,l,m,n,p,e,f)||tp(a,l,m,n,p,e,f);l=f.x;m=f.y}u.v(f);a.Wl++;if(!(23<a.Wl)){var l=n[0].ma,m=n[0].ya,f=n[n.length-1].ma,p=n[n.length-1].ya,q=Math.abs(l-f)-((n[0].width+n[n.length-1].width)/2+h),r=Math.abs(m-p)-((n[0].height+n[n.length-1].height)/2+h),h=0;1>Math.abs(r)?Math.abs(l-f)<(n[0].width+n[n.length-1].width)/2&&(h=0):h=0<r?r:1>Math.abs(q)?0:q;q=!1;q=Math.abs(f)>Math.abs(p)?0<f!==m>p:0<p!==l<f;if(q=e===om?q:!q)h=-Math.abs(h),h=Math.min(h,-n[n.length-1].width),
		h=Math.min(h,-n[n.length-1].height);a.wv.compare(h,n);1<Math.abs(h)&&(a.ud=8>a.Wl?a.ud-h/(2*Math.PI):5>n.length&&10<h?a.ud/2:a.ud-(0<h?1.7:-2.3),a.kg=a.ud*k,rp(a,b,c,d,e))}}}
	function qp(a,b,c,d,e){for(var f=a.ud,h=a.kg,k=a.sn,l=f*Math.cos(d*Math.PI/180),m=h*Math.sin(d*Math.PI/180),n=u.K(),p=b.Ke(),q=0;q<p.length;q++){p[q].ma=l;p[q].ya=m;if(q>=p.length-1)break;sp(a,l,m,p,q,e,n)||tp(a,l,m,p,q,e,n);l=n.x;m=n.y}u.v(n);a.Wl++;if(!(23<a.Wl)){l=Math.atan2(m,l);l=e===om?a.Zt-l:l-a.Zt;l=Math.abs(l)<Math.abs(l-2*Math.PI)?l:l-2*Math.PI;f=l*(f+h)/2;h=a.wv;if(Math.abs(f)<Math.abs(h.Co))for(h.Co=f,h.Rm=[],h.np=[],l=0;l<p.length;l++)h.Rm[l]=p[l].lb.x,h.np[l]=p[l].lb.y;1<Math.abs(f)&&
	(a.ud=8>a.Wl?a.ud-f/(2*Math.PI):a.ud-(0<f?1.7:-2.3),a.kg=a.ud*k,qp(a,b,c,d,e))}}function sp(a,b,c,d,e,f,h){var k=a.ud,l=a.kg,m=0,n=0;a=(d[e].width+d[e+1].width)/2+a.mk;var p=!1;if(0<=c!==(f===om)){if(m=b+a,m>k){m=b-a;if(m<-k)return h.x=m,h.y=n,!1;p=!0}}else if(m=b-a,m<-k){m=b+a;if(m>k)return h.x=m,h.y=n,!1;p=!0}n=Math.sqrt(1-Math.min(1,m*m/(k*k)))*l;0>c!==p&&(n=-n);if(Math.abs(c-n)>(d[e].height+d[e+1].height)/2)return h.x=m,h.y=n,!1;h.x=m;h.y=n;return!0}
	function tp(a,b,c,d,e,f,h){var k=a.ud,l=a.kg,m=0,n=0;a=(d[e].height+d[e+1].height)/2+a.mk;d=!1;if(0<=b!==(f===om)){if(n=c-a,n<-l){n=c+a;if(n>l){h.x=m;h.y=n;return}d=!0}}else if(n=c+a,n>l){n=c-a;if(n<-l){h.x=m;h.y=n;return}d=!0}m=Math.sqrt(1-Math.min(1,n*n/(l*l)))*k;0>b!==d&&(m=-m);h.x=m;h.y=n}gm.prototype.commitLayout=function(){this.commitNodes();this.Rs&&this.commitLinks()};
	gm.prototype.commitNodes=function(){for(var a=this.IF,b=this.network.vertexes.i;b.next();){var c=b.value;c.x+=a.x;c.y+=a.y;c.commit()}};gm.prototype.commitLinks=function(){for(var a=this.network.edges.i;a.next();)a.value.commit()};
	function kp(a,b,c,d,e){var f=a.zF;if(.001>Math.abs(a.sn-1))return void 0!==d&&void 0!==e?e*b:2*Math.PI*b;a=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c;for(var h=0,k=0,k=void 0!==d&&void 0!==e?e/(f+1):Math.PI/(2*(f+1)),l=0,m=0;m<=f;m++)l=void 0!==d&&void 0!==e?d+m*e/f:m*Math.PI/(2*f),l=Math.sin(l),h+=Math.sqrt(1-a*a*l*l)*k;return void 0!==d&&void 0!==e?(b>c?b:c)*h:4*(b>c?b:c)*h}function jp(a,b,c,d,e){var f=0,f=void 0!==d&&void 0!==e?kp(a,1,c,d,e):kp(a,1,c);return b/f}
	function lp(a,b,c,d,e){if(.001>Math.abs(a.sn-1))return e/b;var f=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,h=0;a=2*Math.PI/(700*a.network.vertexes.count);b>c&&(d+=Math.PI/2);for(var k=0;;k++){var l=Math.sin(d+k*a),h=h+(b>c?b:c)*Math.sqrt(1-f*f*l*l)*a;if(h>=e)return k*a}}
	gm.prototype.sort=function(a){switch(this.sorting){case jm:break;case km:a.reverse();break;case hm:a.sort(this.comparer);break;case im:a.sort(this.comparer);a.reverse();break;case lm:for(var b=[],c=0;c<a.length;c++)b.push(0);for(var d=new E(hp),c=0;c<a.length;c++){var e=-1,f=-1;if(0===c)for(var h=0;h<a.length;h++){var k=a.ja(h).xG;k>e&&(e=k,f=h)}else for(h=0;h<a.length;h++)k=b[h],k>e&&(e=k,f=h);d.add(a.ja(f));b[f]=-1;f=a.ja(f);e=0;for(h=f.kc;h.next();)e=a.indexOf(h.value.fromVertex),0>e||0<=b[e]&&
	b[e]++;for(f=f.bc;f.next();)e=a.indexOf(f.value.toVertex),0>e||0<=b[e]&&b[e]++}a=[];for(b=0;b<d.length;b++){h=d.ja(b);a[b]=[];for(var l=0,c=h.bc;c.next();)l=d.indexOf(c.value.toVertex),l!==b&&0>a[b].indexOf(l)&&a[b].push(l);for(c=h.kc;c.next();)l=d.indexOf(c.value.fromVertex),l!==b&&0>a[b].indexOf(l)&&a[b].push(l)}h=[];for(b=0;b<a.length;b++)h[b]=0;for(var c=[],k=[],m=[],e=[],f=new E(hp),n=0,b=0;b<a.length;b++){var p=a[b].length;if(1===p)e.push(b);else if(0===p)f.add(d.ja(b));else{if(0===n)c.push(b);
	else{for(var q=Infinity,r=Infinity,s=-1,t=[],p=0;p<c.length;p++)0>a[c[p]].indexOf(c[p===c.length-1?0:p+1])&&t.push(p===c.length-1?0:p+1);if(0===t.length)for(p=0;p<c.length;p++)t.push(p);for(p=0;p<t.length;p++){var v=t[p],x,l=a[b];x=k;for(var A=m,y=h,C=v,I=c,H=0,R=0;R<x.length;R++){var aa=y[x[R]],S=y[A[R]],N=0,Z=0;aa<S?(N=aa,Z=S):(N=S,Z=aa);if(N<C&&C<=Z)for(aa=0;aa<l.length;aa++)S=l[aa],0>I.indexOf(S)||N<y[S]&&y[S]<Z||N===y[S]||Z===y[S]||H++;else for(aa=0;aa<l.length;aa++)S=l[aa],0>I.indexOf(S)||N<
	y[S]&&y[S]<Z&&N!==y[S]&&Z!==y[S]&&H++}x=H;for(y=A=0;y<a[b].length;y++)l=c.indexOf(a[b][y]),0<=l&&(l=Math.abs(v-(l>=v?l+1:l)),A+=l<c.length+1-l?l:c.length+1-l);for(y=0;y<k.length;y++)l=h[k[y]],C=h[m[y]],l>=v&&l++,C>=v&&C++,l>C&&(I=C,C=l,l=I),C-l<(c.length+2)/2===(l<v&&v<=C)&&A++;if(x<q||x===q&&A<r)q=x,r=A,s=v}c.splice(s,0,b);for(p=0;p<c.length;p++)h[c[p]]=p;for(p=0;p<a[b].length;p++)q=a[b][p],0<=c.indexOf(q)&&(k.push(b),m.push(q))}n++}}k=!1;for(m=c.length;;){k=!0;for(h=0;h<e.length;h++)if(b=e[h],n=
			a[b][0],l=c.indexOf(n),0<=l){for(r=p=0;r<a[n].length;r++)q=a[n][r],q=c.indexOf(q),0>q||q===l||(s=q>l?q-l:l-q,p+=q<l!==s>m-s?1:-1);c.splice(0>p?l:l+1,0,b);e.splice(h,1);h--}else k=!1;if(k)break;else c.push(e[0]),e.splice(0,1)}for(b=0;b<c.length;b++)l=c[b],f.add(d.ja(l));return f;default:u.k("Invalid sorting type.")}return a};u.defineProperty(gm,{OH:"radius"},function(){return this.nr},function(a){this.nr!==a&&(u.j(a,"number",gm,"radius"),0<a||isNaN(a))&&(this.nr=a,this.H())});
	u.defineProperty(gm,{QF:"aspectRatio"},function(){return this.Ap},function(a){this.Ap!==a&&(u.j(a,"number",gm,"aspectRatio"),0<a&&(this.Ap=a,this.H()))});u.defineProperty(gm,{Je:"startAngle"},function(){return this.Pr},function(a){this.Pr!==a&&(u.j(a,"number",gm,"startAngle"),this.Pr=a,this.H())});u.defineProperty(gm,{Qf:"sweepAngle"},function(){return this.Rr},function(a){this.Rr!==a&&(u.j(a,"number",gm,"sweepAngle"),this.Rr=0<a&&360>=a?a:360,this.H())});
	u.defineProperty(gm,{Gf:"arrangement"},function(){return this.Yc},function(a){this.Yc!==a&&(u.rb(a,gm,gm,"arrangement"),a===Am||a===zm||a===ym||a===xm)&&(this.Yc=a,this.H())});u.defineProperty(gm,{direction:"direction"},function(){return this.la},function(a){this.la!==a&&(u.rb(a,gm,gm,"direction"),a===om||a===pm||a===mm||a===nm)&&(this.la=a,this.H())});
	u.defineProperty(gm,{sorting:"sorting"},function(){return this.Hh},function(a){this.Hh!==a&&(u.rb(a,gm,gm,"sorting"),a===jm||a===km||a===hm||im||a===lm)&&(this.Hh=a,this.H())});u.defineProperty(gm,{comparer:"comparer"},function(){return this.rh},function(a){this.rh!==a&&(u.j(a,"function",gm,"comparer"),this.rh=a,this.H())});u.defineProperty(gm,{spacing:"spacing"},function(){return this.Ih},function(a){this.Ih!==a&&(u.j(a,"number",gm,"spacing"),this.Ih=a,this.H())});
	u.defineProperty(gm,{sw:"nodeDiameterFormula"},function(){return this.ar},function(a){this.ar!==a&&(u.rb(a,gm,gm,"nodeDiameterFormula"),a===Cm||a===Bm)&&(this.ar=a,this.H())});u.u(gm,{JF:"actualXRadius"},function(){return this.ud});u.u(gm,{KF:"actualYRadius"},function(){return this.kg});u.u(gm,{HI:"actualSpacing"},function(){return this.mk});u.u(gm,{IF:"actualCenter"},function(){return isNaN(this.Ud.x)||isNaN(this.Ud.y)?new w(0,0):new w(this.Ud.x+this.JF,this.Ud.y+this.KF)});var zm;
	gm.ConstantSpacing=zm=u.s(gm,"ConstantSpacing",0);var ym;gm.ConstantDistance=ym=u.s(gm,"ConstantDistance",1);var xm;gm.ConstantAngle=xm=u.s(gm,"ConstantAngle",2);var Am;gm.Packed=Am=u.s(gm,"Packed",3);var om;gm.Clockwise=om=u.s(gm,"Clockwise",4);var pm;gm.Counterclockwise=pm=u.s(gm,"Counterclockwise",5);var mm;gm.BidirectionalLeft=mm=u.s(gm,"BidirectionalLeft",6);var nm;gm.BidirectionalRight=nm=u.s(gm,"BidirectionalRight",7);var jm;gm.Forwards=jm=u.s(gm,"Forwards",8);var km;
	gm.Reverse=km=u.s(gm,"Reverse",9);var hm;gm.Ascending=hm=u.s(gm,"Ascending",10);var im;gm.Descending=im=u.s(gm,"Descending",11);var lm;gm.Optimized=lm=u.s(gm,"Optimized",12);var Cm;gm.Pythagorean=Cm=u.s(gm,"Pythagorean",13);var Bm;gm.Circular=Bm=u.s(gm,"Circular",14);function fp(){this.Co=-Infinity;this.np=this.Rm=null}
	fp.prototype.compare=function(a,b){if(0<a&&0>this.Co||Math.abs(a)<Math.abs(this.Co)&&!(0>a&&0<this.Co)){this.Co=a;this.Rm=[];this.np=[];for(var c=0;c<b.length;c++)this.Rm[c]=b[c].lb.x,this.np[c]=b[c].lb.y}};fp.prototype.commit=function(a){if(null!==this.Rm&&null!==this.np)for(var b=0;b<this.Rm.length;b++){var c=a.ja(b);c.x=this.Rm[b];c.y=this.np[b]}};function gp(){xa.call(this)}u.Ia(gp,xa);u.fa("CircularNetwork",gp);gp.prototype.createVertex=function(){return new hp};gp.prototype.createEdge=function(){return new up};
	function hp(){ya.call(this);this.actualAngle=this.diameter=NaN}u.Ia(hp,ya);u.fa("CircularVertex",hp);
	function ip(a,b){var c=a.network;if(null===c)return NaN;c=c.Qb;if(null===c)return NaN;if(c.Gf===Am)if(c.sw===Bm)a.diameter=Math.max(a.width,a.height);else{var c=Math.abs(Math.sin(b)),d=Math.abs(Math.cos(b));if(0===c)return a.width;if(0===d)return a.height;a.diameter=Math.min(a.height/c,a.width/d)}else a.diameter=c.sw===Bm?Math.max(a.width,a.height):Math.sqrt(a.width*a.width+a.height*a.height);return a.diameter}function up(){Aa.call(this)}u.Ia(up,Aa);u.fa("CircularEdge",up);
	function vp(){0<arguments.length&&u.Wc(vp);Je.call(this);this.jg=null;this.xq=0;this.Uf=(new ia(100,100)).freeze();this.zp=!1;this.Gh=!0;this.qh=!1;this.Pn=100;this.Wp=1;this.Ah=1E3;this.or=Math;this.nn=.05;this.mn=50;this.jn=150;this.ln=0;this.Qp=10;this.Pp=5}u.Ia(vp,Je);u.fa("ForceDirectedLayout",vp);
	vp.prototype.cloneProtected=function(a){Je.prototype.cloneProtected.call(this,a);a.Uf.assign(this.Uf);a.zp=this.zp;a.Gh=this.Gh;a.qh=this.qh;a.Pn=this.Pn;a.Wp=this.Wp;a.Ah=this.Ah;a.or=this.or;a.nn=this.nn;a.mn=this.mn;a.jn=this.jn;a.ln=this.ln;a.Qp=this.Qp;a.Pp=this.Pp};vp.prototype.createNetwork=function(){return new wp};
	vp.prototype.doLayout=function(a){null===a&&u.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");null===this.network&&(this.network=this.makeNetwork(a));a=this.Bz;if(0<this.network.vertexes.count){this.network.Rv();for(var b=this.network.vertexes.i;b.next();){var c=b.value;c.charge=this.electricalCharge(c);c.mass=this.gravitationalMass(c)}for(b=this.network.edges.i;b.next();)c=b.value,c.stiffness=this.springStiffness(c),c.length=this.springLength(c);
		this.Oy();this.xq=0;if(this.needsClusterLayout()){b=this.network;for(c=b.oI().i;c.next();){this.network=c.value;for(var d=this.network.vertexes.i;d.next();){var e=d.value;e.Of=e.vertexes.count;e.Rj=1;e.sm=null;e.jh=null}xp(this,0,a)}this.network=b;c.reset();for(var d=this.QC,f=c.count,h=!0,k=e=0,l=u.gb(),m=0;m<f+b.vertexes.count+2;m++)l[m]=null;f=0;c.reset();for(var n=u.Sf();c.next();)if(m=c.value,this.lg(m,n),h)h=!1,e=n.x+n.width/2,k=n.y+n.height/2,l[0]=new w(n.x+n.width+d.width,n.y),l[1]=new w(n.x,
			n.y+n.height+d.height),f=2;else{var p=yp(l,f,e,k,n.width,n.height,d),q=l[p],r=new w(q.x+n.width+d.width,q.y),s=new w(q.x,q.y+n.height+d.height);p+1<f&&l.splice(p+1,0,null);l[p]=r;l[p+1]=s;f++;p=q.x-n.x;q=q.y-n.y;for(m=m.vertexes.i;m.next();)r=m.value,r.ma+=p,r.ya+=q}u.ic(n);for(m=b.vertexes.i;m.next();)h=m.value,n=h.lb,2>f?(e=n.x+n.width/2,k=n.y+n.height/2,l[0]=new w(n.x+n.width+d.width,n.y),l[1]=new w(n.x,n.y+n.height+d.height),f=2):(p=yp(l,f,e,k,n.width,n.height,d),q=l[p],r=new w(q.x+n.width+d.width,
			q.y),s=new w(q.x,q.y+n.height+d.height),p+1<f&&l.splice(p+1,0,null),l[p]=r,l[p+1]=s,f++,h.ma=q.x+h.width/2,h.ya=q.y+h.height/2);u.sa(l);for(c.reset();c.next();){d=c.value;for(e=d.vertexes.i;e.next();)b.Mk(e.value);for(d=d.edges.i;d.next();)b.lo(d.value)}}zp(this,a);this.updateParts()}this.Pn=a;this.network=null;this.vf=!0};
	vp.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var a=0,b=0,c=this.network.vertexes.first().lb,d=this.network.vertexes.i;d.next();){if(d.value.lb.tg(c)&&(a++,2<a))return!0;if(10<b)break;b++}return!1};vp.prototype.lg=function(a,b){for(var c=!0,d=a.vertexes.i;d.next();){var e=d.value;c?(c=!1,b.set(e.lb)):b.Uh(e.lb)}return b};
	function xp(a,b,c){if(Ap(a,b)){var d=a.Ah;a.Ah*=1+1/(b+1);var e=Bp(a,b),f=Math.max(0,Math.max(Math.min(a.network.vertexes.count,c*(b+1)/11),10));a.Bz+=f;xp(a,b+1,c);zp(a,f);Cp(a,e);b=a.jg;null===b?b=new E(Dp):b.clear();b.Td(e.vertexes);b.sort(function(a,b){return null===a||null===b||a===b?0:b.Of-a.Of});for(e=b.i;e.next();)Ep(a,e.value);a.Ah=d}}
	function Ap(a,b){if(10<b||3>a.network.vertexes.count)return!1;null===a.jg?a.jg=new E(Dp):a.jg.clear();a.jg.Td(a.network.vertexes);var c=a.jg;c.sort(function(a,b){return null===a||null===b||a===b?0:b.Of-a.Of});for(var d=c.count-1;0<=d&&1>=c.ja(d).Of;)d--;return 1<c.count-d}
	function Bp(a,b){for(var c=a.network,d=new wp,e=a.jg.i;e.next();){var f=e.value;if(1<f.Of){d.Mk(f);var h=new Fp;h.Uw=f.Of;h.Xw=f.width;h.Tw=f.height;h.rA=f.M.x;h.sA=f.M.y;null===f.jh&&(f.jh=new E(Fp));f.jh.add(h);f.Zz=f.jh.count-1}else break}for(var k=c.edges.i;k.next();)if(e=k.value,e.fromVertex.network===d&&e.toVertex.network===d)d.lo(e);else if(e.fromVertex.network===d){var l=e.fromVertex.sm;null===l&&(l=new E(Dp),e.fromVertex.sm=l);l.add(e.toVertex);e.fromVertex.Of--;e.fromVertex.Rj+=e.toVertex.Rj}else e.toVertex.network===
	d&&(l=e.toVertex.sm,null===l&&(l=new E(Dp),e.toVertex.sm=l),l.add(e.fromVertex),e.toVertex.Of--,e.toVertex.Rj+=e.fromVertex.Rj);for(e=d.edges.i;e.next();)f=e.value,f.length*=Math.max(1,K.sqrt((f.fromVertex.Rj+f.toVertex.Rj)/(4*b+1)));for(e=d.vertexes.i;e.next();)if(f=e.value,l=f.sm,null!==l&&0<l.count&&(h=f.jh.ja(f.jh.count-1),h=h.Uw-f.Of,!(0>=h))){for(var m=0,n=0,p=l.count-h;p<l.count;p++){for(var q=l.ja(p),r=null,k=q.edges.i;k.next();){var s=k.value;if(s.GG(q)===f){r=s;break}}null!==r&&(n+=r.length,
		m+=q.width*q.height)}l=f.ma;k=f.ya;p=f.width;q=f.height;r=f.M;s=p*q;1>s&&(s=1);m=K.sqrt((m+s+n*n*4/(h*h))/s);h=(m-1)*p/2;m=(m-1)*q/2;f.lb=new z(l-r.x-h,k-r.y-m,p+2*h,q+2*m);f.focus=new w(r.x+h,r.y+m)}a.network=d;return c}function Cp(a,b){for(var c=a.network.vertexes.i;c.next();){var d=c.value;d.network=b;if(null!==d.jh){var e=d.jh.ja(d.Zz);d.Of=e.Uw;var f=e.rA,h=e.sA;d.lb=new z(d.ma-f,d.ya-h,e.Xw,e.Tw);d.focus=new w(f,h);d.Zz--}}for(c=a.network.edges.i;c.next();)c.value.network=b;a.network=b}
	function Ep(a,b){var c=b.sm;if(null!==c&&0!==c.count){var d=b.ma,e=b.ya,f=b.width,h=b.height;null!==b.jh&&0<b.jh.count&&(h=b.jh.ja(0),f=h.Xw,h=h.Tw);for(var f=K.sqrt(f*f+h*h)/2,k=!1,l=h=0,m=0,n=b.vertexes.i;n.next();){var p=n.value;1>=p.Of?l++:(k=!0,m++,h+=Math.atan2(b.ya-p.ya,b.ma-p.ma))}if(0!==l)for(0<m&&(h/=m),n=m=0,m=k?2*Math.PI/(l+1):2*Math.PI/l,0===l%2&&(n=m/2),1<c.count&&c.sort(function(a,b){return null===a||null===b||a===b?0:b.width*b.height-a.width*a.height}),k=0===l%2?0:1,c=c.i;c.next();)if(l=
			c.value,!(1<l.Of||a.isFixed(l))){for(var p=null,q=l.edges.i;q.next();){p=q.value;break}var q=l.width,r=l.height,q=K.sqrt(q*q+r*r)/2,p=f+p.length+q,q=h+(m*(k/2>>1)+n)*(0===k%2?1:-1);l.ma=d+p*Math.cos(q);l.ya=e+p*Math.sin(q);k++}}}function yp(a,b,c,d,e,f,h){var k=9E19,l=-1,m=0;a:for(;m<b;m++){var n=a[m],p=n.x-c,q=n.y-d,p=p*p+q*q;if(p<k){for(q=m-1;0<=q;q--)if(a[q].y>n.y&&a[q].x-n.x<e+h.width)continue a;for(q=m+1;q<b;q++)if(a[q].x>n.x&&a[q].y-n.y<f+h.height)continue a;l=m;k=p}}return l}
	vp.prototype.Oy=function(){if(this.comments)for(var a=this.network.vertexes.i;a.next();)this.addComments(a.value)};
	vp.prototype.addComments=function(a){var b=a.Bc;if(null!==b)for(b=b.rD();b.next();){var c=b.value;if("Comment"===c.Jc&&c.Ga()){var d=this.network.Bm(c);null===d&&(d=this.network.fs(c));d.charge=this.lG;for(var c=null,e=d.bc;e.next();){var f=e.value;if(f.toVertex===a){c=f;break}}if(null===c)for(e=d.kc;e.next();)if(f=e.value,f.fromVertex===a){c=f;break}null===c&&(c=this.network.Po(a,d,null));c.length=this.mG}}};
	function Gp(a,b){var c=a.aa,d=c.x,e=c.y,f=c.width,c=c.height,h=b.aa,k=h.x,l=h.y,m=h.width,h=h.height;return d+f<k?e>l+h?(d=d+f-k,e=e-l-h,K.sqrt(d*d+e*e)):e+c<l?(d=d+f-k,e=e+c-l,K.sqrt(d*d+e*e)):k-(d+f):d>k+m?e>l+h?(d=d-k-m,e=e-l-h,K.sqrt(d*d+e*e)):e+c<l?(d=d-k-m,e=e+c-l,K.sqrt(d*d+e*e)):d-(k+m):e>l+h?e-(l+h):e+c<l?l-(e+c):.1}function zp(a,b){a.jg=null;for(var c=a.xq+b;a.xq<c&&(a.xq++,Hp(a)););a.jg=null}
	function Hp(a){null===a.jg&&(a.jg=new E(Dp),a.jg.Td(a.network.vertexes));var b=a.jg.n;if(0>=b.length)return!1;var c=b[0];c.forceX=0;c.forceY=0;for(var d=c.ma,e=d,f=c.ya,h=f,c=1;c<b.length;c++){var k=b[c];k.forceX=0;k.forceY=0;var l=k.ma,k=k.ya,d=Math.min(d,l),e=Math.max(e,l),f=Math.min(f,k),h=Math.max(h,k)}(f=e-d>h-f)?b.sort(function(a,b){return null===a||null===b||a===b?0:a.ma-b.ma}):b.sort(function(a,b){return null===a||null===b||a===b?0:a.ya-b.ya});for(var h=a.Ah,m=0,n=0,p=0,c=0;c<b.length;c++){var k=
		b[c],l=k.aa,q=k.M,d=l.x+q.x,l=l.y+q.y,n=k.charge*a.electricalFieldX(d,l),p=k.charge*a.electricalFieldY(d,l),n=n+k.mass*a.gravitationalFieldX(d,l),p=p+k.mass*a.gravitationalFieldY(d,l);k.forceX+=n;k.forceY+=p;for(q=c+1;q<b.length;q++)if(e=b[q],e!==k){var r=e.aa,n=e.M,p=r.x+n.x,r=r.y+n.y;if(d-p>h||p-d>h){if(f)break}else if(l-r>h||r-l>h){if(!f)break}else{var s=Gp(k,e);1>s?(n=a.zw,null===n&&(a.zw=n=new Fa(0)),m=n.random(),s=n.random(),d>p?(n=Math.abs(e.aa.right-k.aa.x),n=(1+n)*m):d<p?(n=Math.abs(e.aa.x-
		k.aa.right),n=-(1+n)*m):(n=Math.max(e.width,k.width),n=(1+n)*m-n/2),l>r?(p=Math.abs(e.aa.bottom-k.aa.y),p=(1+p)*s):d<p?(p=Math.abs(e.aa.y-k.aa.bottom),p=-(1+p)*s):(p=Math.max(e.height,k.height),p=(1+p)*s-p/2)):(m=-(k.charge*e.charge)/(s*s),n=(p-d)/s*m,p=(r-l)/s*m);k.forceX+=n;k.forceY+=p;e.forceX-=n;e.forceY-=p}}}for(c=a.network.edges.i;c.next();)f=c.value,k=f.fromVertex,e=f.toVertex,l=k.aa,q=k.M,d=l.x+q.x,l=l.y+q.y,r=e.aa,n=e.M,p=r.x+n.x,r=r.y+n.y,s=Gp(k,e),1>s?(n=a.zw,null===n&&(a.zw=n=new Fa(0)),
		m=n.random(),s=n.random(),n=(d>p?1:-1)*(1+(e.width>k.width)?e.width:k.width)*m,p=(l>r?1:-1)*(1+(e.height>k.height)?e.height:k.height)*s):(m=f.stiffness*(s-f.length),n=(p-d)/s*m,p=(r-l)/s*m),k.forceX+=n,k.forceY+=p,e.forceX-=n,e.forceY-=p;c=0;d=Math.max(a.Ah/20,50);for(e=0;e<b.length;e++)k=b[e],a.isFixed(k)?a.moveFixedVertex(k):(f=k.forceX,h=k.forceY,f<-d?f=-d:f>d&&(f=d),h<-d?h=-d:h>d&&(h=d),k.ma+=f,k.ya+=h,c=Math.max(c,f*f+h*h));return c>a.oD*a.oD}vp.prototype.moveFixedVertex=function(){};
	vp.prototype.commitLayout=function(){this.dA();this.commitNodes();this.Rs&&this.commitLinks()};vp.prototype.dA=function(){if(this.hp)for(var a=this.network.edges.i;a.next();){var b=a.value.link;null!==b&&(b.vb=uc,b.xb=uc)}};vp.prototype.commitNodes=function(){var a=0,b=0;if(this.PF){var c=u.Sf();this.lg(this.network,c);b=this.Ud;a=b.x-c.x;b=b.y-c.y;u.ic(c)}for(var c=u.Sf(),d=this.network.vertexes.i;d.next();){var e=d.value;if(0!==a||0!==b)c.assign(e.lb),c.x+=a,c.y+=b,e.lb=c;e.commit()}u.ic(c)};
	vp.prototype.commitLinks=function(){for(var a=this.network.edges.i;a.next();)a.value.commit()};vp.prototype.springStiffness=function(a){a=a.stiffness;return isNaN(a)?this.nn:a};vp.prototype.springLength=function(a){a=a.length;return isNaN(a)?this.mn:a};vp.prototype.electricalCharge=function(a){a=a.charge;return isNaN(a)?this.jn:a};vp.prototype.electricalFieldX=function(){return 0};vp.prototype.electricalFieldY=function(){return 0};
	vp.prototype.gravitationalMass=function(a){a=a.mass;return isNaN(a)?this.ln:a};vp.prototype.gravitationalFieldX=function(){return 0};vp.prototype.gravitationalFieldY=function(){return 0};vp.prototype.isFixed=function(a){return a.isFixed};u.u(vp,{iJ:"currentIteration"},function(){return this.xq});u.defineProperty(vp,{QC:"arrangementSpacing"},function(){return this.Uf},function(a){u.C(a,ia,vp,"arrangementSpacing");this.Uf.L(a)||(this.Uf.assign(a),this.H())});
	u.defineProperty(vp,{PF:"arrangesToOrigin"},function(){return this.zp},function(a){this.zp!==a&&(u.j(a,"boolean",vp,"arrangesToOrigin"),this.zp=a,this.H())});u.defineProperty(vp,{hp:"setsPortSpots"},function(){return this.Gh},function(a){this.Gh!==a&&(u.j(a,"boolean",vp,"setsPortSpots"),this.Gh=a,this.H())});u.defineProperty(vp,{comments:"comments"},function(){return this.qh},function(a){this.qh!==a&&(u.j(a,"boolean",vp,"comments"),this.qh=a,this.H())});
	u.defineProperty(vp,{Bz:"maxIterations"},function(){return this.Pn},function(a){this.Pn!==a&&(u.j(a,"number",vp,"maxIterations"),0<=a&&(this.Pn=a,this.H()))});u.defineProperty(vp,{oD:"epsilonDistance"},function(){return this.Wp},function(a){this.Wp!==a&&(u.j(a,"number",vp,"epsilonDistance"),0<a&&(this.Wp=a,this.H()))});u.defineProperty(vp,{CJ:"infinityDistance"},function(){return this.Ah},function(a){this.Ah!==a&&(u.j(a,"number",vp,"infinityDistance"),1<a&&(this.Ah=a,this.H()))});
	u.defineProperty(vp,{zw:"randomNumberGenerator"},function(){return this.or},function(a){this.or!==a&&(null!==a&&"function"!==typeof a.random&&u.k('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+a),this.or=a)});u.defineProperty(vp,{vJ:"defaultSpringStiffness"},function(){return this.nn},function(a){this.nn!==a&&(u.j(a,"number",vp,"defaultSpringStiffness"),this.nn=a,this.H())});
	u.defineProperty(vp,{uJ:"defaultSpringLength"},function(){return this.mn},function(a){this.mn!==a&&(u.j(a,"number",vp,"defaultSpringLength"),this.mn=a,this.H())});u.defineProperty(vp,{oJ:"defaultElectricalCharge"},function(){return this.jn},function(a){this.jn!==a&&(u.j(a,"number",vp,"defaultElectricalCharge"),this.jn=a,this.H())});u.defineProperty(vp,{pJ:"defaultGravitationalMass"},function(){return this.ln},function(a){this.ln!==a&&(u.j(a,"number",vp,"defaultGravitationalMass"),this.ln=a,this.H())});
	u.defineProperty(vp,{mG:"defaultCommentSpringLength"},function(){return this.Qp},function(a){this.Qp!==a&&(u.j(a,"number",vp,"defaultCommentSpringLength"),this.Qp=a,this.H())});u.defineProperty(vp,{lG:"defaultCommentElectricalCharge"},function(){return this.Pp},function(a){this.Pp!==a&&(u.j(a,"number",vp,"defaultCommentElectricalCharge"),this.Pp=a,this.H())});function Fp(){this.sA=this.rA=this.Tw=this.Xw=this.Uw=0}function wp(){xa.call(this)}u.Ia(wp,xa);u.fa("ForceDirectedNetwork",wp);
	wp.prototype.createVertex=function(){return new Dp};wp.prototype.createEdge=function(){return new Ip};function Dp(){ya.call(this);this.isFixed=!1;this.mass=this.charge=NaN;this.Rj=this.Of=this.forceY=this.forceX=0;this.jh=this.sm=null;this.Zz=0}u.Ia(Dp,ya);u.fa("ForceDirectedVertex",Dp);function Ip(){Aa.call(this);this.length=this.stiffness=NaN}u.Ia(Ip,Aa);u.fa("ForceDirectedEdge",Ip);
	function Yl(){0<arguments.length&&u.Wc(Yl);Je.call(this);this.td=this.Rl=25;this.la=0;this.hn=Op;this.Nn=Sp;this.Cn=Tp;this.Ol=4;this.Xm=Up;this.pi=Vp;this.Gh=!0;this.gj=4;this.Hb=this.Hu=this.kb=-1;this.Cf=this.Pq=0;this.Lb=this.Bf=this.ag=this.Ng=this.Ld=null;this.Wq=0;this.Vq=this.Tl=null;this.dg=0;this.Xq=null;this.Pg=[];this.Pg.length=100}u.Ia(Yl,Je);u.fa("LayeredDigraphLayout",Yl);
	Yl.prototype.cloneProtected=function(a){Je.prototype.cloneProtected.call(this,a);a.Rl=this.Rl;a.td=this.td;a.la=this.la;a.hn=this.hn;a.Nn=this.Nn;a.Cn=this.Cn;a.Ol=this.Ol;a.Xm=this.Xm;a.pi=this.pi;a.Gh=this.Gh;a.gj=this.gj};Yl.prototype.createNetwork=function(){return new Wp};
	Yl.prototype.doLayout=function(a){null===a&&u.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");null===this.network&&(this.network=this.makeNetwork(a));this.Ud=this.initialOrigin(this.Ud);this.Hu=-1;this.Cf=this.Pq=0;this.Xq=this.Vq=this.Tl=null;for(a=0;a<this.Pg.length;a++)this.Pg[a]=null;if(0<this.network.vertexes.count){this.network.Rv();for(a=this.network.edges.i;a.next();)a.value.rev=!1;switch(this.hn){default:case Xp:var b=0,c=this.network.vertexes.count-
		1;a=[];a.length=c+1;for(var d=this.network.vertexes.i;d.next();)d.value.valid=!0;for(;null!==Yp(this.network);){for(d=Zp(this.network);null!==d;)a[c]=d,c--,d.valid=!1,d=Zp(this.network);for(d=$p(this.network);null!==d;)a[b]=d,b++,d.valid=!1,d=$p(this.network);for(var d=null,e=0,f=this.network.vertexes.i;f.next();){var h=f.value;if(h.valid){for(var k=0,l=h.bc;l.next();)l.value.toVertex.valid&&k++;for(var l=0,m=h.kc;m.next();)m.value.fromVertex.valid&&l++;if(null===d||e<k-l)d=h,e=k-l}}null!==d&&(a[b]=
		d,b++,d.valid=!1)}for(b=0;b<this.network.vertexes.count;b++)a[b].index=b;for(a=this.network.edges.i;a.next();)b=a.value,b.fromVertex.index>b.toVertex.index&&(this.network.Aw(b),b.rev=!0);break;case Op:for(b=this.network.vertexes.i;b.next();)a=b.value,a.xo=-1,a.finish=-1;for(a=this.network.edges.i;a.next();)a.value.forest=!1;this.Wq=0;for(b.reset();b.next();)c=b.value,0===c.kc.count&&aq(this,c);for(b.reset();b.next();)c=b.value,-1===c.xo&&aq(this,c);for(a.reset();a.next();)b=a.value,b.forest||(c=b.fromVertex,
		d=c.finish,e=b.toVertex,f=e.finish,e.xo<c.xo&&d<f&&(this.network.Aw(b),b.rev=!0))}for(a=this.network.vertexes.i;a.next();)a.value.layer=-1;this.kb=-1;this.assignLayers();for(a.reset();a.next();)this.kb=Math.max(this.kb,a.value.layer);a=[];for(c=this.network.edges.i;c.next();)b=c.value,b.valid=!1,a.push(b);for(c=0;c<a.length;c++)if(b=a[c],!b.valid&&(null!==b.fromVertex.ld&&null!==b.toVertex.ld||b.fromVertex.layer!==b.toVertex.layer)){l=h=k=f=0;e=b.fromVertex;d=b.toVertex;if(null!==b.link){k=b.link;
		if(null===k)continue;var n=e.ld,f=d.ld;if(null===n||null===f)continue;var p=k.W,h=k.ca,q=k.od,l=k.fe;b.rev&&(k=p,m=q,p=h,q=l,h=k,l=m);var r=e.M,k=b.toVertex.M,s=b.rev?d.aa:e.aa,m=u.K();s.I()?(On(p,q,Ib,m),m.I()||m.assign(r)):m.assign(r);n!==p&&s.I()&&p.Ga()&&(n=e.aa,n.I()&&(m.x+=s.x-n.x,m.y+=s.y-n.y));p=b.rev?e.aa:d.aa;n=u.K();p.I()?(On(h,l,Ib,n),n.I()||n.assign(k)):n.assign(k);f!==h&&p.I()&&h.Ga()&&(f=d.aa,f.I()&&(n.x+=p.x-f.x,n.y+=p.y-f.y));90===this.la||270===this.la?(f=Math.round((m.x-r.x)/this.td),
			h=m.x,k=Math.round((n.x-k.x)/this.td),l=n.x):(f=Math.round((m.y-r.y)/this.td),h=m.y,k=Math.round((n.y-k.y)/this.td),l=n.y);u.v(m);u.v(n);b.portFromColOffset=f;b.portFromPos=h;b.portToColOffset=k;b.portToPos=l}else b.portFromColOffset=0,b.portFromPos=0,b.portToColOffset=0,b.portToPos=0;m=e.layer;r=d.layer;n=b;p=0;s=n.link;if(null!==s){var t=s.od,v=s.fe;if(null!==t&&null!==v){var x=s.W,q=s.ca;if(null!==x&&null!==q){var A=t.vb,y=v.xb;this.hp||(s.vb.Kc()||(A=s.vb),s.xb.Kc()||(y=s.xb));if(A.Kc()||A===
		vb)A=bq(this,!0);if(y.Kc()||y===vb)y=bq(this,!1);var C=s.dc,I=s.getLinkPoint(x,t,A,!0,C,q,v,u.K()),A=s.getLinkDirection(x,t,I,A,!0,C,q,v);u.v(I);A===cq(this,n,!0)?p+=1:this.hp&&null!==x&&1===x.ports.count&&n.rev&&(p+=1);I=s.getLinkPoint(q,v,y,!1,C,x,t,u.K());s=s.getLinkDirection(q,v,I,y,!1,C,x,t);u.v(I);s===cq(this,n,!1)?p+=2:this.hp&&null!==q&&1===q.ports.count&&n.rev&&(p+=2)}}}n=1===p||3===p?!0:!1;if(p=2===p||3===p?!0:!1)q=this.network.createVertex(),q.ld=null,q.pm=1,q.layer=m,q.near=e,this.network.Mk(q),
		e=this.network.Po(e,q,b.link),e.valid=!1,e.rev=b.rev,e.portFromColOffset=f,e.portToColOffset=0,e.portFromPos=h,e.portToPos=0,e=q;s=1;n&&s--;if(m-r>s&&0<m){b.valid=!1;q=this.network.createVertex();q.ld=null;q.pm=2;q.layer=m-1;this.network.Mk(q);e=this.network.Po(e,q,b.link);e.valid=!0;e.rev=b.rev;e.portFromColOffset=p?0:f;e.portToColOffset=0;e.portFromPos=p?0:h;e.portToPos=0;e=q;for(m--;m-r>s&&0<m;)q=this.network.createVertex(),q.ld=null,q.pm=3,q.layer=m-1,this.network.Mk(q),e=this.network.Po(e,q,
		b.link),e.valid=!0,e.rev=b.rev,e.portFromColOffset=0,e.portToColOffset=0,e.portFromPos=0,e.portToPos=0,e=q,m--;e=this.network.Po(q,d,b.link);e.valid=!n;n&&(q.near=d);e.rev=b.rev;e.portFromColOffset=0;e.portToColOffset=k;e.portFromPos=0;e.portToPos=l}else b.valid=!0}b=this.Ld=[];for(c=0;c<=this.kb;c++)b[c]=0;for(a=this.network.vertexes.i;a.next();)c=a.value,c.index=-1;this.initializeIndices();this.Hu=-1;for(c=this.Cf=this.Pq=0;c<=this.kb;c++)b[c]>b[this.Cf]&&(this.Hu=b[c]-1,this.Cf=c),b[c]<b[this.Pq]&&
	(this.Pq=c);this.Xq=[];for(c=0;c<b.length;c++)this.Xq[c]=[];for(a.reset();a.next();)b=a.value,c=this.Xq[b.layer],c[b.index]=b;this.Hb=-1;for(a=0;a<=this.kb;a++){b=dq(this,a);c=0;d=this.Ld[a];for(e=0;e<d;e++)f=b[e],c+=this.nodeMinColumnSpace(f,!0),f.column=c,c+=1,c+=this.nodeMinColumnSpace(f,!1);this.Hb=Math.max(this.Hb,c-1);eq(this,a,b)}this.reduceCrossings();this.straightenAndPack();this.updateParts()}this.network=null;this.vf=!0};
	Yl.prototype.linkMinLength=function(a){var b=a.toVertex,c=0;for(a=a.fromVertex.bc;a.next();)a.value.toVertex===b&&c++;return 1<c?2:1};function fq(a){var b=a.fromVertex.ld;a=a.toVertex.ld;return null===b&&null===a?8:null===b||null===a?4:1}Yl.prototype.nodeMinLayerSpace=function(a,b){return null===a.ld?0:90===this.la||270===this.la?b?a.M.y+10:a.aa.height-a.M.y+10:b?a.M.x+10:a.aa.width-a.M.x+10};
	Yl.prototype.nodeMinColumnSpace=function(a,b){if(null===a.ld)return 0;var c=b?a.Jz:a.Iz;if(null!==c)return c;c=this.la;return 90===c||270===c?b?a.Jz=a.M.x/this.td+1|0:a.Iz=(a.aa.width-a.M.x)/this.td+1|0:b?a.Jz=a.M.y/this.td+1|0:a.Iz=(a.aa.height-a.M.y)/this.td+1|0};function gq(a){null===a.Tl&&(a.Tl=[]);for(var b=0,c=a.network.vertexes.i;c.next();){var d=c.value;a.Tl[b]=d.layer;b++;a.Tl[b]=d.column;b++;a.Tl[b]=d.index;b++}return a.Tl}
	function hq(a,b){for(var c=0,d=a.network.vertexes.i;d.next();){var e=d.value;e.layer=b[c];c++;e.column=b[c];c++;e.index=b[c];c++}}
	function iq(a,b,c){var d=dq(a,b),e=a.Ld[b];if(null===a.Vq||a.Vq.length<e*e)a.Vq=[];for(var f=a.Vq,h=0;h<e;h++){var k=0,l=d[h],m=l.near,n=0;if(null!==m&&m.layer===l.layer)if(n=m.index,n>h)for(var p=h+1;p<n;p++)l=d[p],l.near===m&&l.pm===m.pm||k++;else for(p=h-1;p>n;p--)l=d[p],l.near===m&&l.pm===m.pm||k++;var m=0,q,r=q=p=l=0,s,t=0,v=0;s=0;var x;if(0<=c)for(n=d[h].Ie,m=0;m<n.count;m++)if(q=n.n[m],q.valid&&q.fromVertex.layer!==b)for(l=q.fromVertex.index,p=q.portToPos,q=q.portFromPos,r=m+1;r<n.count;r++)s=
		n.n[r],s.valid&&s.fromVertex.layer!==b&&(t=s.fromVertex.index,v=s.portToPos,s=s.portFromPos,p<v&&(l>t||l===t&&q>s)&&k++,v<p&&(t>l||t===l&&s>q)&&k++);if(0>=c)for(n=d[h].Ce,m=0;m<n.count;m++)if(q=n.n[m],q.valid&&q.toVertex.layer!==b)for(l=q.toVertex.index,p=q.portToPos,q=q.portFromPos,r=m+1;r<n.count;r++)s=n.n[r],s.valid&&s.toVertex.layer!==b&&(t=s.toVertex.index,v=s.portToPos,s=s.portFromPos,q<s&&(l>t||l===t&&p>v)&&k++,s<q&&(t>l||t===l&&v>p)&&k++);f[h*e+h]=k;for(n=h+1;n<e;n++){var A=0,y=0;if(0<=c)for(k=
																																																																																																																																	 d[h].Ie,x=d[n].Ie,m=0;m<k.count;m++)if(q=k.n[m],q.valid&&q.fromVertex.layer!==b)for(l=q.fromVertex.index,q=q.portFromPos,r=0;r<x.count;r++)s=x.n[r],s.valid&&s.fromVertex.layer!==b&&(t=s.fromVertex.index,s=s.portFromPos,(l<t||l===t&&q<s)&&y++,(t<l||t===l&&s<q)&&A++);if(0>=c)for(k=d[h].Ce,x=d[n].Ce,m=0;m<k.count;m++)if(q=k.n[m],q.valid&&q.toVertex.layer!==b)for(l=q.toVertex.index,p=q.portToPos,r=0;r<x.count;r++)s=x.n[r],s.valid&&s.toVertex.layer!==b&&(t=s.toVertex.index,v=s.portToPos,(l<t||l===t&&p<
	v)&&y++,(t<l||t===l&&v<p)&&A++);f[h*e+n]=A;f[n*e+h]=y}}eq(a,b,d);return f}Yl.prototype.countCrossings=function(){for(var a=0,b=0;b<=this.kb;b++)for(var c=iq(this,b,1),d=this.Ld[b],e=0;e<d;e++)for(var f=e;f<d;f++)a+=c[e*d+f];return a};
	function jq(a){for(var b=0,c=0;c<=a.kb;c++){for(var d=a,e=c,f=dq(d,e),h=d.Ld[e],k=0,l=0;l<h;l++){var m=null,m=f[l].Ce,n,p=0,q=0;if(null!==m)for(var r=0;r<m.count;r++)n=m.n[r],n.valid&&n.toVertex.layer!==e&&(p=n.fromVertex.column+n.portFromColOffset,q=n.toVertex.column+n.portToColOffset,k+=(Math.abs(p-q)+1)*fq(n))}eq(d,e,f);b+=k}return b}
	Yl.prototype.normalize=function(){var a=Infinity;this.Hb=-1;for(var b=this.network.vertexes.i;b.next();){var c=b.value,a=Math.min(a,c.column-this.nodeMinColumnSpace(c,!0));this.Hb=Math.max(this.Hb,c.column+this.nodeMinColumnSpace(c,!1))}for(b.reset();b.next();)b.value.column-=a;this.Hb-=a};
	function kq(a,b,c){for(var d=dq(a,b),e=a.Ld[b],f=[],h=0;h<e;h++){var k=d[h],l=null;0>=c&&(l=k.Ie);var m=null;0<=c&&(m=k.Ce);var n=0,p=0,q=k.near;null!==q&&q.layer===k.layer&&(n+=q.column-1,p++);if(null!==l)for(q=0;q<l.count;q++){var k=l.n[q],r=k.fromVertex;k.valid&&!k.rev&&r.layer!==b&&(n+=r.column+k.portFromColOffset,p++)}if(null!==m)for(l=0;l<m.count;l++)k=m.n[l],q=k.toVertex,k.valid&&!k.rev&&q.layer!==b&&(n+=q.column+k.portToColOffset,p++);f[h]=0===p?-1:n/p}eq(a,b,d);return f}
	function lq(a,b,c){for(var d=dq(a,b),e=a.Ld[b],f=[],h=0;h<e;h++){var k=d[h],l=null;0>=c&&(l=k.Ie);var m=null;0<=c&&(m=k.Ce);var n=0,p=[],q=k.near;null!==q&&q.layer===k.layer&&(p[n]=q.column-1,n++);if(null!==l)for(q=0;q<l.count;q++){var k=l.n[q],r=k.fromVertex;k.valid&&!k.rev&&r.layer!==b&&(p[n]=r.column+k.portFromColOffset,n++)}if(null!==m)for(l=0;l<m.count;l++)k=m.n[l],q=k.toVertex,k.valid&&!k.rev&&q.layer!==b&&(p[n]=q.column+k.portToColOffset,n++);0===n?f[h]=-1:(p.sort(function(a,b){return a-b}),
		m=n>>1,f[h]=n&1?p[m]:p[m-1]+p[m]>>1)}eq(a,b,d);return f}function mq(a,b,c,d,e,f){if(b.component===d){b.component=c;var h=0,k=0;if(e)for(var l=b.bc;l.next();){var k=l.value,m=k.toVertex,h=b.layer-m.layer,k=a.linkMinLength(k);h===k&&mq(a,m,c,d,e,f)}if(f)for(l=b.kc;l.next();)k=l.value,m=k.fromVertex,h=m.layer-b.layer,k=a.linkMinLength(k),h===k&&mq(a,m,c,d,e,f)}}
	function nq(a,b,c,d,e,f){if(b.component===d){b.component=c;if(e)for(var h=b.bc;h.next();)nq(a,h.value.toVertex,c,d,e,f);if(f)for(b=b.kc;b.next();)nq(a,b.value.fromVertex,c,d,e,f)}}function Yp(a){for(a=a.vertexes.i;a.next();){var b=a.value;if(b.valid)return b}return null}function Zp(a){for(a=a.vertexes.i;a.next();){var b=a.value;if(b.valid){for(var c=!0,d=b.bc;d.next();)if(d.value.toVertex.valid){c=!1;break}if(c)return b}}return null}
	function $p(a){for(a=a.vertexes.i;a.next();){var b=a.value;if(b.valid){for(var c=!0,d=b.kc;d.next();)if(d.value.fromVertex.valid){c=!1;break}if(c)return b}}return null}function aq(a,b){b.xo=a.Wq;a.Wq++;for(var c=b.bc;c.next();){var d=c.value,e=d.toVertex;-1===e.xo&&(d.forest=!0,aq(a,e))}b.finish=a.Wq;a.Wq++}
	Yl.prototype.assignLayers=function(){switch(this.Nn){case oq:pq(this);break;case qq:for(var a=0,b=this.network.vertexes.i;b.next();)a=rq(this,b.value),this.kb=Math.max(a,this.kb);for(b.reset();b.next();)a=b.value,a.layer=this.kb-a.layer;break;default:case Sp:pq(this);for(b=this.network.vertexes.i;b.next();)b.value.valid=!1;for(b.reset();b.next();)a=b.value,0===a.kc.count&&sq(this,a);a=Infinity;for(b.reset();b.next();)a=Math.min(a,b.value.layer);this.kb=-1;for(b.reset();b.next();){var c=b.value;c.layer-=
		a;this.kb=Math.max(this.kb,c.layer)}}};function pq(a){for(var b=a.network.vertexes.i;b.next();){var c=tq(a,b.value);a.kb=Math.max(c,a.kb)}}function tq(a,b){var c=0;if(-1===b.layer){for(var d=b.bc;d.next();)var e=d.value,f=e.toVertex,e=a.linkMinLength(e),c=Math.max(c,tq(a,f)+e);b.layer=c}else c=b.layer;return c}function rq(a,b){var c=0;if(-1===b.layer){for(var d=b.kc;d.next();)var e=d.value,f=e.fromVertex,e=a.linkMinLength(e),c=Math.max(c,rq(a,f)+e);b.layer=c}else c=b.layer;return c}
	function sq(a,b){if(!b.valid){b.valid=!0;for(var c=b.bc;c.next();)sq(a,c.value.toVertex);for(c=a.network.vertexes.i;c.next();)c.value.component=-1;for(var d=b.Ie.n,e=d.length,f=0;f<e;f++){var h=d[f],k=a.linkMinLength(h);h.fromVertex.layer-h.toVertex.layer>k&&mq(a,h.fromVertex,0,-1,!0,!1)}for(mq(a,b,1,-1,!0,!0);0!==b.component;){for(var k=0,d=Infinity,l=0,m=null,n=a.network.vertexes.i;n.next();){var p=n.value;if(1===p.component){for(var q=0,r=!1,s=p.Ie.n,e=s.length,f=0;f<e;f++){var h=s[f],t=h.fromVertex,
		q=q+1;1!==t.component&&(k+=1,t=t.layer-p.layer,h=a.linkMinLength(h),d=Math.min(d,t-h))}h=p.Ce.n;e=h.length;for(f=0;f<e;f++)s=h[f].toVertex,q-=1,1!==s.component?k-=1:r=!0;(null===m||q<l)&&!r&&(m=p,l=q)}}if(0<k){for(c.reset();c.next();)e=c.value,1===e.component&&(e.layer+=d);b.component=0}else m.component=0}for(c=a.network.vertexes.i;c.next();)c.value.component=-1;for(mq(a,b,1,-1,!0,!1);0!==b.component;){f=0;e=Infinity;d=0;k=null;for(l=a.network.vertexes.i;l.next();)if(m=l.value,1===m.component){n=
		0;p=!1;h=m.Ie.n;q=h.length;for(r=0;r<q;r++)s=h[r].fromVertex,n+=1,1!==s.component?f+=1:p=!0;h=m.Ce.n;q=h.length;for(r=0;r<q;r++)s=h[r],t=s.toVertex,n-=1,1!==t.component&&(f-=1,t=m.layer-t.layer,s=a.linkMinLength(s),e=Math.min(e,t-s));(null===k||n>d)&&!p&&(k=m,d=n)}if(0>f){for(c.reset();c.next();)f=c.value,1===f.component&&(f.layer-=e);b.component=0}else k.component=0}}}
	function cq(a,b,c){return 90===a.la?c&&!b.rev||!c&&b.rev?270:90:180===a.la?c&&!b.rev||!c&&b.rev?0:180:270===a.la?c&&!b.rev||!c&&b.rev?90:270:c&&!b.rev||!c&&b.rev?180:0}
	Yl.prototype.initializeIndices=function(){switch(this.Cn){default:case uq:for(var a=this.network.vertexes.i;a.next();){var b=a.value,c=b.layer;b.index=this.Ld[c];this.Ld[c]++}break;case Tp:a=this.network.vertexes.i;for(b=this.kb;0<=b;b--)for(a.reset();a.next();)c=a.value,c.layer===b&&-1===c.index&&vq(this,c);break;case wq:for(a=this.network.vertexes.i,b=0;b<=this.kb;b++)for(a.reset();a.next();)c=a.value,c.layer===b&&-1===c.index&&xq(this,c)}};
	function vq(a,b){var c=b.layer;b.index=a.Ld[c];a.Ld[c]++;for(var c=b.Ce.Ke(),d=!0;d;)for(var d=!1,e=0;e<c.length-1;e++){var f=c[e],h=c[e+1];f.portFromColOffset>h.portFromColOffset&&(d=!0,c[e]=h,c[e+1]=f)}for(e=0;e<c.length;e++)d=c[e],d.valid&&(d=d.toVertex,-1===d.index&&vq(a,d))}
	function xq(a,b){var c=b.layer;b.index=a.Ld[c];a.Ld[c]++;for(var c=b.Ie.Ke(),d=!0,e=0;d;)for(d=!1,e=0;e<c.length-1;e++){var f=c[e],h=c[e+1];f.portToColOffset>h.portToColOffset&&(d=!0,c[e]=h,c[e+1]=f)}for(e=0;e<c.length;e++)d=c[e],d.valid&&(d=d.fromVertex,-1===d.index&&xq(a,d))}
	Yl.prototype.reduceCrossings=function(){for(var a=this.countCrossings(),b=gq(this),c=0,d=0,e=0,c=0;c<this.Ol;c++){for(d=0;d<=this.kb;d++)yq(this,d,1),zq(this,d,1);e=this.countCrossings();e<a&&(a=e,b=gq(this));for(d=this.kb;0<=d;d--)yq(this,d,-1),zq(this,d,-1);e=this.countCrossings();e<a&&(a=e,b=gq(this))}hq(this,b);for(c=0;c<this.Ol;c++){for(d=0;d<=this.kb;d++)yq(this,d,0),zq(this,d,0);e=this.countCrossings();e<a&&(a=e,b=gq(this));for(d=this.kb;0<=d;d--)yq(this,d,0),zq(this,d,0);e=this.countCrossings();
		e<a&&(a=e,b=gq(this))}hq(this,b);var f=!1,h=c=0,k=0,d=0;switch(this.Xm){case Aq:break;case Bq:for(k=a+1;(d=this.countCrossings())<k;)for(k=d,c=this.kb;0<=c;c--)for(h=0;h<=c;h++){for(f=!0;f;)for(f=!1,d=c;d>=h;d--)f=zq(this,d,-1)||f;e=this.countCrossings();e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,d=c;d>=h;d--)f=zq(this,d,1)||f;e=this.countCrossings();e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,d=h;d<=c;d++)f=zq(this,d,1)||f;e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,
																																																																																																																															  d=h;d<=c;d++)f=zq(this,d,-1)||f;e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,d=c;d>=h;d--)f=zq(this,d,0)||f;e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,d=h;d<=c;d++)f=zq(this,d,0)||f;e>=a?hq(this,b):(a=e,b=gq(this))}break;default:case Up:for(c=this.kb,h=0,k=a+1;(d=this.countCrossings())<k;){k=d;for(f=!0;f;)for(f=!1,d=c;d>=h;d--)f=zq(this,d,-1)||f;e=this.countCrossings();e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,d=c;d>=h;d--)f=zq(this,d,1)||f;e=this.countCrossings();
		e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,d=h;d<=c;d++)f=zq(this,d,1)||f;e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,d=h;d<=c;d++)f=zq(this,d,-1)||f;e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,d=c;d>=h;d--)f=zq(this,d,0)||f;e>=a?hq(this,b):(a=e,b=gq(this));for(f=!0;f;)for(f=!1,d=h;d<=c;d++)f=zq(this,d,0)||f;e>=a?hq(this,b):(a=e,b=gq(this))}}hq(this,b)};
	function yq(a,b,c){var d=0,e=dq(a,b),f=a.Ld[b],h=lq(a,b,c);c=kq(a,b,c);for(d=0;d<f;d++)-1===c[d]&&(c[d]=e[d].column),-1===h[d]&&(h[d]=e[d].column);for(var k=!0,l;k;)for(k=!1,d=0;d<f-1;d++)if(h[d+1]<h[d]||h[d+1]===h[d]&&c[d+1]<c[d])k=!0,l=h[d],h[d]=h[d+1],h[d+1]=l,l=c[d],c[d]=c[d+1],c[d+1]=l,l=e[d],e[d]=e[d+1],e[d+1]=l;for(d=h=0;d<f;d++)l=e[d],l.index=d,h+=a.nodeMinColumnSpace(l,!0),l.column=h,h+=1,h+=a.nodeMinColumnSpace(l,!1);eq(a,b,e)}
	function zq(a,b,c){var d=dq(a,b),e=a.Ld[b];c=iq(a,b,c);var f=0,h;h=[];for(f=0;f<e;f++)h[f]=-1;var k;k=[];for(f=0;f<e;f++)k[f]=-1;for(var l=!1,m=!0;m;)for(m=!1,f=0;f<e-1;f++){var n=c[d[f].index*e+d[f+1].index],p=c[d[f+1].index*e+d[f].index],q=0,r=0,s=d[f].column,t=d[f+1].column,v=a.nodeMinColumnSpace(d[f],!0),x=a.nodeMinColumnSpace(d[f],!1),A=a.nodeMinColumnSpace(d[f+1],!0),y=a.nodeMinColumnSpace(d[f+1],!1),v=s-v+A,x=t-x+y,A=A=0,C=d[f].kc.i;for(C.reset();C.next();)if(y=C.value,y.valid&&y.fromVertex.layer===
		b){y=y.fromVertex;for(A=0;d[A]!==y;)A++;A<f&&(q+=2*(f-A),r+=2*(f+1-A));A===f+1&&(q+=1);A>f+1&&(q+=4*(A-f),r+=4*(A-(f+1)))}C=d[f].bc.i;for(C.reset();C.next();)if(y=C.value,y.valid&&y.toVertex.layer===b){y=y.toVertex;for(A=0;d[A]!==y;)A++;A===f+1&&(r+=1)}C=d[f+1].kc.i;for(C.reset();C.next();)if(y=C.value,y.valid&&y.fromVertex.layer===b){y=y.fromVertex;for(A=0;d[A]!==y;)A++;A<f&&(q+=2*(f+1-A),r+=2*(f-A));A===f&&(r+=1);A>f+1&&(q+=4*(A-(f+1)),r+=4*(A-f))}C=d[f+1].bc.i;for(C.reset();C.next();)if(y=C.value,
		y.valid&&y.toVertex.layer===b){y=y.toVertex;for(A=0;d[A]!==y;)A++;A===f&&(q+=1)}var A=y=0,C=h[d[f].index],I=k[d[f].index],H=h[d[f+1].index],R=k[d[f+1].index];-1!==C&&(y+=Math.abs(C-s),A+=Math.abs(C-x));-1!==I&&(y+=Math.abs(I-s),A+=Math.abs(I-x));-1!==H&&(y+=Math.abs(H-t),A+=Math.abs(H-v));-1!==R&&(y+=Math.abs(R-t),A+=Math.abs(R-v));if(r<q-.5||r===q&&p<n-.5||r===q&&p===n&&A<y-.5)m=l=!0,d[f].column=x,d[f+1].column=v,n=d[f],d[f]=d[f+1],d[f+1]=n}for(f=0;f<e;f++)d[f].index=f;eq(a,b,d);return l}
	Yl.prototype.straightenAndPack=function(){var a=0,b=!1,c=0!==(this.pi&Cq),a=this.pi===Vp;1E3<this.network.edges.count&&!a&&(c=!1);if(c){b=[];for(a=a=0;a<=this.kb;a++)b[a]=0;for(var d=0,e=this.network.vertexes.i;e.next();){var f=e.value,a=f.layer,d=f.column,f=this.nodeMinColumnSpace(f,!1);b[a]=Math.max(b[a],d+f)}for(e.reset();e.next();)f=e.value,a=f.layer,d=f.column,f.column=(8*(this.Hb-b[a])>>1)+8*d;this.Hb*=8}if(0!==(this.pi&Dq))for(b=!0;b;){b=!1;for(a=this.Cf+1;a<=this.kb;a++)b=Eq(this,a,1)||b;
		for(a=this.Cf-1;0<=a;a--)b=Eq(this,a,-1)||b;b=Eq(this,this.Cf,0)||b}if(0!==(this.pi&Fq)){for(a=this.Cf+1;a<=this.kb;a++)Gq(this,a,1);for(a=this.Cf-1;0<=a;a--)Gq(this,a,-1);Gq(this,this.Cf,0)}c&&(Hq(this,-1),Hq(this,1));if(0!==(this.pi&Dq))for(b=!0;b;){b=!1;b=Eq(this,this.Cf,0)||b;for(a=this.Cf+1;a<=this.kb;a++)b=Eq(this,a,0)||b;for(a=this.Cf-1;0<=a;a--)b=Eq(this,a,0)||b}};function Eq(a,b,c){for(var d=!1;Iq(a,b,c);)d=!0;return d}
	function Iq(a,b,c){var d=0,e=dq(a,b),f=a.Ld[b],h=kq(a,b,-1);if(0<c)for(d=0;d<f;d++)h[d]=-1;var k=kq(a,b,1);if(0>c)for(d=0;d<f;d++)k[d]=-1;for(var l=!1,m=!0;m;)for(m=!1,d=0;d<f;d++){var n=e[d].column,p=a.nodeMinColumnSpace(e[d],!0),q=a.nodeMinColumnSpace(e[d],!1),r=0,r=0>d-1||n-e[d-1].column-1>p+a.nodeMinColumnSpace(e[d-1],!1)?n-1:n,p=0,p=d+1>=f||e[d+1].column-n-1>q+a.nodeMinColumnSpace(e[d+1],!0)?n+1:n,s=q=0,t=0,v=0,x=0,A=0;if(0>=c)for(var y=e[d].kc.i;y.next();){var C=y.value;C.valid&&C.fromVertex.layer!==
	b&&(v=fq(C),x=C.portFromColOffset,A=C.portToColOffset,C=C.fromVertex.column,q+=(Math.abs(n+A-(C+x))+1)*v,s+=(Math.abs(r+A-(C+x))+1)*v,t+=(Math.abs(p+A-(C+x))+1)*v)}if(0<=c)for(y=e[d].bc.i;y.next();)C=y.value,C.valid&&C.toVertex.layer!==b&&(v=fq(C),x=C.portFromColOffset,A=C.portToColOffset,C=C.toVertex.column,q+=(Math.abs(n+x-(C+A))+1)*v,s+=(Math.abs(r+x-(C+A))+1)*v,t+=(Math.abs(p+x-(C+A))+1)*v);A=x=v=0;y=h[e[d].index];C=k[e[d].index];-1!==y&&(v+=Math.abs(y-n),x+=Math.abs(y-r),A+=Math.abs(y-p));-1!==
	C&&(v+=Math.abs(C-n),x+=Math.abs(C-r),A+=Math.abs(C-p));if(s<q||s===q&&x<v)m=l=!0,e[d].column=r;if(t<q||t===q&&A<v)m=l=!0,e[d].column=p}eq(a,b,e);a.normalize();return l}
	function Gq(a,b,c){var d=0,e=dq(a,b),f=a.Ld[b],h=lq(a,b,c);c=[];for(d=0;d<f;d++)c[d]=h[d];for(h=!0;h;)for(h=!1,d=0;d<f;d++){var k=e[d].column,l=a.nodeMinColumnSpace(e[d],!0),m=a.nodeMinColumnSpace(e[d],!1),n=0,p=0,q=0,q=p=0;-1===c[d]?0===d&&d===f-1?n=k:0===d?(p=e[d+1].column,n=p-k===m+a.nodeMinColumnSpace(e[d+1],!0)?k-1:k):d===f-1?(q=e[d-1].column,n=k-q===l+a.nodeMinColumnSpace(e[d-1],!1)?k+1:k):(q=e[d-1].column,q=q+a.nodeMinColumnSpace(e[d-1],!1)+l+1,p=e[d+1].column,p=p-a.nodeMinColumnSpace(e[d+
		1],!0)-m-1,n=(q+p)/2|0):0===d&&d===f-1?n=c[d]:0===d?(p=e[d+1].column,p=p-a.nodeMinColumnSpace(e[d+1],!0)-m-1,n=Math.min(c[d],p)):d===f-1?(q=e[d-1].column,q=q+a.nodeMinColumnSpace(e[d-1],!1)+l+1,n=Math.max(c[d],q)):(q=e[d-1].column,q=q+a.nodeMinColumnSpace(e[d-1],!1)+l+1,p=e[d+1].column,p=p-a.nodeMinColumnSpace(e[d+1],!0)-m-1,q<c[d]&&c[d]<p?n=c[d]:q>=c[d]?n=q:p<=c[d]&&(n=p));n!==k&&(h=!0,e[d].column=n)}eq(a,b,e);a.normalize()}
	function Jq(a,b){for(var c=!0,d=a.network.vertexes.i;d.next();){var e=d.value,f=a.nodeMinColumnSpace(e,!0),h=a.nodeMinColumnSpace(e,!1);if(e.column-f<=b&&e.column+h>=b){c=!1;break}}e=!1;if(c)for(d.reset();d.next();)c=d.value,c.column>b&&(c.column-=1,e=!0);return e}
	function Kq(a,b){for(var c=b,c=b+1,d=0,e=[],f=[],d=0;d<=a.kb;d++)e[d]=!1,f[d]=!1;for(var h=a.network.vertexes.i;h.next();){var d=h.value,k=d.column-a.nodeMinColumnSpace(d,!0),l=d.column+a.nodeMinColumnSpace(d,!1);k<=b&&l>=b&&(e[d.layer]=!0);k<=c&&l>=c&&(f[d.layer]=!0)}k=!0;c=!1;for(d=0;d<=a.kb;d++)k=k&&!(e[d]&&f[d]);if(k)for(h.reset();h.next();)e=h.value,e.column>b&&(e.column-=1,c=!0);return c}
	function Hq(a,b){for(var c=0;c<=a.Hb;c++)for(;Jq(a,c););a.normalize();for(c=0;c<a.Hb;c++)for(;Kq(a,c););a.normalize();var c=0,d,e=0,f=0,h=0;if(0<b)for(c=0;c<=a.Hb;c++)for(d=gq(a),e=jq(a),f=e+1;e<f;)f=e,Lq(a,c,1),h=jq(a),h>e?hq(a,d):h<e&&(e=h,d=gq(a));if(0>b)for(c=a.Hb;0<=c;c--)for(d=gq(a),e=jq(a),f=e+1;e<f;)f=e,Lq(a,c,-1),h=jq(a),h>e?hq(a,d):h<e&&(e=h,d=gq(a));a.normalize()}
	function Lq(a,b,c){a.dg=0;for(var d=a.network.vertexes.i;d.next();)d.value.component=-1;if(0<c)for(d.reset();d.next();){var e=d.value;e.column-a.nodeMinColumnSpace(e,!0)<=b&&(e.component=a.dg)}if(0>c)for(d.reset();d.next();)e=d.value,e.column+a.nodeMinColumnSpace(e,!1)>=b&&(e.component=a.dg);a.dg++;for(d.reset();d.next();)b=d.value,-1===b.component&&(nq(a,b,a.dg,-1,!0,!0),a.dg++);var f=0;b=[];for(f=0;f<a.dg*a.dg;f++)b[f]=!1;e=[];for(f=0;f<(a.kb+1)*(a.Hb+1);f++)e[f]=-1;for(d.reset();d.next();)for(var f=
		d.value,h=f.layer,k=Math.max(0,f.column-a.nodeMinColumnSpace(f,!0)),l=Math.min(a.Hb,f.column+a.nodeMinColumnSpace(f,!1));k<=l;k++)e[h*(a.Hb+1)+k]=f.component;for(f=0;f<=a.kb;f++){if(0<c)for(k=0;k<a.Hb;k++)-1!==e[f*(a.Hb+1)+k]&&-1!==e[f*(a.Hb+1)+k+1]&&e[f*(a.Hb+1)+k]!==e[f*(a.Hb+1)+k+1]&&(b[e[f*(a.Hb+1)+k]*a.dg+e[f*(a.Hb+1)+k+1]]=!0);if(0>c)for(k=a.Hb;0<k;k--)-1!==e[f*(a.Hb+1)+k]&&-1!==e[f*(a.Hb+1)+k-1]&&e[f*(a.Hb+1)+k]!==e[f*(a.Hb+1)+k-1]&&(b[e[f*(a.Hb+1)+k]*a.dg+e[f*(a.Hb+1)+k-1]]=!0)}e=[];for(f=
																																																																																																																																0;f<a.dg;f++)e[f]=!0;h=new E("number");h.add(0);for(l=0;0!==h.count;)if(l=h.n[h.count-1],h.jd(h.count-1),e[l])for(e[l]=!1,f=0;f<a.dg;f++)b[l*a.dg+f]&&h.Yd(0,f);if(0<c)for(d.reset();d.next();)a=d.value,e[a.component]&&(a.column-=1);if(0>c)for(d.reset();d.next();)c=d.value,e[c.component]&&(c.column+=1)}
	Yl.prototype.commitLayout=function(){if(this.hp)for(var a=bq(this,!0),b=bq(this,!1),c=this.network.edges.i;c.next();){var d=c.value.link;null!==d&&(d.vb=a,d.xb=b)}this.commitNodes();this.Ty();this.Rs&&this.commitLinks()};function bq(a,b){return 270===a.la?b?vc:Cc:90===a.la?b?Cc:vc:180===a.la?b?wc:xc:b?xc:wc}
	Yl.prototype.commitNodes=function(){this.Ng=[];this.ag=[];this.Bf=[];this.Lb=[];for(var a=0;a<=this.kb;a++)this.Ng[a]=0,this.ag[a]=0,this.Bf[a]=0,this.Lb[a]=0;for(a=this.network.vertexes.i;a.next();){var b=a.value,c=b.layer;this.Ng[c]=Math.max(this.Ng[c],this.nodeMinLayerSpace(b,!0));this.ag[c]=Math.max(this.ag[c],this.nodeMinLayerSpace(b,!1))}for(var b=0,d=this.Rl,c=0;c<=this.kb;c++){var e=d;0>=this.Ng[c]+this.ag[c]&&(e=0);0<c&&(b+=e/2);90===this.la||0===this.la?(b+=this.ag[c],this.Bf[c]=b,b+=this.Ng[c]):
		(b+=this.Ng[c],this.Bf[c]=b,b+=this.ag[c]);c<this.kb&&(b+=e/2);this.Lb[c]=b}d=b;b=this.Ud;for(c=0;c<=this.kb;c++)270===this.la?this.Bf[c]=b.y+this.Bf[c]:90===this.la?(this.Bf[c]=b.y+d-this.Bf[c],this.Lb[c]=d-this.Lb[c]):180===this.la?this.Bf[c]=b.x+this.Bf[c]:(this.Bf[c]=b.x+d-this.Bf[c],this.Lb[c]=d-this.Lb[c]);for(a.reset();a.next();){var c=a.value,d=c.layer,e=c.column|0,f=0,h=0;270===this.la||90===this.la?(f=b.x+this.td*e,h=this.Bf[d]):(f=this.Bf[d],h=b.y+this.td*e);c.ma=f;c.ya=h;c.commit()}};
	Yl.prototype.Ty=function(){for(var a=0,b=this.Rl,c=0;c<=this.kb;c++)a+=this.Ng[c],a+=this.ag[c];for(var a=a+this.kb*b,b=[],c=this.td*this.Hb,d=this.uH;0<=d;d--)270===this.la?0===d?b.push(new z(0,0,c,Math.abs(this.Lb[0]))):b.push(new z(0,this.Lb[d-1],c,Math.abs(this.Lb[d-1]-this.Lb[d]))):90===this.la?0===d?b.push(new z(0,this.Lb[0],c,Math.abs(this.Lb[0]-a))):b.push(new z(0,this.Lb[d],c,Math.abs(this.Lb[d-1]-this.Lb[d]))):180===this.la?0===d?b.push(new z(0,0,Math.abs(this.Lb[0]),c)):b.push(new z(this.Lb[d-
	1],0,Math.abs(this.Lb[d-1]-this.Lb[d]),c)):0===d?b.push(new z(this.Lb[0],0,Math.abs(this.Lb[0]-a),c)):b.push(new z(this.Lb[d],0,Math.abs(this.Lb[d-1]-this.Lb[d]),c));this.commitLayers(b,K.Wj)};Yl.prototype.commitLayers=function(){};
	Yl.prototype.commitLinks=function(){for(var a=this.network.edges.i,b;a.next();)b=a.value.link,null!==b&&(b.rl(),b.to(),b.Ci());for(a.reset();a.next();)b=a.value.link,null!==b&&b.updateRoute();for(a.reset();a.next();){var c=a.value;b=c.link;if(null!==b){b.rl();var d=b,e=d.W,f=d.ca,h=d.od,k=d.fe;if(c.valid){if(b.Ve===kh&&4===b.ka){if(c.rev)var l=e,e=f,f=l,m=h,h=k,k=m;if(c.fromVertex.column===c.toVertex.column){var n=b.getLinkPoint(e,h,b.computeSpot(!0),!0,!1,f,k),p=b.getLinkPoint(f,k,b.computeSpot(!1),
		!1,!1,e,h);n.I()||n.set(e.ba.Ok);p.I()||p.set(f.ba.Ok);b.to();b.Lk(n.x,n.y);b.Lk((2*n.x+p.x)/3,(2*n.y+p.y)/3);b.Lk((n.x+2*p.x)/3,(n.y+2*p.y)/3);b.Lk(p.x,p.y)}else{var q=!1,r=!1;null!==h&&b.computeSpot(!0)===vb&&(q=!0);null!==k&&b.computeSpot(!1)===vb&&(r=!0);if(q||r){var s=b.l(0).x,t=b.l(0).y,v=b.l(1).x,x=b.l(1).y,A=b.l(2).x,y=b.l(2).y,C=b.l(3).x,I=b.l(3).y;if(q){90===this.la||270===this.la?(v=s,x=(t+I)/2):(v=(s+C)/2,x=t);b.V(1,v,x);var H=b.getLinkPoint(e,h,b.computeSpot(!0),!0,!1,f,k);H.I()||H.set(e.ba.Ok);
		b.V(0,H.x,H.y)}r&&(90===this.la||270===this.la?(A=C,y=(t+I)/2):(A=(s+C)/2,y=I),b.V(2,A,y),H=b.getLinkPoint(f,k,b.computeSpot(!1),!1,!1,e,h),H.I()||H.set(f.ba.Ok),b.V(3,H.x,H.y))}}}b.Ci()}else if(c.fromVertex.layer===c.toVertex.layer)b.Ci();else{var R=!1,aa=!1,S=0,N=b.Cs+1;if(b.dc)aa=!0,S=b.ka,4<S&&b.points.removeRange(2,S-3);else if(b.Ve===kh)R=!0,S=b.ka,4<S&&b.points.removeRange(2,S-3),N=2;else{var S=b.ka,Z=b.computeSpot(!0)===vb,Ga=b.computeSpot(!1)===vb;2<S&&Z&&Ga?b.points.removeRange(1,S-2):3<
	S&&Z&&!Ga?b.points.removeRange(1,S-3):3<S&&!Z&&Ga?b.points.removeRange(2,S-2):4<S&&!Z&&!Ga&&b.points.removeRange(2,S-3)}var ta=c.fromVertex,Oa=c.toVertex,na,Ca;if(c.rev){for(var ra=0;null!==Oa&&ta!==Oa;){Ca=na=null;for(var dc=Oa.kc.i;dc.next();){var ed=dc.value;if(ed.link===c.link&&(na=ed.fromVertex,Ca=ed.toVertex,null===na.ld))break}na!==ta&&(Ta=b.l(N-1).x,db=b.l(N-1).y,wa=na.ma,za=na.ya,aa?180===this.la||0===this.la?2===N?(b.w(N++,Ta,db),b.w(N++,Ta,za)):(jc=null!==Ca?Ca.ya:db,jc!==za&&(lb=this.Lb[na.layer-
	1],b.w(N++,lb,db),b.w(N++,lb,za))):2===N?(b.w(N++,Ta,db),b.w(N++,wa,db)):(ge=null!==Ca?Ca.ma:Ta,ge!==wa&&(lb=this.Lb[na.layer-1],b.w(N++,Ta,lb),b.w(N++,wa,lb))):2===N?R?(Eb=Math.max(10,this.Ng[Oa.layer]),$a=Math.max(10,this.ag[Oa.layer]),180===this.la?(ra=Oa.aa.x,b.w(N++,ra-Eb,za),b.w(N++,ra,za),b.w(N++,ra+$a,za)):90===this.la?(ra=Oa.aa.y+Oa.aa.height,b.w(N++,wa,ra+$a),b.w(N++,wa,ra),b.w(N++,wa,ra-Eb)):270===this.la?(ra=Oa.aa.y,b.w(N++,wa,ra-Eb),b.w(N++,wa,ra),b.w(N++,wa,ra+$a)):(ra=Oa.aa.x+Oa.aa.width,
		b.w(N++,ra+$a,za),b.w(N++,ra,za),b.w(N++,ra-Eb,za))):(b.w(N++,Ta,db),180===this.la||0===this.la?b.w(N++,Ta,za):b.w(N++,wa,db),b.w(N++,wa,za)):(Eb=Math.max(10,this.Ng[na.layer]),$a=Math.max(10,this.ag[na.layer]),180===this.la?(R&&b.w(N++,wa-Eb,za),b.w(N++,wa,za),R&&b.w(N++,wa+$a,za)):90===this.la?(R&&b.w(N++,wa,za+$a),b.w(N++,wa,za),R&&b.w(N++,wa,za-Eb)):270===this.la?(R&&b.w(N++,wa,za-Eb),b.w(N++,wa,za),R&&b.w(N++,wa,za+$a)):(R&&b.w(N++,wa+$a,za),b.w(N++,wa,za),R&&b.w(N++,wa-Eb,za))));Oa=na}if(null===
		k||b.computeSpot(!1)!==vb)if(Ta=b.l(N-1).x,db=b.l(N-1).y,wa=b.l(N).x,za=b.l(N).y,aa){var Lf=this.ag[ta.layer],ec=0;180===this.la||0===this.la?(ec=db,ec>=ta.aa.y&&ec<=ta.aa.bottom&&(ra=ta.ma+Lf,ec=ec<ta.aa.y+ta.aa.height/2?ta.aa.y-this.td/2:ta.aa.bottom+this.td/2,b.w(N++,ra,db),b.w(N++,ra,ec)),b.w(N++,wa,ec)):(ec=Ta,ec>=ta.aa.x&&ec<=ta.aa.right&&(ra=ta.ya+Lf,ec=ec<ta.aa.x+ta.aa.width/2?ta.aa.x-this.td/2:ta.aa.right+this.td/2,b.w(N++,Ta,ra),b.w(N++,ec,ra)),b.w(N++,ec,za));b.w(N++,wa,za)}else R?(Eb=
		Math.max(10,this.Ng[ta.layer]),$a=Math.max(10,this.ag[ta.layer]),180===this.la?(ra=ta.aa.x+ta.aa.width,b.V(N-2,ra,db),b.V(N-1,ra+$a,db)):90===this.la?(ra=ta.aa.y,b.V(N-2,Ta,ra),b.V(N-1,Ta,ra-Eb)):270===this.la?(ra=ta.aa.y+ta.aa.height,b.V(N-2,Ta,ra),b.V(N-1,Ta,ra+$a)):(ra=ta.aa.x,b.V(N-2,ra,db),b.V(N-1,ra-Eb,db))):(180===this.la||0===this.la?b.w(N++,wa,db):b.w(N++,Ta,za),b.w(N++,wa,za))}else{for(;null!==ta&&ta!==Oa;){Ca=na=null;for(var We=ta.bc.i;We.next();){var Mf=We.value;if(Mf.link===c.link&&(na=
			Mf.toVertex,Ca=Mf.fromVertex,null!==Ca.ld&&(Ca=null),null===na.ld))break}var Ta=0,db=0,wa=0,za=0,lb=0,Eb=0,$a=0;if(na!==Oa)if(Ta=b.l(N-1).x,db=b.l(N-1).y,wa=na.ma,za=na.ya,aa)if(180===this.la||0===this.la){var jc=null!==Ca?Ca.ya:db;jc!==za&&(lb=this.Lb[na.layer],2===N&&(lb=0===this.la?Math.max(lb,Ta):Math.min(lb,Ta)),b.w(N++,lb,db),b.w(N++,lb,za))}else{var ge=null!==Ca?Ca.ma:Ta;ge!==wa&&(lb=this.Lb[na.layer],2===N&&(lb=90===this.la?Math.max(lb,db):Math.min(lb,db)),b.w(N++,Ta,lb),b.w(N++,wa,lb))}else Eb=
		Math.max(10,this.Ng[na.layer]),$a=Math.max(10,this.ag[na.layer]),180===this.la?(b.w(N++,wa+$a,za),R&&b.w(N++,wa,za),b.w(N++,wa-Eb,za)):90===this.la?(b.w(N++,wa,za-Eb),R&&b.w(N++,wa,za),b.w(N++,wa,za+$a)):270===this.la?(b.w(N++,wa,za+$a),R&&b.w(N++,wa,za),b.w(N++,wa,za-Eb)):(b.w(N++,wa-Eb,za),R&&b.w(N++,wa,za),b.w(N++,wa+$a,za));ta=na}aa&&(Ta=b.l(N-1).x,db=b.l(N-1).y,wa=b.l(N).x,za=b.l(N).y,180===this.la||0===this.la?db!==za&&(lb=0===this.la?Math.min(Math.max((wa+Ta)/2,this.Lb[Oa.layer]),wa):Math.max(Math.min((wa+
		Ta)/2,this.Lb[Oa.layer]),wa),b.w(N++,lb,db),b.w(N++,lb,za)):Ta!==wa&&(lb=90===this.la?Math.min(Math.max((za+db)/2,this.Lb[Oa.layer]),za):Math.max(Math.min((za+db)/2,this.Lb[Oa.layer]),za),b.w(N++,Ta,lb),b.w(N++,wa,lb)))}if(null!==d&&R){if(null!==h){if(b.computeSpot(!0)===vb){var nc=b.l(0),Od=b.l(2);nc.L(Od)||b.V(1,(nc.x+Od.x)/2,(nc.y+Od.y)/2)}H=b.getLinkPoint(e,h,vb,!0,!1,f,k);H.I()||H.set(e.ba.Ok);b.V(0,H.x,H.y)}null!==k&&(b.computeSpot(!1)===vb&&(nc=b.l(b.ka-1),Od=b.l(b.ka-3),nc.L(Od)||b.V(b.ka-
		2,(nc.x+Od.x)/2,(nc.y+Od.y)/2)),H=b.getLinkPoint(f,k,vb,!1,!1,e,h),H.I()||H.set(f.ba.Ok),b.V(b.ka-1,H.x,H.y))}b.Ci();c.commit()}}}for(var he=new E(W),Xe=this.network.edges.i;Xe.next();){var pf=Xe.value.link;null!==pf&&pf.dc&&!he.contains(pf)&&he.add(pf)}if(0<he.count)if(90===this.la||270===this.la){for(var Pd=0,Fb=new E(Mq),Lb,Fc,Mg=he.i;Mg.next();){var Mb=Mg.value;if(null!==Mb&&Mb.dc)for(var yb=2;yb<Mb.ka-3;yb++)if(Lb=Mb.l(yb),Fc=Mb.l(yb+1),this.D(Lb.y,Fc.y)&&!this.D(Lb.x,Fc.x)){var fc=new Mq;fc.layer=
		Math.floor(Lb.y/2);var mb=Mb.l(0),ye=Mb.l(Mb.ka-1);fc.first=mb.x*mb.x+mb.y;fc.Hd=ye.x*ye.x+ye.y;fc.Be=Math.min(Lb.x,Fc.x);fc.Vd=Math.max(Lb.x,Fc.x);fc.index=yb;fc.link=Mb;if(yb+2<Mb.ka){var Qd=Mb.l(yb-1),og=Mb.l(yb+2),Nf=0;Qd.y<Lb.y?Nf=og.y<Lb.y?3:Lb.x<Fc.x?2:1:Qd.y>Lb.y&&(Nf=og.y>Lb.y?0:Fc.x<Lb.x?2:1);fc.Th=Nf}Fb.add(fc)}}if(1<Fb.count){Fb.sort(this.AE);for(var zb=0;zb<Fb.count;){for(var fd=Fb.n[zb].layer,oc=zb+1;oc<Fb.count&&Fb.n[oc].layer===fd;)oc++;if(1<oc-zb)for(var wb=zb;wb<oc;){for(var Gc=
		Fb.n[wb].Vd,Nb=zb+1;Nb<oc&&Fb.n[Nb].Be<Gc;)Gc=Math.max(Gc,Fb.n[Nb].Vd),Nb++;var Na=Nb-wb;if(1<Na){Fb.jp(this.Cw,wb,wb+Na);for(var eb=1,Ab=Fb.n[wb].Hd,yb=wb;yb<Nb;yb++){var gc=Fb.n[yb];gc.Hd!==Ab&&(eb++,Ab=gc.Hd)}Fb.jp(this.zE,wb,wb+Na);for(var Rd=1,Ab=Fb.n[wb].first,yb=wb;yb<Nb;yb++)gc=Fb.n[yb],gc.first!==Ab&&(Rd++,Ab=gc.first);var Sd=!0,qf=Rd;eb<Rd?(Sd=!1,qf=eb,Ab=Fb.n[wb].Hd,Fb.jp(this.Cw,wb,wb+Na)):Ab=Fb.n[wb].first;for(var ze=0,yb=wb;yb<Nb;yb++){gc=Fb.n[yb];(Sd?gc.first:gc.Hd)!==Ab&&(ze++,Ab=
		Sd?gc.first:gc.Hd);Mb=gc.link;Lb=Mb.l(gc.index);Fc=Mb.l(gc.index+1);var rf=this.pw*(ze-(qf-1)/2);Pd++;Mb.rl();Mb.V(gc.index,Lb.x,Lb.y+rf);Mb.V(gc.index+1,Fc.x,Fc.y+rf);Mb.Ci()}}wb=Nb}zb=oc}}}else{for(var Rb=0,cb=new E(Mq),pc,Pc,gd=he.i;gd.next();){var ab=gd.value;if(null!==ab&&ab.dc)for(var ub=2;ub<ab.ka-3;ub++)if(pc=ab.l(ub),Pc=ab.l(ub+1),this.D(pc.x,Pc.x)&&!this.D(pc.y,Pc.y)){var kc=new Mq;kc.layer=Math.floor(pc.x/2);var hd=ab.l(0),Ng=ab.l(ab.ka-1);kc.first=hd.x+hd.y*hd.y;kc.Hd=Ng.x+Ng.y*Ng.y;kc.Be=
		Math.min(pc.y,Pc.y);kc.Vd=Math.max(pc.y,Pc.y);kc.index=ub;kc.link=ab;if(ub+2<ab.ka){var Og=ab.l(ub-1),Pg=ab.l(ub+2),Of=0;Og.x<pc.x?Of=Pg.x<pc.x?3:pc.y<Pc.y?2:1:Og.x>pc.x&&(Of=Pg.x>pc.x?0:Pc.y<pc.y?2:1);kc.Th=Of}cb.add(kc)}}if(1<cb.count){cb.sort(this.AE);for(var Hc=0;Hc<cb.count;){for(var Qc=cb.n[Hc].layer,Ic=Hc+1;Ic<cb.count&&cb.n[Ic].layer===Qc;)Ic++;if(1<Ic-Hc)for(var nb=Hc;nb<Ic;){for(var ie=cb.n[nb].Vd,ob=Hc+1;ob<Ic&&cb.n[ob].Be<ie;)ie=Math.max(ie,cb.n[ob].Vd),ob++;var yc=ob-nb;if(1<yc){cb.jp(this.Cw,
		nb,nb+yc);for(var Ae=1,Bb=cb.n[nb].Hd,ub=nb;ub<ob;ub++){var Cb=cb.n[ub];Cb.Hd!==Bb&&(Ae++,Bb=Cb.Hd)}cb.jp(this.zE,nb,nb+yc);for(var id=1,Bb=cb.n[nb].first,ub=nb;ub<ob;ub++)Cb=cb.n[ub],Cb.first!==Bb&&(id++,Bb=Cb.first);var Rc=!0,Td=id;Ae<id?(Rc=!1,Td=Ae,Bb=cb.n[nb].Hd,cb.jp(this.Cw,nb,nb+yc)):Bb=cb.n[nb].first;for(var Ud=0,ub=nb;ub<ob;ub++){Cb=cb.n[ub];(Rc?Cb.first:Cb.Hd)!==Bb&&(Ud++,Bb=Rc?Cb.first:Cb.Hd);ab=Cb.link;pc=ab.l(Cb.index);Pc=ab.l(Cb.index+1);var Ye=this.pw*(Ud-(Td-1)/2);Rb++;ab.rl();ab.V(Cb.index,
		pc.x+Ye,pc.y);ab.V(Cb.index+1,Pc.x+Ye,Pc.y);ab.Ci()}}nb=ob}Hc=Ic}}}};Yl.prototype.AE=function(a,b){return a instanceof Mq&&b instanceof Mq&&a!==b?a.layer<b.layer?-1:a.layer>b.layer?1:a.Be<b.Be?-1:a.Be>b.Be?1:a.Vd<b.Vd?-1:a.Vd>b.Vd?1:0:0};Yl.prototype.zE=function(a,b){return a instanceof Mq&&b instanceof Mq&&a!==b?a.first<b.first?-1:a.first>b.first||a.Th<b.Th?1:a.Th>b.Th||a.Be<b.Be?-1:a.Be>b.Be?1:a.Vd<b.Vd?-1:a.Vd>b.Vd?1:0:0};
	Yl.prototype.Cw=function(a,b){return a instanceof Mq&&b instanceof Mq&&a!==b?a.Hd<b.Hd?-1:a.Hd>b.Hd||a.Th<b.Th?1:a.Th>b.Th||a.Be<b.Be?-1:a.Be>b.Be?1:a.Vd<b.Vd?-1:a.Vd>b.Vd?1:0:0};Yl.prototype.D=function(a,b){var c=a-b;return-1<c&&1>c};function dq(a,b){var c,d=a.Ld[b];if(d>=a.Pg.length){c=[];for(var e=0;e<a.Pg.length;e++)c[e]=a.Pg[e];a.Pg=c}void 0===a.Pg[d]||null===a.Pg[d]?c=[]:(c=a.Pg[d],a.Pg[d]=null);d=a.Xq[b];for(e=0;e<d.length;e++){var f=d[e];c[f.index]=f}return c}
	function eq(a,b,c){a.Pg[a.Ld[b]]=c}u.defineProperty(Yl,{layerSpacing:"layerSpacing"},function(){return this.Rl},function(a){this.Rl!==a&&(u.j(a,"number",Yl,"layerSpacing"),0<=a&&(this.Rl=a,this.H()))});u.defineProperty(Yl,{fJ:"columnSpacing"},function(){return this.td},function(a){this.td!==a&&(u.j(a,"number",Yl,"columnSpacing"),0<=a&&(this.td=a,this.H()))});u.defineProperty(Yl,{direction:"direction"},function(){return this.la},function(a){this.la!==a&&(u.j(a,"number",Yl,"direction"),this.la=a,this.H())});
	u.defineProperty(Yl,{kG:"cycleRemoveOption"},function(){return this.hn},function(a){this.hn!==a&&(u.rb(a,Yl,Yl,"cycleRemoveOption"),a===Xp||a===Op)&&(this.hn=a,this.H())});u.defineProperty(Yl,{mH:"layeringOption"},function(){return this.Nn},function(a){this.Nn!==a&&(u.rb(a,Yl,Yl,"layeringOption"),a===Sp||a===oq||a===qq)&&(this.Nn=a,this.H())});
	u.defineProperty(Yl,{WG:"initializeOption"},function(){return this.Cn},function(a){this.Cn!==a&&(u.rb(a,Yl,Yl,"initializeOption"),a===Tp||a===wq||a===uq)&&(this.Cn=a,this.H())});u.defineProperty(Yl,{OJ:"iterations"},function(){return this.Ol},function(a){this.Ol!==a&&(u.ze(a,Wp,"iterations"),0<=a&&(this.Ol=a,this.H()))});u.defineProperty(Yl,{NF:"aggressiveOption"},function(){return this.Xm},function(a){this.Xm!==a&&(u.rb(a,Yl,Yl,"aggressiveOption"),a===Aq||a===Up||a===Bq)&&(this.Xm=a,this.H())});
	u.defineProperty(Yl,{mK:"packOption"},function(){return this.pi},function(a){this.pi!==a&&(u.j(a,"number",Yl,"packOption"),0<=a&&8>a&&(this.pi=a,this.H()))});u.defineProperty(Yl,{hp:"setsPortSpots"},function(){return this.Gh},function(a){this.Gh!==a&&(u.j(a,"boolean",Yl,"setsPortSpots"),this.Gh=a,this.H())});u.defineProperty(Yl,{pw:"linkSpacing"},function(){return this.gj},function(a){this.gj!==a&&(u.j(a,"number",Yl,"linkSpacing"),0<=a&&(this.gj=a,this.H()))});u.u(Yl,{uH:"maxLayer"},function(){return this.kb});
	u.u(Yl,{VJ:"maxIndex"},function(){return this.Hu});u.u(Yl,{UJ:"maxColumn"},function(){return this.Hb});u.u(Yl,{aK:"minIndexLayer"},function(){return this.Pq});u.u(Yl,{WJ:"maxIndexLayer"},function(){return this.Cf});var Op;Yl.CycleDepthFirst=Op=u.s(Yl,"CycleDepthFirst",0);var Xp;Yl.CycleGreedy=Xp=u.s(Yl,"CycleGreedy",1);var Sp;Yl.LayerOptimalLinkLength=Sp=u.s(Yl,"LayerOptimalLinkLength",0);var oq;Yl.LayerLongestPathSink=oq=u.s(Yl,"LayerLongestPathSink",1);var qq;
	Yl.LayerLongestPathSource=qq=u.s(Yl,"LayerLongestPathSource",2);var Tp;Yl.InitDepthFirstOut=Tp=u.s(Yl,"InitDepthFirstOut",0);var wq;Yl.InitDepthFirstIn=wq=u.s(Yl,"InitDepthFirstIn",1);var uq;Yl.InitNaive=uq=u.s(Yl,"InitNaive",2);var Aq;Yl.AggressiveNone=Aq=u.s(Yl,"AggressiveNone",0);var Up;Yl.AggressiveLess=Up=u.s(Yl,"AggressiveLess",1);var Bq;Yl.AggressiveMore=Bq=u.s(Yl,"AggressiveMore",2);Yl.PackNone=0;var Cq;Yl.PackExpand=Cq=1;var Dq;Yl.PackStraighten=Dq=2;var Fq;Yl.PackMedian=Fq=4;var Vp;
	Yl.PackAll=Vp=7;function Mq(){this.index=this.Vd=this.Be=this.Hd=this.first=this.layer=0;this.link=null;this.Th=0}u.Xd(Mq,{layer:!0,first:!0,Hd:!0,Be:!0,Vd:!0,index:!0,link:!0,Th:!0});function Wp(){xa.call(this)}u.Ia(Wp,xa);u.fa("LayeredDigraphNetwork",Wp);Wp.prototype.createVertex=function(){return new Nq};Wp.prototype.createEdge=function(){return new Oq};
	function Nq(){ya.call(this);this.index=this.column=this.layer=-1;this.component=NaN;this.near=null;this.valid=!1;this.finish=this.xo=NaN;this.pm=0;this.Iz=this.Jz=null}u.Ia(Nq,ya);u.fa("LayeredDigraphVertex",Nq);function Oq(){Aa.call(this);this.forest=this.rev=this.valid=!1;this.portToPos=this.portFromPos=NaN;this.portToColOffset=this.portFromColOffset=0}u.Ia(Oq,Aa);u.fa("LayeredDigraphEdge",Oq);
	function Y(){0<arguments.length&&u.Wc(Y);Je.call(this);this.nd=new F(Object);this.hr=Pq;this.Af=Qq;this.Yr=Rq;this.Eu=Sq;this.BA=null;this.qh=!0;this.Yc=Tq;this.Uf=(new ia(10,10)).freeze();this.ra=new Uq;this.qa=new Uq;this.Cy=[]}u.Ia(Y,Je);u.fa("TreeLayout",Y);Y.prototype.cloneProtected=function(a){Je.prototype.cloneProtected.call(this,a);a.hr=this.hr;a.Yr=this.Yr;a.Eu=this.Eu;a.qh=this.qh;a.Yc=this.Yc;a.Uf.assign(this.Uf);a.ra.copyInheritedPropertiesFrom(this.ra);a.qa.copyInheritedPropertiesFrom(this.qa)};
	Y.prototype.createNetwork=function(){return new Vq};Y.prototype.makeNetwork=function(a){function b(a){if(a instanceof U)return!a.tf&&"Comment"!==a.Jc;if(a instanceof W){var b=a.W;if(null===b||b.tf||"Comment"===b.Jc)return!1;a=a.ca;return null===a||a.tf||"Comment"===a.Jc?!1:!0}return!1}var c=this.createNetwork();c.Qb=this;a instanceof D?(c.Gj(a.zg,!0,b),c.Gj(a.links,!0,b)):a instanceof V?c.Gj(a.Lc,!1,b):c.Gj(a.i,!1,b);return c};
	Y.prototype.doLayout=function(a){null===a&&u.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");null===this.network&&(this.network=this.makeNetwork(a));this.Gf!==Wq&&(this.Ud=this.initialOrigin(this.Ud));var b=this.g;null===b&&a instanceof D&&(b=a);this.Af=this.path===Pq&&null!==b?b.qd?Qq:Xq:this.path===Pq?Qq:this.path;if(0<this.network.vertexes.count){this.network.Rv();for(a=this.network.vertexes.i;a.next();)b=a.value,b.initialized=!1,b.level=
		0,b.parent=null,b.children=[];if(0<this.nd.count){a=new F(Uq);for(b=this.nd.i;b.next();){var c=b.value;c instanceof U?(c=this.network.Bm(c),null!==c&&a.add(c)):c instanceof Uq&&a.add(c)}this.nd=a}0===this.nd.count&&this.findRoots();for(a=this.nd.copy().i;a.next();)b=a.value,b.initialized||(b.initialized=!0,Yq(this,b));for(a=this.nd.i;a.next();)b=a.value,b instanceof Uq&&Zq(this,b);for(a=this.nd.i;a.next();)b=a.value,b instanceof Uq&&$q(this,b);for(a=this.nd.i;a.next();)b=a.value,b instanceof Uq&&
	ar(this,b);this.Oy();if(this.xz===br){c=[];for(a=this.network.vertexes.i;a.next();){var d=a.value,b=d.parent;null==b&&(b=d);var b=0===b.angle||180===b.angle,e=c[d.level];void 0===e&&(e=0);c[d.level]=Math.max(e,b?d.width:d.height)}for(d=0;d<c.length;d++)void 0===c[d]&&(c[d]=0);this.BA=c;for(a=this.network.vertexes.i;a.next();)d=a.value,b=d.parent,null===b&&(b=d),0===b.angle||180===b.angle?(180===b.angle&&(d.Ds+=c[d.level]-d.width),d.width=c[d.level]):(270===b.angle&&(d.Es+=c[d.level]-d.height),d.height=
		c[d.level])}else if(this.xz===cr)for(a=this.network.vertexes.i;a.next();){c=a.value;b=0===c.angle||180===c.angle;e=-1;for(d=0;d<c.children.length;d++)var f=c.children[d],e=Math.max(e,b?f.width:f.height);if(0<=e)for(d=0;d<c.children.length;d++)f=c.children[d],b?(180===c.angle&&(f.Ds+=e-f.width),f.width=e):(270===c.angle&&(f.Es+=e-f.height),f.height=e)}for(a=this.nd.i;a.next();)b=a.value,b instanceof Uq&&this.layoutTree(b);this.arrangeTrees();this.updateParts()}this.network=null;this.nd=new F(Object);
		this.vf=!0};
	Y.prototype.findRoots=function(){for(var a=this.network.vertexes.i;a.next();){var b=a.value;switch(this.Af){case Qq:0===b.kc.count&&this.nd.add(b);break;case Xq:0===b.bc.count&&this.nd.add(b);break;default:u.k("Unhandled path value "+this.Af.toString())}}if(0===this.nd.count){for(var a=999999,b=null,c=this.network.vertexes.i;c.next();){var d=c.value;switch(this.Af){case Qq:d.kc.count<a&&(a=d.kc.count,b=d);break;case Xq:d.bc.count<a&&(a=d.bc.count,b=d);break;default:u.k("Unhandled path value "+this.Af.toString())}}null!==
	b&&this.nd.add(b)}};
	function Yq(a,b){if(null!==b){switch(a.Af){case Qq:if(0<b.bc.count){for(var c=new E(Uq),d=b.rG;d.next();){var e=d.value;dr(a,b,e)&&c.add(e)}0<c.count&&(b.children=c.Ke())}break;case Xq:if(0<b.kc.count){c=new E(Uq);for(d=b.nI;d.next();)e=d.value,dr(a,b,e)&&c.add(e);0<c.count&&(b.children=c.Ke())}break;default:u.k("Unhandled path value"+a.Af.toString())}c=b.children;d=c.length;for(e=0;e<d;e++){var f=c[e];f.initialized=!0;f.level=b.level+1;f.parent=b;a.nd.remove(f)}for(e=0;e<d;e++)f=c[e],Yq(a,f)}}
	function dr(a,b,c){if(c.initialized){var d;if(null===b)d=!1;else{for(d=b.parent;null!==d&&d!==c;)d=d.parent;d=d===c}if(d||c.level>b.level)return!1;a.removeChild(c.parent,c)}return!0}Y.prototype.removeChild=function(a,b){if(null!==a&&null!==b){for(var c=a.children,d=0,e=0;e<c.length;e++)c[e]===b&&d++;if(0<d){for(var d=Array(c.length-d),f=0,e=0;e<c.length;e++)c[e]!==b&&(d[f++]=c[e]);a.children=d}}};
	function Zq(a,b){if(null!==b){a.initializeTreeVertexValues(b);b.alignment===er&&a.sortTreeVertexChildren(b);for(var c=0,d=b.rm,e=0,f=b.children,h=f.length,k=0;k<h;k++){var l=f[k];Zq(a,l);c+=l.descendantCount+1;d=Math.max(d,l.maxChildrenCount);e=Math.max(e,l.maxGenerationCount)}b.descendantCount=c;b.maxChildrenCount=d;b.maxGenerationCount=0<d?e+1:0}}
	function fr(a,b){switch(a.Yr){default:case Rq:return null!==b.parent?b.parent:a.ra;case gr:return null===b.parent?a.ra:null===b.parent.parent?a.qa:b.parent;case hr:if(null!==b.parent)return null!==b.parent.parent?b.parent.parent:a.qa;case ir:var c=!0;if(0===b.rm)c=!1;else for(var d=b.children,e=d.length,f=0;f<e;f++)if(0<d[f].rm){c=!1;break}return c&&null!==b.parent?a.qa:null!==b.parent?b.parent:a.ra}}
	Y.prototype.initializeTreeVertexValues=function(a){var b=fr(this,a);a.copyInheritedPropertiesFrom(b);if(null!==a.parent&&a.parent.alignment===er){for(var b=a.angle,c=a.parent.children,d=0;d<c.length&&a!==c[d];)d++;0===d%2?d!==c.length-1&&(b=90===b?180:180===b?270:270===b?180:270):b=90===b?0:180===b?90:270===b?0:90;a.angle=b}a.initialized=!0};function $q(a,b){if(null!==b){a.assignTreeVertexValues(b);for(var c=b.children,d=c.length,e=0;e<d;e++)$q(a,c[e])}}Y.prototype.assignTreeVertexValues=function(){};
	function ar(a,b){if(null!==b){b.alignment!==er&&a.sortTreeVertexChildren(b);for(var c=b.children,d=c.length,e=0;e<d;e++)ar(a,c[e])}}Y.prototype.sortTreeVertexChildren=function(a){switch(a.sorting){case jr:break;case kr:a.children.reverse();break;case lr:a.children.sort(a.comparer);break;case mr:a.children.sort(a.comparer);a.children.reverse();break;default:u.k("Unhandled sorting value "+a.sorting.toString())}};Y.prototype.Oy=function(){if(this.comments)for(var a=this.network.vertexes.i;a.next();)this.addComments(a.value)};
	Y.prototype.addComments=function(a){var b=a.angle,c=a.parent,d=0,e=nr,e=!1;null!==c&&(d=c.angle,e=c.alignment,e=or(e));var b=90===b||270===b,d=90===d||270===d,c=0===a.rm,f=0,h=0,k=0,l=a.commentSpacing;if(null!==a.Bc)for(var m=a.Bc.rD();m.next();){var n=m.value;"Comment"===n.Jc&&n.Ga()&&(null===a.comments&&(a.comments=[]),a.comments.push(n),n.qf(),n=n.Ca,b&&!c||!e&&!d&&c||e&&d&&c?(f=Math.max(f,n.width),h+=n.height+Math.abs(k)):(f+=n.width+Math.abs(k),h=Math.max(h,n.height)),k=l)}null!==a.comments&&
	(b&&!c||!e&&!d&&c||e&&d&&c?(f+=Math.abs(a.commentMargin),h=Math.max(0,h-a.height)):(h+=Math.abs(a.commentMargin),f=Math.max(0,f-a.width)),e=u.Vj(0,0,a.aa.width+f,a.aa.height+h),a.lb=e,u.ic(e))};function or(a){return a===pr||a===er||a===qr||a===rr}function sr(a){return a===pr||a===er}function tr(a){var b=a.parent;if(null!==b){var c=b.alignment;if(or(c)){if(sr(c)){b=b.children;for(c=0;c<b.length&&a!==b[c];)c++;return 0===c%2}if(c===qr)return!0}}return!1}
	Y.prototype.layoutComments=function(a){if(null!==a.comments){var b=a.Bc.Ca,c=a.parent,d=a.angle,e=0,f=nr,f=!1;null!==c&&(e=c.angle,f=c.alignment,f=or(f));for(var c=90===d||270===d,d=90===e||270===e,h=0===a.rm,k=tr(a),l=0,m=a.comments,n=m.length,p=u.K(),q=0;q<n;q++){var r=m[q],s=r.Ca;if(c&&!h||!f&&!d&&h||f&&d&&h){if(135<e&&!f||d&&k)if(0<=a.commentMargin)for(p.m(a.aa.x-a.commentMargin-s.width,a.aa.y+l),r.move(p),r=r.pg();r.next();){var t=r.value;t.vb=wc;t.xb=xc}else for(p.m(a.aa.x+2*a.M.x-a.commentMargin,
		a.aa.y+l),r.move(p),r=r.pg();r.next();)t=r.value,t.vb=xc,t.xb=wc;else if(0<=a.commentMargin)for(p.m(a.aa.x+2*a.M.x+a.commentMargin,a.aa.y+l),r.move(p),r=r.pg();r.next();)t=r.value,t.vb=xc,t.xb=wc;else for(p.m(a.aa.x+a.commentMargin-s.width,a.aa.y+l),r.move(p),r=r.pg();r.next();)t=r.value,t.vb=wc,t.xb=xc;l=0<=a.commentSpacing?l+(s.height+a.commentSpacing):l+(a.commentSpacing-s.height)}else{if(135<e&&!f||!d&&k)if(0<=a.commentMargin)for(p.m(a.aa.x+l,a.aa.y-a.commentMargin-s.height),r.move(p),r=r.pg();r.next();)t=
		r.value,t.vb=vc,t.xb=Cc;else for(p.m(a.aa.x+l,a.aa.y+2*a.M.y-a.commentMargin),r.move(p),r=r.pg();r.next();)t=r.value,t.vb=Cc,t.xb=vc;else if(0<=a.commentMargin)for(p.m(a.aa.x+l,a.aa.y+2*a.M.y+a.commentMargin),r.move(p),r=r.pg();r.next();)t=r.value,t.vb=Cc,t.xb=vc;else for(p.m(a.aa.x+l,a.aa.y+a.commentMargin-s.height),r.move(p),r=r.pg();r.next();)t=r.value,t.vb=vc,t.xb=Cc;l=0<=a.commentSpacing?l+(s.width+a.commentSpacing):l+(a.commentSpacing-s.width)}}u.v(p);b=l-a.commentSpacing-(c?b.height:b.width);
		if(this.Af===Qq)for(e=a.bc;e.next();)a=e.value.link,null===a||a.el||(a.Yk=0<b?b:NaN);else for(e=a.kc;e.next();)a=e.value.link,null===a||a.el||(a.vl=0<b?b:NaN)}};
	Y.prototype.layoutTree=function(a){if(null!==a){for(var b=a.children,c=b.length,d=0;d<c;d++)this.layoutTree(b[d]);switch(a.compaction){case ur:vr(this,a);break;case wr:if(a.alignment===er)vr(this,a);else if(0===a.rm){var d=a.parent,b=!1,c=0,e=nr;null!==d&&(c=d.angle,e=d.alignment,b=or(e));d=tr(a);a.ia.m(0,0);a.Ya.m(a.width,a.height);null===a.parent||null===a.comments||(180!==c&&270!==c||b)&&!d?a.Ka.m(0,0):180===c&&!b||(90===c||270===c)&&d?a.Ka.m(a.width-2*a.M.x,0):a.Ka.m(0,a.height-2*a.M.y);a.Ts=
		null;a.kt=null}else{for(var f=xr(a),b=90===f||270===f,h=0,k=a.children,l=k.length,m=0;m<l;m++)var n=k[m],h=Math.max(h,b?n.Ya.width:n.Ya.height);var p=a.alignment,d=p===yr,q=p===zr,r=or(p),s=Math.max(0,a.breadthLimit),c=Ar(a),t=a.nodeSpacing,v=Br(a),x=a.rowSpacing,A=0;if(d||q||a.dp||a.ep&&1===a.maxGenerationCount)A=Math.max(0,a.rowIndent);var d=a.width,e=a.height,y=0,C=0,I=0,H=null,R=null,aa=0,S=0,N=0,Z=0,Ga=0,ta=0,Oa=0,na=0,n=0;r&&!sr(p)&&135<f&&k.reverse();if(sr(p))if(1<l)for(m=0;m<l;m++)0===m%2&&
	m!==l-1?na=Math.max(na,b?k[m].Ya.width:k[m].Ya.height):0!==m%2&&(n=Math.max(n,b?k[m].Ya.width:k[m].Ya.height));else 1===l&&(na=b?k[0].Ya.width:k[0].Ya.height);if(r){switch(p){case pr:S=135>f?Cr(a,k,na,y,C):Dr(a,k,na,y,C);na=S.x;y=S.width;C=S.height;break;case qr:for(m=0;m<l;m++){var n=k[m],Ca=n.Ya,H=0===ta?0:x;b?(n.ia.m(h-Ca.width,Z+H),y=Math.max(y,Ca.width),C=Math.max(C,Z+H+Ca.height),Z+=H+Ca.height):(n.ia.m(N+H,h-Ca.height),y=Math.max(y,N+H+Ca.width),C=Math.max(C,Ca.height),N+=H+Ca.width);ta++}break;
		case rr:for(m=0;m<l;m++)n=k[m],Ca=n.Ya,H=0===ta?0:x,b?(n.ia.m(t/2+a.M.x,Z+H),y=Math.max(y,Ca.width),C=Math.max(C,Z+H+Ca.height),Z+=H+Ca.height):(n.ia.m(N+H,t/2+a.M.y),y=Math.max(y,N+H+Ca.width),C=Math.max(C,Ca.height),N+=H+Ca.width),ta++}H=Er(this,2);R=Er(this,2);b?(H[0].m(0,0),H[1].m(0,C),R[0].m(y,0)):(H[0].m(0,0),H[1].m(y,0),R[0].m(0,C));R[1].m(y,C)}else for(m=0;m<l;m++){n=k[m];Ca=n.Ya;if(b){0<s&&0<ta&&N+t+Ca.width>s&&(N<h&&Fr(a,p,h-N,0,Oa,m-1),Ga++,ta=0,Oa=m,I=C,N=0,Z=135<f?-C-x:C+x);Gr(this,n,
		0,Z);var ra=0;if(0===ta){if(H=n.Ts,R=n.kt,aa=Ca.width,S=Ca.height,null===H||null===R||f!==xr(n))H=Er(this,2),R=Er(this,2),H[0].m(0,0),H[1].m(0,S),R[0].m(aa,0),R[1].m(aa,S)}else{var dc=u.gb(),S=Hr(this,a,n,H,R,aa,S,dc),ra=S.x,H=dc[0],R=dc[1],aa=S.width,S=S.height;u.sa(dc);N<Ca.width&&0>ra&&(Ir(a,-ra,0,Oa,m-1),Jr(H,-ra,0),Jr(R,-ra,0),ra=0)}n.ia.m(ra,Z);y=Math.max(y,aa);C=Math.max(C,I+(0===Ga?0:x)+Ca.height);N=aa}else{0<s&&0<ta&&Z+t+Ca.height>s&&(Z<h&&Fr(a,p,0,h-Z,Oa,m-1),Ga++,ta=0,Oa=m,I=y,Z=0,N=135<
	f?-y-x:y+x);Gr(this,n,N,0);ra=0;if(0===ta){if(H=n.Ts,R=n.kt,aa=Ca.width,S=Ca.height,null===H||null===R||f!==xr(n))H=Er(this,2),R=Er(this,2),H[0].m(0,0),H[1].m(aa,0),R[0].m(0,S),R[1].m(aa,S)}else dc=u.gb(),S=Hr(this,a,n,H,R,aa,S,dc),ra=S.x,H=dc[0],R=dc[1],aa=S.width,S=S.height,u.sa(dc),Z<Ca.height&&0>ra&&(Ir(a,0,-ra,Oa,m-1),Jr(H,0,-ra),Jr(R,0,-ra),ra=0);n.ia.m(N,ra);C=Math.max(C,S);y=Math.max(y,I+(0===Ga?0:x)+Ca.width);Z=S}ta++}0<Ga&&(b?(C+=Math.max(0,c),N<y&&Fr(a,p,y-N,0,Oa,l-1),0<A&&(q||Ir(a,A,0,
		0,l-1),y+=A)):(y+=Math.max(0,c),Z<C&&Fr(a,p,0,C-Z,Oa,l-1),0<A&&(q||Ir(a,0,A,0,l-1),C+=A)));q=h=0;switch(p){case Kr:b?h+=y/2-a.M.x-v/2:q+=C/2-a.M.y-v/2;break;case nr:0<Ga?b?h+=y/2-a.M.x-v/2:q+=C/2-a.M.y-v/2:b?(m=k[0].ia.x+k[0].Ka.x,na=k[l-1].ia.x+k[l-1].Ka.x+2*k[l-1].M.x,h+=m+(na-m)/2-a.M.x-v/2):(m=k[0].ia.y+k[0].Ka.y,na=k[l-1].ia.y+k[l-1].Ka.y+2*k[l-1].M.y,q+=m+(na-m)/2-a.M.y-v/2);break;case yr:b?(h-=v,y+=v):(q-=v,C+=v);break;case zr:b?(h+=y-a.width+v,y+=v):(q+=C-a.height+v,C+=v);break;case pr:b?
		h=1<l?h+(na+t/2-a.M.x):h+(k[0].M.x-a.M.x+k[0].Ka.x):q=1<l?q+(na+t/2-a.M.y):q+(k[0].M.y-a.M.y+k[0].Ka.y);break;case qr:b?h+=y+t/2-a.M.x:q+=C+t/2-a.M.y;break;case rr:break;default:u.k("Unhandled alignment value "+p.toString())}for(m=0;m<l;m++)n=k[m],b?n.ia.m(n.ia.x+n.Ka.x-h,n.ia.y+(135<f?(r?-C:-n.Ya.height)+n.Ka.y-c:e+c+n.Ka.y)):n.ia.m(n.ia.x+(135<f?(r?-y:-n.Ya.width)+n.Ka.x-c:d+c+n.Ka.x),n.ia.y+n.Ka.y-q);l=k=0;r?b?(y=Lr(a,y,h),0>h&&(h=0),135<f&&(q+=C+c),C+=e+c,p===rr&&(k+=t/2+a.M.x),l+=e+c):(135<f&&
	(h+=y+c),y+=d+c,C=Mr(a,C,q),0>q&&(q=0),p===rr&&(l+=t/2+a.M.y),k+=d+c):b?(null===a.comments?d>y&&(p=Nr(p,d-y,0),k=p.x,l=p.y,y=d,h=0):y=Lr(a,y,h),0>h&&(k-=h,h=0),135<f&&(q+=C+c),C=Math.max(Math.max(C,e),C+e+c),l+=e+c):(135<f&&(h+=y+c),y=Math.max(Math.max(y,d),y+d+c),null===a.comments?e>C&&(p=Nr(p,0,e-C),k=p.x,l=p.y,C=e,q=0):C=Mr(a,C,q),0>q&&(l-=q,q=0),k+=d+c);if(0<Ga)f=Er(this,4),p=Er(this,4),b?(f[2].m(0,e+c),f[3].m(f[2].x,C),p[2].m(y,f[2].y),p[3].m(p[2].x,f[3].y)):(f[2].m(d+c,0),f[3].m(y,f[2].y),p[2].m(f[2].x,
		C),p[3].m(f[3].x,p[2].y));else{f=Er(this,H.length+2);p=Er(this,R.length+2);for(m=0;m<H.length;m++)r=H[m],f[m+2].m(r.x+k,r.y+l);for(m=0;m<R.length;m++)r=R[m],p[m+2].m(r.x+k,r.y+l)}b?(f[0].m(h,0),f[1].m(f[0].x,e),f[2].y<f[1].y&&(f[2].x>f[0].x?f[2].assign(f[1]):f[1].assign(f[2])),f[3].y<f[2].y&&(f[3].x>f[0].x?f[3].assign(f[2]):f[2].assign(f[3])),p[0].m(h+d,0),p[1].m(p[0].x,e),p[2].y<p[1].y&&(p[2].x<p[0].x?p[2].assign(p[1]):p[1].assign(p[2])),p[3].y<p[2].y&&(p[3].x<p[0].x?p[3].assign(p[2]):p[2].assign(p[3])),
		f[2].y-=c/2,p[2].y-=c/2):(f[0].m(0,q),f[1].m(d,f[0].y),f[2].x<f[1].x&&(f[2].y>f[0].y?f[2].assign(f[1]):f[1].assign(f[2])),f[3].x<f[2].x&&(f[3].y>f[0].y?f[3].assign(f[2]):f[2].assign(f[3])),p[0].m(0,q+e),p[1].m(d,p[0].y),p[2].x<p[1].x&&(p[2].y<p[0].y?p[2].assign(p[1]):p[1].assign(p[2])),p[3].x<p[2].x&&(p[3].y<p[0].y?p[3].assign(p[2]):p[2].assign(p[3])),f[2].x-=c/2,p[2].x-=c/2);Or(this,H);Or(this,R);a.Ts=f;a.kt=p;a.Ka.m(h,q);a.Ya.m(y,C)}break;default:u.k("Unhandled compaction value "+a.compaction.toString())}}};
	function vr(a,b){if(0===b.rm){var c=!1,d=0,e=nr;null!==b.parent&&(d=b.parent.angle,e=b.parent.alignment,c=or(e));e=tr(b);b.ia.m(0,0);b.Ya.m(b.width,b.height);null===b.parent||null===b.comments||(180!==d&&270!==d||c)&&!e?b.Ka.m(0,0):180===d&&!c||(90===d||270===d)&&e?b.Ka.m(b.width-2*b.M.x,0):b.Ka.m(0,b.height-2*b.M.y)}else{for(var c=xr(b),d=90===c||270===c,f=0,e=b.children,h=e.length,k=0;k<h;k++)var l=e[k],f=Math.max(f,d?l.Ya.width:l.Ya.height);var m=b.alignment,n=m===yr,p=m===zr,q=or(m),r=Math.max(0,
		b.breadthLimit),s=Ar(b),t=b.nodeSpacing,v=Br(b),x=n||p?0:v/2,A=b.rowSpacing,y=0;if(n||p||b.dp||b.ep&&1===b.maxGenerationCount)y=Math.max(0,b.rowIndent);var n=b.width,C=b.height,I=0,H=0,R=0,aa=0,S=0,N=0,Z=0,Ga=0,ta=0,Oa=0;q&&!sr(m)&&135<c&&e.reverse();if(sr(m))if(1<h)for(k=0;k<h;k++){var l=e[k],na=l.Ya;0===k%2&&k!==h-1?ta=Math.max(ta,(d?na.width:na.height)+Pr(l)-t):0!==k%2&&(Oa=Math.max(Oa,(d?na.width:na.height)+Pr(l)-t))}else 1===h&&(ta=d?e[0].Ya.width:e[0].Ya.height);if(q)switch(m){case pr:case er:H=
		135>c?Cr(b,e,ta,I,H):Dr(b,e,ta,I,H);ta=H.x;I=H.width;H=H.height;break;case qr:for(k=0;k<h;k++)l=e[k],na=l.Ya,r=0===Z?0:A,d?(l.ia.m(f-na.width,S+r),I=Math.max(I,na.width),H=Math.max(H,S+r+na.height),S+=r+na.height):(l.ia.m(aa+r,f-na.height),I=Math.max(I,aa+r+na.width),H=Math.max(H,na.height),aa+=r+na.width),Z++;break;case rr:for(f=0;f<h;f++)l=e[f],na=l.Ya,r=0===Z?0:A,d?(l.ia.m(t/2+b.M.x,S+r),I=Math.max(I,na.width),H=Math.max(H,S+r+na.height),S+=r+na.height):(l.ia.m(aa+r,t/2+b.M.y),I=Math.max(I,aa+
		r+na.width),H=Math.max(H,na.height),aa+=r+na.width),Z++}else for(k=0;k<h;k++)l=e[k],na=l.Ya,d?(0<r&&0<Z&&aa+t+na.width>r&&(aa<f&&Fr(b,m,f-aa,0,Ga,k-1),N++,Z=0,Ga=k,R=H,aa=0,S=135<c?-H-A:H+A),Oa=0===Z?x:t,Gr(a,l,0,S),l.ia.m(aa+Oa,S),I=Math.max(I,aa+Oa+na.width),H=Math.max(H,R+(0===N?0:A)+na.height),aa+=Oa+na.width):(0<r&&0<Z&&S+t+na.height>r&&(S<f&&Fr(b,m,0,f-S,Ga,k-1),N++,Z=0,Ga=k,R=I,S=0,aa=135<c?-I-A:I+A),Oa=0===Z?x:t,Gr(a,l,aa,0),l.ia.m(aa,S+Oa),H=Math.max(H,S+Oa+na.height),I=Math.max(I,R+(0===
		N?0:A)+na.width),S+=Oa+na.height),Z++;0<N&&(d?(H+=Math.max(0,s),aa<I&&Fr(b,m,I-aa,0,Ga,h-1),0<y&&(p||Ir(b,y,0,0,h-1),I+=y)):(I+=Math.max(0,s),S<H&&Fr(b,m,0,H-S,Ga,h-1),0<y&&(p||Ir(b,0,y,0,h-1),H+=y)));y=p=0;switch(m){case Kr:d?p+=I/2-b.M.x-v/2:y+=H/2-b.M.y-v/2;break;case nr:0<N?d?p+=I/2-b.M.x-v/2:y+=H/2-b.M.y-v/2:d?(m=e[0].ia.x+e[0].Ka.x,t=e[h-1].ia.x+e[h-1].Ka.x+2*e[h-1].M.x,p+=m+(t-m)/2-b.M.x-v/2):(m=e[0].ia.y+e[0].Ka.y,t=e[h-1].ia.y+e[h-1].Ka.y+2*e[h-1].M.y,y+=m+(t-m)/2-b.M.y-v/2);break;case yr:d?
		(p-=v,I+=v):(y-=v,H+=v);break;case zr:d?(p+=I-b.width+v,I+=v):(y+=H-b.height+v,H+=v);break;case pr:case er:d?p=1<h?p+(ta+t/2-b.M.x):p+(e[0].M.x-b.M.x+e[0].Ka.x):y=1<h?y+(ta+t/2-b.M.y):y+(e[0].M.y-b.M.y+e[0].Ka.y);break;case qr:d?p+=I+t/2-b.M.x:y+=H+t/2-b.M.y;break;case rr:break;default:u.k("Unhandled alignment value "+m.toString())}for(k=0;k<h;k++)l=e[k],d?l.ia.m(l.ia.x+l.Ka.x-p,l.ia.y+(135<c?(q?-H:-l.Ya.height)+l.Ka.y-s:C+s+l.Ka.y)):l.ia.m(l.ia.x+(135<c?(q?-I:-l.Ya.width)+l.Ka.x-s:n+s+l.Ka.x),l.ia.y+
		l.Ka.y-y);d?(I=Lr(b,I,p),0>p&&(p=0),135<c&&(y+=H+s),H+=C+s):(135<c&&(p+=I+s),I+=n+s,H=Mr(b,H,y),0>y&&(y=0));b.Ka.m(p,y);b.Ya.m(I,H)}}
	function Cr(a,b,c,d,e){var f=b.length;if(0===f)return new z(c,0,d,e);if(1===f){var h=b[0];d=h.Ya.width;e=h.Ya.height;return new z(c,0,d,e)}for(var k=a.nodeSpacing,l=a.rowSpacing,m=90===xr(a),n=0,p=0,q=0,r=0;r<f;r++)if(!(0!==r%2||1<f&&r===f-1)){var h=b[r],s=h.Ya,t=0===n?0:l;if(m){var v=Pr(h)-k;h.ia.m(c-(s.width+v),q+t);d=Math.max(d,s.width+v);e=Math.max(e,q+t+s.height);q+=t+s.height}else v=Pr(h)-k,h.ia.m(p+t,c-(s.height+v)),e=Math.max(e,s.height+v),d=Math.max(d,p+t+s.width),p+=t+s.width;n++}var n=
		0,x=p,A=q;m?(p=c+k,q=0):(p=0,q=c+k);for(r=0;r<f;r++)0!==r%2&&(h=b[r],s=h.Ya,t=0===n?0:l,m?(v=Pr(h)-k,h.ia.m(p+v,q+t),d=Math.max(d,p+s.width+v),e=Math.max(e,q+t+s.height),q+=t+s.height):(v=Pr(h)-k,h.ia.m(p+t,q+v),d=Math.max(d,p+t+s.width),e=Math.max(e,q+s.height+v),p+=t+s.width),n++);1<f&&1===f%2&&(h=b[f-1],s=h.Ya,b=Qr(h,m?Math.max(Math.abs(A),Math.abs(q)):Math.max(Math.abs(x),Math.abs(p))),m?(h.ia.m(c+k/2-h.M.x-h.Ka.x,e+b),m=c+k/2-h.M.x-h.Ka.x,d=Math.max(d,m+s.width),0>m&&(d-=m),e=Math.max(e,Math.max(A,
			q)+b+s.height),0>h.ia.x&&(c=Wr(a,h.ia.x,!1,c,k))):(h.ia.m(d+b,c+k/2-h.M.y-h.Ka.y),d=Math.max(d,Math.max(x,p)+b+s.width),m=c+k/2-h.M.y-h.Ka.y,e=Math.max(e,m+s.height),0>m&&(e-=m),0>h.ia.y&&(c=Wr(a,h.ia.y,!0,c,k))));return new z(c,0,d,e)}
	function Dr(a,b,c,d,e){var f=b.length;if(0===f)return new z(c,0,d,e);if(1===f){var h=b[0];d=h.Ya.width;e=h.Ya.height;return new z(c,0,d,e)}for(var k=a.nodeSpacing,l=a.rowSpacing,m=270===xr(a),n=0,p=0,q=0,r=0;r<f;r++)if(!(0!==r%2||1<f&&r===f-1)){var h=b[r],s=h.Ya,t=0===n?0:l;if(m){var v=Pr(h)-k,q=q-(t+s.height);h.ia.m(c-(s.width+v),q);d=Math.max(d,s.width+v);e=Math.max(e,Math.abs(q))}else v=Pr(h)-k,p-=t+s.width,h.ia.m(p,c-(s.height+v)),e=Math.max(e,s.height+v),d=Math.max(d,Math.abs(p));n++}var n=0,
		x=p,A=q;m?(p=c+k,q=0):(p=0,q=c+k);for(r=0;r<f;r++)0!==r%2&&(h=b[r],s=h.Ya,t=0===n?0:l,m?(v=Pr(h)-k,q-=t+s.height,h.ia.m(p+v,q),d=Math.max(d,p+s.width+v),e=Math.max(e,Math.abs(q))):(v=Pr(h)-k,p-=t+s.width,h.ia.m(p,q+v),e=Math.max(e,q+s.height+v),d=Math.max(d,Math.abs(p))),n++);1<f&&1===f%2&&(h=b[f-1],s=h.Ya,l=Qr(h,m?Math.max(Math.abs(A),Math.abs(q)):Math.max(Math.abs(x),Math.abs(p))),m?(h.ia.m(c+k/2-h.M.x-h.Ka.x,-e-s.height-l),p=c+k/2-h.M.x-h.Ka.x,d=Math.max(d,p+s.width),0>p&&(d-=p),e=Math.max(e,Math.abs(Math.min(A,
			q))+l+s.height),0>h.ia.x&&(c=Wr(a,h.ia.x,!1,c,k))):(h.ia.m(-d-s.width-l,c+k/2-h.M.y-h.Ka.y),d=Math.max(d,Math.abs(Math.min(x,p))+l+s.width),p=c+k/2-h.M.y-h.Ka.y,e=Math.max(e,p+s.height),0>p&&(e-=p),0>h.ia.y&&(c=Wr(a,h.ia.y,!0,c,k))));for(r=0;r<f;r++)h=b[r],m?h.ia.m(h.ia.x,h.ia.y+e):h.ia.m(h.ia.x+d,h.ia.y);return new z(c,0,d,e)}function Pr(a){return null===a.parent?0:a.parent.nodeSpacing}function Qr(a){return null===a.parent?0:a.parent.rowSpacing}
	function Wr(a,b,c,d,e){a=a.children;for(var f=a.length,h=0;h<f;h++)c?a[h].ia.m(a[h].ia.x,a[h].ia.y-b):a[h].ia.m(a[h].ia.x-b,a[h].ia.y);b=a[f-1];return Math.max(d,c?b.Ka.y+b.M.y-e/2:b.Ka.x+b.M.x-e/2)}
	function Lr(a,b,c){switch(a.alignment){case nr:case Kr:var d=b;c+a.width>d&&(d=c+a.width);0>c&&(d-=c);return d;case yr:return a.width>b?a.width:b;case zr:return 2*a.M.x>b?a.width:b+a.width-2*a.M.x;case pr:case er:return d=Math.min(0,c),c=Math.max(b,c+a.width),Math.max(a.width,c-d);case qr:return a.width-a.M.x+a.nodeSpacing/2+b;case rr:return Math.max(a.width,a.M.x+a.nodeSpacing/2+b);default:return b}}
	function Mr(a,b,c){switch(a.alignment){case nr:case Kr:var d=b;c+a.height>d&&(d=c+a.height);0>c&&(d-=c);return d;case yr:return a.height>b?a.height:b;case zr:return 2*a.M.y>b?a.height:b+a.height-2*a.M.y;case pr:case er:return d=Math.min(0,c),c=Math.max(b,c+a.height),Math.max(a.height,c-d);case qr:return a.height-a.M.y+a.nodeSpacing/2+b;case rr:return Math.max(a.height,a.M.y+a.nodeSpacing/2+b);default:return b}}
	function Nr(a,b,c){switch(a){case Kr:b/=2;c/=2;break;case nr:b/=2;c/=2;break;case yr:c=b=0;break;case zr:break;default:u.k("Unhandled alignment value "+a.toString())}return new w(b,c)}function Fr(a,b,c,d,e,f){b=Nr(b,c,d);Ir(a,b.x,b.y,e,f)}function Ir(a,b,c,d,e){if(0!==b||0!==c)for(a=a.children;d<=e;d++){var f=a[d].ia;f.x+=b;f.y+=c}}
	function Gr(a,b,c,d){var e=b.parent;switch(a.Af){case Qq:for(a=b.kc;a.next();)b=a.value,b.fromVertex===e&&b.pr.m(c,d);break;case Xq:for(a=b.bc;a.next();)b=a.value,b.toVertex===e&&b.pr.m(c,d);break;default:u.k("Unhandled path value "+a.Af.toString())}}function Jr(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];e.x+=b;e.y+=c}}
	function Hr(a,b,c,d,e,f,h,k){var l=xr(b),m=90===l||270===l,n=b.nodeSpacing;b=d;var p=e;d=f;e=h;var q=c.Ts,r=c.kt;h=c.Ya;var s=m?Math.max(e,h.height):Math.max(d,h.width);if(null===q||l!==xr(c))q=Er(a,2),r=Er(a,2),m?(q[0].m(0,0),q[1].m(0,h.height),r[0].m(h.width,0),r[1].m(r[0].x,q[1].y)):(q[0].m(0,0),q[1].m(h.width,0),r[0].m(0,h.height),r[1].m(q[1].x,r[0].y));if(m){c=d;d=9999999;if(!(null===p||2>p.length||null===q||2>q.length))for(m=l=0;l<p.length&&m<q.length;){e=p[l];var t=q[m];f=t.x;var v=t.y;f+=
		c;var x=e;l+1<p.length&&(x=p[l+1]);var A=t,t=A.x,A=A.y;m+1<q.length&&(A=q[m+1],t=A.x,A=A.y,t+=c);var y=d;e.y===v?y=f-e.x:e.y>v&&e.y<A?y=f+(e.y-v)/(A-v)*(t-f)-e.x:v>e.y&&v<x.y&&(y=f-(e.x+(v-e.y)/(x.y-e.y)*(x.x-e.x)));y<d&&(d=y);x.y<=e.y?l++:A<=v?m++:(x.y<=A&&l++,A<=x.y&&m++)}c-=d;c+=n;l=q;m=c;if(null===b||2>b.length||null===l||2>l.length)d=null;else{n=Er(a,b.length+l.length);for(d=f=e=0;f<l.length&&l[f].y<b[0].y;)v=l[f++],n[d++].m(v.x+m,v.y);for(;e<b.length;)v=b[e++],n[d++].m(v.x,v.y);for(e=b[b.length-
	1].y;f<l.length&&l[f].y<=e;)f++;for(;f<l.length&&l[f].y>e;)v=l[f++],n[d++].m(v.x+m,v.y);l=Er(a,d);for(e=0;e<d;e++)l[e].assign(n[e]);Or(a,n);d=l}f=r;v=c;if(null===p||2>p.length||null===f||2>f.length)e=null;else{n=Er(a,p.length+f.length);for(m=x=l=0;l<p.length&&p[l].y<f[0].y;)e=p[l++],n[m++].m(e.x,e.y);for(;x<f.length;)e=f[x++],n[m++].m(e.x+v,e.y);for(f=f[f.length-1].y;l<p.length&&p[l].y<=f;)l++;for(;l<p.length&&p[l].y>f;)e=p[l++],n[m++].m(e.x,e.y);e=Er(a,m);for(l=0;l<m;l++)e[l].assign(n[l]);Or(a,n)}f=
		Math.max(0,c)+h.width;h=s}else{c=e;d=9999999;if(!(null===p||2>p.length||null===q||2>q.length))for(m=l=0;l<p.length&&m<q.length;)e=p[l],t=q[m],f=t.x,v=t.y,v+=c,x=e,l+1<p.length&&(x=p[l+1]),A=t,t=A.x,A=A.y,m+1<q.length&&(A=q[m+1],t=A.x,A=A.y,A+=c),y=d,e.x===f?y=v-e.y:e.x>f&&e.x<t?y=v+(e.x-f)/(t-f)*(A-v)-e.y:f>e.x&&f<x.x&&(y=v-(e.y+(f-e.x)/(x.x-e.x)*(x.y-e.y))),y<d&&(d=y),x.x<=e.x?l++:t<=f?m++:(x.x<=t&&l++,t<=x.x&&m++);c-=d;c+=n;l=q;m=c;if(null===b||2>b.length||null===l||2>l.length)d=null;else{n=Er(a,
		b.length+l.length);for(d=f=e=0;f<l.length&&l[f].x<b[0].x;)v=l[f++],n[d++].m(v.x,v.y+m);for(;e<b.length;)v=b[e++],n[d++].m(v.x,v.y);for(e=b[b.length-1].x;f<l.length&&l[f].x<=e;)f++;for(;f<l.length&&l[f].x>e;)v=l[f++],n[d++].m(v.x,v.y+m);l=Er(a,d);for(e=0;e<d;e++)l[e].assign(n[e]);Or(a,n);d=l}f=r;v=c;if(null===p||2>p.length||null===f||2>f.length)e=null;else{n=Er(a,p.length+f.length);for(m=x=l=0;l<p.length&&p[l].x<f[0].x;)e=p[l++],n[m++].m(e.x,e.y);for(;x<f.length;)e=f[x++],n[m++].m(e.x,e.y+v);for(f=
																																																																																																																																f[f.length-1].x;l<p.length&&p[l].x<=f;)l++;for(;l<p.length&&p[l].x>f;)e=p[l++],n[m++].m(e.x,e.y);e=Er(a,m);for(l=0;l<m;l++)e[l].assign(n[l]);Or(a,n)}f=s;h=Math.max(0,c)+h.height}Or(a,b);Or(a,q);Or(a,p);Or(a,r);k[0]=d;k[1]=e;return new z(c,0,f,h)}function Er(a,b){var c=a.Cy[b];if(void 0!==c&&(c=c.pop(),void 0!==c))return c;for(var c=[],d=0;d<b;d++)c[d]=new w;return c}function Or(a,b){var c=b.length,d=a.Cy[c];void 0===d&&(d=[],a.Cy[c]=d);d.push(b)}
	Y.prototype.arrangeTrees=function(){if(this.Yc===Wq)for(var a=this.nd.i;a.next();){var b=a.value;if(b instanceof Uq){var c=b.Bc;if(null!==c){var d=c.position,c=d.x,d=d.y;isFinite(c)||(c=0);isFinite(d)||(d=0);Xr(this,b,c,d)}}}else for(a=this.Ud,b=a.x,c=a.y,a=this.nd.i;a.next();)if(d=a.value,d instanceof Uq)switch(Xr(this,d,b+d.Ka.x,c+d.Ka.y),this.Yc){case Tq:c+=d.Ya.height+this.Uf.height;break;case Yr:b+=d.Ya.width+this.Uf.width;break;default:u.k("Unhandled arrangement value "+this.Yc.toString())}};
	function Xr(a,b,c,d){if(null!==b){b.x=c;b.y=d;b=b.children;for(var e=b.length,f=0;f<e;f++){var h=b[f];Xr(a,h,c+h.ia.x,d+h.ia.y)}}}Y.prototype.commitLayout=function(){this.dA();this.commitNodes();this.Ty();this.Rs&&this.commitLinks()};Y.prototype.commitNodes=function(){for(var a=this.network.vertexes.i;a.next();)a.value.commit();for(a.reset();a.next();)this.layoutComments(a.value)};
	Y.prototype.Ty=function(){if(this.xz===br){for(var a=this.BA,b=[],c=null,d=this.network.vertexes.i;d.next();){var e=d.value;null===c?c=e.lb.copy():c.Uh(e.lb);var f=b[e.level],f=void 0===f?Ar(e):Math.max(f,Ar(e));b[e.level]=f}for(d=0;d<b.length;d++)void 0===b[d]&&(b[d]=0);90===this.angle||270===this.angle?(c.Jf(this.nodeSpacing/2,this.layerSpacing),e=new w(-this.nodeSpacing/2,-this.layerSpacing/2)):(c.Jf(this.layerSpacing,this.nodeSpacing/2),e=new w(-this.layerSpacing/2,-this.nodeSpacing/2));var f=
		[],c=90===this.angle||270===this.angle?c.width:c.height,h=0;if(180===this.angle||270===this.angle)for(d=0;d<a.length;d++)h+=a[d]+b[d];for(d=0;d<a.length;d++){var k=a[d]+b[d];270===this.angle?(h-=k,f.push(new z(0,h,c,k))):90===this.angle?(f.push(new z(0,h,c,k)),h+=k):180===this.angle?(h-=k,f.push(new z(h,0,k,c))):(f.push(new z(h,0,k,c)),h+=k)}this.commitLayers(f,e)}};Y.prototype.commitLayers=function(){};Y.prototype.commitLinks=function(){for(var a=this.network.edges.i;a.next();)a.value.commit()};
	Y.prototype.dA=function(){for(var a=this.nd.i;a.next();){var b=a.value;b instanceof Uq&&Zr(this,b)}};function Zr(a,b){if(null!==b){a.setPortSpots(b);for(var c=b.children,d=c.length,e=0;e<d;e++)Zr(a,c[e])}}
	Y.prototype.setPortSpots=function(a){var b=a.alignment;if(or(b)){var c=this.Af===Qq,d=xr(a),e;switch(d){case 0:e=xc;break;case 90:e=Cc;break;case 180:e=wc;break;default:e=vc}var f=a.children,h=f.length;switch(b){case pr:case er:for(b=0;b<h;b++){var k=f[b],k=(c?k.kc:k.bc).first();if(null!==k&&(k=k.link,null!==k)){var l=90===d||270===d?wc:vc;if(1===h||b===h-1&&1===h%2)switch(d){case 0:l=wc;break;case 90:l=vc;break;case 180:l=xc;break;default:l=Cc}else 0===b%2&&(l=90===d||270===d?xc:Cc);c?(a.setsPortSpot&&
	(k.vb=e),a.setsChildPortSpot&&(k.xb=l)):(a.setsPortSpot&&(k.vb=l),a.setsChildPortSpot&&(k.xb=e))}}break;case qr:l=90===d||270===d?xc:Cc;for(d=c?a.bc:a.kc;d.next();)k=d.value.link,null!==k&&(c?(a.setsPortSpot&&(k.vb=e),a.setsChildPortSpot&&(k.xb=l)):(a.setsPortSpot&&(k.vb=l),a.setsChildPortSpot&&(k.xb=e)));break;case rr:for(l=90===d||270===d?wc:vc,d=c?a.bc:a.kc;d.next();)k=d.value.link,null!==k&&(c?(a.setsPortSpot&&(k.vb=e),a.setsChildPortSpot&&(k.xb=l)):(a.setsPortSpot&&(k.vb=l),a.setsChildPortSpot&&
	(k.xb=e)))}}else if(c=xr(a),this.Af===Qq)for(e=a.bc;e.next();){if(d=e.value.link,null!==d){if(a.setsPortSpot)if(a.portSpot.Kc())switch(c){case 0:d.vb=xc;break;case 90:d.vb=Cc;break;case 180:d.vb=wc;break;default:d.vb=vc}else d.vb=a.portSpot;if(a.setsChildPortSpot)if(a.childPortSpot.Kc())switch(c){case 0:d.xb=wc;break;case 90:d.xb=vc;break;case 180:d.xb=xc;break;default:d.xb=Cc}else d.xb=a.childPortSpot}}else for(e=a.kc;e.next();)if(d=e.value.link,null!==d){if(a.setsPortSpot)if(a.portSpot.Kc())switch(c){case 0:d.xb=
		xc;break;case 90:d.xb=Cc;break;case 180:d.xb=wc;break;default:d.xb=vc}else d.xb=a.portSpot;if(a.setsChildPortSpot)if(a.childPortSpot.Kc())switch(c){case 0:d.vb=wc;break;case 90:d.vb=vc;break;case 180:d.vb=xc;break;default:d.vb=Cc}else d.vb=a.childPortSpot}};function xr(a){a=a.angle;return 45>=a?0:135>=a?90:225>=a?180:315>=a?270:0}
	function Ar(a){var b=xr(a),b=90===b||270===b,c=a.layerSpacing;if(0<a.layerSpacingParentOverlap)var d=Math.min(1,a.layerSpacingParentOverlap),c=c-(b?a.height*d:a.width*d);c<(b?-a.height:-a.width)&&(c=b?-a.height:-a.width);return c}function Br(a){var b=xr(a),b=90===b||270===b,c=a.nodeIndent;if(0<a.nodeIndentPastParent)var d=Math.min(1,a.nodeIndentPastParent),c=c+(b?a.width*d:a.height*d);return c=Math.max(0,c)}
	u.defineProperty(Y,{tK:"roots"},function(){return this.nd},function(a){this.nd!==a&&(u.C(a,F,Y,"roots"),this.nd=a,this.H())});u.defineProperty(Y,{path:"path"},function(){return this.hr},function(a){this.hr!==a&&(u.rb(a,Y,Y,"path"),this.hr=a,this.H())});u.defineProperty(Y,{BI:"treeStyle"},function(){return this.Yr},function(a){this.Yc!==a&&(u.rb(a,Y,Y,"treeStyle"),a===Rq||a===hr||a===ir||a===gr)&&(this.Yr=a,this.H())});
	u.defineProperty(Y,{xz:"layerStyle"},function(){return this.Eu},function(a){this.Yc!==a&&(u.rb(a,Y,Y,"layerStyle"),a===Sq||a===cr||a===br)&&(this.Eu=a,this.H())});u.defineProperty(Y,{comments:"comments"},function(){return this.qh},function(a){this.qh!==a&&(u.j(a,"boolean",Y,"comments"),this.qh=a,this.H())});u.defineProperty(Y,{Gf:"arrangement"},function(){return this.Yc},function(a){this.Yc!==a&&(u.rb(a,Y,Y,"arrangement"),a===Tq||a===Yr||a===Wq)&&(this.Yc=a,this.H())});
	u.defineProperty(Y,{QC:"arrangementSpacing"},function(){return this.Uf},function(a){u.C(a,ia,Y,"arrangementSpacing");this.Uf.L(a)||(this.Uf.assign(a),this.H())});u.defineProperty(Y,{sK:"rootDefaults"},function(){return this.ra},function(a){this.ra!==a&&(u.C(a,Uq,Y,"rootDefaults"),this.ra=a,this.H())});u.defineProperty(Y,{RI:"alternateDefaults"},function(){return this.qa},function(a){this.qa!==a&&(u.C(a,Uq,Y,"alternateDefaults"),this.qa=a,this.H())});
	u.defineProperty(Y,{sorting:"sorting"},function(){return this.ra.sorting},function(a){this.ra.sorting!==a&&(u.rb(a,Y,Y,"sorting"),a===jr||a===kr||a===lr||mr)&&(this.ra.sorting=a,this.H())});u.defineProperty(Y,{comparer:"comparer"},function(){return this.ra.comparer},function(a){this.ra.comparer!==a&&(u.j(a,"function",Y,"comparer"),this.ra.comparer=a,this.H())});
	u.defineProperty(Y,{angle:"angle"},function(){return this.ra.angle},function(a){this.ra.angle!==a&&(u.j(a,"number",Y,"angle"),0===a||90===a||180===a||270===a)&&(this.ra.angle=a,this.H())});u.defineProperty(Y,{alignment:"alignment"},function(){return this.ra.alignment},function(a){this.ra.alignment!==a&&(u.rb(a,Y,Y,"alignment"),this.ra.alignment=a,this.H())});
	u.defineProperty(Y,{nodeIndent:"nodeIndent"},function(){return this.ra.nodeIndent},function(a){this.ra.nodeIndent!==a&&(u.j(a,"number",Y,"nodeIndent"),0<=a&&(this.ra.nodeIndent=a,this.H()))});u.defineProperty(Y,{nodeIndentPastParent:"nodeIndentPastParent"},function(){return this.ra.nodeIndentPastParent},function(a){this.ra.nodeIndentPastParent!==a&&(u.j(a,"number",Y,"nodeIndentPastParent"),0<=a&&1>=a&&(this.ra.nodeIndentPastParent=a,this.H()))});
	u.defineProperty(Y,{nodeSpacing:"nodeSpacing"},function(){return this.ra.nodeSpacing},function(a){this.ra.nodeSpacing!==a&&(u.j(a,"number",Y,"nodeSpacing"),this.ra.nodeSpacing=a,this.H())});u.defineProperty(Y,{layerSpacing:"layerSpacing"},function(){return this.ra.layerSpacing},function(a){this.ra.layerSpacing!==a&&(u.j(a,"number",Y,"layerSpacing"),this.ra.layerSpacing=a,this.H())});
	u.defineProperty(Y,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.ra.layerSpacingParentOverlap},function(a){this.ra.layerSpacingParentOverlap!==a&&(u.j(a,"number",Y,"layerSpacingParentOverlap"),0<=a&&1>=a&&(this.ra.layerSpacingParentOverlap=a,this.H()))});u.defineProperty(Y,{compaction:"compaction"},function(){return this.ra.compaction},function(a){this.ra.compaction!==a&&(u.rb(a,Y,Y,"compaction"),a===ur||a===wr)&&(this.ra.compaction=a,this.H())});
	u.defineProperty(Y,{breadthLimit:"breadthLimit"},function(){return this.ra.breadthLimit},function(a){this.ra.breadthLimit!==a&&(u.j(a,"number",Y,"breadthLimit"),0<=a&&(this.ra.breadthLimit=a,this.H()))});u.defineProperty(Y,{rowSpacing:"rowSpacing"},function(){return this.ra.rowSpacing},function(a){this.ra.rowSpacing!==a&&(u.j(a,"number",Y,"rowSpacing"),this.ra.rowSpacing=a,this.H())});
	u.defineProperty(Y,{rowIndent:"rowIndent"},function(){return this.ra.rowIndent},function(a){this.ra.rowIndent!==a&&(u.j(a,"number",Y,"rowIndent"),0<=a&&(this.ra.rowIndent=a,this.H()))});u.defineProperty(Y,{commentSpacing:"commentSpacing"},function(){return this.ra.commentSpacing},function(a){this.ra.commentSpacing!==a&&(u.j(a,"number",Y,"commentSpacing"),this.ra.commentSpacing=a,this.H())});
	u.defineProperty(Y,{commentMargin:"commentMargin"},function(){return this.ra.commentMargin},function(a){this.ra.commentMargin!==a&&(u.j(a,"number",Y,"commentMargin"),this.ra.commentMargin=a,this.H())});u.defineProperty(Y,{setsPortSpot:"setsPortSpot"},function(){return this.ra.setsPortSpot},function(a){this.ra.setsPortSpot!==a&&(u.j(a,"boolean",Y,"setsPortSpot"),this.ra.setsPortSpot=a,this.H())});
	u.defineProperty(Y,{portSpot:"portSpot"},function(){return this.ra.portSpot},function(a){u.C(a,L,Y,"portSpot");this.ra.portSpot.L(a)||(this.ra.portSpot=a,this.H())});u.defineProperty(Y,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.ra.setsChildPortSpot},function(a){this.ra.setsChildPortSpot!==a&&(u.j(a,"boolean",Y,"setsChildPortSpot"),this.ra.setsChildPortSpot=a,this.H())});
	u.defineProperty(Y,{childPortSpot:"childPortSpot"},function(){return this.ra.childPortSpot},function(a){u.C(a,L,Y,"childPortSpot");this.ra.childPortSpot.L(a)||(this.ra.childPortSpot=a,this.H())});u.defineProperty(Y,{bJ:"alternateSorting"},function(){return this.qa.sorting},function(a){this.qa.sorting!==a&&(u.rb(a,Y,Y,"alternateSorting"),a===jr||a===kr||a===lr||mr)&&(this.qa.sorting=a,this.H())});
	u.defineProperty(Y,{QI:"alternateComparer"},function(){return this.qa.comparer},function(a){this.qa.comparer!==a&&(u.j(a,"function",Y,"alternateComparer"),this.qa.comparer=a,this.H())});u.defineProperty(Y,{JI:"alternateAngle"},function(){return this.qa.angle},function(a){this.qa.angle!==a&&(u.j(a,"number",Y,"alternateAngle"),0===a||90===a||180===a||270===a)&&(this.qa.angle=a,this.H())});
	u.defineProperty(Y,{II:"alternateAlignment"},function(){return this.qa.alignment},function(a){this.qa.alignment!==a&&(u.rb(a,Y,Y,"alternateAlignment"),this.qa.alignment=a,this.H())});u.defineProperty(Y,{UI:"alternateNodeIndent"},function(){return this.qa.nodeIndent},function(a){this.qa.nodeIndent!==a&&(u.j(a,"number",Y,"alternateNodeIndent"),0<=a&&(this.qa.nodeIndent=a,this.H()))});
	u.defineProperty(Y,{VI:"alternateNodeIndentPastParent"},function(){return this.qa.nodeIndentPastParent},function(a){this.qa.nodeIndentPastParent!==a&&(u.j(a,"number",Y,"alternateNodeIndentPastParent"),0<=a&&1>=a&&(this.qa.nodeIndentPastParent=a,this.H()))});u.defineProperty(Y,{WI:"alternateNodeSpacing"},function(){return this.qa.nodeSpacing},function(a){this.qa.nodeSpacing!==a&&(u.j(a,"number",Y,"alternateNodeSpacing"),this.qa.nodeSpacing=a,this.H())});
	u.defineProperty(Y,{SI:"alternateLayerSpacing"},function(){return this.qa.layerSpacing},function(a){this.qa.layerSpacing!==a&&(u.j(a,"number",Y,"alternateLayerSpacing"),this.qa.layerSpacing=a,this.H())});u.defineProperty(Y,{TI:"alternateLayerSpacingParentOverlap"},function(){return this.qa.layerSpacingParentOverlap},function(a){this.qa.layerSpacingParentOverlap!==a&&(u.j(a,"number",Y,"alternateLayerSpacingParentOverlap"),0<=a&&1>=a&&(this.qa.layerSpacingParentOverlap=a,this.H()))});
	u.defineProperty(Y,{OI:"alternateCompaction"},function(){return this.qa.compaction},function(a){this.qa.compaction!==a&&(u.rb(a,Y,Y,"alternateCompaction"),a===ur||a===wr)&&(this.qa.compaction=a,this.H())});u.defineProperty(Y,{KI:"alternateBreadthLimit"},function(){return this.qa.breadthLimit},function(a){this.qa.breadthLimit!==a&&(u.j(a,"number",Y,"alternateBreadthLimit"),0<=a&&(this.qa.breadthLimit=a,this.H()))});
	u.defineProperty(Y,{ZI:"alternateRowSpacing"},function(){return this.qa.rowSpacing},function(a){this.qa.rowSpacing!==a&&(u.j(a,"number",Y,"alternateRowSpacing"),this.qa.rowSpacing=a,this.H())});u.defineProperty(Y,{YI:"alternateRowIndent"},function(){return this.qa.rowIndent},function(a){this.qa.rowIndent!==a&&(u.j(a,"number",Y,"alternateRowIndent"),0<=a&&(this.qa.rowIndent=a,this.H()))});
	u.defineProperty(Y,{NI:"alternateCommentSpacing"},function(){return this.qa.commentSpacing},function(a){this.qa.commentSpacing!==a&&(u.j(a,"number",Y,"alternateCommentSpacing"),this.qa.commentSpacing=a,this.H())});u.defineProperty(Y,{MI:"alternateCommentMargin"},function(){return this.qa.commentMargin},function(a){this.qa.commentMargin!==a&&(u.j(a,"number",Y,"alternateCommentMargin"),this.qa.commentMargin=a,this.H())});
	u.defineProperty(Y,{aJ:"alternateSetsPortSpot"},function(){return this.qa.setsPortSpot},function(a){this.qa.setsPortSpot!==a&&(u.j(a,"boolean",Y,"alternateSetsPortSpot"),this.qa.setsPortSpot=a,this.H())});u.defineProperty(Y,{XI:"alternatePortSpot"},function(){return this.qa.portSpot},function(a){u.C(a,L,Y,"alternatePortSpot");this.qa.portSpot.L(a)||(this.qa.portSpot=a,this.H())});
	u.defineProperty(Y,{$I:"alternateSetsChildPortSpot"},function(){return this.qa.setsChildPortSpot},function(a){this.qa.setsChildPortSpot!==a&&(u.j(a,"boolean",Y,"alternateSetsChildPortSpot"),this.qa.setsChildPortSpot=a,this.H())});u.defineProperty(Y,{LI:"alternateChildPortSpot"},function(){return this.qa.childPortSpot},function(a){u.C(a,L,Y,"alternateChildPortSpot");this.qa.childPortSpot.L(a)||(this.qa.childPortSpot=a,this.H())});var Pq;Y.PathDefault=Pq=u.s(Y,"PathDefault",-1);var Qq;
	Y.PathDestination=Qq=u.s(Y,"PathDestination",0);var Xq;Y.PathSource=Xq=u.s(Y,"PathSource",1);var jr;Y.SortingForwards=jr=u.s(Y,"SortingForwards",10);var kr;Y.SortingReverse=kr=u.s(Y,"SortingReverse",11);var lr;Y.SortingAscending=lr=u.s(Y,"SortingAscending",12);var mr;Y.SortingDescending=mr=u.s(Y,"SortingDescending",13);var Kr;Y.AlignmentCenterSubtrees=Kr=u.s(Y,"AlignmentCenterSubtrees",20);var nr;Y.AlignmentCenterChildren=nr=u.s(Y,"AlignmentCenterChildren",21);var yr;
	Y.AlignmentStart=yr=u.s(Y,"AlignmentStart",22);var zr;Y.AlignmentEnd=zr=u.s(Y,"AlignmentEnd",23);var pr;Y.AlignmentBus=pr=u.s(Y,"AlignmentBus",24);var er;Y.AlignmentBusBranching=er=u.s(Y,"AlignmentBusBranching",25);var qr;Y.AlignmentTopLeftBus=qr=u.s(Y,"AlignmentTopLeftBus",26);var rr;Y.AlignmentBottomRightBus=rr=u.s(Y,"AlignmentBottomRightBus",27);var ur;Y.CompactionNone=ur=u.s(Y,"CompactionNone",30);var wr;Y.CompactionBlock=wr=u.s(Y,"CompactionBlock",31);var Rq;
	Y.StyleLayered=Rq=u.s(Y,"StyleLayered",40);var ir;Y.StyleLastParents=ir=u.s(Y,"StyleLastParents",41);var hr;Y.StyleAlternating=hr=u.s(Y,"StyleAlternating",42);var gr;Y.StyleRootOnly=gr=u.s(Y,"StyleRootOnly",43);var Tq;Y.ArrangementVertical=Tq=u.s(Y,"ArrangementVertical",50);var Yr;Y.ArrangementHorizontal=Yr=u.s(Y,"ArrangementHorizontal",51);var Wq;Y.ArrangementFixedRoots=Wq=u.s(Y,"ArrangementFixedRoots",52);var Sq;Y.LayerIndividual=Sq=u.s(Y,"LayerIndividual",60);var cr;
	Y.LayerSiblings=cr=u.s(Y,"LayerSiblings",61);var br;Y.LayerUniform=br=u.s(Y,"LayerUniform",62);function Vq(){xa.call(this)}u.Ia(Vq,xa);u.fa("TreeNetwork",Vq);Vq.prototype.createVertex=function(){return new Uq};Vq.prototype.createEdge=function(){return new $r};
	function Uq(){ya.call(this);this.initialized=!1;this.parent=null;this.children=[];this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0;this.comments=null;this.ia=new w(0,0);this.Ya=new ia(0,0);this.Ka=new w(0,0);this.ep=this.dp=this.aI=!1;this.kt=this.Ts=null;this.sorting=jr;this.comparer=dp;this.angle=0;this.alignment=nr;this.nodeIndentPastParent=this.nodeIndent=0;this.nodeSpacing=20;this.layerSpacing=50;this.layerSpacingParentOverlap=0;this.compaction=wr;this.breadthLimit=
		0;this.rowSpacing=25;this.commentSpacing=this.rowIndent=10;this.commentMargin=20;this.setsPortSpot=!0;this.portSpot=uc;this.setsChildPortSpot=!0;this.childPortSpot=uc}u.Ia(Uq,ya);u.fa("TreeVertex",Uq);
	Uq.prototype.copyInheritedPropertiesFrom=function(a){null!==a&&(this.sorting=a.sorting,this.comparer=a.comparer,this.angle=a.angle,this.alignment=a.alignment,this.nodeIndent=a.nodeIndent,this.nodeIndentPastParent=a.nodeIndentPastParent,this.nodeSpacing=a.nodeSpacing,this.layerSpacing=a.layerSpacing,this.layerSpacingParentOverlap=a.layerSpacingParentOverlap,this.compaction=a.compaction,this.breadthLimit=a.breadthLimit,this.rowSpacing=a.rowSpacing,this.rowIndent=a.rowIndent,this.commentSpacing=a.commentSpacing,
		this.commentMargin=a.commentMargin,this.setsPortSpot=a.setsPortSpot,this.portSpot=a.portSpot,this.setsChildPortSpot=a.setsChildPortSpot,this.childPortSpot=a.childPortSpot)};u.u(Uq,{rm:"childrenCount"},function(){return this.children.length});u.defineProperty(Uq,{rK:"relativePosition"},function(){return this.ia},function(a){this.ia.set(a)});u.defineProperty(Uq,{BK:"subtreeSize"},function(){return this.Ya},function(a){this.Ya.set(a)});
	u.defineProperty(Uq,{AK:"subtreeOffset"},function(){return this.Ka},function(a){this.Ka.set(a)});function $r(){Aa.call(this);this.pr=new w(0,0)}u.Ia($r,Aa);u.fa("TreeEdge",$r);
	$r.prototype.commit=function(){var a=this.link;if(null!==a&&!a.el){var b=this.network.Qb,c=null,d=null;switch(b.Af){case Qq:c=this.fromVertex;d=this.toVertex;break;case Xq:c=this.toVertex;d=this.fromVertex;break;default:u.k("Unhandled path value "+b.Af.toString())}if(null!==c&&null!==d)if(b=this.pr,0!==b.x||0!==b.y||c.aI){var d=c.lb,e=xr(c),f=Ar(c),h=c.rowSpacing;a.updateRoute();var k=a.Ve===kh,l=a.dc,m=0,n,p;a.rl();if(l||k){for(m=2;4<a.ka;)a.nE(2);n=a.l(1);p=a.l(2)}else{for(m=1;3<a.ka;)a.nE(1);n=
		a.l(0);p=a.l(a.ka-1)}var q=a.l(a.ka-1),r=0;0===e?(c.alignment===zr?(r=d.bottom+b.y,0===b.y&&n.y>q.y+c.rowIndent&&(r=Math.min(r,Math.max(n.y,r-Br(c))))):c.alignment===yr?(r=d.top+b.y,0===b.y&&n.y<q.y-c.rowIndent&&(r=Math.max(r,Math.min(n.y,r+Br(c))))):r=c.dp||c.ep&&1===c.maxGenerationCount?d.top-c.Ka.y+b.y:d.y+d.height/2+b.y,k?(a.w(m,n.x,r),m++,a.w(m,d.right+f,r),m++,a.w(m,d.right+f+(b.x-h)/3,r),m++,a.w(m,d.right+f+2*(b.x-h)/3,r),m++,a.w(m,d.right+f+(b.x-h),r),m++,a.w(m,p.x,r)):(l&&(a.w(m,d.right+
		f/2,n.y),m++),a.w(m,d.right+f/2,r),m++,a.w(m,d.right+f+b.x-(l?h/2:h),r),m++,l&&a.w(m,a.l(m-1).x,p.y))):90===e?(c.alignment===zr?(r=d.right+b.x,0===b.x&&n.x>q.x+c.rowIndent&&(r=Math.min(r,Math.max(n.x,r-Br(c))))):c.alignment===yr?(r=d.left+b.x,0===b.x&&n.x<q.x-c.rowIndent&&(r=Math.max(r,Math.min(n.x,r+Br(c))))):r=c.dp||c.ep&&1===c.maxGenerationCount?d.left-c.Ka.x+b.x:d.x+d.width/2+b.x,k?(a.w(m,r,n.y),m++,a.w(m,r,d.bottom+f),m++,a.w(m,r,d.bottom+f+(b.y-h)/3),m++,a.w(m,r,d.bottom+f+2*(b.y-h)/3),m++,
		a.w(m,r,d.bottom+f+(b.y-h)),m++,a.w(m,r,p.y)):(l&&(a.w(m,n.x,d.bottom+f/2),m++),a.w(m,r,d.bottom+f/2),m++,a.w(m,r,d.bottom+f+b.y-(l?h/2:h)),m++,l&&a.w(m,p.x,a.l(m-1).y))):180===e?(c.alignment===zr?(r=d.bottom+b.y,0===b.y&&n.y>q.y+c.rowIndent&&(r=Math.min(r,Math.max(n.y,r-Br(c))))):c.alignment===yr?(r=d.top+b.y,0===b.y&&n.y<q.y-c.rowIndent&&(r=Math.max(r,Math.min(n.y,r+Br(c))))):r=c.dp||c.ep&&1===c.maxGenerationCount?d.top-c.Ka.y+b.y:d.y+d.height/2+b.y,k?(a.w(m,n.x,r),m++,a.w(m,d.left-f,r),m++,a.w(m,
		d.left-f+(b.x+h)/3,r),m++,a.w(m,d.left-f+2*(b.x+h)/3,r),m++,a.w(m,d.left-f+(b.x+h),r),m++,a.w(m,p.x,r)):(l&&(a.w(m,d.left-f/2,n.y),m++),a.w(m,d.left-f/2,r),m++,a.w(m,d.left-f+b.x+(l?h/2:h),r),m++,l&&a.w(m,a.l(m-1).x,p.y))):270===e?(c.alignment===zr?(r=d.right+b.x,0===b.x&&n.x>q.x+c.rowIndent&&(r=Math.min(r,Math.max(n.x,r-Br(c))))):c.alignment===yr?(r=d.left+b.x,0===b.x&&n.x<q.x-c.rowIndent&&(r=Math.max(r,Math.min(n.x,r+Br(c))))):r=c.dp||c.ep&&1===c.maxGenerationCount?d.left-c.Ka.x+b.x:d.x+d.width/
	2+b.x,k?(a.w(m,r,n.y),m++,a.w(m,r,d.top-f),m++,a.w(m,r,d.top-f+(b.y+h)/3),m++,a.w(m,r,d.top-f+2*(b.y+h)/3),m++,a.w(m,r,d.top-f+(b.y+h)),m++,a.w(m,r,p.y)):(l&&(a.w(m,n.x,d.top-f/2),m++),a.w(m,r,d.top-f/2),m++,a.w(m,r,d.top-f+b.y+(l?h/2:h)),m++,l&&a.w(m,p.x,a.l(m-1).y))):u.k("Invalid angle "+e);a.Ci()}else e=c,f=d,a=this.link,c=xr(e),c!==xr(f)&&(b=Ar(e),d=e.lb,e=f.lb,0===c&&e.left-d.right<b+1||90===c&&e.top-d.bottom<b+1||180===c&&d.left-e.right<b+1||270===c&&d.top-e.bottom<b+1||(a.updateRoute(),e=a.Ve===
		kh,f=a.dc,h=or(this.fromVertex.alignment),a.rl(),0===c?(c=d.right+b/2,e?4===a.ka&&(b=a.l(3).y,a.V(1,c-20,a.l(1).y),a.w(2,c-20,b),a.w(3,c,b),a.w(4,c+20,b),a.V(5,a.l(5).x,b)):f?h?a.V(3,a.l(2).x,a.l(4).y):6===a.ka&&(a.V(2,c,a.l(2).y),a.V(3,c,a.l(3).y)):4===a.ka?a.w(2,c,a.l(2).y):3===a.ka?a.V(1,c,a.l(2).y):2===a.ka&&a.w(1,c,a.l(1).y)):90===c?(b=d.bottom+b/2,e?4===a.ka&&(c=a.l(3).x,a.V(1,a.l(1).x,b-20),a.w(2,c,b-20),a.w(3,c,b),a.w(4,c,b+20),a.V(5,c,a.l(5).y)):f?h?a.V(3,a.l(2).x,a.l(4).y):6===a.ka&&(a.V(2,
		a.l(2).x,b),a.V(3,a.l(3).x,b)):4===a.ka?a.w(2,a.l(2).x,b):3===a.ka?a.V(1,a.l(2).x,b):2===a.ka&&a.w(1,a.l(1).x,b)):180===c?(c=d.left-b/2,e?4===a.ka&&(b=a.l(3).y,a.V(1,c+20,a.l(1).y),a.w(2,c+20,b),a.w(3,c,b),a.w(4,c-20,b),a.V(5,a.l(5).x,b)):f?h?a.V(3,a.l(2).x,a.l(4).y):6===a.ka&&(a.V(2,c,a.l(2).y),a.V(3,c,a.l(3).y)):4===a.ka?a.w(2,c,a.l(2).y):3===a.ka?a.V(1,c,a.l(2).y):2===a.ka&&a.w(1,c,a.l(1).y)):270===c&&(b=d.top-b/2,e?4===a.ka&&(c=a.l(3).x,a.V(1,a.l(1).x,b+20),a.w(2,c,b+20),a.w(3,c,b),a.w(4,c,b-
		20),a.V(5,c,a.l(5).y)):f?h?a.V(3,a.l(2).x,a.l(4).y):6===a.ka&&(a.V(2,a.l(2).x,b),a.V(3,a.l(3).x,b)):4===a.ka?a.w(2,a.l(2).x,b):3===a.ka?a.V(1,a.l(2).x,b):2===a.ka&&a.w(1,a.l(1).x,b)),a.Ci()))}};u.defineProperty($r,{qK:"relativePoint"},function(){return this.pr},function(a){this.pr.set(a)});function as(){this.yn=[]}
	function Ql(a){var b=new as,c=null;"string"===typeof a?c=(new DOMParser).parseFromString(a,"text/xml"):a instanceof Document&&(c=a.implementation.createDocument("http://www.w3.org/2000/svg","svg",null),c.appendChild(c.importNode(a.documentElement,!0)));if(null===c)return null;a=c.getElementsByTagName("svg");if(0===a.length)return null;var d=a[0],e=c.getElementsByTagName("linearGradient"),f=c.getElementsByTagName("radialGradient");for(a=0;a<e.length;a++){for(var h=e[a],k=Rl(ga,ue,{start:Dc,end:Ec}),
																																																																																																																					  l=h.childNodes,m=0;m<l.length;m++)if("stop"===l[m].tagName){var n=bs(b,l[m],"stop-color");if(null!==n&&""!==n){var p=bs(b,l[m],"offset");if(null===p||""===p)p="0";var q=parseFloat(p);isNaN(q)&&(q=0);k.addColorStop((-1!==p.indexOf("%")?.01:1)*q,n)}}h=h.getAttribute("id");"string"===typeof h&&(b["_brush"+h]=k)}for(a=0;a<f.length;a++){h=f[a];k=Rl(ga,ve,{start:Ib,end:Ib});l=h.childNodes;for(m=0;m<l.length;m++)if("stop"===l[m].tagName&&(n=bs(b,l[m],"stop-color"),null!==n&&""!==n)){p=bs(b,l[m],"offset");
		if(null===p||""===p)p="0";q=parseFloat(p);isNaN(q)&&(q=0);k.addColorStop((-1!==p.indexOf("%")?.01:1)*q,n)}h=h.getAttribute("id");"string"===typeof h&&(b["_brush"+h]=k)}for(e=!0;e;)for(e=!1,f=c.getElementsByTagName("use"),a=0;a<f.length;a++)k=f[a],0===k.childNodes.length&&(h=k.href,void 0!==h&&(h=c.getElementById(h.baseVal.substring(1)),null!==h&&(h=h.cloneNode(!0),h.removeAttribute("id"),l=parseFloat(k.getAttribute("x")),isNaN(l)&&(l=0),m=parseFloat(k.getAttribute("y")),isNaN(m)&&(m=0),n=k.getAttribute("transform"),
	null===n&&(n=""),k.setAttribute("transform",n+" translate("+l+","+m+")"),k.appendChild(h),"use"===h.tagName&&(e=!0))));cs(b,d,null);c=new B;if(0===b.yn.length)return c;if(1===b.yn.length)return b.yn[0];for(a=0;a<b.yn.length;a++)c.add(b.yn[a]);return c}function ds(a,b){var c=a.getAttribute(b);"string"!==typeof c&&a.style&&(c=a.style[b]);return"string"!==typeof c?null:c}
	function bs(a,b,c){var d=b.getAttribute(c);"string"!==typeof d&&b.style&&(d=b.style[c]);return"string"!==typeof d||""===d||"inherit"===d?(b=b.parentNode,"g"===b.tagName||"use"===b.tagName?bs(a,b,c):null):d}
	function cs(a,b,c){var d=b.tagName;if(("g"===d||"svg"===d||"use"===d||"symbol"===d)&&"none"!==bs(a,b,"display")){for(var d=b.childNodes,e=0;e<d.length;e++){var f=d[e],h=null;if(void 0!==f.getAttribute){var k=f.getAttribute("transform");switch(f.tagName){case "g":null===k?cs(a,f,null):(h=new B,cs(a,f,h));break;case "use":null===k?cs(a,f,null):(h=new B,cs(a,f,h));break;case "symbol":if("use"!==b.tagName)break;h=new B;cs(a,f,h);var l=h,m=a,n=f;bs(m,n,"preserveAspectRatio");bs(m,n,"viewBox");l.scale=
		1;break;case "path":l=f;h=new X;l=l.getAttribute("d");"string"===typeof l&&(h.EG=rd(l));break;case "line":var p=f,h=new X,l=parseFloat(p.getAttribute("x1"));isNaN(l)&&(l=0);m=parseFloat(p.getAttribute("y1"));isNaN(m)&&(m=0);n=parseFloat(p.getAttribute("x2"));isNaN(n)&&(n=0);p=parseFloat(p.getAttribute("y2"));isNaN(p)&&(p=0);var q=new $c(dd);h.position=new w(Math.min(l,n),Math.min(m,p));0<(n-l)/(p-m)?(q.va=0,q.wa=0,q.F=Math.abs(n-l),q.G=Math.abs(p-m)):(q.va=0,q.wa=Math.abs(p-m),q.F=Math.abs(n-l),q.G=
		0);h.ed=q;break;case "circle":n=f;h=new X;l=parseFloat(n.getAttribute("r"));isNaN(l)||0>l?h=null:(m=parseFloat(n.getAttribute("cx")),isNaN(m)&&(m=0),n=parseFloat(n.getAttribute("cy")),isNaN(n)&&(n=0),p=new $c(nd),p.va=0,p.wa=0,p.F=2*l,p.G=2*l,h.position=new w(m-l,n-l),h.ed=p);break;case "ellipse":p=f;h=new X;l=parseFloat(p.getAttribute("rx"));isNaN(l)||0>l?h=null:(m=parseFloat(p.getAttribute("ry")),isNaN(m)||0>m?h=null:(n=parseFloat(p.getAttribute("cx")),isNaN(n)&&(n=0),p=parseFloat(p.getAttribute("cy")),
	isNaN(p)&&(p=0),q=new $c(nd),q.va=0,q.wa=0,q.F=2*l,q.G=2*m,h.position=new w(n-l,p-m),h.ed=q));break;case "rect":q=f;h=new X;l=parseFloat(q.getAttribute("width"));if(isNaN(l)||0>l)h=null;else if(m=parseFloat(q.getAttribute("height")),isNaN(m)||0>m)h=null;else{n=parseFloat(q.getAttribute("x"));isNaN(n)&&(n=0);p=parseFloat(q.getAttribute("y"));isNaN(p)&&(p=0);var r=q.getAttribute("rx"),s=q.getAttribute("ry"),q=parseFloat(r);if(isNaN(q)||0>q)q=0;var t=parseFloat(s);if(isNaN(t)||0>t)t=0;null!==r&&""!==
	r||null===s||""===s?null===r||""===r||null!==s&&""!==s||(t=q):q=t;q=Math.min(q,l/2);t=Math.min(t,m/2);s=void 0;0===q&&0===t?(s=new $c(md),s.va=0,s.wa=0,s.F=l,s.G=m):(s=K.ta/2,r=u.p(),M(r,q,0,!0),r.lineTo(l-q,0),O(r,l-q*s,0,l,t*s,l,t),r.lineTo(l,m-t),O(r,l,m-t*s,l-q*s,m,l-q,m),r.lineTo(q,m),O(r,q*s,m,0,m-t*s,0,m-t),r.lineTo(0,t),O(r,0,t*s,q*s,0,q,0),P(r),s=r.o,u.q(r));h.position=new w(n,p);h.ed=s}break;case "polygon":h=es(f);break;case "polyline":h=es(f)}if(null!==h){if(h instanceof X){m=h;l=bs(a,
		f,"fill");null!==l&&-1!==l.indexOf("url")?(l=l.substring(l.indexOf("#")+1,l.length-1),l=a["_brush"+l],m.fill=l instanceof ga?l:"black"):m.fill=null===l?"black":"none"===l?null:l;l=bs(a,f,"stroke");null!==l&&-1!==l.indexOf("url")?(l=l.substring(l.indexOf("#")+1,l.length-1),l=a["_brush"+l],m.stroke=l instanceof ga?l:"black"):m.stroke="none"===l?null:l;l=parseFloat(bs(a,f,"stroke-width"));isNaN(l)||(m.ib=l);l=bs(a,f,"stroke-linecap");null!==l&&(m.qI=l);l=bs(a,f,"stroke-dasharray");if(null!==l&&""!==
		l){n=l.split(",");p=[];for(l=0;l<n.length;l++)q=parseFloat(n[l]),!isNaN(q)&&0<q&&p.push(q);m.hA=p}f=bs(a,f,"stroke-dashoffset");null!==f&&""!==f&&(f=parseFloat(f),isNaN(f)||(m.rI=f));m.sz=!0}if(null!==k){k=k.split(")");f=!0;for(l=0;l<k.length;l++)/\(.*[^0-9\.,\s-]/.test(k[l])&&(f=!1),/\(.*[0-9]-[0-9]/.test(k[l])&&(f=!1);if(f)for(l=k.length-1;0<=l;l--)if(m=k[l],""!==m)switch(n=m.indexOf("("),f=m.substring(0,n).replace(/\s*/,""),n=m.substring(n+1).split(/\s*[\s,]\s*/),f){case "rotate":fs(a,h,n);break;
		case "translate":f=h;m=parseFloat(n[0]);isNaN(m)&&(m=0);n=parseFloat(n[1]);isNaN(n)&&(n=0);if(0!==m||0!==n)p=f.position.copy(),isNaN(p.x)&&(p.x=0),isNaN(p.y)&&(p.y=0),f.position=new w(m+p.x,n+p.y);break;case "scale":gs(a,h,n);break;case "skewX":hs(a,h,n);break;case "skewY":is(a,h,n);break;case "matrix":js(a,h,n)}}if(h instanceof B){k=h;l=f=0;m=k.position.copy();isNaN(m.x)&&(m.x=0);isNaN(m.y)&&(m.y=0);for(n=k.elements.i;n.next();)p=n.value.position.copy(),isNaN(p.x)&&(p.x=0),isNaN(p.y)&&(p.y=0),p.x<
	f&&(f=p.x),p.y<l&&(l=p.y);m.x+=f;m.y+=l;k.position=m}null===c?a.yn.push(h):c.add(h)}}}if(null!==h){a=ds(b,"visibility");if("hidden"===a||"collapse"===a)h.visible=!1;b=ds(b,"opacity");null!==b&&""!==b&&(b=parseFloat(b),isNaN(b)||(h.opacity=b))}}}
	function js(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]),f=parseFloat(c[2]),h=parseFloat(c[3]),k=parseFloat(c[4]),l=parseFloat(c[5]);if(!isNaN(d+e+f+h+k+l)){var m=b.position.copy();isNaN(m.x)&&(m.x=0);isNaN(m.y)&&(m.y=0);if(b instanceof X){c=b.ed.copy();if(c.type===md)c=a.Zr(c);else if(c.type===nd)c=ks(c);else if(c.type===dd){c.type=ad;a=new bd(c.va,c.wa);var n=new Jd(pd,c.F,c.G);a.Ha.add(n);c.ub.add(a)}c.offset(m.x,m.y);c.transform(d,e,f,h,k-m.x,l-m.y);a=c.normalize();b.ed=c;m.x-=a.x;m.y-=a.y;
		b.position=m}else if(b instanceof B){for(b=b.elements.i;b.next();)e=b.value,d=e.position.copy(),d.x+=m.x,d.y+=m.y,e.position=d;for(b.reset();b.next();)js(a,b.value,c);for(b.reset();b.next();)a=b.value,d=a.position.copy(),d.x-=m.x,d.y-=m.y,a.position=d}}}
	function fs(a,b,c){var d=parseFloat(c[0]);isNaN(d)&&(d=0);var e=parseFloat(c[1]);isNaN(e)&&(e=0);var f=parseFloat(c[2]);isNaN(f)&&(f=0);if(0!==d){var h=d*Math.PI/180,k=b.position.copy();isNaN(k.x)&&(k.x=0);isNaN(k.y)&&(k.y=0);if(b instanceof X){c=b.ed.copy();c.type===nd?c=ks(c):c.type===md&&(c=a.Zr(c));if(c.type===ad)c.rotate(d,e-k.x,f-k.y),f=c.normalize(),b.ed=c,k.x-=f.x,k.y-=f.y,b.position=k;else{var d=c.va-e+k.x,l=c.wa-f+k.y,m=c.F-e+k.x,n=c.G-f+k.y;a=d*Math.cos(h)-l*Math.sin(h)+e-k.x;d=l*Math.cos(h)+
		d*Math.sin(h)+f-k.y;e=m*Math.cos(h)-n*Math.sin(h)+e-k.x;f=n*Math.cos(h)+m*Math.sin(h)+f-k.y;m=Math.min(a,e);n=Math.min(d,f);c.va=a-m;c.wa=d-n;c.F=e-m;c.G=f-n;k.x+=m;k.y+=n;b.position=k;b.ed=c}b.fill instanceof ga&&(k=b.fill.copy(),c=Math.atan((.5-k.start.y)/(.5-k.start.x)),isNaN(c)||(c+=h,k.start=new L((1-Math.cos(c))/2,(1-Math.sin(c))/2),k.end=new L((1+Math.cos(c))/2,(1+Math.sin(c))/2)),b.fill=k);b.stroke instanceof ga&&(k=b.stroke.copy(),c=Math.atan((.5-k.start.y)/(.5-k.start.x)),isNaN(c)||(c+=
		h,k.start=new L((1-Math.cos(c))/2,(1-Math.sin(c))/2),k.end=new L((1+Math.cos(c))/2,(1+Math.sin(c))/2)),b.stroke=k)}else if(b instanceof B){for(b=b.elements.i;b.next();)f=b.value,h=f.position.copy(),h.x+=k.x,h.y+=k.y,f.position=h;for(b.reset();b.next();)fs(a,b.value,c);for(b.reset();b.next();)c=b.value,h=c.position.copy(),h.x-=k.x,h.y-=k.y,c.position=h}}}
	function gs(a,b,c){var d=parseFloat(c[0]);isNaN(d)&&(d=1);var e=parseFloat(c[1]);isNaN(e)&&(e=d);if(1!==d||1!==e){var f=b.position.copy();isNaN(f.x)&&(f.x=0);isNaN(f.y)&&(f.y=0);if(b instanceof X)a=b.ed.copy(),f.x*=d,f.y*=e,b.position=f,a.scale(d,e),b.ed=a;else if(b instanceof B){for(b=b.elements.i;b.next();)e=b.value,d=e.position.copy(),d.x+=f.x,d.y+=f.y,e.position=d;for(b.reset();b.next();)gs(a,b.value,c);for(b.reset();b.next();)a=b.value,d=a.position.copy(),d.x-=f.x,d.y-=f.y,a.position=d}}}
	function hs(a,b,c){var d=parseFloat(c[0]);if(!isNaN(d)){var d=d*Math.PI/180,e=b.position.copy();isNaN(e.x)&&(e.x=0);isNaN(e.y)&&(e.y=0);if(b instanceof X){c=b.ed.copy();if(c.type===md)c=a.Zr(c);else if(c.type===nd)c=ks(c);else if(c.type===dd){c.type=ad;a=new bd(c.va,c.wa);var f=new Jd(pd,c.F,c.G);a.Ha.add(f);c.ub.add(a)}c.offset(e.x,e.y);c.transform(1,0,Math.tan(d),1,-e.x,-e.y);a=c.normalize();b.ed=c;e.x-=a.x;e.y-=a.y;b.position=e}else if(b instanceof B){for(b=b.elements.i;b.next();)d=b.value.position.copy(),
		d.x+=e.x,d.y+=e.y,b.value.position=d;for(b.reset();b.next();)hs(a,b.value,c);for(b.reset();b.next();)a=b.value,d=a.position.copy(),d.x-=e.x,d.y-=e.y,a.position=d}}}
	function is(a,b,c){var d=parseFloat(c[0]);if(!isNaN(d)){var d=d*Math.PI/180,e=b.position.copy();isNaN(e.x)&&(e.x=0);isNaN(e.y)&&(e.y=0);if(b instanceof X){c=b.ed.copy();if(c.type===md)c=a.Zr(c);else if(c.type===nd)c=ks(c);else if(c.type===dd){c.type=ad;a=new bd(c.va,c.wa);var f=new Jd(pd,c.F,c.G);a.Ha.add(f);c.ub.add(a)}c.offset(e.x,e.y);c.transform(1,Math.tan(d),0,1,-e.x,-e.y);a=c.normalize();b.ed=c;e.x-=a.x;e.y-=a.y;b.position=e}else if(b instanceof B){for(b=b.elements.i;b.next();)f=b.value,d=f.position.copy(),
		d.x+=e.x,d.y+=e.y,f.position=d;for(b.reset();b.next();)is(a,b.value,c);for(b.reset();b.next();)a=b.value,d=a.position.copy(),d.x-=e.x,d.y-=e.y,a.position=d}}}
	function es(a){var b=!1;if("polygon"===a.tagName)b=!0;else if("polyline"!==a.tagName)return null;var c=new X,d=a.getAttribute("points");a=new $c;var e=new E(bd),f=d.split(/\s*[\s,]\s*/);if(4>f.length)return null;for(var d=null,h=new E(Jd),k=1;k<f.length;k+=2){var l=parseFloat(f[k-1]),m=parseFloat(f[k]);if("number"!==typeof l||isNaN(l)||"number"!==typeof m||isNaN(m))return null;1===k?d=new bd(l,m):h.add(new Jd(pd,l,m))}b&&(b=new Jd(pd,d.va,d.wa),b.close(),h.add(b));d.Ha=h;e.add(d);a.ub=e;b=a.normalize();
		c.position=new w(-b.x,-b.y);c.ed=a;return c}
	function ks(a){var b=a.va,c=a.wa,d=a.F,e=a.G,f=Math.abs(d-b)/2,h=Math.abs(e-c)/2,b=Math.min(b,d)+f,c=Math.min(c,e)+h,e=new bd(b,c-h),d=new Jd(zd);d.Rb=b+K.ta*f;d.jc=c-h;d.ef=b+f;d.ff=c-K.ta*h;d.F=b+f;d.G=c;e.Ha.add(d);d=new Jd(zd);d.Rb=b+f;d.jc=c+K.ta*h;d.ef=b+K.ta*f;d.ff=c+h;d.F=b;d.G=c+h;e.Ha.add(d);d=new Jd(zd);d.Rb=b-K.ta*f;d.jc=c+h;d.ef=b-f;d.ff=c+K.ta*h;d.F=b-f;d.G=c;e.Ha.add(d);d=new Jd(zd);d.Rb=b-f;d.jc=c-K.ta*h;d.ef=b-K.ta*f;d.ff=c-h;d.F=b;d.G=c-h;e.Ha.add(d);a.type=ad;a.ub.add(e);return a}
	as.prototype.Zr=function(a){var b=a.va,c=a.wa,d=a.F,e=a.G,f=Math.min(b,d),h=Math.min(c,e),b=Math.abs(d-b),c=Math.abs(e-c),e=new bd(f,h);e.Ha.add(new Jd(pd,f+b,h));e.Ha.add(new Jd(pd,f+b,h+c));e.Ha.add((new Jd(pd,f,h+c)).close());a.type=ad;a.ub.add(e);return a};function Vm(){T.call(this);this.Me=null}u.Ia(Vm,T);Vm.prototype.cloneProtected=function(a){T.prototype.cloneProtected.call(this,a);a.element=this.Me.cloneNode(!0)};Vm.prototype.toString=function(){return"HTMLHost("+this.Me.toString()+")#"+u.Uc(this)};
	Vm.prototype.Mj=function(a,b){var c=this.Me;if(null!==c){var d=this.mb(Ib);d.x-=this.ba.width/2;d.y-=this.ba.height/2;d.x-=this.ba.x;d.y-=this.ba.y;var d=b.UE(d),e=b.Vk;null===e||e.contains(c)||e.appendChild(c);e=this.transform;c.style.transform="matrix("+e.m11+","+e.m12+","+e.m21+","+e.m22+","+e.dx+","+e.dy+")";c.style.transformOrigin="0 0";e=d.y;c.style.left=d.x+"px";c.style.top=e+"px"}};
	Vm.prototype.Qo=function(a,b,c,d){var e=this.za;isFinite(e.width)&&(a=e.width);isFinite(e.height)&&(b=e.height);var e=this.bf,f=this.wg;c=Math.max(c,f.width);d=Math.max(d,f.height);a=Math.min(e.width,a);b=Math.min(e.height,b);a=Math.max(c,a);b=Math.max(d,b);c=this.Me;null!==c&&(b=c.getBoundingClientRect(),a=b.width,b=b.height);bb(this.Gc,a,b);ml(this,0,0,a,b)};Vm.prototype.yi=function(a,b,c,d){ql(this,a,b,c,d)};u.u(Vm,{Ja:"naturalBounds"},function(){return this.Gc});
	u.defineProperty(Vm,{element:"element"},function(){return this.Me},function(a){var b=this.Me;b!==a&&(a instanceof HTMLElement||u.k("HTMLHost.element must be an instance of HTMLElement."),this.Me=a,a.className="HTMLHost",this.h("element",b,a),this.na())});da.version="1.5.19";
	window&&(window.module&&"object"===typeof window.module&&"object"===typeof window.module.exports?window.module.exports=da:window.define&&"function"===typeof window.define&&window.define.amd?(window.go=da,window.define(da)):window.go=da);"undefined"!==typeof module&&"object"===typeof module.exports&&(module.exports=da); })(window);
// Snap.svg 0.4.1
//
// Copyright (c) 2013  2015 Adobe Systems Incorporated. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// build: 2015-04-13

!function(a){var b,c,d="0.4.2",e="hasOwnProperty",f=/[\.\/]/,g=/\s*,\s*/,h="*",i=function(a,b){return a-b},j={n:{}},k=function(){for(var a=0,b=this.length;b>a;a++)if("undefined"!=typeof this[a])return this[a]},l=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},m=function(a,d){a=String(a);var e,f=c,g=Array.prototype.slice.call(arguments,2),h=m.listeners(a),j=0,n=[],o={},p=[],q=b;p.firstDefined=k,p.lastDefined=l,b=a,c=0;for(var r=0,s=h.length;s>r;r++)"zIndex"in h[r]&&(n.push(h[r].zIndex),h[r].zIndex<0&&(o[h[r].zIndex]=h[r]));for(n.sort(i);n[j]<0;)if(e=o[n[j++]],p.push(e.apply(d,g)),c)return c=f,p;for(r=0;s>r;r++)if(e=h[r],"zIndex"in e)if(e.zIndex==n[j]){if(p.push(e.apply(d,g)),c)break;do if(j++,e=o[n[j]],e&&p.push(e.apply(d,g)),c)break;while(e)}else o[e.zIndex]=e;else if(p.push(e.apply(d,g)),c)break;return c=f,b=q,p};m._events=j,m.listeners=function(a){var b,c,d,e,g,i,k,l,m=a.split(f),n=j,o=[n],p=[];for(e=0,g=m.length;g>e;e++){for(l=[],i=0,k=o.length;k>i;i++)for(n=o[i].n,c=[n[m[e]],n[h]],d=2;d--;)b=c[d],b&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},m.on=function(a,b){if(a=String(a),"function"!=typeof b)return function(){};for(var c=a.split(g),d=0,e=c.length;e>d;d++)!function(a){for(var c,d=a.split(f),e=j,g=0,h=d.length;h>g;g++)e=e.n,e=e.hasOwnProperty(d[g])&&e[d[g]]||(e[d[g]]={n:{}});for(e.f=e.f||[],g=0,h=e.f.length;h>g;g++)if(e.f[g]==b){c=!0;break}!c&&e.f.push(b)}(c[d]);return function(a){+a==+a&&(b.zIndex=+a)}},m.f=function(a){var b=[].slice.call(arguments,1);return function(){m.apply(null,[a,null].concat(b).concat([].slice.call(arguments,0)))}},m.stop=function(){c=1},m.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},m.nts=function(){return b.split(f)},m.off=m.unbind=function(a,b){if(!a)return void(m._events=j={n:{}});var c=a.split(g);if(c.length>1)for(var d=0,i=c.length;i>d;d++)m.off(c[d],b);else{c=a.split(f);var k,l,n,d,i,o,p,q=[j];for(d=0,i=c.length;i>d;d++)for(o=0;o<q.length;o+=n.length-2){if(n=[o,1],k=q[o].n,c[d]!=h)k[c[d]]&&n.push(k[c[d]]);else for(l in k)k[e](l)&&n.push(k[l]);q.splice.apply(q,n)}for(d=0,i=q.length;i>d;d++)for(k=q[d];k.n;){if(b){if(k.f){for(o=0,p=k.f.length;p>o;o++)if(k.f[o]==b){k.f.splice(o,1);break}!k.f.length&&delete k.f}for(l in k.n)if(k.n[e](l)&&k.n[l].f){var r=k.n[l].f;for(o=0,p=r.length;p>o;o++)if(r[o]==b){r.splice(o,1);break}!r.length&&delete k.n[l].f}}else{delete k.f;for(l in k.n)k.n[e](l)&&k.n[l].f&&delete k.n[l].f}k=k.n}}},m.once=function(a,b){var c=function(){return m.unbind(a,c),b.apply(this,arguments)};return m.on(a,c)},m.version=d,m.toString=function(){return"You are running Eve "+d},"undefined"!=typeof module&&module.exports?module.exports=m:"function"==typeof define&&define.amd?define("eve",[],function(){return m}):a.eve=m}(this),function(a,b){if("function"==typeof define&&define.amd)define(["eve"],function(c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("eve");module.exports=b(a,c)}else b(a,a.eve)}(window||this,function(a,b){var c=function(b){var c={},d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,16)},e=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},f=0,g="M"+(+new Date).toString(36),h=function(){return g+(f++).toString(36)},i=Date.now||function(){return+new Date},j=function(a){var b=this;if(null==a)return b.s;var c=b.s-a;b.b+=b.dur*c,b.B+=b.dur*c,b.s=a},k=function(a){var b=this;return null==a?b.spd:void(b.spd=a)},l=function(a){var b=this;return null==a?b.dur:(b.s=b.s*a/b.dur,void(b.dur=a))},m=function(){var a=this;delete c[a.id],a.update(),b("mina.stop."+a.id,a)},n=function(){var a=this;a.pdif||(delete c[a.id],a.update(),a.pdif=a.get()-a.b)},o=function(){var a=this;a.pdif&&(a.b=a.get()-a.pdif,delete a.pdif,c[a.id]=a)},p=function(){var a,b=this;if(e(b.start)){a=[];for(var c=0,d=b.start.length;d>c;c++)a[c]=+b.start[c]+(b.end[c]-b.start[c])*b.easing(b.s)}else a=+b.start+(b.end-b.start)*b.easing(b.s);b.set(a)},q=function(){var a=0;for(var e in c)if(c.hasOwnProperty(e)){var f=c[e],g=f.get();a++,f.s=(g-f.b)/(f.dur/f.spd),f.s>=1&&(delete c[e],f.s=1,a--,function(a){setTimeout(function(){b("mina.finish."+a.id,a)})}(f)),f.update()}a&&d(q)},r=function(a,b,e,f,g,i,s){var t={id:h(),start:a,end:b,b:e,s:0,dur:f-e,spd:1,get:g,set:i,easing:s||r.linear,status:j,speed:k,duration:l,stop:m,pause:n,resume:o,update:p};c[t.id]=t;var u,v=0;for(u in c)if(c.hasOwnProperty(u)&&(v++,2==v))break;return 1==v&&d(q),t};return r.time=i,r.getById=function(a){return c[a]||null},r.linear=function(a){return a},r.easeout=function(a){return Math.pow(a,1.7)},r.easein=function(a){return Math.pow(a,.48)},r.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var b=.48-a/1.04,c=Math.sqrt(.1734+b*b),d=c-b,e=Math.pow(Math.abs(d),1/3)*(0>d?-1:1),f=-c-b,g=Math.pow(Math.abs(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},r.backin=function(a){if(1==a)return 1;var b=1.70158;return a*a*((b+1)*a-b)},r.backout=function(a){if(0==a)return 0;a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},r.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1},r.bounce=function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b},a.mina=r,r}("undefined"==typeof b?function(){}:b),d=function(a){function c(a,b){if(a){if(a.nodeType)return w(a);if(e(a,"array")&&c.set)return c.set.apply(c,a);if(a instanceof s)return a;if(null==b)return a=y.doc.querySelector(String(a)),w(a)}return a=null==a?"100%":a,b=null==b?"100%":b,new v(a,b)}function d(a,b){if(b){if("#text"==a&&(a=y.doc.createTextNode(b.text||b["#text"]||"")),"#comment"==a&&(a=y.doc.createComment(b.text||b["#text"]||"")),"string"==typeof a&&(a=d(a)),"string"==typeof b)return 1==a.nodeType?"xlink:"==b.substring(0,6)?a.getAttributeNS(T,b.substring(6)):"xml:"==b.substring(0,4)?a.getAttributeNS(U,b.substring(4)):a.getAttribute(b):"text"==b?a.nodeValue:null;if(1==a.nodeType){for(var c in b)if(b[z](c)){var e=A(b[c]);e?"xlink:"==c.substring(0,6)?a.setAttributeNS(T,c.substring(6),e):"xml:"==c.substring(0,4)?a.setAttributeNS(U,c.substring(4),e):a.setAttribute(c,e):a.removeAttribute(c)}}else"text"in b&&(a.nodeValue=b.text)}else a=y.doc.createElementNS(U,a);return a}function e(a,b){return b=A.prototype.toLowerCase.call(b),"finite"==b?isFinite(a):"array"==b&&(a instanceof Array||Array.isArray&&Array.isArray(a))?!0:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||J.call(a).slice(8,-1).toLowerCase()==b}function f(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[z](c)&&(b[c]=f(a[c]));return b}function h(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function i(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join(""),g=d.cache=d.cache||{},i=d.count=d.count||[];return g[z](f)?(h(i,f),c?c(g[f]):g[f]):(i.length>=1e3&&delete g[i.shift()],i.push(f),g[f]=a.apply(b,e),c?c(g[f]):g[f])}return d}function j(a,b,c,d,e,f){if(null==e){var g=a-c,h=b-d;return g||h?(180+180*D.atan2(-h,-g)/H+360)%360:0}return j(a,b,e,f)-j(c,d,e,f)}function k(a){return a%360*H/180}function l(a){return 180*a/H%360}function m(a){var b=[];return a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,c,d){return d=d.split(/\s*,\s*|\s+/),"rotate"==c&&1==d.length&&d.push(0,0),"scale"==c&&(d.length>2?d=d.slice(0,2):2==d.length&&d.push(0,0),1==d.length&&d.push(d[0],0,0)),b.push("skewX"==c?["m",1,0,D.tan(k(d[0])),1,0,0]:"skewY"==c?["m",1,D.tan(k(d[0])),0,1,0,0]:[c.charAt(0)].concat(d)),a}),b}function n(a,b){var d=ab(a),e=new c.Matrix;if(d)for(var f=0,g=d.length;g>f;f++){var h,i,j,k,l,m=d[f],n=m.length,o=A(m[0]).toLowerCase(),p=m[0]!=o,q=p?e.invert():0;"t"==o&&2==n?e.translate(m[1],0):"t"==o&&3==n?p?(h=q.x(0,0),i=q.y(0,0),j=q.x(m[1],m[2]),k=q.y(m[1],m[2]),e.translate(j-h,k-i)):e.translate(m[1],m[2]):"r"==o?2==n?(l=l||b,e.rotate(m[1],l.x+l.width/2,l.y+l.height/2)):4==n&&(p?(j=q.x(m[2],m[3]),k=q.y(m[2],m[3]),e.rotate(m[1],j,k)):e.rotate(m[1],m[2],m[3])):"s"==o?2==n||3==n?(l=l||b,e.scale(m[1],m[n-1],l.x+l.width/2,l.y+l.height/2)):4==n?p?(j=q.x(m[2],m[3]),k=q.y(m[2],m[3]),e.scale(m[1],m[1],j,k)):e.scale(m[1],m[1],m[2],m[3]):5==n&&(p?(j=q.x(m[3],m[4]),k=q.y(m[3],m[4]),e.scale(m[1],m[2],j,k)):e.scale(m[1],m[2],m[3],m[4])):"m"==o&&7==n&&e.add(m[1],m[2],m[3],m[4],m[5],m[6])}return e}function o(a){var b=a.node.ownerSVGElement&&w(a.node.ownerSVGElement)||a.node.parentNode&&w(a.node.parentNode)||c.select("svg")||c(0,0),d=b.select("defs"),e=null==d?!1:d.node;return e||(e=u("defs",b.node).node),e}function p(a){return a.node.ownerSVGElement&&w(a.node.ownerSVGElement)||c.select("svg")}function q(a,b,c){function e(a){if(null==a)return I;if(a==+a)return a;d(j,{width:a});try{return j.getBBox().width}catch(b){return 0}}function f(a){if(null==a)return I;if(a==+a)return a;d(j,{height:a});try{return j.getBBox().height}catch(b){return 0}}function g(d,e){null==b?i[d]=e(a.attr(d)||0):d==b&&(i=e(null==c?a.attr(d)||0:c))}var h=p(a).node,i={},j=h.querySelector(".svg---mgr");switch(j||(j=d("rect"),d(j,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),h.appendChild(j)),a.type){case"rect":g("rx",e),g("ry",f);case"image":g("width",e),g("height",f);case"text":g("x",e),g("y",f);break;case"circle":g("cx",e),g("cy",f),g("r",e);break;case"ellipse":g("cx",e),g("cy",f),g("rx",e),g("ry",f);break;case"line":g("x1",e),g("x2",e),g("y1",f),g("y2",f);break;case"marker":g("refX",e),g("markerWidth",e),g("refY",f),g("markerHeight",f);break;case"radialGradient":g("fx",e),g("fy",f);break;case"tspan":g("dx",e),g("dy",f);break;default:g(b,e)}return h.removeChild(j),i}function r(a){e(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var b=0,c=0,d=this.node;this[b];)delete this[b++];for(b=0;b<a.length;b++)"set"==a[b].type?a[b].forEach(function(a){d.appendChild(a.node)}):d.appendChild(a[b].node);var f=d.childNodes;for(b=0;b<f.length;b++)this[c++]=w(f[b]);return this}function s(a){if(a.snap in V)return V[a.snap];var b;try{b=a.ownerSVGElement}catch(c){}this.node=a,b&&(this.paper=new v(b)),this.type=a.tagName||a.nodeName;var d=this.id=S(this);if(this.anims={},this._={transform:[]},a.snap=d,V[d]=this,"g"==this.type&&(this.add=r),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var e in v.prototype)v.prototype[z](e)&&(this[e]=v.prototype[e])}function t(a){this.node=a}function u(a,b){var c=d(a);b.appendChild(c);var e=w(c);return e}function v(a,b){var c,e,f,g=v.prototype;if(a&&"svg"==a.tagName){if(a.snap in V)return V[a.snap];var h=a.ownerDocument;c=new s(a),e=a.getElementsByTagName("desc")[0],f=a.getElementsByTagName("defs")[0],e||(e=d("desc"),e.appendChild(h.createTextNode("Created with Snap")),c.node.appendChild(e)),f||(f=d("defs"),c.node.appendChild(f)),c.defs=f;for(var i in g)g[z](i)&&(c[i]=g[i]);c.paper=c.root=c}else c=u("svg",y.doc.body),d(c.node,{height:b,version:1.1,width:a,xmlns:U});return c}function w(a){return a?a instanceof s||a instanceof t?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new v(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new v(a.contentDocument.getElementsByTagName("svg")[0]):new s(a):a}function x(a,b){for(var c=0,d=a.length;d>c;c++){var e={type:a[c].type,attr:a[c].attr()},f=a[c].children();b.push(e),f.length&&x(f,e.childNodes=[])}}c.version="0.4.0",c.toString=function(){return"Snap v"+this.version},c._={};var y={win:a.window,doc:a.window.document};c._.glob=y;{var z="hasOwnProperty",A=String,B=parseFloat,C=parseInt,D=Math,E=D.max,F=D.min,G=D.abs,H=(D.pow,D.PI),I=(D.round,""),J=Object.prototype.toString,K=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,L=(c._.separator=/[,\s]+/,/[\s]*,[\s]*/),M={hs:1,rg:1},N=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,O=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,P=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,Q=0,R="S"+(+new Date).toString(36),S=function(a){return(a&&a.type?a.type:I)+R+(Q++).toString(36)},T="http://www.w3.org/1999/xlink",U="http://www.w3.org/2000/svg",V={};c.url=function(a){return"url('#"+a+"')"}}c._.$=d,c._.id=S,c.format=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return A(b).replace(a,function(a,b){return c(a,b,d)})}}(),c._.clone=f,c._.cacher=i,c.rad=k,c.deg=l,c.sin=function(a){return D.sin(c.rad(a))},c.tan=function(a){return D.tan(c.rad(a))},c.cos=function(a){return D.cos(c.rad(a))},c.asin=function(a){return c.deg(D.asin(a))},c.acos=function(a){return c.deg(D.acos(a))},c.atan=function(a){return c.deg(D.atan(a))},c.atan2=function(a){return c.deg(D.atan2(a))},c.angle=j,c.len=function(a,b,d,e){return Math.sqrt(c.len2(a,b,d,e))},c.len2=function(a,b,c,d){return(a-c)*(a-c)+(b-d)*(b-d)},c.closestPoint=function(a,b,c){function d(a){var d=a.x-b,e=a.y-c;return d*d+e*e}for(var e,f,g,h,i=a.node,j=i.getTotalLength(),k=j/i.pathSegList.numberOfItems*.125,l=1/0,m=0;j>=m;m+=k)(h=d(g=i.getPointAtLength(m)))<l&&(e=g,f=m,l=h);for(k*=.5;k>.5;){var n,o,p,q,r,s;(p=f-k)>=0&&(r=d(n=i.getPointAtLength(p)))<l?(e=n,f=p,l=r):(q=f+k)<=j&&(s=d(o=i.getPointAtLength(q)))<l?(e=o,f=q,l=s):k*=.5}return e={x:e.x,y:e.y,length:f,distance:Math.sqrt(l)}},c.is=e,c.snapTo=function(a,b,c){if(c=e(c,"finite")?c:10,e(a,"array")){for(var d=a.length;d--;)if(G(a[d]-b)<=c)return a[d]}else{a=+a;var f=b%a;if(c>f)return b-f;if(f>a-c)return b-f+a}return b},c.getRGB=i(function(a){if(!a||(a=A(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:Z};if(!(M[z](a.toLowerCase().substring(0,2))||"#"==a.charAt())&&(a=W(a)),!a)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};var b,d,f,g,h,i,j=a.match(K);return j?(j[2]&&(f=C(j[2].substring(5),16),d=C(j[2].substring(3,5),16),b=C(j[2].substring(1,3),16)),j[3]&&(f=C((h=j[3].charAt(3))+h,16),d=C((h=j[3].charAt(2))+h,16),b=C((h=j[3].charAt(1))+h,16)),j[4]&&(i=j[4].split(L),b=B(i[0]),"%"==i[0].slice(-1)&&(b*=2.55),d=B(i[1]),"%"==i[1].slice(-1)&&(d*=2.55),f=B(i[2]),"%"==i[2].slice(-1)&&(f*=2.55),"rgba"==j[1].toLowerCase().slice(0,4)&&(g=B(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100)),j[5]?(i=j[5].split(L),b=B(i[0]),"%"==i[0].slice(-1)&&(b/=100),d=B(i[1]),"%"==i[1].slice(-1)&&(d/=100),f=B(i[2]),"%"==i[2].slice(-1)&&(f/=100),("deg"==i[0].slice(-3)||""==i[0].slice(-1))&&(b/=360),"hsba"==j[1].toLowerCase().slice(0,4)&&(g=B(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),c.hsb2rgb(b,d,f,g)):j[6]?(i=j[6].split(L),b=B(i[0]),"%"==i[0].slice(-1)&&(b/=100),d=B(i[1]),"%"==i[1].slice(-1)&&(d/=100),f=B(i[2]),"%"==i[2].slice(-1)&&(f/=100),("deg"==i[0].slice(-3)||""==i[0].slice(-1))&&(b/=360),"hsla"==j[1].toLowerCase().slice(0,4)&&(g=B(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),c.hsl2rgb(b,d,f,g)):(b=F(D.round(b),255),d=F(D.round(d),255),f=F(D.round(f),255),g=F(E(g,0),1),j={r:b,g:d,b:f,toString:Z},j.hex="#"+(16777216|f|d<<8|b<<16).toString(16).slice(1),j.opacity=e(g,"finite")?g:1,j)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z}},c),c.hsb=i(function(a,b,d){return c.hsb2rgb(a,b,d).hex}),c.hsl=i(function(a,b,d){return c.hsl2rgb(a,b,d).hex}),c.rgb=i(function(a,b,c,d){if(e(d,"finite")){var f=D.round;return"rgba("+[f(a),f(b),f(c),+d.toFixed(2)]+")"}return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)});var W=function(a){var b=y.doc.getElementsByTagName("head")[0]||y.doc.getElementsByTagName("svg")[0],c="rgb(255, 0, 0)";return(W=i(function(a){if("red"==a.toLowerCase())return c;b.style.color=c,b.style.color=a;var d=y.doc.defaultView.getComputedStyle(b,I).getPropertyValue("color");return d==c?null:d}))(a)},X=function(){return"hsb("+[this.h,this.s,this.b]+")"},Y=function(){return"hsl("+[this.h,this.s,this.l]+")"},Z=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},$=function(a,b,d){if(null==b&&e(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(d=a.b,b=a.g,a=a.r),null==b&&e(a,string)){var f=c.getRGB(a);a=f.r,b=f.g,d=f.b}return(a>1||b>1||d>1)&&(a/=255,b/=255,d/=255),[a,b,d]},_=function(a,b,d,f){a=D.round(255*a),b=D.round(255*b),d=D.round(255*d);var g={r:a,g:b,b:d,opacity:e(f,"finite")?f:1,hex:c.rgb(a,b,d),toString:Z};return e(f,"finite")&&(g.opacity=f),g};c.color=function(a){var b;return e(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=c.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):e(a,"object")&&"h"in a&&"s"in a&&"l"in a?(b=c.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):(e(a,"string")&&(a=c.getRGB(a)),e(a,"object")&&"r"in a&&"g"in a&&"b"in a&&!("error"in a)?(b=c.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=c.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1,a.error=1)),a.toString=Z,a},c.hsb2rgb=function(a,b,c,d){e(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,d=a.o,a=a.h),a*=360;var f,g,h,i,j;return a=a%360/60,j=c*b,i=j*(1-G(a%2-1)),f=g=h=c-j,a=~~a,f+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],_(f,g,h,d)},c.hsl2rgb=function(a,b,c,d){e(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var f,g,h,i,j;return a=a%360/60,j=2*b*(.5>c?c:1-c),i=j*(1-G(a%2-1)),f=g=h=c-j/2,a=~~a,f+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],_(f,g,h,d)},c.rgb2hsb=function(a,b,c){c=$(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=E(a,b,c),g=f-F(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:X}},c.rgb2hsl=function(a,b,c){c=$(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=E(a,b,c),h=F(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:Y}},c.parsePathString=function(a){if(!a)return null;var b=c.path(a);if(b.arr)return c.path.clone(b.arr);var d={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},f=[];return e(a,"array")&&e(a[0],"array")&&(f=c.path.clone(a)),f.length||A(a).replace(N,function(a,b,c){var e=[],g=b.toLowerCase();if(c.replace(P,function(a,b){b&&e.push(+b)}),"m"==g&&e.length>2&&(f.push([b].concat(e.splice(0,2))),g="l",b="m"==b?"l":"L"),"o"==g&&1==e.length&&f.push([b,e[0]]),"r"==g)f.push([b].concat(e));else for(;e.length>=d[g]&&(f.push([b].concat(e.splice(0,d[g]))),d[g]););}),f.toString=c.path.toString,b.arr=c.path.clone(f),f};var ab=c.parseTransformString=function(a){if(!a)return null;var b=[];return e(a,"array")&&e(a[0],"array")&&(b=c.path.clone(a)),b.length||A(a).replace(O,function(a,c,d){{var e=[];c.toLowerCase()}d.replace(P,function(a,b){b&&e.push(+b)}),b.push([c].concat(e))}),b.toString=c.path.toString,b};c._.svgTransform2string=m,c._.rgTransform=/^[a-z][\s]*-?\.?\d/i,c._.transform2matrix=n,c._unit2px=q;y.doc.contains||y.doc.compareDocumentPosition?function(a,b){var c=9==a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a==d||!(!d||1!=d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b;)if(b=b.parentNode,b==a)return!0;return!1};c._.getSomeDefs=o,c._.getSomeSVG=p,c.select=function(a){return a=A(a).replace(/([^\\]):/g,"$1\\:"),w(y.doc.querySelector(a))},c.selectAll=function(a){for(var b=y.doc.querySelectorAll(a),d=(c.set||Array)(),e=0;e<b.length;e++)d.push(w(b[e]));return d},setInterval(function(){for(var a in V)if(V[z](a)){var b=V[a],c=b.node;("svg"!=b.type&&!c.ownerSVGElement||"svg"==b.type&&(!c.parentNode||"ownerSVGElement"in c.parentNode&&!c.ownerSVGElement))&&delete V[a]}},1e4),s.prototype.attr=function(a,c){var d=this,f=d.node;if(!a){if(1!=f.nodeType)return{text:f.nodeValue};for(var g=f.attributes,h={},i=0,j=g.length;j>i;i++)h[g[i].nodeName]=g[i].nodeValue;return h}if(e(a,"string")){if(!(arguments.length>1))return b("snap.util.getattr."+a,d).firstDefined();var k={};k[a]=c,a=k}for(var l in a)a[z](l)&&b("snap.util.attr."+l,d,a[l]);return d},c.parse=function(a){var b=y.doc.createDocumentFragment(),c=!0,d=y.doc.createElement("div");if(a=A(a),a.match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",c=!1),d.innerHTML=a,a=d.getElementsByTagName("svg")[0])if(c)b=a;else for(;a.firstChild;)b.appendChild(a.firstChild);return new t(b)},c.fragment=function(){for(var a=Array.prototype.slice.call(arguments,0),b=y.doc.createDocumentFragment(),d=0,e=a.length;e>d;d++){var f=a[d];f.node&&f.node.nodeType&&b.appendChild(f.node),f.nodeType&&b.appendChild(f),"string"==typeof f&&b.appendChild(c.parse(f).node)}return new t(b)},c._.make=u,c._.wrap=w,v.prototype.el=function(a,b){var c=u(a,this.node);return b&&c.attr(b),c},s.prototype.children=function(){for(var a=[],b=this.node.childNodes,d=0,e=b.length;e>d;d++)a[d]=c(b[d]);return a},s.prototype.toJSON=function(){var a=[];return x([this],a),a[0]},b.on("snap.util.getattr",function(){var a=b.nt();a=a.substring(a.lastIndexOf(".")+1);var c=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return bb[z](c)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(c):d(this.node,a)});var bb={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};b.on("snap.util.attr",function(a){var c=b.nt(),e={};c=c.substring(c.lastIndexOf(".")+1),e[c]=a;var f=c.replace(/-(\w)/gi,function(a,b){return b.toUpperCase()}),g=c.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});bb[z](g)?this.node.style[f]=null==a?I:a:d(this.node,e)}),function(){}(v.prototype),c.ajax=function(a,c,d,f){var g=new XMLHttpRequest,h=S();if(g){if(e(c,"function"))f=d,d=c,c=null;else if(e(c,"object")){var i=[];for(var j in c)c.hasOwnProperty(j)&&i.push(encodeURIComponent(j)+"="+encodeURIComponent(c[j]));c=i.join("&")}return g.open(c?"POST":"GET",a,!0),c&&(g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.setRequestHeader("Content-type","application/x-www-form-urlencoded")),d&&(b.once("snap.ajax."+h+".0",d),b.once("snap.ajax."+h+".200",d),b.once("snap.ajax."+h+".304",d)),g.onreadystatechange=function(){4==g.readyState&&b("snap.ajax."+h+"."+g.status,f,g)},4==g.readyState?g:(g.send(c),g)}},c.load=function(a,b,d){c.ajax(a,function(a){var e=c.parse(a.responseText);d?b.call(d,e):b(e)})};var cb=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,h=e.clientLeft||d.clientLeft||0,i=b.top+(g.win.pageYOffset||e.scrollTop||d.scrollTop)-f,j=b.left+(g.win.pageXOffset||e.scrollLeft||d.scrollLeft)-h;return{y:i,x:j}};return c.getElementByPoint=function(a,b){var c=this,d=(c.canvas,y.doc.elementFromPoint(a,b));if(y.win.opera&&"svg"==d.tagName){var e=cb(d),f=d.createSVGRect();f.x=a-e.x,f.y=b-e.y,f.width=f.height=1;var g=d.getIntersectionList(f,null);g.length&&(d=g[g.length-1])}return d?w(d):null},c.plugin=function(a){a(c,s,v,y,t)},y.win.Snap=c,c}(a||this);return d.plugin(function(d,e,f,g,h){function i(a,b){if(null==b){var c=!0;if(b=a.node.getAttribute("linearGradient"==a.type||"radialGradient"==a.type?"gradientTransform":"pattern"==a.type?"patternTransform":"transform"),!b)return new d.Matrix;b=d._.svgTransform2string(b)}else b=d._.rgTransform.test(b)?o(b).replace(/\.{3}|\u2026/g,a._.transform||""):d._.svgTransform2string(b),n(b,"array")&&(b=d.path?d.path.toString.call(b):o(b)),a._.transform=b;var e=d._.transform2matrix(b,a.getBBox(1));return c?e:void(a.matrix=e)}function j(a){function b(a,b){var c=q(a.node,b);c=c&&c.match(f),c=c&&c[2],c&&"#"==c.charAt()&&(c=c.substring(1),c&&(h[c]=(h[c]||[]).concat(function(c){var d={};d[b]=URL(c),q(a.node,d)})))}function c(a){var b=q(a.node,"xlink:href");b&&"#"==b.charAt()&&(b=b.substring(1),b&&(h[b]=(h[b]||[]).concat(function(b){a.attr("xlink:href","#"+b)})))}for(var d,e=a.selectAll("*"),f=/^\s*url\(("|'|)(.*)\1\)\s*$/,g=[],h={},i=0,j=e.length;j>i;i++){d=e[i],b(d,"fill"),b(d,"stroke"),b(d,"filter"),b(d,"mask"),b(d,"clip-path"),c(d);var k=q(d.node,"id");k&&(q(d.node,{id:d.id}),g.push({old:k,id:d.id}))}for(i=0,j=g.length;j>i;i++){var l=h[g[i].old];if(l)for(var m=0,n=l.length;n>m;m++)l[m](g[i].id)}}function k(a,b,c){return function(d){var e=d.slice(a,b);return 1==e.length&&(e=e[0]),c?c(e):e}}function l(a){return function(){var b=a?"<"+this.type:"",c=this.node.attributes,d=this.node.childNodes;if(a)for(var e=0,f=c.length;f>e;e++)b+=" "+c[e].name+'="'+c[e].value.replace(/"/g,'\\"')+'"';if(d.length){for(a&&(b+=">"),e=0,f=d.length;f>e;e++)3==d[e].nodeType?b+=d[e].nodeValue:1==d[e].nodeType&&(b+=u(d[e]).toString());a&&(b+="</"+this.type+">")}else a&&(b+="/>");return b}}var m=e.prototype,n=d.is,o=String,p=d._unit2px,q=d._.$,r=d._.make,s=d._.getSomeDefs,t="hasOwnProperty",u=d._.wrap;m.getBBox=function(a){if(!d.Matrix||!d.path)return this.node.getBBox();var b=this,c=new d.Matrix;if(b.removed)return d._.box();for(;"use"==b.type;)if(a||(c=c.add(b.transform().localMatrix.translate(b.attr("x")||0,b.attr("y")||0))),b.original)b=b.original;else{var e=b.attr("xlink:href");b=b.original=b.node.ownerDocument.getElementById(e.substring(e.indexOf("#")+1))}var f=b._,g=d.path.get[b.type]||d.path.get.deflt;try{return a?(f.bboxwt=g?d.path.getBBox(b.realPath=g(b)):d._.box(b.node.getBBox()),d._.box(f.bboxwt)):(b.realPath=g(b),b.matrix=b.transform().localMatrix,f.bbox=d.path.getBBox(d.path.map(b.realPath,c.add(b.matrix))),d._.box(f.bbox))}catch(h){return d._.box()}};var v=function(){return this.string};m.transform=function(a){var b=this._;if(null==a){for(var c,e=this,f=new d.Matrix(this.node.getCTM()),g=i(this),h=[g],j=new d.Matrix,k=g.toTransformString(),l=o(g)==o(this.matrix)?o(b.transform):k;"svg"!=e.type&&(e=e.parent());)h.push(i(e));for(c=h.length;c--;)j.add(h[c]);return{string:l,globalMatrix:f,totalMatrix:j,localMatrix:g,diffMatrix:f.clone().add(g.invert()),global:f.toTransformString(),total:j.toTransformString(),local:k,toString:v}}return a instanceof d.Matrix?(this.matrix=a,this._.transform=a.toTransformString()):i(this,a),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?q(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?q(this.node,{patternTransform:this.matrix}):q(this.node,{transform:this.matrix})),this},m.parent=function(){return u(this.node.parentNode)},m.append=m.add=function(a){if(a){if("set"==a.type){var b=this;return a.forEach(function(a){b.add(a)}),this}a=u(a),this.node.appendChild(a.node),a.paper=this.paper}return this},m.appendTo=function(a){return a&&(a=u(a),a.append(this)),this},m.prepend=function(a){if(a){if("set"==a.type){var b,c=this;return a.forEach(function(a){b?b.after(a):c.prepend(a),b=a}),this}a=u(a);var d=a.parent();this.node.insertBefore(a.node,this.node.firstChild),this.add&&this.add(),a.paper=this.paper,this.parent()&&this.parent().add(),d&&d.add()}return this},m.prependTo=function(a){return a=u(a),a.prepend(this),this},m.before=function(a){if("set"==a.type){var b=this;return a.forEach(function(a){var c=a.parent();b.node.parentNode.insertBefore(a.node,b.node),c&&c.add()}),this.parent().add(),this}a=u(a);var c=a.parent();return this.node.parentNode.insertBefore(a.node,this.node),this.parent()&&this.parent().add(),c&&c.add(),a.paper=this.paper,this},m.after=function(a){a=u(a);var b=a.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node),this.parent()&&this.parent().add(),b&&b.add(),a.paper=this.paper,this},m.insertBefore=function(a){a=u(a);var b=this.parent();return a.node.parentNode.insertBefore(this.node,a.node),this.paper=a.paper,b&&b.add(),a.parent()&&a.parent().add(),this},m.insertAfter=function(a){a=u(a);var b=this.parent();return a.node.parentNode.insertBefore(this.node,a.node.nextSibling),this.paper=a.paper,b&&b.add(),a.parent()&&a.parent().add(),this},m.remove=function(){var a=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,a&&a.add(),this},m.select=function(a){return u(this.node.querySelector(a))},m.selectAll=function(a){for(var b=this.node.querySelectorAll(a),c=(d.set||Array)(),e=0;e<b.length;e++)c.push(u(b[e]));return c},m.asPX=function(a,b){return null==b&&(b=this.attr(a)),+p(this,a,b)},m.use=function(){var a,b=this.node.id;return b||(b=this.id,q(this.node,{id:b})),a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?r(this.type,this.node.parentNode):r("use",this.node.parentNode),q(a.node,{"xlink:href":"#"+b}),a.original=this,a},m.clone=function(){var a=u(this.node.cloneNode(!0));return q(a.node,"id")&&q(a.node,{id:a.id}),j(a),a.insertAfter(this),a},m.toDefs=function(){var a=s(this);return a.appendChild(this.node),this},m.pattern=m.toPattern=function(a,b,c,d){var e=r("pattern",s(this));return null==a&&(a=this.getBBox()),n(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,a=a.x),q(e.node,{x:a,y:b,width:c,height:d,patternUnits:"userSpaceOnUse",id:e.id,viewBox:[a,b,c,d].join(" ")}),e.node.appendChild(this.node),e},m.marker=function(a,b,c,d,e,f){var g=r("marker",s(this));return null==a&&(a=this.getBBox()),n(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,e=a.refX||a.cx,f=a.refY||a.cy,a=a.x),q(g.node,{viewBox:[a,b,c,d].join(" "),markerWidth:c,markerHeight:d,orient:"auto",refX:e||0,refY:f||0,id:g.id}),g.node.appendChild(this.node),g};var w=function(a,b,d,e){"function"!=typeof d||d.length||(e=d,d=c.linear),this.attr=a,this.dur=b,d&&(this.easing=d),e&&(this.callback=e)};d._.Animation=w,d.animation=function(a,b,c,d){return new w(a,b,c,d)},m.inAnim=function(){var a=this,b=[];for(var c in a.anims)a.anims[t](c)&&!function(a){b.push({anim:new w(a._attrs,a.dur,a.easing,a._callback),mina:a,curStatus:a.status(),status:function(b){return a.status(b)},stop:function(){a.stop()}})}(a.anims[c]);return b},d.animate=function(a,d,e,f,g,h){"function"!=typeof g||g.length||(h=g,g=c.linear);var i=c.time(),j=c(a,d,i,i+f,c.time,e,g);return h&&b.once("mina.finish."+j.id,h),j},m.stop=function(){for(var a=this.inAnim(),b=0,c=a.length;c>b;b++)a[b].stop();return this},m.animate=function(a,d,e,f){"function"!=typeof e||e.length||(f=e,e=c.linear),a instanceof w&&(f=a.callback,e=a.easing,d=a.dur,a=a.attr);var g,h,i,j,l=[],m=[],p={},q=this;for(var r in a)if(a[t](r)){q.equal?(j=q.equal(r,o(a[r])),g=j.from,h=j.to,i=j.f):(g=+q.attr(r),h=+a[r]);var s=n(g,"array")?g.length:1;p[r]=k(l.length,l.length+s,i),l=l.concat(g),m=m.concat(h)}var u=c.time(),v=c(l,m,u,u+d,c.time,function(a){var b={};for(var c in p)p[t](c)&&(b[c]=p[c](a));q.attr(b)},e);return q.anims[v.id]=v,v._attrs=a,v._callback=f,b("snap.animcreated."+q.id,v),b.once("mina.finish."+v.id,function(){delete q.anims[v.id],f&&f.call(q)}),b.once("mina.stop."+v.id,function(){delete q.anims[v.id]}),q};var x={};m.data=function(a,c){var e=x[this.id]=x[this.id]||{};if(0==arguments.length)return b("snap.data.get."+this.id,this,e,null),e;
if(1==arguments.length){if(d.is(a,"object")){for(var f in a)a[t](f)&&this.data(f,a[f]);return this}return b("snap.data.get."+this.id,this,e[a],a),e[a]}return e[a]=c,b("snap.data.set."+this.id,this,c,a),this},m.removeData=function(a){return null==a?x[this.id]={}:x[this.id]&&delete x[this.id][a],this},m.outerSVG=m.toString=l(1),m.innerSVG=l(),m.toDataURL=function(){if(a&&a.btoa){var b=this.getBBox(),c=d.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+b.x.toFixed(3),y:+b.y.toFixed(3),width:+b.width.toFixed(3),height:+b.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}},h.prototype.select=m.select,h.prototype.selectAll=m.selectAll}),d.plugin(function(a){function b(a,b,d,e,f,g){return null==b&&"[object SVGMatrix]"==c.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,void(this.f=a.f)):void(null!=a?(this.a=+a,this.b=+b,this.c=+d,this.d=+e,this.e=+f,this.f=+g):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var c=Object.prototype.toString,d=String,e=Math,f="";!function(c){function g(a){return a[0]*a[0]+a[1]*a[1]}function h(a){var b=e.sqrt(g(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}c.add=function(a,c,d,e,f,g){var h,i,j,k,l=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[a,d,f],[c,e,g],[0,0,1]];for(a&&a instanceof b&&(n=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),h=0;3>h;h++)for(i=0;3>i;i++){for(k=0,j=0;3>j;j++)k+=m[h][j]*n[j][i];l[h][i]=k}return this.a=l[0][0],this.b=l[1][0],this.c=l[0][1],this.d=l[1][1],this.e=l[0][2],this.f=l[1][2],this},c.invert=function(){var a=this,c=a.a*a.d-a.b*a.c;return new b(a.d/c,-a.b/c,-a.c/c,a.a/c,(a.c*a.f-a.d*a.e)/c,(a.b*a.e-a.a*a.f)/c)},c.clone=function(){return new b(this.a,this.b,this.c,this.d,this.e,this.f)},c.translate=function(a,b){return this.add(1,0,0,1,a,b)},c.scale=function(a,b,c,d){return null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d),this},c.rotate=function(b,c,d){b=a.rad(b),c=c||0,d=d||0;var f=+e.cos(b).toFixed(9),g=+e.sin(b).toFixed(9);return this.add(f,g,-g,f,c,d),this.add(1,0,0,1,-c,-d)},c.x=function(a,b){return a*this.a+b*this.c+this.e},c.y=function(a,b){return a*this.b+b*this.d+this.f},c.get=function(a){return+this[d.fromCharCode(97+a)].toFixed(4)},c.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},c.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},c.determinant=function(){return this.a*this.d-this.b*this.c},c.split=function(){var b={};b.dx=this.e,b.dy=this.f;var c=[[this.a,this.c],[this.b,this.d]];b.scalex=e.sqrt(g(c[0])),h(c[0]),b.shear=c[0][0]*c[1][0]+c[0][1]*c[1][1],c[1]=[c[1][0]-c[0][0]*b.shear,c[1][1]-c[0][1]*b.shear],b.scaley=e.sqrt(g(c[1])),h(c[1]),b.shear/=b.scaley,this.determinant()<0&&(b.scalex=-b.scalex);var d=-c[0][1],f=c[1][1];return 0>f?(b.rotate=a.deg(e.acos(f)),0>d&&(b.rotate=360-b.rotate)):b.rotate=a.deg(e.asin(d)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},c.toTransformString=function(a){var b=a||this.split();return+b.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[+b.dx.toFixed(4),+b.dy.toFixed(4)]:f)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:f)+(b.rotate?"r"+[+b.rotate.toFixed(4),0,0]:f))}}(b.prototype),a.Matrix=b,a.matrix=function(a,c,d,e,f,g){return new b(a,c,d,e,f,g)}}),d.plugin(function(a,c,d,e,f){function g(d){return function(e){if(b.stop(),e instanceof f&&1==e.node.childNodes.length&&("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,n(this).appendChild(e),e=l(e)),e instanceof c)if("radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type){e.node.id||p(e.node,{id:e.id});var g=q(e.node.id)}else g=e.attr(d);else if(g=a.color(e),g.error){var h=a(n(this).ownerSVGElement).gradient(e);h?(h.node.id||p(h.node,{id:h.id}),g=q(h.node.id)):g=e}else g=r(g);var i={};i[d]=g,p(this.node,i),this.node.style[d]=t}}function h(a){b.stop(),a==+a&&(a+="px"),this.node.style.fontSize=a}function i(a){for(var b=[],c=a.childNodes,d=0,e=c.length;e>d;d++){var f=c[d];3==f.nodeType&&b.push(f.nodeValue),"tspan"==f.tagName&&b.push(1==f.childNodes.length&&3==f.firstChild.nodeType?f.firstChild.nodeValue:i(f))}return b}function j(){return b.stop(),this.node.style.fontSize}var k=a._.make,l=a._.wrap,m=a.is,n=a._.getSomeDefs,o=/^url\(#?([^)]+)\)$/,p=a._.$,q=a.url,r=String,s=a._.separator,t="";b.on("snap.util.attr.mask",function(a){if(a instanceof c||a instanceof f){if(b.stop(),a instanceof f&&1==a.node.childNodes.length&&(a=a.node.firstChild,n(this).appendChild(a),a=l(a)),"mask"==a.type)var d=a;else d=k("mask",n(this)),d.node.appendChild(a.node);!d.node.id&&p(d.node,{id:d.id}),p(this.node,{mask:q(d.id)})}}),function(a){b.on("snap.util.attr.clip",a),b.on("snap.util.attr.clip-path",a),b.on("snap.util.attr.clipPath",a)}(function(a){if(a instanceof c||a instanceof f){if(b.stop(),"clipPath"==a.type)var d=a;else d=k("clipPath",n(this)),d.node.appendChild(a.node),!d.node.id&&p(d.node,{id:d.id});p(this.node,{"clip-path":q(d.node.id||d.id)})}}),b.on("snap.util.attr.fill",g("fill")),b.on("snap.util.attr.stroke",g("stroke"));var u=/^([lr])(?:\(([^)]*)\))?(.*)$/i;b.on("snap.util.grad.parse",function(a){a=r(a);var b=a.match(u);if(!b)return null;var c=b[1],d=b[2],e=b[3];return d=d.split(/\s*,\s*/).map(function(a){return+a==a?+a:a}),1==d.length&&0==d[0]&&(d=[]),e=e.split("-"),e=e.map(function(a){a=a.split(":");var b={color:a[0]};return a[1]&&(b.offset=parseFloat(a[1])),b}),{type:c,params:d,stops:e}}),b.on("snap.util.attr.d",function(c){b.stop(),m(c,"array")&&m(c[0],"array")&&(c=a.path.toString.call(c)),c=r(c),c.match(/[ruo]/i)&&(c=a.path.toAbsolute(c)),p(this.node,{d:c})})(-1),b.on("snap.util.attr.#text",function(a){b.stop(),a=r(a);for(var c=e.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(c)})(-1),b.on("snap.util.attr.path",function(a){b.stop(),this.attr({d:a})})(-1),b.on("snap.util.attr.class",function(a){b.stop(),this.node.className.baseVal=a})(-1),b.on("snap.util.attr.viewBox",function(a){var c;c=m(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):m(a,"array")?a.join(" "):a,p(this.node,{viewBox:c}),b.stop()})(-1),b.on("snap.util.attr.transform",function(a){this.transform(a),b.stop()})(-1),b.on("snap.util.attr.r",function(a){"rect"==this.type&&(b.stop(),p(this.node,{rx:a,ry:a}))})(-1),b.on("snap.util.attr.textpath",function(a){if(b.stop(),"text"==this.type){var d,e,f;if(!a&&this.textPath){for(e=this.textPath;e.node.firstChild;)this.node.appendChild(e.node.firstChild);return e.remove(),void delete this.textPath}if(m(a,"string")){var g=n(this),h=l(g.parentNode).path(a);g.appendChild(h.node),d=h.id,h.attr({id:d})}else a=l(a),a instanceof c&&(d=a.attr("id"),d||(d=a.id,a.attr({id:d})));if(d)if(e=this.textPath,f=this.node,e)e.attr({"xlink:href":"#"+d});else{for(e=p("textPath",{"xlink:href":"#"+d});f.firstChild;)e.appendChild(f.firstChild);f.appendChild(e),this.textPath=l(e)}}})(-1),b.on("snap.util.attr.text",function(a){if("text"==this.type){for(var c=this.node,d=function(a){var b=p("tspan");if(m(a,"array"))for(var c=0;c<a.length;c++)b.appendChild(d(a[c]));else b.appendChild(e.doc.createTextNode(a));return b.normalize&&b.normalize(),b};c.firstChild;)c.removeChild(c.firstChild);for(var f=d(a);f.firstChild;)c.appendChild(f.firstChild)}b.stop()})(-1),b.on("snap.util.attr.fontSize",h)(-1),b.on("snap.util.attr.font-size",h)(-1),b.on("snap.util.getattr.transform",function(){return b.stop(),this.transform()})(-1),b.on("snap.util.getattr.textpath",function(){return b.stop(),this.textPath})(-1),function(){function c(c){return function(){b.stop();var d=e.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return"none"==d?d:a(e.doc.getElementById(d.match(o)[1]))}}function d(a){return function(c){b.stop();var d="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==c||!c)return void(this.node.style[d]="none");if("marker"==c.type){var e=c.node.id;return e||p(c.node,{id:c.id}),void(this.node.style[d]=q(e))}}}b.on("snap.util.getattr.marker-end",c("end"))(-1),b.on("snap.util.getattr.markerEnd",c("end"))(-1),b.on("snap.util.getattr.marker-start",c("start"))(-1),b.on("snap.util.getattr.markerStart",c("start"))(-1),b.on("snap.util.getattr.marker-mid",c("mid"))(-1),b.on("snap.util.getattr.markerMid",c("mid"))(-1),b.on("snap.util.attr.marker-end",d("end"))(-1),b.on("snap.util.attr.markerEnd",d("end"))(-1),b.on("snap.util.attr.marker-start",d("start"))(-1),b.on("snap.util.attr.markerStart",d("start"))(-1),b.on("snap.util.attr.marker-mid",d("mid"))(-1),b.on("snap.util.attr.markerMid",d("mid"))(-1)}(),b.on("snap.util.getattr.r",function(){return"rect"==this.type&&p(this.node,"rx")==p(this.node,"ry")?(b.stop(),p(this.node,"rx")):void 0})(-1),b.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){b.stop();var a=i(this.node);return 1==a.length?a[0]:a}})(-1),b.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),b.on("snap.util.getattr.viewBox",function(){b.stop();var c=p(this.node,"viewBox");return c?(c=c.split(s),a._.box(+c[0],+c[1],+c[2],+c[3])):void 0})(-1),b.on("snap.util.getattr.points",function(){var a=p(this.node,"points");return b.stop(),a?a.split(s):void 0})(-1),b.on("snap.util.getattr.path",function(){var a=p(this.node,"d");return b.stop(),a})(-1),b.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),b.on("snap.util.getattr.fontSize",j)(-1),b.on("snap.util.getattr.font-size",j)(-1)}),d.plugin(function(a,b){var c=/\S+/g,d=String,e=b.prototype;e.addClass=function(a){var b,e,f,g,h=d(a||"").match(c)||[],i=this.node,j=i.className.baseVal,k=j.match(c)||[];if(h.length){for(b=0;f=h[b++];)e=k.indexOf(f),~e||k.push(f);g=k.join(" "),j!=g&&(i.className.baseVal=g)}return this},e.removeClass=function(a){var b,e,f,g,h=d(a||"").match(c)||[],i=this.node,j=i.className.baseVal,k=j.match(c)||[];if(k.length){for(b=0;f=h[b++];)e=k.indexOf(f),~e&&k.splice(e,1);g=k.join(" "),j!=g&&(i.className.baseVal=g)}return this},e.hasClass=function(a){var b=this.node,d=b.className.baseVal,e=d.match(c)||[];return!!~e.indexOf(a)},e.toggleClass=function(a,b){if(null!=b)return b?this.addClass(a):this.removeClass(a);var d,e,f,g,h=(a||"").match(c)||[],i=this.node,j=i.className.baseVal,k=j.match(c)||[];for(d=0;f=h[d++];)e=k.indexOf(f),~e?k.splice(e,1):k.push(f);return g=k.join(" "),j!=g&&(i.className.baseVal=g),this}}),d.plugin(function(){function a(a){return a}function c(a){return function(b){return+b.toFixed(3)+a}}var d={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},e=String,f=/[a-z]+$/i,g=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;b.on("snap.util.attr",function(a){var c=e(a).match(g);if(c){var h=b.nt(),i=h.substring(h.lastIndexOf(".")+1),j=this.attr(i),k={};b.stop();var l=c[3]||"",m=j.match(f),n=d[c[1]];if(m&&m==l?a=n(parseFloat(j),+c[2]):(j=this.asPX(i),a=n(this.asPX(i),this.asPX(i,c[2]+l))),isNaN(j)||isNaN(a))return;k[i]=a,this.attr(k)}})(-10),b.on("snap.util.equal",function(h,i){var j=e(this.attr(h)||""),k=e(i).match(g);if(k){b.stop();var l=k[3]||"",m=j.match(f),n=d[k[1]];return m&&m==l?{from:parseFloat(j),to:n(parseFloat(j),+k[2]),f:c(m)}:(j=this.asPX(h),{from:j,to:n(j,this.asPX(h,k[2]+l)),f:a})}})(-10)}),d.plugin(function(c,d,e,f){var g=e.prototype,h=c.is;g.rect=function(a,b,c,d,e,f){var g;return null==f&&(f=e),h(a,"object")&&"[object Object]"==a?g=a:null!=a&&(g={x:a,y:b,width:c,height:d},null!=e&&(g.rx=e,g.ry=f)),this.el("rect",g)},g.circle=function(a,b,c){var d;return h(a,"object")&&"[object Object]"==a?d=a:null!=a&&(d={cx:a,cy:b,r:c}),this.el("circle",d)};var i=function(){function a(){this.parentNode.removeChild(this)}return function(b,c){var d=f.doc.createElement("img"),e=f.doc.body;d.style.cssText="position:absolute;left:-9999em;top:-9999em",d.onload=function(){c.call(d),d.onload=d.onerror=null,e.removeChild(d)},d.onerror=a,e.appendChild(d),d.src=b}}();g.image=function(a,b,d,e,f){var g=this.el("image");if(h(a,"object")&&"src"in a)g.attr(a);else if(null!=a){var j={"xlink:href":a,preserveAspectRatio:"none"};null!=b&&null!=d&&(j.x=b,j.y=d),null!=e&&null!=f?(j.width=e,j.height=f):i(a,function(){c._.$(g.node,{width:this.offsetWidth,height:this.offsetHeight})}),c._.$(g.node,j)}return g},g.ellipse=function(a,b,c,d){var e;return h(a,"object")&&"[object Object]"==a?e=a:null!=a&&(e={cx:a,cy:b,rx:c,ry:d}),this.el("ellipse",e)},g.path=function(a){var b;return h(a,"object")&&!h(a,"array")?b=a:a&&(b={d:a}),this.el("path",b)},g.group=g.g=function(a){var b=this.el("g");return 1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0)),b},g.svg=function(a,b,c,d,e,f,g,i){var j={};return h(a,"object")&&null==b?j=a:(null!=a&&(j.x=a),null!=b&&(j.y=b),null!=c&&(j.width=c),null!=d&&(j.height=d),null!=e&&null!=f&&null!=g&&null!=i&&(j.viewBox=[e,f,g,i])),this.el("svg",j)},g.mask=function(a){var b=this.el("mask");return 1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0)),b},g.ptrn=function(a,b,c,d,e,f,g,i){if(h(a,"object"))var j=a;else j={patternUnits:"userSpaceOnUse"},a&&(j.x=a),b&&(j.y=b),null!=c&&(j.width=c),null!=d&&(j.height=d),j.viewBox=null!=e&&null!=f&&null!=g&&null!=i?[e,f,g,i]:[a||0,b||0,c||0,d||0];return this.el("pattern",j)},g.use=function(a){return null!=a?(a instanceof d&&(a.attr("id")||a.attr({id:c._.id(a)}),a=a.attr("id")),"#"==String(a).charAt()&&(a=a.substring(1)),this.el("use",{"xlink:href":"#"+a})):d.prototype.use.call(this)},g.symbol=function(a,b,c,d){var e={};return null!=a&&null!=b&&null!=c&&null!=d&&(e.viewBox=[a,b,c,d]),this.el("symbol",e)},g.text=function(a,b,c){var d={};return h(a,"object")?d=a:null!=a&&(d={x:a,y:b,text:c||""}),this.el("text",d)},g.line=function(a,b,c,d){var e={};return h(a,"object")?e=a:null!=a&&(e={x1:a,x2:c,y1:b,y2:d}),this.el("line",e)},g.polyline=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b={};return h(a,"object")&&!h(a,"array")?b=a:null!=a&&(b={points:a}),this.el("polyline",b)},g.polygon=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b={};return h(a,"object")&&!h(a,"array")?b=a:null!=a&&(b={points:a}),this.el("polygon",b)},function(){function d(){return this.selectAll("stop")}function e(a,b){var d=k("stop"),e={offset:+b+"%"};return a=c.color(a),e["stop-color"]=a.hex,a.opacity<1&&(e["stop-opacity"]=a.opacity),k(d,e),this.node.appendChild(d),this}function f(){if("linearGradient"==this.type){var a=k(this.node,"x1")||0,b=k(this.node,"x2")||1,d=k(this.node,"y1")||0,e=k(this.node,"y2")||0;return c._.box(a,d,math.abs(b-a),math.abs(e-d))}var f=this.node.cx||.5,g=this.node.cy||.5,h=this.node.r||0;return c._.box(f-h,g-h,2*h,2*h)}function h(a,c){function d(a,b){for(var c=(b-l)/(a-m),d=m;a>d;d++)g[d].offset=+(+l+c*(d-m)).toFixed(2);m=a,l=b}var e,f=b("snap.util.grad.parse",null,c).firstDefined();if(!f)return null;f.params.unshift(a),e="l"==f.type.toLowerCase()?i.apply(0,f.params):j.apply(0,f.params),f.type!=f.type.toLowerCase()&&k(e.node,{gradientUnits:"userSpaceOnUse"});var g=f.stops,h=g.length,l=0,m=0;h--;for(var n=0;h>n;n++)"offset"in g[n]&&d(n,g[n].offset);for(g[h].offset=g[h].offset||100,d(h,g[h].offset),n=0;h>=n;n++){var o=g[n];e.addStop(o.color,o.offset)}return e}function i(a,b,g,h,i){var j=c._.make("linearGradient",a);return j.stops=d,j.addStop=e,j.getBBox=f,null!=b&&k(j.node,{x1:b,y1:g,x2:h,y2:i}),j}function j(a,b,g,h,i,j){var l=c._.make("radialGradient",a);return l.stops=d,l.addStop=e,l.getBBox=f,null!=b&&k(l.node,{cx:b,cy:g,r:h}),null!=i&&null!=j&&k(l.node,{fx:i,fy:j}),l}var k=c._.$;g.gradient=function(a){return h(this.defs,a)},g.gradientLinear=function(a,b,c,d){return i(this.defs,a,b,c,d)},g.gradientRadial=function(a,b,c,d,e){return j(this.defs,a,b,c,d,e)},g.toString=function(){var a,b=this.node.ownerDocument,d=b.createDocumentFragment(),e=b.createElement("div"),f=this.node.cloneNode(!0);return d.appendChild(e),e.appendChild(f),c._.$(f,{xmlns:"http://www.w3.org/2000/svg"}),a=e.innerHTML,d.removeChild(d.firstChild),a},g.toDataURL=function(){return a&&a.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0},g.clear=function(){for(var a,b=this.node.firstChild;b;)a=b.nextSibling,"defs"!=b.tagName?b.parentNode.removeChild(b):g.clear.call({node:b}),b=a}}()}),d.plugin(function(a,b){function c(a){var b=c.ps=c.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[K](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]}function d(a,b,c,d){return null==a&&(a=b=c=d=0),null==b&&(b=a.y,c=a.width,d=a.height,a=a.x),{x:a,y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:N.min(c,d)/2,r2:N.max(c,d)/2,r0:N.sqrt(c*c+d*d)/2,path:w(a,b,c,d),vb:[a,b,c,d].join(" ")}}function e(){return this.join(",").replace(L,"$1")}function f(a){var b=J(a);return b.toString=e,b}function g(a,b,c,d,e,f,g,h,j){return null==j?n(a,b,c,d,e,f,g,h):i(a,b,c,d,e,f,g,h,o(a,b,c,d,e,f,g,h,j))}function h(c,d){function e(a){return+(+a).toFixed(3)}return a._.cacher(function(a,f,h){a instanceof b&&(a=a.attr("d")),a=E(a);for(var j,k,l,m,n,o="",p={},q=0,r=0,s=a.length;s>r;r++){if(l=a[r],"M"==l[0])j=+l[1],k=+l[2];else{if(m=g(j,k,l[1],l[2],l[3],l[4],l[5],l[6]),q+m>f){if(d&&!p.start){if(n=g(j,k,l[1],l[2],l[3],l[4],l[5],l[6],f-q),o+=["C"+e(n.start.x),e(n.start.y),e(n.m.x),e(n.m.y),e(n.x),e(n.y)],h)return o;p.start=o,o=["M"+e(n.x),e(n.y)+"C"+e(n.n.x),e(n.n.y),e(n.end.x),e(n.end.y),e(l[5]),e(l[6])].join(),q+=m,j=+l[5],k=+l[6];continue}if(!c&&!d)return n=g(j,k,l[1],l[2],l[3],l[4],l[5],l[6],f-q)}q+=m,j=+l[5],k=+l[6]}o+=l.shift()+l}return p.end=o,n=c?q:d?p:i(j,k,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,a._.clone)}function i(a,b,c,d,e,f,g,h,i){var j=1-i,k=R(j,3),l=R(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*N.atan2(q-s,r-t)/O;return{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}}function j(b,c,e,f,g,h,i,j){a.is(b,"array")||(b=[b,c,e,f,g,h,i,j]);var k=D.apply(null,b);return d(k.min.x,k.min.y,k.max.x-k.min.x,k.max.y-k.min.y)}function k(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function l(a,b){return a=d(a),b=d(b),k(b,a.x,a.y)||k(b,a.x2,a.y)||k(b,a.x,a.y2)||k(b,a.x2,a.y2)||k(a,b.x,b.y)||k(a,b.x2,b.y)||k(a,b.x,b.y2)||k(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)}function m(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function n(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:0>i?0:i;for(var j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],n=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],o=0,p=0;k>p;p++){var q=j*l[p]+j,r=m(q,a,c,e,g),s=m(q,b,d,f,h),t=r*r+s*s;o+=n[p]*N.sqrt(t)}return j*o}function o(a,b,c,d,e,f,g,h,i){if(!(0>i||n(a,b,c,d,e,f,g,h)<i)){var j,k=1,l=k/2,m=k-l,o=.01;for(j=n(a,b,c,d,e,f,g,h,m);S(j-i)>o;)l/=2,m+=(i>j?1:-1)*l,j=n(a,b,c,d,e,f,g,h,m);return m}}function p(a,b,c,d,e,f,g,h){if(!(Q(a,c)<P(e,g)||P(a,c)>Q(e,g)||Q(b,d)<P(f,h)||P(b,d)>Q(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(!(n<+P(a,c).toFixed(2)||n>+Q(a,c).toFixed(2)||n<+P(e,g).toFixed(2)||n>+Q(e,g).toFixed(2)||o<+P(b,d).toFixed(2)||o>+Q(b,d).toFixed(2)||o<+P(f,h).toFixed(2)||o>+Q(f,h).toFixed(2)))return{x:l,y:m}}}}function q(a,b,c){var d=j(a),e=j(b);if(!l(d,e))return c?0:[];for(var f=n.apply(0,a),g=n.apply(0,b),h=~~(f/8),k=~~(g/8),m=[],o=[],q={},r=c?0:[],s=0;h+1>s;s++){var t=i.apply(0,a.concat(s/h));m.push({x:t.x,y:t.y,t:s/h})}for(s=0;k+1>s;s++)t=i.apply(0,b.concat(s/k)),o.push({x:t.x,y:t.y,t:s/k});for(s=0;h>s;s++)for(var u=0;k>u;u++){var v=m[s],w=m[s+1],x=o[u],y=o[u+1],z=S(w.x-v.x)<.001?"y":"x",A=S(y.x-x.x)<.001?"y":"x",B=p(v.x,v.y,w.x,w.y,x.x,x.y,y.x,y.y);if(B){if(q[B.x.toFixed(4)]==B.y.toFixed(4))continue;q[B.x.toFixed(4)]=B.y.toFixed(4);var C=v.t+S((B[z]-v[z])/(w[z]-v[z]))*(w.t-v.t),D=x.t+S((B[A]-x[A])/(y[A]-x[A]))*(y.t-x.t);C>=0&&1>=C&&D>=0&&1>=D&&(c?r++:r.push({x:B.x,y:B.y,t1:C,t2:D}))}}return r}function r(a,b){return t(a,b)}function s(a,b){return t(a,b,1)}function t(a,b,c){a=E(a),b=E(b);for(var d,e,f,g,h,i,j,k,l,m,n=c?0:[],o=0,p=a.length;p>o;o++){var r=a[o];if("M"==r[0])d=h=r[1],e=i=r[2];else{"C"==r[0]?(l=[d,e].concat(r.slice(1)),d=l[6],e=l[7]):(l=[d,e,d,e,h,i,h,i],d=h,e=i);for(var s=0,t=b.length;t>s;s++){var u=b[s];if("M"==u[0])f=j=u[1],g=k=u[2];else{"C"==u[0]?(m=[f,g].concat(u.slice(1)),f=m[6],g=m[7]):(m=[f,g,f,g,j,k,j,k],f=j,g=k);var v=q(l,m,c);if(c)n+=v;else{for(var w=0,x=v.length;x>w;w++)v[w].segment1=o,v[w].segment2=s,v[w].bez1=l,v[w].bez2=m;n=n.concat(v)}}}}}return n}function u(a,b,c){var d=v(a);return k(d,b,c)&&t(a,[["M",b,c],["H",d.x2+10]],1)%2==1}function v(a){var b=c(a);if(b.bbox)return J(b.bbox);if(!a)return d();a=E(a);for(var e,f=0,g=0,h=[],i=[],j=0,k=a.length;k>j;j++)if(e=a[j],"M"==e[0])f=e[1],g=e[2],h.push(f),i.push(g);else{var l=D(f,g,e[1],e[2],e[3],e[4],e[5],e[6]);h=h.concat(l.min.x,l.max.x),i=i.concat(l.min.y,l.max.y),f=e[5],g=e[6]}var m=P.apply(0,h),n=P.apply(0,i),o=Q.apply(0,h),p=Q.apply(0,i),q=d(m,n,o-m,p-n);return b.bbox=J(q),q}function w(a,b,c,d,f){if(f)return[["M",+a+ +f,b],["l",c-2*f,0],["a",f,f,0,0,1,f,f],["l",0,d-2*f],["a",f,f,0,0,1,-f,f],["l",2*f-c,0],["a",f,f,0,0,1,-f,-f],["l",0,2*f-d],["a",f,f,0,0,1,f,-f],["z"]];var g=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];return g.toString=e,g}function x(a,b,c,d,f){if(null==f&&null==d&&(d=c),a=+a,b=+b,c=+c,d=+d,null!=f)var g=Math.PI/180,h=a+c*Math.cos(-d*g),i=a+c*Math.cos(-f*g),j=b+c*Math.sin(-d*g),k=b+c*Math.sin(-f*g),l=[["M",h,j],["A",c,c,0,+(f-d>180),0,i,k]];else l=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]];return l.toString=e,l}function y(b){var d=c(b),g=String.prototype.toLowerCase;if(d.rel)return f(d.rel);a.is(b,"array")&&a.is(b&&b[0],"array")||(b=a.parsePathString(b));var h=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=b[0][1],j=b[0][2],k=i,l=j,m++,h.push(["M",i,j]));for(var n=m,o=b.length;o>n;n++){var p=h[n]=[],q=b[n];if(q[0]!=g.call(q[0]))switch(p[0]=g.call(q[0]),p[0]){case"a":p[1]=q[1],p[2]=q[2],p[3]=q[3],p[4]=q[4],p[5]=q[5],p[6]=+(q[6]-i).toFixed(3),p[7]=+(q[7]-j).toFixed(3);break;case"v":p[1]=+(q[1]-j).toFixed(3);break;case"m":k=q[1],l=q[2];default:for(var r=1,s=q.length;s>r;r++)p[r]=+(q[r]-(r%2?i:j)).toFixed(3)}else{p=h[n]=[],"m"==q[0]&&(k=q[1]+i,l=q[2]+j);for(var t=0,u=q.length;u>t;t++)h[n][t]=q[t]}var v=h[n].length;switch(h[n][0]){case"z":i=k,j=l;break;case"h":i+=+h[n][v-1];break;case"v":j+=+h[n][v-1];break;default:i+=+h[n][v-2],j+=+h[n][v-1]}}return h.toString=e,d.rel=f(h),h}function z(b){var d=c(b);if(d.abs)return f(d.abs);if(I(b,"array")&&I(b&&b[0],"array")||(b=a.parsePathString(b)),!b||!b.length)return[["M",0,0]];var g,h=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=+b[0][1],j=+b[0][2],k=i,l=j,m++,h[0]=["M",i,j]);for(var n,o,p=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),q=m,r=b.length;r>q;q++){if(h.push(n=[]),o=b[q],g=o[0],g!=g.toUpperCase())switch(n[0]=g.toUpperCase(),n[0]){case"A":n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=+o[6]+i,n[7]=+o[7]+j;break;case"V":n[1]=+o[1]+j;break;case"H":n[1]=+o[1]+i;break;case"R":for(var s=[i,j].concat(o.slice(1)),t=2,u=s.length;u>t;t++)s[t]=+s[t]+i,s[++t]=+s[t]+j;h.pop(),h=h.concat(G(s,p));break;case"O":h.pop(),s=x(i,j,o[1],o[2]),s.push(s[0]),h=h.concat(s);break;case"U":h.pop(),h=h.concat(x(i,j,o[1],o[2],o[3])),n=["U"].concat(h[h.length-1].slice(-2));break;case"M":k=+o[1]+i,l=+o[2]+j;default:for(t=1,u=o.length;u>t;t++)n[t]=+o[t]+(t%2?i:j)}else if("R"==g)s=[i,j].concat(o.slice(1)),h.pop(),h=h.concat(G(s,p)),n=["R"].concat(o.slice(-2));else if("O"==g)h.pop(),s=x(i,j,o[1],o[2]),s.push(s[0]),h=h.concat(s);else if("U"==g)h.pop(),h=h.concat(x(i,j,o[1],o[2],o[3])),n=["U"].concat(h[h.length-1].slice(-2));else for(var v=0,w=o.length;w>v;v++)n[v]=o[v];if(g=g.toUpperCase(),"O"!=g)switch(n[0]){case"Z":i=+k,j=+l;break;case"H":i=n[1];break;case"V":j=n[1];break;case"M":k=n[n.length-2],l=n[n.length-1];default:i=n[n.length-2],j=n[n.length-1]}}return h.toString=e,d.abs=f(h),h}function A(a,b,c,d){return[a,b,c,d,c,d]}function B(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]}function C(b,c,d,e,f,g,h,i,j,k){var l,m=120*O/180,n=O/180*(+f||0),o=[],p=a._.cacher(function(a,b,c){var d=a*N.cos(c)-b*N.sin(c),e=a*N.sin(c)+b*N.cos(c);return{x:d,y:e}});if(k)y=k[0],z=k[1],w=k[2],x=k[3];else{l=p(b,c,-n),b=l.x,c=l.y,l=p(i,j,-n),i=l.x,j=l.y;var q=(N.cos(O/180*f),N.sin(O/180*f),(b-i)/2),r=(c-j)/2,s=q*q/(d*d)+r*r/(e*e);s>1&&(s=N.sqrt(s),d=s*d,e=s*e);var t=d*d,u=e*e,v=(g==h?-1:1)*N.sqrt(S((t*u-t*r*r-u*q*q)/(t*r*r+u*q*q))),w=v*d*r/e+(b+i)/2,x=v*-e*q/d+(c+j)/2,y=N.asin(((c-x)/e).toFixed(9)),z=N.asin(((j-x)/e).toFixed(9));y=w>b?O-y:y,z=w>i?O-z:z,0>y&&(y=2*O+y),0>z&&(z=2*O+z),h&&y>z&&(y-=2*O),!h&&z>y&&(z-=2*O)}var A=z-y;if(S(A)>m){var B=z,D=i,E=j;z=y+m*(h&&z>y?1:-1),i=w+d*N.cos(z),j=x+e*N.sin(z),o=C(i,j,d,e,f,0,h,D,E,[z,B,w,x])}A=z-y;var F=N.cos(y),G=N.sin(y),H=N.cos(z),I=N.sin(z),J=N.tan(A/4),K=4/3*d*J,L=4/3*e*J,M=[b,c],P=[b+K*G,c-L*F],Q=[i+K*I,j-L*H],R=[i,j];if(P[0]=2*M[0]-P[0],P[1]=2*M[1]-P[1],k)return[P,Q,R].concat(o);o=[P,Q,R].concat(o).join().split(",");for(var T=[],U=0,V=o.length;V>U;U++)T[U]=U%2?p(o[U-1],o[U],n).y:p(o[U],o[U+1],n).x;return T}function D(a,b,c,d,e,f,g,h){for(var i,j,k,l,m,n,o,p,q=[],r=[[],[]],s=0;2>s;++s)if(0==s?(j=6*a-12*c+6*e,i=-3*a+9*c-9*e+3*g,k=3*c-3*a):(j=6*b-12*d+6*f,i=-3*b+9*d-9*f+3*h,k=3*d-3*b),S(i)<1e-12){if(S(j)<1e-12)continue;l=-k/j,l>0&&1>l&&q.push(l)}else o=j*j-4*k*i,p=N.sqrt(o),0>o||(m=(-j+p)/(2*i),m>0&&1>m&&q.push(m),n=(-j-p)/(2*i),n>0&&1>n&&q.push(n));for(var t,u=q.length,v=u;u--;)l=q[u],t=1-l,r[0][u]=t*t*t*a+3*t*t*l*c+3*t*l*l*e+l*l*l*g,r[1][u]=t*t*t*b+3*t*t*l*d+3*t*l*l*f+l*l*l*h;return r[0][v]=a,r[1][v]=b,r[0][v+1]=g,r[1][v+1]=h,r[0].length=r[1].length=v+2,{min:{x:P.apply(0,r[0]),y:P.apply(0,r[1])},max:{x:Q.apply(0,r[0]),y:Q.apply(0,r[1])}}}function E(a,b){var d=!b&&c(a);if(!b&&d.curve)return f(d.curve);for(var e=z(a),g=b&&z(b),h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=(function(a,b,c){var d,e;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"].concat(C.apply(0,[b.x,b.y].concat(a.slice(1))));break;case"S":"C"==c||"S"==c?(d=2*b.x-b.bx,e=2*b.y-b.by):(d=b.x,e=b.y),a=["C",d,e].concat(a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y),a=["C"].concat(B(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"].concat(B(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(A(b.x,b.y,a[1],a[2]));break;case"H":a=["C"].concat(A(b.x,b.y,a[1],b.y));break;case"V":a=["C"].concat(A(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"].concat(A(b.x,b.y,b.X,b.Y))}return a}),k=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)m[b]="A",g&&(n[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1),r=Q(e.length,g&&g.length||0)}},l=function(a,b,c,d,f){a&&b&&"M"==a[f][0]&&"M"!=b[f][0]&&(b.splice(f,0,["M",d.x,d.y]),c.bx=0,c.by=0,c.x=a[f][1],c.y=a[f][2],r=Q(e.length,g&&g.length||0))},m=[],n=[],o="",p="",q=0,r=Q(e.length,g&&g.length||0);r>q;q++){e[q]&&(o=e[q][0]),"C"!=o&&(m[q]=o,q&&(p=m[q-1])),e[q]=j(e[q],h,p),"A"!=m[q]&&"C"==o&&(m[q]="C"),k(e,q),g&&(g[q]&&(o=g[q][0]),"C"!=o&&(n[q]=o,q&&(p=n[q-1])),g[q]=j(g[q],i,p),"A"!=n[q]&&"C"==o&&(n[q]="C"),k(g,q)),l(e,g,h,i,q),l(g,e,i,h,q);var s=e[q],t=g&&g[q],u=s.length,v=g&&t.length;h.x=s[u-2],h.y=s[u-1],h.bx=M(s[u-4])||h.x,h.by=M(s[u-3])||h.y,i.bx=g&&(M(t[v-4])||i.x),i.by=g&&(M(t[v-3])||i.y),i.x=g&&t[v-2],i.y=g&&t[v-1]}return g||(d.curve=f(e)),g?[e,g]:e}function F(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=E(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a}function G(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}var H=b.prototype,I=a.is,J=a._.clone,K="hasOwnProperty",L=/,?([a-z]),?/gi,M=parseFloat,N=Math,O=N.PI,P=N.min,Q=N.max,R=N.pow,S=N.abs,T=h(1),U=h(),V=h(0,1),W=a._unit2px,X={path:function(a){return a.attr("path")},circle:function(a){var b=W(a);return x(b.cx,b.cy,b.r)},ellipse:function(a){var b=W(a);return x(b.cx||0,b.cy||0,b.rx,b.ry)},rect:function(a){var b=W(a);return w(b.x||0,b.y||0,b.width,b.height,b.rx,b.ry)},image:function(a){var b=W(a);return w(b.x||0,b.y||0,b.width,b.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){var b=a.node.getBBox();return w(b.x,b.y,b.width,b.height)}};a.path=c,a.path.getTotalLength=T,a.path.getPointAtLength=U,a.path.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return V(a,b).end;var d=V(a,c,1);return b?V(d,b).end:d},H.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},H.getPointAtLength=function(a){return U(this.attr("d"),a)},H.getSubpath=function(b,c){return a.path.getSubpath(this.attr("d"),b,c)},a._.box=d,a.path.findDotsAtSegment=i,a.path.bezierBBox=j,a.path.isPointInsideBBox=k,a.closest=function(b,c,e,f){for(var g=100,h=d(b-g/2,c-g/2,g,g),i=[],j=e[0].hasOwnProperty("x")?function(a){return{x:e[a].x,y:e[a].y}}:function(a){return{x:e[a],y:f[a]}},l=0;1e6>=g&&!l;){for(var m=0,n=e.length;n>m;m++){var o=j(m);if(k(h,o.x,o.y)){l++,i.push(o);break}}l||(g*=2,h=d(b-g/2,c-g/2,g,g))}if(1e6!=g){var p,q=1/0;for(m=0,n=i.length;n>m;m++){var r=a.len(b,c,i[m].x,i[m].y);q>r&&(q=r,i[m].len=r,p=i[m])}return p}},a.path.isBBoxIntersect=l,a.path.intersection=r,a.path.intersectionNumber=s,a.path.isPointInside=u,a.path.getBBox=v,a.path.get=X,a.path.toRelative=y,a.path.toAbsolute=z,a.path.toCubic=E,a.path.map=F,a.path.toString=e,a.path.clone=f}),d.plugin(function(a){var d=Math.max,e=Math.min,f=function(a){if(this.items=[],this.bindings={},this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)a[b]&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},g=f.prototype;g.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],a&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},g.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},g.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this},g.animate=function(d,e,f,g){"function"!=typeof f||f.length||(g=f,f=c.linear),d instanceof a._.Animation&&(g=d.callback,f=d.easing,e=f.dur,d=d.attr);var h=arguments;if(a.is(d,"array")&&a.is(h[h.length-1],"array"))var i=!0;var j,k=function(){j?this.b=j:j=this.b},l=0,m=this,n=g&&function(){++l==m.length&&g.call(this)
};return this.forEach(function(a,c){b.once("snap.animcreated."+a.id,k),i?h[c]&&a.animate.apply(a,h[c]):a.animate(d,e,f,n)})},g.remove=function(){for(;this.length;)this.pop().remove();return this},g.bind=function(a,b,c){var d={};if("function"==typeof b)this.bindings[a]=b;else{var e=c||a;this.bindings[a]=function(a){d[e]=a,b.attr(d)}}return this},g.attr=function(a){var b={};for(var c in a)this.bindings[c]?this.bindings[c](a[c]):b[c]=a[c];for(var d=0,e=this.items.length;e>d;d++)this.items[d].attr(b);return this},g.clear=function(){for(;this.length;)this.pop()},g.splice=function(a,b){a=0>a?d(this.length+a,0):a,b=d(0,e(this.length-a,b));var c,g=[],h=[],i=[];for(c=2;c<arguments.length;c++)i.push(arguments[c]);for(c=0;b>c;c++)h.push(this[a+c]);for(;c<this.length-a;c++)g.push(this[a+c]);var j=i.length;for(c=0;c<j+g.length;c++)this.items[a+c]=this[a+c]=j>c?i[c]:g[c-j];for(c=this.items.length=this.length-=b-j;this[c];)delete this[c++];return new f(h)},g.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0;return!1},g.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},g.getBBox=function(){for(var a=[],b=[],c=[],f=[],g=this.items.length;g--;)if(!this.items[g].removed){var h=this.items[g].getBBox();a.push(h.x),b.push(h.y),c.push(h.x+h.width),f.push(h.y+h.height)}return a=e.apply(0,a),b=e.apply(0,b),c=d.apply(0,c),f=d.apply(0,f),{x:a,y:b,x2:c,y2:f,width:c-a,height:f-b,cx:a+(c-a)/2,cy:b+(f-b)/2}},g.clone=function(a){a=new f;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},g.toString=function(){return"Snaps set"},g.type="set",a.Set=f,a.set=function(){var a=new f;return arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0)),a}}),d.plugin(function(a,c){function d(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function e(b,c,e){c=p(c).replace(/\.{3}|\u2026/g,b),b=a.parseTransformString(b)||[],c=a.parseTransformString(c)||[];for(var f,g,h,i,l=Math.max(b.length,c.length),m=[],n=[],o=0;l>o;o++){if(h=b[o]||d(c[o]),i=c[o]||d(h),h[0]!=i[0]||"r"==h[0].toLowerCase()&&(h[2]!=i[2]||h[3]!=i[3])||"s"==h[0].toLowerCase()&&(h[3]!=i[3]||h[4]!=i[4])){b=a._.transform2matrix(b,e()),c=a._.transform2matrix(c,e()),m=[["m",b.a,b.b,b.c,b.d,b.e,b.f]],n=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break}for(m[o]=[],n[o]=[],f=0,g=Math.max(h.length,i.length);g>f;f++)f in h&&(m[o][f]=h[f]),f in i&&(n[o][f]=i[f])}return{from:k(m),to:k(n),f:j(m)}}function f(a){return a}function g(a){return function(b){return+b.toFixed(3)+a}}function h(a){return a.join(" ")}function i(b){return a.rgb(b[0],b[1],b[2])}function j(a){var b,c,d,e,f,g,h=0,i=[];for(b=0,c=a.length;c>b;b++){for(f="[",g=['"'+a[b][0]+'"'],d=1,e=a[b].length;e>d;d++)g[d]="val["+h++ +"]";f+=g+"]",i[b]=f}return Function("val","return Snap.path.toString.call(["+i+"])")}function k(a){for(var b=[],c=0,d=a.length;d>c;c++)for(var e=1,f=a[c].length;f>e;e++)b.push(a[c][e]);return b}function l(a){return isFinite(parseFloat(a))}function m(b,c){return a.is(b,"array")&&a.is(c,"array")?b.toString()==c.toString():!1}var n={},o=/[a-z]+$/i,p=String;n.stroke=n.fill="colour",c.prototype.equal=function(a,c){return b("snap.util.equal",this,a,c).firstDefined()},b.on("snap.util.equal",function(b,c){var d,q,r=p(this.attr(b)||""),s=this;if(l(r)&&l(c))return{from:parseFloat(r),to:parseFloat(c),f:f};if("colour"==n[b])return d=a.color(r),q=a.color(c),{from:[d.r,d.g,d.b,d.opacity],to:[q.r,q.g,q.b,q.opacity],f:i};if("viewBox"==b)return d=this.attr(b).vb.split(" ").map(Number),q=c.split(" ").map(Number),{from:d,to:q,f:h};if("transform"==b||"gradientTransform"==b||"patternTransform"==b)return c instanceof a.Matrix&&(c=c.toTransformString()),a._.rgTransform.test(c)||(c=a._.svgTransform2string(c)),e(r,c,function(){return s.getBBox(1)});if("d"==b||"path"==b)return d=a.path.toCubic(r,c),{from:k(d[0]),to:k(d[1]),f:j(d[0])};if("points"==b)return d=p(r).split(a._.separator),q=p(c).split(a._.separator),{from:d,to:q,f:function(a){return a}};var t=r.match(o),u=p(c).match(o);return t&&m(t,u)?{from:parseFloat(r),to:parseFloat(c),f:g(t)}:{from:this.asPX(b),to:this.asPX(b,c),f:f}})}),d.plugin(function(a,c,d,e){for(var f=c.prototype,g="hasOwnProperty",h=("createTouch"in e.doc),i=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],j={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},k=(function(a,b){var c="y"==a?"scrollTop":"scrollLeft",d=b&&b.node?b.node.ownerDocument:e.doc;return d[c in d.documentElement?"documentElement":"body"][c]}),l=function(){return this.originalEvent.preventDefault()},m=function(){return this.originalEvent.stopPropagation()},n=function(a,b,c,d){var e=h&&j[b]?j[b]:b,f=function(e){var f=k("y",d),i=k("x",d);if(h&&j[g](b))for(var n=0,o=e.targetTouches&&e.targetTouches.length;o>n;n++)if(e.targetTouches[n].target==a||a.contains(e.targetTouches[n].target)){var p=e;e=e.targetTouches[n],e.originalEvent=p,e.preventDefault=l,e.stopPropagation=m;break}var q=e.clientX+i,r=e.clientY+f;return c.call(d,e,q,r)};return b!==e&&a.addEventListener(b,f,!1),a.addEventListener(e,f,!1),function(){return b!==e&&a.removeEventListener(b,f,!1),a.removeEventListener(e,f,!1),!0}},o=[],p=function(a){for(var c,d=a.clientX,e=a.clientY,f=k("y"),g=k("x"),i=o.length;i--;){if(c=o[i],h){for(var j,l=a.touches&&a.touches.length;l--;)if(j=a.touches[l],j.identifier==c.el._drag.id||c.el.node.contains(j.target)){d=j.clientX,e=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();{var m=c.el.node;m.nextSibling,m.parentNode,m.style.display}d+=g,e+=f,b("snap.drag.move."+c.el.id,c.move_scope||c.el,d-c.el._drag.x,e-c.el._drag.y,d,e,a)}},q=function(c){a.unmousemove(p).unmouseup(q);for(var d,e=o.length;e--;)d=o[e],d.el._drag={},b("snap.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,c),b.off("snap.drag.*."+d.el.id);o=[]},r=i.length;r--;)!function(b){a[b]=f[b]=function(c,d){if(a.is(c,"function"))this.events=this.events||[],this.events.push({name:b,f:c,unbind:n(this.node||document,b,c,d||this)});else for(var e=0,f=this.events.length;f>e;e++)if(this.events[e].name==b)try{this.events[e].f.call(this)}catch(g){}return this},a["un"+b]=f["un"+b]=function(a){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==b&&(c[d].f==a||!a))return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}}(i[r]);f.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},f.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var s=[];f.drag=function(c,d,e,f,g,h){function i(i,j,l){(i.originalEvent||i).preventDefault(),k._drag.x=j,k._drag.y=l,k._drag.id=i.identifier,!o.length&&a.mousemove(p).mouseup(q),o.push({el:k,move_scope:f,start_scope:g,end_scope:h}),d&&b.on("snap.drag.start."+k.id,d),c&&b.on("snap.drag.move."+k.id,c),e&&b.on("snap.drag.end."+k.id,e),b("snap.drag.start."+k.id,g||f||k,j,l,i)}function j(a,c,d){b("snap.draginit."+k.id,k,a,c,d)}var k=this;if(!arguments.length){var l;return k.drag(function(a,b){this.attr({transform:l+(l?"T":"t")+[a,b]})},function(){l=this.transform().local})}return b.on("snap.draginit."+k.id,i),k._drag={},s.push({el:k,start:i,init:j}),k.mousedown(j),k},f.undrag=function(){for(var c=s.length;c--;)s[c].el==this&&(this.unmousedown(s[c].init),s.splice(c,1),b.unbind("snap.drag.*."+this.id),b.unbind("snap.draginit."+this.id));return!s.length&&a.unmousemove(p).unmouseup(q),this}}),d.plugin(function(a,c,d){var e=(c.prototype,d.prototype),f=/^\s*url\((.+)\)/,g=String,h=a._.$;a.filter={},e.filter=function(b){var d=this;"svg"!=d.type&&(d=d.paper);var e=a.parse(g(b)),f=a._.id(),i=(d.node.getBoundingClientRect().width,d.node.getBoundingClientRect().height,h("filter"));return h(i,{id:f,filterUnits:"userSpaceOnUse"}),i.appendChild(e.node),d.defs.appendChild(i),new c(i)},b.on("snap.util.getattr.filter",function(){b.stop();var c=h(this.node,"filter");if(c){var d=g(c).match(f);return d&&a.select(d[1])}}),b.on("snap.util.attr.filter",function(d){if(d instanceof c&&"filter"==d.type){b.stop();var e=d.node.id;e||(h(d.node,{id:d.id}),e=d.id),h(this.node,{filter:a.url(e)})}d&&"none"!=d||(b.stop(),this.node.removeAttribute("filter"))}),a.filter.blur=function(b,c){null==b&&(b=2);var d=null==c?b:[b,c];return a.format('<feGaussianBlur stdDeviation="{def}"/>',{def:d})},a.filter.blur.toString=function(){return this()},a.filter.shadow=function(b,c,d,e,f){return"string"==typeof d&&(e=d,f=e,d=4),"string"!=typeof e&&(f=e,e="#000"),e=e||"#000",null==d&&(d=4),null==f&&(f=1),null==b&&(b=0,c=2),null==c&&(c=b),e=a.color(e),a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:e,dx:b,dy:c,blur:d,opacity:f})},a.filter.shadow.toString=function(){return this()},a.filter.grayscale=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-b),b:.7152-.7152*(1-b),c:.0722-.0722*(1-b),d:.2126-.2126*(1-b),e:.7152+.2848*(1-b),f:.0722-.0722*(1-b),g:.2126-.2126*(1-b),h:.0722+.9278*(1-b)})},a.filter.grayscale.toString=function(){return this()},a.filter.sepia=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-b),b:.769-.769*(1-b),c:.189-.189*(1-b),d:.349-.349*(1-b),e:.686+.314*(1-b),f:.168-.168*(1-b),g:.272-.272*(1-b),h:.534-.534*(1-b),i:.131+.869*(1-b)})},a.filter.sepia.toString=function(){return this()},a.filter.saturate=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-b})},a.filter.saturate.toString=function(){return this()},a.filter.hueRotate=function(b){return b=b||0,a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:b})},a.filter.hueRotate.toString=function(){return this()},a.filter.invert=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:b,amount2:1-b})},a.filter.invert.toString=function(){return this()},a.filter.brightness=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:b})},a.filter.brightness.toString=function(){return this()},a.filter.contrast=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:b,amount2:.5-b/2})},a.filter.contrast.toString=function(){return this()}}),d.plugin(function(a,b){var c=a._.box,d=a.is,e=/^[^a-z]*([tbmlrc])/i,f=function(){return"T"+this.dx+","+this.dy};b.prototype.getAlign=function(a,b){null==b&&d(a,"string")&&(b=a,a=null),a=a||this.paper;var g=a.getBBox?a.getBBox():c(a),h=this.getBBox(),i={};switch(b=b&&b.match(e),b=b?b[1].toLowerCase():"c"){case"t":i.dx=0,i.dy=g.y-h.y;break;case"b":i.dx=0,i.dy=g.y2-h.y2;break;case"m":i.dx=0,i.dy=g.cy-h.cy;break;case"l":i.dx=g.x-h.x,i.dy=0;break;case"r":i.dx=g.x2-h.x2,i.dy=0;break;default:i.dx=g.cx-h.cx,i.dy=0}return i.toString=f,i},b.prototype.align=function(a,b){return this.transform("..."+this.getAlign(a,b))}}),d});

!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}function r(n){return null===n?0/0:+n}function u(n){return!isNaN(n)}function i(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function c(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function l(){this._=Object.create(null)}function s(n){return(n+="")===pa||n[0]===va?va+n:n}function f(n){return(n+="")[0]===va?n.slice(1):n}function h(n){return s(n)in this._}function g(n){return(n=s(n))in this._&&delete this._[n]}function p(){var n=[];for(var t in this._)n.push(f(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=da.length;r>e;++e){var u=da[e]+t;if(u in n)return u}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new l;return t.on=function(t,u){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function S(){ta.event.preventDefault()}function k(){for(var n,t=ta.event;n=t.sourceEvent;)t=n;return t}function E(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=ta.event;u.target=n,ta.event=u,t[u.type].apply(e,r)}finally{ta.event=i}}},t}function A(n){return ya(n,_a),n}function N(n){return"function"==typeof n?n:function(){return Ma(n,this)}}function C(n){return"function"==typeof n?n:function(){return xa(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ta.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?i:u}function q(n){return n.trim().replace(/\s+/g," ")}function L(n){return new RegExp("(?:^|\\s+)"+ta.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=T(n).map(D);var u=n.length;return"function"==typeof t?r:e}function D(n){var t=L(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",q(u+" "+n))):e.setAttribute("class",q(u.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ta.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return ba(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],o=0,a=i.length;a>o;o++)(u=i[o])&&t(u,o,e);return n}function Z(n){return ya(n,Sa),n}function V(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(o=a[t])&&++t<c;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=c(t,ra(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+ta.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=$;a>0&&(n=n.slice(0,a));var l=ka.get(n);return l&&(n=l,c=B),a?t?u:r:t?b:i}function $(n,t){return function(e){var r=ta.event;ta.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ta.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Aa,u="click"+r,i=ta.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Ea&&(Ea="onselectstart"in e?!1:x(e.style,"userSelect")),Ea){var o=n(e).style,a=o[Ea];o[Ea]="none"}return function(n){if(i.on(r,null),Ea&&(o[Ea]=a),n){var t=function(){i.on(u,null)};i.on(u,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(0>Na){var i=t(n);if(i.scrollX||i.scrollY){r=ta.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Na=!(o.f||o.e),r.remove()}}return Na?(u.x=e.pageX,u.y=e.pageY):(u.x=e.clientX,u.y=e.clientY),u=u.matrixTransform(n.getScreenCTM().inverse()),[u.x,u.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ta.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nt(n){return n>1?0:-1>n?qa:Math.acos(n)}function tt(n){return n>1?Ra:-1>n?-Ra:Math.asin(n)}function et(n){return((n=Math.exp(n))-1/n)/2}function rt(n){return((n=Math.exp(n))+1/n)/2}function ut(n){return((n=Math.exp(2*n))-1)/(n+1)}function it(n){return(n=Math.sin(n/2))*n}function ot(){}function at(n,t,e){return this instanceof at?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof at?new at(n.h,n.s,n.l):bt(""+n,_t,at):new at(n,t,e)}function ct(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,i=2*e-o,new mt(u(n+120),u(n),u(n-120))}function lt(n,t,e){return this instanceof lt?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof lt?new lt(n.h,n.c,n.l):n instanceof ft?gt(n.l,n.a,n.b):gt((n=wt((n=ta.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new lt(n,t,e)}function st(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new ft(e,Math.cos(n*=Da)*t,Math.sin(n)*t)}function ft(n,t,e){return this instanceof ft?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof ft?new ft(n.l,n.a,n.b):n instanceof lt?st(n.h,n.c,n.l):wt((n=mt(n)).r,n.g,n.b):new ft(n,t,e)}function ht(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=pt(u)*Xa,r=pt(r)*$a,i=pt(i)*Ba,new mt(dt(3.2404542*u-1.5371385*r-.4985314*i),dt(-.969266*u+1.8760108*r+.041556*i),dt(.0556434*u-.2040259*r+1.0572252*i))}function gt(n,t,e){return n>0?new lt(Math.atan2(e,t)*Pa,Math.sqrt(t*t+e*e),n):new lt(0/0,0/0,n)}function pt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function vt(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function dt(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mt(n,t,e){return this instanceof mt?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mt?new mt(n.r,n.g,n.b):bt(""+n,mt,ct):new mt(n,t,e)}function yt(n){return new mt(n>>16,n>>8&255,255&n)}function Mt(n){return yt(n)+""}function xt(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function bt(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(kt(u[0]),kt(u[1]),kt(u[2]))}return(i=Ga.get(n))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&i)>>4,o=o>>4|o,a=240&i,a=a>>4|a,c=15&i,c=c<<4|c):7===n.length&&(o=(16711680&i)>>16,a=(65280&i)>>8,c=255&i)),t(o,a,c))}function _t(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-i,c=(o+i)/2;return a?(u=.5>c?a/(o+i):a/(2-o-i),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=0/0,u=c>0&&1>c?0:r),new at(r,u,c)}function wt(n,t,e){n=St(n),t=St(t),e=St(e);var r=vt((.4124564*n+.3575761*t+.1804375*e)/Xa),u=vt((.2126729*n+.7151522*t+.072175*e)/$a),i=vt((.0193339*n+.119192*t+.9503041*e)/Ba);return ft(116*u-16,500*(r-u),200*(u-i))}function St(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function kt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function Et(n){return"function"==typeof n?n:function(){return n}}function At(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Nt(t,e,n,r)}}function Nt(n,t,e,r){function u(){var n,t=c.status;if(!t&&zt(c)||t>=200&&300>t||304===t){try{n=e.call(i,c)}catch(r){return void o.error.call(i,r)}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=ta.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(n){var t=ta.event;ta.event=n;try{o.progress.call(i,c)}finally{ta.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(l=n,i):l},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(ra(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var s in a)c.setRequestHeader(s,a[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},ta.rebind(i,o,"on"),null==r?i:i.get(Ct(r))}function Ct(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function zt(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qt(){var n=Lt(),t=Tt()-n;t>24?(isFinite(t)&&(clearTimeout(tc),tc=setTimeout(qt,t)),nc=0):(nc=1,rc(qt))}function Lt(){var n=Date.now();for(ec=Ka;ec;)n>=ec.t&&(ec.f=ec.c(n-ec.t)),ec=ec.n;return n}function Tt(){for(var n,t=Ka,e=1/0;t;)t.f?t=n?n.n=t.n:Ka=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Qa=n,e}function Rt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Dt(n,t){var e=Math.pow(10,3*ga(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Pt(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],o=0,a=r[0],c=0;u>0&&a>0&&(c+a+1>t&&(a=Math.max(1,t-c)),i.push(n.substring(u-=a,u+a)),!((c+=a+1)>t));)a=r[o=(o+1)%r.length];return i.reverse().join(e)}:y;return function(n){var e=ic.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",c=e[4]||"",l=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===c&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=oc.get(g)||Ut;var M=l&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===a?"":a;if(0>p){var c=ta.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=p;n=g(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=y?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!l&&f&&(x=i(x,1/0));var S=v.length+x.length+b.length+(M?0:u.length),k=s>S?new Array(S=s-S+1).join(r):"";return M&&(x=i(k+x,k.length?s-b.length:1/0)),u+=v,n=x+b,("<"===o?u+n+k:">"===o?k+u+n:"^"===o?k.substring(0,S>>=1)+u+n+k.substring(S):u+(M?n:k+n))+e}}}function Ut(n){return n+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new cc(e-1)),1),e}function i(n,e){return t(n=new cc(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i>1)for(;r>o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{cc=jt;var r=new jt;return r._=n,o(r,t,e)}finally{cc=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=Ht(n);return c.floor=c,c.round=Ht(r),c.ceil=Ht(u),c.offset=Ht(i),c.range=a,n}function Ht(n){return function(t,e){try{cc=jt;var r=new jt;return r._=t,n(r,e)._}finally{cc=Date}}}function Ot(n){function t(n){function t(t){for(var e,u,i,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(c,a)),null!=(u=sc[e=n.charAt(++a)])&&(e=n.charAt(++a)),(i=N[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),o.push(e),c=a+1);return o.push(n.slice(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&cc!==jt,o=new(i?jt:cc);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,o,a=0,c=t.length,l=e.length;c>a;){if(r>=l)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=C[o in sc?t.charAt(a++):o],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){E.lastIndex=0;var r=E.exec(t.slice(e));return r?(n.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,N.c.toString(),t,r)}function c(n,t,r){return e(n,N.x.toString(),t,r)}function l(n,t,r){return e(n,N.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{cc=jt;var t=new cc;return t._=n,r(t)}finally{cc=Date}}var r=t(n);return e.parse=function(n){try{cc=jt;var t=r.parse(n);return t&&t._}finally{cc=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ae;var M=ta.map(),x=Yt(v),b=Zt(v),_=Yt(d),w=Zt(d),S=Yt(m),k=Zt(m),E=Yt(y),A=Zt(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var N={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return It(n.getDate(),t,2)},e:function(n,t){return It(n.getDate(),t,2)},H:function(n,t){return It(n.getHours(),t,2)},I:function(n,t){return It(n.getHours()%12||12,t,2)},j:function(n,t){return It(1+ac.dayOfYear(n),t,3)},L:function(n,t){return It(n.getMilliseconds(),t,3)},m:function(n,t){return It(n.getMonth()+1,t,2)},M:function(n,t){return It(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return It(n.getSeconds(),t,2)},U:function(n,t){return It(ac.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return It(ac.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return It(n.getFullYear()%100,t,2)},Y:function(n,t){return It(n.getFullYear()%1e4,t,4)},Z:ie,"%":function(){return"%"}},C={a:r,A:u,b:i,B:o,c:a,d:Qt,e:Qt,H:te,I:te,j:ne,L:ue,m:Kt,M:ee,p:s,S:re,U:Xt,w:Vt,W:$t,x:c,X:l,y:Wt,Y:Bt,Z:Jt,"%":oe};return t}function It(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Yt(n){return new RegExp("^(?:"+n.map(ta.requote).join("|")+")","i")}function Zt(n){for(var t=new l,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Vt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Xt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function $t(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Bt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Wt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.y=Gt(+r[0]),e+r[0].length):-1}function Jt(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Gt(n){return n+(n>68?1900:2e3)}function Kt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Qt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function ne(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function te(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ee(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function re(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ue(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ie(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=ga(t)/60|0,u=ga(t)%60;return e+It(r,"0",2)+It(u,"0",2)}function oe(n,t,e){hc.lastIndex=0;var r=hc.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ae(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ce(){}function le(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function se(n,t){n&&dc.hasOwnProperty(n.type)&&dc[n.type](n,t)}function fe(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function he(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)fe(n[e],t,1);t.polygonEnd()}function ge(){function n(n,t){n*=Da,t=t*Da/2+qa/4;var e=n-r,o=e>=0?1:-1,a=o*e,c=Math.cos(t),l=Math.sin(t),s=i*l,f=u*c+s*Math.cos(a),h=s*o*Math.sin(a);yc.add(Math.atan2(h,f)),r=n,u=c,i=l}var t,e,r,u,i;Mc.point=function(o,a){Mc.point=n,r=(t=o)*Da,u=Math.cos(a=(e=a)*Da/2+qa/4),i=Math.sin(a)},Mc.lineEnd=function(){n(t,e)}}function pe(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function ve(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function de(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function me(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ye(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Me(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function xe(n){return[Math.atan2(n[1],n[0]),tt(n[2])]}function be(n,t){return ga(n[0]-t[0])<Ca&&ga(n[1]-t[1])<Ca}function _e(n,t){n*=Da;var e=Math.cos(t*=Da);we(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function we(n,t,e){++xc,_c+=(n-_c)/xc,wc+=(t-wc)/xc,Sc+=(e-Sc)/xc}function Se(){function n(n,u){n*=Da;var i=Math.cos(u*=Da),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),l=Math.atan2(Math.sqrt((l=e*c-r*a)*l+(l=r*o-t*c)*l+(l=t*a-e*o)*l),t*o+e*a+r*c);bc+=l,kc+=l*(t+(t=o)),Ec+=l*(e+(e=a)),Ac+=l*(r+(r=c)),we(t,e,r)}var t,e,r;qc.point=function(u,i){u*=Da;var o=Math.cos(i*=Da);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),qc.point=n,we(t,e,r)}}function ke(){qc.point=_e}function Ee(){function n(n,t){n*=Da;var e=Math.cos(t*=Da),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),l=u*c-i*a,s=i*o-r*c,f=r*a-u*o,h=Math.sqrt(l*l+s*s+f*f),g=r*o+u*a+i*c,p=h&&-nt(g)/h,v=Math.atan2(h,g);Nc+=p*l,Cc+=p*s,zc+=p*f,bc+=v,kc+=v*(r+(r=o)),Ec+=v*(u+(u=a)),Ac+=v*(i+(i=c)),we(r,u,i)}var t,e,r,u,i;qc.point=function(o,a){t=o,e=a,qc.point=n,o*=Da;var c=Math.cos(a*=Da);r=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),we(r,u,i)},qc.lineEnd=function(){n(t,e),qc.lineEnd=ke,qc.point=_e}}function Ae(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function Ne(){return!0}function Ce(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(be(e,r)){u.lineStart();for(var a=0;t>a;++a)u.point((e=n[a])[0],e[1]);return void u.lineEnd()}var c=new qe(e,n,null,!0),l=new qe(e,null,c,!1);c.o=l,i.push(c),o.push(l),c=new qe(r,n,null,!1),l=new qe(r,null,c,!0),c.o=l,i.push(c),o.push(l)}}),o.sort(t),ze(i),ze(o),i.length){for(var a=0,c=e,l=o.length;l>a;++a)o[a].e=c=!c;for(var s,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;s=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,l=s.length;l>a;++a)u.point((f=s[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){s=g.p.z;for(var a=s.length-1;a>=0;--a)u.point((f=s[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,s=g.z,p=!p}while(!g.v);u.lineEnd()}}}function ze(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function qe(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Le(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function l(){y.point=o,d.lineEnd()}function s(n,t){v.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function f(){x.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,o=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++o<r;)i.point((u=n[o])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Te))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:o,lineStart:c,lineEnd:l,polygonStart:function(){y.point=s,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=l,g=ta.merge(g);var n=Fe(m,p);g.length?(b||(i.polygonStart(),b=!0),Ce(g,De,n,e,i)):n&&(b||(i.polygonStart(),b=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},M=Re(),x=t(M),b=!1;return y}}function Te(n){return n.length>1}function Re(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function De(n,t){return((n=n.x)[0]<0?n[1]-Ra-Ca:Ra-n[1])-((t=t.x)[0]<0?t[1]-Ra-Ca:Ra-t[1])}function Pe(n){var t,e=0/0,r=0/0,u=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(i,o){var a=i>0?qa:-qa,c=ga(i-e);ga(c-qa)<Ca?(n.point(e,r=(r+o)/2>0?Ra:-Ra),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0):u!==a&&c>=qa&&(ga(e-u)<Ca&&(e-=u*Ca),ga(i-a)<Ca&&(i-=a*Ca),r=Ue(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},lineEnd:function(){n.lineEnd(),e=r=0/0},clean:function(){return 2-t}}}function Ue(n,t,e,r){var u,i,o=Math.sin(n-e);return ga(o)>Ca?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function je(n,t,e,r){var u;if(null==n)u=e*Ra,r.point(-qa,u),r.point(0,u),r.point(qa,u),r.point(qa,0),r.point(qa,-u),r.point(0,-u),r.point(-qa,-u),r.point(-qa,0),r.point(-qa,u);else if(ga(n[0]-t[0])>Ca){var i=n[0]<t[0]?qa:-qa;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Fe(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;yc.reset();for(var a=0,c=t.length;c>a;++a){var l=t[a],s=l.length;if(s)for(var f=l[0],h=f[0],g=f[1]/2+qa/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=l[d];var m=n[0],y=n[1]/2+qa/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,S=w>qa,k=p*M;if(yc.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),i+=S?b+_*La:b,S^h>=e^m>=e){var E=de(pe(f),pe(n));Me(E);var A=de(u,E);Me(A);var N=(S^b>=0?-1:1)*tt(A[2]);(r>N||r===N&&(E[0]||E[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Ca>i||Ca>i&&0>yc)^1&o}function He(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?qa:-qa),h):0;if(!e&&(l=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(be(e,g)||be(p,g))&&(p[0]+=Ca,p[1]+=Ca,v=t(p[0],p[1]))),v!==c)s=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var m;d&i||!(m=r(p,e,!0))||(s=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&be(e,p)||n.point(p[0],p[1]),e=p,c=v,i=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return s|(l&&c)<<1}}}function r(n,t,e){var r=pe(n),u=pe(t),o=[1,0,0],a=de(r,u),c=ve(a,a),l=a[0],s=c-l*l;if(!s)return!e&&n;var f=i*c/s,h=-i*l/s,g=de(o,a),p=ye(o,f),v=ye(a,h);me(p,v);var d=g,m=ve(p,d),y=ve(d,d),M=m*m-y*(ve(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=ye(d,(-m-x)/y);if(me(b,p),b=xe(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],E=t[1];w>S&&(_=w,w=S,S=_);var A=S-w,N=ga(A-qa)<Ca,C=N||Ca>A;if(!N&&k>E&&(_=k,k=E,E=_),C?N?k+E>0^b[1]<(ga(b[0]-w)<Ca?k:E):k<=b[1]&&b[1]<=E:A>qa^(w<=b[0]&&b[0]<=S)){var z=ye(d,(-m+x)/y);return me(z,p),[b,xe(z)]}}}function u(t,e){var r=o?n:qa-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),o=i>0,a=ga(i)>Ca,c=gr(n,6*Da);return Le(t,e,c,o?[0,-n]:[-qa,n-qa])}function Oe(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,l=o.y,s=a.x,f=a.y,h=0,g=1,p=s-c,v=f-l;if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-c,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-l,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-l,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:c+h*p,y:l+h*v}),1>g&&(u.b={x:c+g*p,y:l+g*v}),u}}}}}}function Ie(n,t,e,r){function u(r,u){return ga(r[0]-n)<Ca?u>0?0:3:ga(r[0]-e)<Ca?u>0?2:1:ga(r[1]-t)<Ca?u>0?1:0:u>0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,o=1,a=d[u],c=a.length,l=a[0];c>o;++o)i=a[o],l[1]<=r?i[1]>r&&Q(l,i,n)>0&&++t:i[1]<=r&&Q(l,i,n)<0&&--t,l=i;return 0!==t}function l(i,a,c,l){var s=0,f=0;if(null==i||(s=u(i,c))!==(f=u(a,c))||o(i,a)<0^c>0){do l.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+c+4)%4)!==f)}else l.point(a[0],a[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&a.point(n,t)}function h(){C.point=p,d&&d.push(m=[]),S=!0,w=!1,b=_=0/0}function g(){v&&(p(y,M),x&&w&&A.rejoin(),v.push(A.buffer())),C.point=f,w&&a.lineEnd()}function p(n,t){n=Math.max(-Tc,Math.min(Tc,n)),t=Math.max(-Tc,Math.min(Tc,t));var e=s(n,t);if(d&&m.push([n,t]),S)y=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};N(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,m,y,M,x,b,_,w,S,k,E=a,A=Re(),N=Oe(n,t,e,r),C={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=A,v=[],d=[],k=!0},polygonEnd:function(){a=E,v=ta.merge(v);var t=c([n,r]),e=k&&t,u=v.length;(e||u)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),u&&Ce(v,i,t,l,a),a.polygonEnd()),v=d=m=null}};return C}}function Ye(n){var t=0,e=qa/3,r=ir(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*qa/180,e=n[1]*qa/180):[t/qa*180,e/qa*180]},u}function Ze(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,tt((i-(n*n+e*e)*u*u)/(2*u))]},e}function Ve(){function n(n,t){Dc+=u*n-r*t,r=n,u=t}var t,e,r,u;Hc.point=function(i,o){Hc.point=n,t=r=i,e=u=o},Hc.lineEnd=function(){n(t,e)}}function Xe(n,t){Pc>n&&(Pc=n),n>jc&&(jc=n),Uc>t&&(Uc=t),t>Fc&&(Fc=t)}function $e(){function n(n,t){o.push("M",n,",",t,i)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function u(){o.push("Z")}var i=Be(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return i=Be(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Be(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function We(n,t){_c+=n,wc+=t,++Sc}function Je(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);kc+=o*(t+n)/2,Ec+=o*(e+r)/2,Ac+=o,We(t=n,e=r)}var t,e;Ic.point=function(r,u){Ic.point=n,We(t=r,e=u)}}function Ge(){Ic.point=We}function Ke(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);kc+=o*(r+n)/2,Ec+=o*(u+t)/2,Ac+=o,o=u*n-r*t,Nc+=o*(r+n),Cc+=o*(u+t),zc+=3*o,We(r=n,u=t)}var t,e,r,u;Ic.point=function(i,o){Ic.point=n,We(t=r=i,e=u=o)},Ic.lineEnd=function(){n(t,e)}}function Qe(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,La)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function nr(n){function t(n){return(a?r:e)(n)}function e(t){return rr(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=0/0,S.point=i,t.lineStart()}function i(e,r){var i=pe([e,r]),o=n(e,r);u(M,x,y,b,_,w,M=o[0],x=o[1],y=e,b=i[0],_=i[1],w=i[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=l,S.lineEnd=s}function l(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,S.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}var f,h,g,p,v,d,m,y,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c
},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,a,c,l,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=a+g,_=c+p,w=l+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),E=ga(ga(w)-1)<Ca||ga(r-h)<Ca?(r+h)/2:Math.atan2(_,b),A=n(E,k),N=A[0],C=A[1],z=N-t,q=C-e,L=M*z-y*q;(L*L/x>i||ga((y*z+M*q)/x-.5)>.3||o>a*g+c*p+l*v)&&(u(t,e,r,a,c,l,N,C,E,b/=S,_/=S,w,d,m),m.point(N,C),u(N,C,E,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30*Da),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function tr(n){var t=nr(function(t,e){return n([t*Pa,e*Pa])});return function(n){return or(t(n))}}function er(n){this.stream=n}function rr(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ur(n){return ir(function(){return n})()}function ir(n){function t(n){return n=a(n[0]*Da,n[1]*Da),[n[0]*h+c,l-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(l-n[1])/h),n&&[n[0]*Pa,n[1]*Pa]}function r(){a=Ae(o=lr(m,M,x),i);var n=i(v,d);return c=g-n[0]*h,l=p+n[1]*h,u()}function u(){return s&&(s.valid=!1,s=null),t}var i,o,a,c,l,s,f=nr(function(n,t){return n=i(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,M=0,x=0,b=Lc,_=y,w=null,S=null;return t.stream=function(n){return s&&(s.valid=!1),s=or(b(o,f(_(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Lc):He((w=+n)*Da),u()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Ie(n[0][0],n[0][1],n[1][0],n[1][1]):y,u()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Da,d=n[1]%360*Da,r()):[v*Pa,d*Pa]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Da,M=n[1]%360*Da,x=n.length>2?n[2]%360*Da:0,r()):[m*Pa,M*Pa,x*Pa]},ta.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function or(n){return rr(n,function(t,e){n.point(t*Da,e*Da)})}function ar(n,t){return[n,t]}function cr(n,t){return[n>qa?n-La:-qa>n?n+La:n,t]}function lr(n,t,e){return n?t||e?Ae(fr(n),hr(t,e)):fr(n):t||e?hr(t,e):cr}function sr(n){return function(t,e){return t+=n,[t>qa?t-La:-qa>t?t+La:t,e]}}function fr(n){var t=sr(n);return t.invert=sr(-n),t}function hr(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*r+a*u;return[Math.atan2(c*i-s*o,a*r-l*u),tt(s*i+c*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*i-c*o;return[Math.atan2(c*i+l*o,a*r+s*u),tt(s*r-a*u)]},e}function gr(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var c=o*t;null!=u?(u=pr(e,u),i=pr(e,i),(o>0?i>u:u>i)&&(u+=o*La)):(u=n+o*La,i=n-.5*c);for(var l,s=u;o>0?s>i:i>s;s-=c)a.point((l=xe([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],l[1])}}function pr(n,t){var e=pe(t);e[0]-=n,Me(e);var r=nt(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ca)%(2*Math.PI)}function vr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function dr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function mr(n){return n.source}function yr(n){return n.target}function Mr(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=u*Math.cos(n),l=u*Math.sin(n),s=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(it(r-t)+u*o*it(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*s,u=e*l+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Pa,Math.atan2(o,Math.sqrt(r*r+u*u))*Pa]}:function(){return[n*Pa,t*Pa]};return p.distance=h,p}function xr(){function n(n,u){var i=Math.sin(u*=Da),o=Math.cos(u),a=ga((n*=Da)-t),c=Math.cos(a);Yc+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*c)*a),e*i+r*o*c),t=n,e=i,r=o}var t,e,r;Zc.point=function(u,i){t=u*Da,e=Math.sin(i*=Da),r=Math.cos(i),Zc.point=n},Zc.lineEnd=function(){Zc.point=Zc.lineEnd=b}}function br(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&&e*i/r)]},e}function _r(n,t){function e(n,t){o>0?-Ra+Ca>t&&(t=-Ra+Ca):t>Ra-Ca&&(t=Ra-Ca);var e=o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(qa/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=K(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-Ra]},e):Sr}function wr(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return ga(u)<Ca?ar:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-K(u)*Math.sqrt(n*n+e*e)]},e)}function Sr(n,t){return[n,Math.log(Math.tan(qa/4+t/2))]}function kr(n){var t,e=ur(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=i.apply(e,arguments);if(o===e){if(t=null==n){var a=qa*r(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Er(n,t){return[Math.log(Math.tan(qa/4+t/2)),-n]}function Ar(n){return n[0]}function Nr(n){return n[1]}function Cr(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function zr(n,t){return n[0]-t[0]||n[1]-t[1]}function qr(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Lr(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],l=e[1],s=t[1]-c,f=r[1]-l,h=(a*(c-l)-f*(u-i))/(f*o-a*s);return[u+h*o,c+h*s]}function Tr(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Rr(){tu(this),this.edge=this.site=this.circle=null}function Dr(n){var t=el.pop()||new Rr;return t.site=n,t}function Pr(n){Xr(n),Qc.remove(n),el.push(n),tu(n)}function Ur(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,o=n.N,a=[n];Pr(n);for(var c=i;c.circle&&ga(e-c.circle.x)<Ca&&ga(r-c.circle.cy)<Ca;)i=c.P,a.unshift(c),Pr(c),c=i;a.unshift(c),Xr(c);for(var l=o;l.circle&&ga(e-l.circle.x)<Ca&&ga(r-l.circle.cy)<Ca;)o=l.N,a.push(l),Pr(l),l=o;a.push(l),Xr(l);var s,f=a.length;for(s=1;f>s;++s)l=a[s],c=a[s-1],Kr(l.edge,c.site,l.site,u);c=a[0],l=a[f-1],l.edge=Jr(c.site,l.site,null,u),Vr(c),Vr(l)}function jr(n){for(var t,e,r,u,i=n.x,o=n.y,a=Qc._;a;)if(r=Fr(a,o)-i,r>Ca)a=a.L;else{if(u=i-Hr(a,o),!(u>Ca)){r>-Ca?(t=a.P,e=a):u>-Ca?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Dr(n);if(Qc.insert(t,c),t||e){if(t===e)return Xr(t),e=Dr(t.site),Qc.insert(c,e),c.edge=e.edge=Jr(t.site,c.site),Vr(t),void Vr(e);if(!e)return void(c.edge=Jr(t.site,c.site));Xr(t),Xr(e);var l=t.site,s=l.x,f=l.y,h=n.x-s,g=n.y-f,p=e.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};Kr(e.edge,l,p,x),c.edge=Jr(l,n,null,x),e.edge=Jr(n,p,null,x),Vr(t),Vr(e)}}function Fr(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-1/0;e=o.site;var a=e.x,c=e.y,l=c-t;if(!l)return a;var s=a-r,f=1/i-1/l,h=s/l;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*l)-c+l/2+u-i/2)))/f+r:(r+a)/2}function Hr(n,t){var e=n.N;if(e)return Fr(e,t);var r=n.site;return r.y===t?r.x:1/0}function Or(n){this.site=n,this.edges=[]}function Ir(n){for(var t,e,r,u,i,o,a,c,l,s,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Kc,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(a=i.edges,c=a.length,o=0;c>o;)s=a[o].end(),r=s.x,u=s.y,l=a[++o%c].start(),t=l.x,e=l.y,(ga(r-t)>Ca||ga(u-e)>Ca)&&(a.splice(o,0,new Qr(Gr(i.site,s,ga(r-f)<Ca&&p-u>Ca?{x:f,y:ga(t-f)<Ca?e:p}:ga(u-p)<Ca&&h-r>Ca?{x:ga(e-p)<Ca?t:h,y:p}:ga(r-h)<Ca&&u-g>Ca?{x:h,y:ga(t-h)<Ca?e:g}:ga(u-g)<Ca&&r-f>Ca?{x:ga(e-g)<Ca?t:f,y:g}:null),i.site,null)),++c)}function Yr(n,t){return t.angle-n.angle}function Zr(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,c=r.x-o,l=r.y-a,s=i.x-o,f=i.y-a,h=2*(c*f-l*s);if(!(h>=-za)){var g=c*c+l*l,p=s*s+f*f,v=(f*g-l*p)/h,d=(c*p-s*g)/h,f=d+a,m=rl.pop()||new Zr;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=tl._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}tl.insert(y,m),y||(nl=m)}}}}function Xr(n){var t=n.circle;t&&(t.P||(nl=t.N),tl.remove(t),rl.push(t),tu(t),n.circle=null)}function $r(n){for(var t,e=Gc,r=Oe(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Br(t,n)||!r(t)||ga(t.a.x-t.b.x)<Ca&&ga(t.a.y-t.b.y)<Ca)&&(t.a=t.b=null,e.splice(u,1))}function Br(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],l=t[1][1],s=n.l,f=n.r,h=s.x,g=s.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o>d||d>=a)return;if(h>p){if(i){if(i.y>=l)return}else i={x:d,y:c};e={x:d,y:l}}else{if(i){if(i.y<c)return}else i={x:d,y:l};e={x:d,y:c}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=l)return}else i={x:(c-u)/r,y:c};e={x:(l-u)/r,y:l}}else{if(i){if(i.y<c)return}else i={x:(l-u)/r,y:l};e={x:(c-u)/r,y:c}}else if(v>g){if(i){if(i.x>=a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}else{if(i){if(i.x<o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}return n.a=i,n.b=e,!0}function Wr(n,t){this.l=n,this.r=t,this.a=this.b=null}function Jr(n,t,e,r){var u=new Wr(n,t);return Gc.push(u),e&&Kr(u,n,t,e),r&&Kr(u,t,n,r),Kc[n.i].edges.push(new Qr(u,n,t)),Kc[t.i].edges.push(new Qr(u,t,n)),u}function Gr(n,t,e){var r=new Wr(n,null);return r.a=t,r.b=e,Gc.push(r),r}function Kr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function Qr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function nu(){this._=null}function tu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function eu(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ru(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function uu(n){for(;n.L;)n=n.L;return n}function iu(n,t){var e,r,u,i=n.sort(ou).pop();for(Gc=[],Kc=new Array(n.length),Qc=new nu,tl=new nu;;)if(u=nl,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(Kc[i.i]=new Or(i),jr(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Ur(u.arc)}t&&($r(t),Ir(t));var o={cells:Kc,edges:Gc};return Qc=tl=Gc=Kc=null,o}function ou(n,t){return t.y-n.y||t.x-n.x}function au(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function cu(n){return n.x}function lu(n){return n.y}function su(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fu(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),c=t.nodes;c[0]&&fu(n,c[0],e,r,o,a),c[1]&&fu(n,c[1],o,r,u,a),c[2]&&fu(n,c[2],e,a,o,i),c[3]&&fu(n,c[3],o,a,u,i)}}function hu(n,t,e,r,u,i,o){var a,c=1/0;return function l(n,s,f,h,g){if(!(s>i||f>o||r>h||u>g)){if(p=n.point){var p,v=t-n.x,d=e-n.y,m=v*v+d*d;if(c>m){var y=Math.sqrt(c=m);r=t-y,u=e-y,i=t+y,o=e+y,a=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:l(n,s,f,x,b);break;case 1:l(n,x,f,h,b);break;case 2:l(n,s,b,x,g);break;case 3:l(n,x,b,h,g)}}}(n,r,u,i,o),a}function gu(n,t){n=ta.rgb(n),t=ta.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return"#"+xt(Math.round(e+i*n))+xt(Math.round(r+o*n))+xt(Math.round(u+a*n))}}function pu(n,t){var e,r={},u={};for(e in n)e in t?r[e]=mu(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function vu(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function du(n,t){var e,r,u,i=il.lastIndex=ol.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(e=il.exec(n))&&(r=ol.exec(t));)(u=r.index)>i&&(u=t.slice(i,u),a[o]?a[o]+=u:a[++o]=u),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:vu(e,r)})),i=ol.lastIndex;return i<t.length&&(u=t.slice(i),a[o]?a[o]+=u:a[++o]=u),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var e,r=0;t>r;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})}function mu(n,t){for(var e,r=ta.interpolators.length;--r>=0&&!(e=ta.interpolators[r](n,t)););return e}function yu(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(mu(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;o>e;++e)u[e]=t[e];return function(n){for(e=0;a>e;++e)u[e]=r[e](n);return u}}function Mu(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function xu(n){return function(t){return 1-n(1-t)}}function bu(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function _u(n){return n*n}function wu(n){return n*n*n}function Su(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function ku(n){return function(t){return Math.pow(t,n)}}function Eu(n){return 1-Math.cos(n*Ra)}function Au(n){return Math.pow(2,10*(n-1))}function Nu(n){return 1-Math.sqrt(1-n*n)}function Cu(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/La*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*La/t)}}function zu(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function qu(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Lu(n,t){n=ta.hcl(n),t=ta.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return st(e+i*n,r+o*n,u+a*n)+""}}function Tu(n,t){n=ta.hsl(n),t=ta.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return ct(e+i*n,r+o*n,u+a*n)+""}}function Ru(n,t){n=ta.lab(n),t=ta.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return ht(e+i*n,r+o*n,u+a*n)+""}}function Du(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Pu(n){var t=[n.a,n.b],e=[n.c,n.d],r=ju(t),u=Uu(t,e),i=ju(Fu(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Pa,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Pa:0}function Uu(n,t){return n[0]*t[0]+n[1]*t[1]}function ju(n){var t=Math.sqrt(Uu(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Fu(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Hu(n,t){var e,r=[],u=[],i=ta.transform(n),o=ta.transform(t),a=i.translate,c=o.translate,l=i.rotate,s=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),u.push({i:1,x:vu(a[0],c[0])},{i:3,x:vu(a[1],c[1])})):r.push(c[0]||c[1]?"translate("+c+")":""),l!=s?(l-s>180?s+=360:s-l>180&&(l+=360),u.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vu(l,s)})):s&&r.push(r.pop()+"rotate("+s+")"),f!=h?u.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vu(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),u.push({i:e-4,x:vu(g[0],p[0])},{i:e-2,x:vu(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=u.length,function(n){for(var t,i=-1;++i<e;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function Ou(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Iu(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Yu(n){for(var t=n.source,e=n.target,r=Vu(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Zu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Vu(n,t){if(n===t)return n;for(var e=Zu(n),r=Zu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function Xu(n){n.fixed|=2}function $u(n){n.fixed&=-7}function Bu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Wu(n){n.fixed&=-5}function Ju(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,o=n.nodes,a=o.length,c=-1;++c<a;)i=o[c],null!=i&&(Ju(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,u+=l*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function Gu(n,t){return ta.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ri,n}function Ku(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function Qu(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,o=-1;++o<u;)e.push(i[o]);for(;null!=(n=r.pop());)t(n)}function ni(n){return n.children}function ti(n){return n.value}function ei(n,t){return t.value-n.value}function ri(n){return ta.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function ui(n){return n.x}function ii(n){return n.y}function oi(n,t,e){n.y0=t,n.y=e}function ai(n){return ta.range(n.length)}function ci(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function li(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function si(n){return n.reduce(fi,0)}function fi(n,t){return n+t[1]}function hi(n,t){return gi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function gi(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function pi(n){return[ta.min(n),ta.max(n)]}function vi(n,t){return n.value-t.value}function di(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function mi(n,t){n._pack_next=t,t._pack_prev=n}function yi(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Mi(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(l=e.length)){var e,r,u,i,o,a,c,l,s=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(xi),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(u=e[1],u.x=u.r,u.y=0,t(u),l>2))for(i=e[2],wi(r,u,i),t(i),di(r,i),r._pack_prev=i,di(i,u),u=r._pack_next,o=3;l>o;o++){wi(r,u,i=e[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(yi(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!yi(c,i);c=c._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?mi(r,u=a):mi(r=c,u),o--):(di(r,i),u=i,t(i))}var m=(s+f)/2,y=(h+g)/2,M=0;for(o=0;l>o;o++)i=e[o],i.x-=m,i.y-=y,M=Math.max(M,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=M,e.forEach(bi)}}function xi(n){n._pack_next=n._pack_prev=n}function bi(n){delete n._pack_next,delete n._pack_prev}function _i(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,o=u.length;++i<o;)_i(u[i],t,e,r)}function wi(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;var c=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*u+l*i,e.y=n.y+c*i-l*u}else e.x=n.x+r,e.y=n.y}function Si(n,t){return n.parent==t.parent?1:2}function ki(n){var t=n.children;return t.length?t[0]:n.t}function Ei(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ai(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Ni(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Ci(n,t,e){return n.a.parent===t.parent?n.a:e}function zi(n){return 1+ta.max(n,function(n){return n.y})}function qi(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Li(n){var t=n.children;return t&&t.length?Li(t[0]):n}function Ti(n){var t,e=n.children;return e&&(t=e.length)?Ti(e[t-1]):n}function Ri(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Di(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Pi(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Ui(n){return n.rangeExtent?n.rangeExtent():Pi(n.range())}function ji(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Fi(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return i>o&&(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function Hi(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ml}function Oi(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=ta.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function Ii(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Oi:ji,c=r?Iu:Ou;return o=u(n,t,c,e),a=u(t,n,c,mu),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Du)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Xi(n,t)},i.tickFormat=function(t,e){return $i(n,t,e)},i.nice=function(t){return Zi(n,t),u()},i.copy=function(){return Ii(n,t,e,r)},u()}function Yi(n,t){return ta.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Zi(n,t){return Fi(n,Hi(Vi(n,t)[2]))}function Vi(n,t){null==t&&(t=10);var e=Pi(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Xi(n,t){return ta.range.apply(ta,Vi(n,t))}function $i(n,t,e){var r=Vi(n,t);if(e){var u=ic.exec(e);if(u.shift(),"s"===u[8]){var i=ta.formatPrefix(Math.max(ga(r[0]),ga(r[1])));return u[7]||(u[7]="."+Bi(i.scale(r[2]))),u[8]="f",e=ta.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+Wi(u[8],r)),e=u.join("")}else e=",."+Bi(r[2])+"f";return ta.format(e)}function Bi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Wi(n,t){var e=Bi(t[2]);return n in yl?Math.abs(e-Bi(Math.max(ga(t[0]),ga(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Ji(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=Fi(r.map(u),e?Math:xl);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=Pi(r),o=[],a=n[0],c=n[1],l=Math.floor(u(a)),s=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(s-l)){if(e){for(;s>l;l++)for(var h=1;f>h;h++)o.push(i(l)*h);o.push(i(l))}else for(o.push(i(l));l++<s;)for(var h=f-1;h>0;h--)o.push(i(l)*h);for(l=0;o[l]<a;l++);for(s=o.length;o[s-1]>c;s--);o=o.slice(l,s)}return o},o.tickFormat=function(n,t){if(!arguments.length)return Ml;arguments.length<2?t=Ml:"function"!=typeof t&&(t=ta.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+r))<=a?t(n):""}},o.copy=function(){return Ji(n.copy(),t,e,r)},Yi(o,n)}function Gi(n,t,e){function r(t){return n(u(t))}var u=Ki(t),i=Ki(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Xi(e,n)},r.tickFormat=function(n,t){return $i(e,n,t)},r.nice=function(n){return r.domain(Zi(e,n))},r.exponent=function(o){return arguments.length?(u=Ki(t=o),i=Ki(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return Gi(n.copy(),t,e)},Yi(r,n)}function Ki(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function Qi(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]}function r(t,e){return ta.range(n.length).map(function(n){return t+e*n})}var u,i,o;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new l;for(var i,o=-1,a=r.length;++o<a;)u.has(i=r[o])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,o=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=(c+l)/2,0):(l-c)/(n.length-1+a);return i=r(c+s*a/2,s),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(n.length-1+a)|0;return i=r(c+Math.round(s*a/2+(l-c-(n.length-1+a)*s)/2),s),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=(f-s)/(n.length-a+2*c);return i=r(s+h*c,h),l&&i.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=Math.floor((f-s)/(n.length-a+2*c));return i=r(s+Math.round((f-s-(n.length-a)*h)/2),h),l&&i.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Pi(t.a[0])},e.copy=function(){return Qi(n,t)},e.domain(n)}function no(n,t){function i(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ta.quantile(n,e/r);return o}function o(n){return isNaN(n=+n)?void 0:t[ta.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(u).sort(e),i()):n},o.range=function(n){return arguments.length?(t=n,i()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),0>e?[0/0,0/0]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return no(n,t)},i()}function to(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?0/0:t/i+n,[t,t+1/i]},r.copy=function(){return to(n,t,e)},u()}function eo(n,t){function e(e){return e>=e?t[ta.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return eo(n,t)},e}function ro(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Xi(n,t)},t.tickFormat=function(t,e){return $i(n,t,e)},t.copy=function(){return ro(n)},t}function uo(){return 0}function io(n){return n.innerRadius}function oo(n){return n.outerRadius}function ao(n){return n.startAngle}function co(n){return n.endAngle}function lo(n){return n&&n.padAngle}function so(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function fo(n,t,e,r,u){var i=n[0]-t[0],o=n[1]-t[1],a=(u?r:-r)/Math.sqrt(i*i+o*o),c=a*o,l=-a*i,s=n[0]+c,f=n[1]+l,h=t[0]+c,g=t[1]+l,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(M*M*y-x*x),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,S=(x*m+d*b)/y,k=(-x*d+m*b)/y,E=_-p,A=w-v,N=S-p,C=k-v;return E*E+A*A>N*N+C*C&&(_=S,w=k),[[_-c,w-l],[_*e/M,w*e/M]]}function ho(n){function t(t){function o(){l.push("M",i(n(s),a))}for(var c,l=[],s=[],f=-1,h=t.length,g=Et(e),p=Et(r);++f<h;)u.call(this,c=t[f],f)?s.push([+g.call(this,c,f),+p.call(this,c,f)]):s.length&&(o(),s=[]);return s.length&&o(),l.length?l.join(""):null}var e=Ar,r=Nr,u=Ne,i=go,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=El.get(n)||go).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function go(n){return n.join("L")}function po(n){return go(n)+"Z"}function vo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function mo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function yo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function Mo(n,t){return n.length<4?go(n):n[1]+_o(n.slice(1,-1),wo(n,t))}function xo(n,t){return n.length<3?go(n):n[0]+_o((n.push(n[0]),n),wo([n[n.length-2]].concat(n,[n[1]]),t))}function bo(n,t){return n.length<3?go(n):n[0]+_o(n,wo(n,t))}function _o(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return go(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],c=2),t.length>1){a=t[1],i=n[c],c++,r+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var l=2;l<t.length;l++,c++)i=n[c],a=t[l],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var s=n[c];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+s[0]+","+s[1]}return r}function wo(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a<c;)e=i,i=o,o=n[a],r.push([u*(o[0]-e[0]),u*(o[1]-e[1])]);return r}function So(n){if(n.length<3)return go(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,",",i,"L",No(Cl,o),",",No(Cl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Co(c,o,a);return n.pop(),c.push("L",r),c.join("")}function ko(n){if(n.length<4)return go(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r<3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(No(Cl,i)+","+No(Cl,o)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Co(e,i,o);return e.join("")}function Eo(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r<4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[No(Cl,o),",",No(Cl,a)],--r;++r<i;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Co(t,o,a);return t.join("")}function Ao(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,l=-1;++l<=e;)r=n[l],u=l/e,r[0]=t*r[0]+(1-t)*(i+u*a),r[1]=t*r[1]+(1-t)*(o+u*c);return So(n)}function No(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Co(n,t,e){n.push("C",No(Al,t),",",No(Al,e),",",No(Nl,t),",",No(Nl,e),",",No(Cl,t),",",No(Cl,e))}function zo(n,t){return(t[1]-n[1])/(t[0]-n[0])}function qo(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=zo(u,i);++t<e;)r[t]=(o+(o=zo(u=i,i=n[t+1])))/2;return r[t]=o,r}function Lo(n){for(var t,e,r,u,i=[],o=qo(n),a=-1,c=n.length-1;++a<c;)t=zo(n[a],n[a+1]),ga(t)<Ca?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),o[a]=u*e,o[a+1]=u*r));for(a=-1;++a<=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}function To(n){return n.length<3?go(n):n[0]+_o(n,Lo(n))}function Ro(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]-Ra,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Do(n){function t(t){function c(){v.push("M",a(n(m),f),s,l(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,M=t.length,x=Et(e),b=Et(u),_=e===r?function(){return g}:Et(r),w=u===i?function(){return p}:Et(i);++y<M;)o.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),m.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],m=[]);return d.length&&c(),v.length?v.join(""):null}var e=Ar,r=Ar,u=0,i=Nr,o=Ne,a=go,c=a.key,l=a,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r
},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=El.get(n)||go).key,l=a.reverse||a,s=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Po(n){return n.radius}function Uo(n){return[n.x,n.y]}function jo(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Ra;return[e*Math.cos(r),e*Math.sin(r)]}}function Fo(){return 64}function Ho(){return"circle"}function Oo(n){var t=Math.sqrt(n/qa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Io(n){return function(){var t,e;(t=this[n])&&(e=t[t.active])&&(--t.count?delete t[t.active]:delete this[n],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function Yo(n,t,e){return ya(n,Pl),n.namespace=t,n.id=e,n}function Zo(n,t,e,r){var u=n.id,i=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[i][u].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Vo(n){return null==n&&(n=""),function(){this.textContent=n}}function Xo(n){return null==n?"__transition__":"__transition_"+n+"__"}function $o(n,t,e,r,u){var i=n[e]||(n[e]={active:0,count:0}),o=i[r];if(!o){var a=u.time;o=i[r]={tween:new l,time:a,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++i.count,ta.timer(function(u){function c(e){if(i.active>r)return s();var u=i[i.active];u&&(--i.count,delete i[i.active],u.event&&u.event.interrupt.call(n,n.__data__,u.index)),i.active=r,o.event&&o.event.start.call(n,n.__data__,t),o.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),h=o.ease,f=o.duration,ta.timer(function(){return p.c=l(e||1)?Ne:l,1},0,a)}function l(e){if(i.active!==r)return 1;for(var u=e/f,a=h(u),c=v.length;c>0;)v[--c].call(n,a);return u>=1?(o.event&&o.event.end.call(n,n.__data__,t),s()):void 0}function s(){return--i.count?delete i[r]:delete n[e],1}var f,h,g=o.delay,p=ec,v=[];return p.t=g+a,u>=g?c(u-g):void(p.c=c)},0,a)}}function Bo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function Wo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function Jo(n){return n.toISOString()}function Go(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=ta.bisect(Vl,u);return i==Vl.length?[t.year,Vi(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Vl[i-1]<Vl[i]/u?i-1:i]:[Bl,Vi(n,e)[2]]}return r.invert=function(t){return Ko(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Ko)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Ko(+e+1),t).length}var i=r.domain(),o=Pi(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(Fi(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Ko(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Ko(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Pi(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],Ko(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Go(n.copy(),t,e)},Yi(r,n)}function Ko(n){return new Date(n)}function Qo(n){return JSON.parse(n.responseText)}function na(n){var t=ua.createRange();return t.selectNode(ua.body),t.createContextualFragment(n.responseText)}var ta={version:"3.5.6"},ea=[].slice,ra=function(n){return ea.call(n)},ua=this.document;if(ua)try{ra(ua.documentElement.childNodes)[0].nodeType}catch(ia){ra=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),ua)try{ua.createElement("DIV").style.setProperty("opacity",0,"")}catch(oa){var aa=this.Element.prototype,ca=aa.setAttribute,la=aa.setAttributeNS,sa=this.CSSStyleDeclaration.prototype,fa=sa.setProperty;aa.setAttribute=function(n,t){ca.call(this,n,t+"")},aa.setAttributeNS=function(n,t,e){la.call(this,n,t,e+"")},sa.setProperty=function(n,t,e){fa.call(this,n,t+"",e)}}ta.ascending=e,ta.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},ta.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},ta.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},ta.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=n[i])&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<o;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},ta.sum=function(n,t){var e,r=0,i=n.length,o=-1;if(1===arguments.length)for(;++o<i;)u(e=+n[o])&&(r+=e);else for(;++o<i;)u(e=+t.call(n,n[o],o))&&(r+=e);return r},ta.mean=function(n,t){var e,i=0,o=n.length,a=-1,c=o;if(1===arguments.length)for(;++a<o;)u(e=r(n[a]))?i+=e:--c;else for(;++a<o;)u(e=r(t.call(n,n[a],a)))?i+=e:--c;return c?i/c:void 0},ta.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},ta.median=function(n,t){var i,o=[],a=n.length,c=-1;if(1===arguments.length)for(;++c<a;)u(i=r(n[c]))&&o.push(i);else for(;++c<a;)u(i=r(t.call(n,n[c],c)))&&o.push(i);return o.length?ta.quantile(o.sort(e),.5):void 0},ta.variance=function(n,t){var e,i,o=n.length,a=0,c=0,l=-1,s=0;if(1===arguments.length)for(;++l<o;)u(e=r(n[l]))&&(i=e-a,a+=i/++s,c+=i*(e-a));else for(;++l<o;)u(e=r(t.call(n,n[l],l)))&&(i=e-a,a+=i/++s,c+=i*(e-a));return s>1?c/(s-1):void 0},ta.deviation=function(){var n=ta.variance.apply(this,arguments);return n?Math.sqrt(n):n};var ha=i(e);ta.bisectLeft=ha.left,ta.bisect=ta.bisectRight=ha.right,ta.bisector=function(n){return i(1===n.length?function(t,r){return e(n(t),r)}:n)},ta.shuffle=function(n,t,e){(i=arguments.length)<3&&(e=n.length,2>i&&(t=0));for(var r,u,i=e-t;i;)u=Math.random()*i--|0,r=n[i+t],n[i+t]=n[u+t],n[u+t]=r;return n},ta.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ta.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},ta.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=ta.min(arguments,o),e=new Array(t);++n<t;)for(var r,u=-1,i=e[n]=new Array(r);++u<r;)i[u]=arguments[u][n];return e},ta.transpose=function(n){return ta.zip.apply(ta,n)},ta.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ta.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ta.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ta.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++i<u;)o+=n[i].length;for(e=new Array(o);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--o]=r[t];return e};var ga=Math.abs;ta.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,u=[],i=a(ga(e)),o=-1;if(n*=i,t*=i,e*=i,0>e)for(;(r=n+e*++o)>t;)u.push(r/i);else for(;(r=n+e*++o)<t;)u.push(r/i);return u},ta.map=function(n,t){var e=new l;if(n instanceof l)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)e.set(u,n[u]);else for(;++u<i;)e.set(t.call(n,r=n[u],u),r)}else for(var o in n)e.set(o,n[o]);return e};var pa="__proto__",va="\x00";c(l,{has:h,get:function(n){return this._[s(n)]},set:function(n,t){return this._[s(n)]=t},remove:g,keys:p,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:f(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t),this._[t])}}),ta.nest=function(){function n(t,o,a){if(a>=i.length)return r?r.call(u,o):e?o.sort(e):o;for(var c,s,f,h,g=-1,p=o.length,v=i[a++],d=new l;++g<p;)(h=d.get(c=v(s=o[g])))?h.push(s):d.set(c,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,a))}):(s={},f=function(e,r){s[e]=n(t,r,a)}),d.forEach(f),s}function t(n,e){if(e>=i.length)return n;var r=[],u=o[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],o=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(ta.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return o[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},ta.set=function(n){var t=new m;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},c(m,{has:h,add:function(n){return this._[s(n+="")]=!0,n},remove:g,values:p,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t))}}),ta.behavior={},ta.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=M(n,t,t[e]);return n};var da=["webkit","ms","moz","Moz","o","O"];ta.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ta.event=null,ta.requote=function(n){return n.replace(ma,"\\$&")};var ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ya={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},Ma=function(n,t){return t.querySelector(n)},xa=function(n,t){return t.querySelectorAll(n)},ba=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(ba=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(Ma=function(n,t){return Sizzle(n,t)[0]||null},xa=Sizzle,ba=Sizzle.matchesSelector),ta.selection=function(){return ta.select(ua.documentElement)};var _a=ta.selection.prototype=[];_a.select=function(n){var t,e,r,u,i=[];n=N(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,l=r.length;++c<l;)(u=r[c])?(t.push(e=n.call(u,u.__data__,c,o)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return A(i)},_a.selectAll=function(n){var t,e,r=[];n=C(n);for(var u=-1,i=this.length;++u<i;)for(var o=this[u],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=ra(n.call(e,e.__data__,a,u))),t.parentNode=e);return A(r)};var wa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ta.ns={prefix:wa,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.slice(0,t),n=n.slice(t+1)),wa.hasOwnProperty(e)?{space:wa[e],local:n}:n}},_a.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ta.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},_a.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!L(n[u]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},_a.style=function(n,e,r){var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>u){var i=this.node();return t(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},_a.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},_a.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},_a.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},_a.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},_a.insert=function(n,t){return n=j(n),t=N(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},_a.remove=function(){return this.each(F)},_a.data=function(n,t){function e(n,e){var r,u,i,o=n.length,f=e.length,h=Math.min(o,f),g=new Array(f),p=new Array(f),v=new Array(o);if(t){var d,m=new l,y=new Array(o);for(r=-1;++r<o;)m.has(d=t.call(u=n[r],u.__data__,r))?v[r]=u:m.set(d,u),y[r]=d;for(r=-1;++r<f;)(u=m.get(d=t.call(e,i=e[r],r)))?u!==!0&&(g[r]=u,u.__data__=i):p[r]=H(i),m.set(d,!0);for(r=-1;++r<o;)m.get(y[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=H(i);for(;f>r;++r)p[r]=H(e[r]);for(;o>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,a.push(p),c.push(g),s.push(v)}var r,u,i=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++i<o;)(u=r[i])&&(n[i]=u.__data__);return n}var a=Z([]),c=A([]),s=A([]);if("function"==typeof n)for(;++i<o;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<o;)e(r=this[i],n);return c.enter=function(){return a},c.exit=function(){return s},c},_a.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},_a.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return A(u)},_a.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},_a.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},_a.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},_a.call=function(n){var t=ra(arguments);return n.apply(t[0]=this,t),this},_a.empty=function(){return!this.node()},_a.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},_a.size=function(){var n=0;return Y(this,function(){++n}),n};var Sa=[];ta.selection.enter=Z,ta.selection.enter.prototype=Sa,Sa.append=_a.append,Sa.empty=_a.empty,Sa.node=_a.node,Sa.call=_a.call,Sa.size=_a.size,Sa.select=function(n){for(var t,e,r,u,i,o=[],a=-1,c=this.length;++a<c;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var l=-1,s=u.length;++l<s;)(i=u[l])?(t.push(r[l]=e=n.call(u.parentNode,i.__data__,l,a)),e.__data__=i.__data__):t.push(null)}return A(o)},Sa.insert=function(n,t){return arguments.length<2&&(t=V(this)),_a.insert.call(this,n,t)},ta.select=function(t){var e;return"string"==typeof t?(e=[Ma(t,ua)],e.parentNode=ua.documentElement):(e=[t],e.parentNode=n(t)),A([e])},ta.selectAll=function(n){var t;return"string"==typeof n?(t=ra(xa(n,ua)),t.parentNode=ua.documentElement):(t=n,t.parentNode=null),A([t])},_a.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var ka=ta.map({mouseenter:"mouseover",mouseleave:"mouseout"});ua&&ka.forEach(function(n){"on"+n in ua&&ka.remove(n)});var Ea,Aa=0;ta.mouse=function(n){return J(n,k())};var Na=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ta.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return J(n,r)},ta.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(n,t,e,i,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],p|=n|e,M=r,g({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:n,dy:e}))}function c(){t(h,v)&&(m.on(i+d,null).on(o+d,null),y(p&&ta.event.target===f),g({type:"dragend"}))}var l,s=this,f=ta.event.target,h=s.parentNode,g=r.of(s,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=ta.select(e(f)).on(i+d,a).on(o+d,c),y=W(f),M=t(h,v);u?(l=u.apply(s,arguments),l=[l.x-M[0],l.y-M[1]]):l=[0,0],g({type:"dragstart"})}}var r=E(n,"drag","dragstart","dragend"),u=null,i=e(b,ta.mouse,t,"mousemove","mouseup"),o=e(G,ta.touch,y,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},ta.rebind(n,r,"on")},ta.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ra(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Ca=1e-6,za=Ca*Ca,qa=Math.PI,La=2*qa,Ta=La-Ca,Ra=qa/2,Da=qa/180,Pa=180/qa,Ua=Math.SQRT2,ja=2,Fa=4;ta.interpolateZoom=function(n,t){function e(n){var t=n*y;if(m){var e=rt(v),o=i/(ja*h)*(e*ut(Ua*t+v)-et(v));return[r+o*l,u+o*s,i*e/rt(Ua*t+v)]}return[r+n*l,u+n*s,i*Math.exp(Ua*t)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],l=o-r,s=a-u,f=l*l+s*s,h=Math.sqrt(f),g=(c*c-i*i+Fa*f)/(2*i*ja*h),p=(c*c-i*i-Fa*f)/(2*c*ja*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Ua;return e.duration=1e3*y,e},ta.behavior.zoom=function(){function n(n){n.on(q,f).on(Oa+".zoom",g).on("dblclick.zoom",p).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function u(n){k.k=Math.max(N[0],Math.min(N[1],n))}function i(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},u(Math.pow(2,o)),i(d=e,r),t=ta.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function c(n){z++||n({type:"zoomstart"})}function l(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function s(n){--z||(n({type:"zoomend"}),d=null)}function f(){function n(){f=1,i(ta.mouse(u),g),l(a)}function r(){h.on(L,null).on(T,null),p(f&&ta.event.target===o),s(a)}var u=this,o=ta.event.target,a=D.of(u,arguments),f=0,h=ta.select(t(u)).on(L,n).on(T,r),g=e(ta.mouse(u)),p=W(u);Dl.call(u),c(a)}function h(){function n(){var n=ta.touches(p);return g=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ta.event.target;ta.select(t).on(x,r).on(b,a),_.push(t);for(var e=ta.event.changedTouches,u=0,i=e.length;i>u;++u)d[e[u].identifier]=null;var c=n(),l=Date.now();if(1===c.length){if(500>l-M){var s=c[0];o(p,s,d[s.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=l}else if(c.length>1){var s=c[0],f=c[1],h=s[0]-f[0],g=s[1]-f[1];m=h*h+g*g}}function r(){var n,t,e,r,o=ta.touches(p);Dl.call(p);for(var a=0,c=o.length;c>a;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var s=(s=e[0]-n[0])*s+(s=e[1]-n[1])*s,f=m&&Math.sqrt(s/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],u(f*g)}M=null,i(n,t),l(v)}function a(){if(ta.event.touches.length){for(var t=ta.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}ta.selectAll(_).on(y,null),w.on(q,f).on(R,h),E(),s(v)}var g,p=this,v=D.of(p,arguments),d={},m=0,y=".zoom-"+ta.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,_=[],w=ta.select(p),E=W(p);t(),c(v),w.on(q,null).on(R,t)}function g(){var n=D.of(this,arguments);y?clearTimeout(y):(Dl.call(this),v=e(d=m||ta.mouse(this)),c(n)),y=setTimeout(function(){y=null,s(n)},50),S(),u(Math.pow(2,.002*Ha())*k.k),i(d,v),l(n)}function p(){var n=ta.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),ta.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,m,y,M,x,b,_,w,k={x:0,y:0,k:1},A=[960,500],N=Ia,C=250,z=0,q="mousedown.zoom",L="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=E(n,"zoomstart","zoom","zoomend");return Oa||(Oa="onwheel"in ua?(Ha=function(){return-ta.event.deltaY*(ta.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ua?(Ha=function(){return ta.event.wheelDelta},"mousewheel"):(Ha=function(){return-ta.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Tl?ta.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},c(n)}).tween("zoom:zoom",function(){var e=A[0],r=A[1],u=d?d[0]:e/2,i=d?d[1]:r/2,o=ta.interpolateZoom([(u-k.x)/k.k,(i-k.y)/k.k,e/k.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:u-r[0]*a,y:i-r[1]*a,k:a},l(n)}}).each("interrupt.zoom",function(){s(n)}).each("end.zoom",function(){s(n)}):(this.__chart__=k,c(n),l(n),s(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:+t},a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(N=null==t?Ia:[+t[0],+t[1]],n):N},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(A=t&&[+t[0],+t[1]],n):A},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},ta.rebind(n,D,"on")};var Ha,Oa,Ia=[0,1/0];ta.color=ot,ot.prototype.toString=function(){return this.rgb()+""},ta.hsl=at;var Ya=at.prototype=new ot;Ya.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,this.l/n)},Ya.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,n*this.l)},Ya.rgb=function(){return ct(this.h,this.s,this.l)},ta.hcl=lt;var Za=lt.prototype=new ot;Za.brighter=function(n){return new lt(this.h,this.c,Math.min(100,this.l+Va*(arguments.length?n:1)))},Za.darker=function(n){return new lt(this.h,this.c,Math.max(0,this.l-Va*(arguments.length?n:1)))},Za.rgb=function(){return st(this.h,this.c,this.l).rgb()},ta.lab=ft;var Va=18,Xa=.95047,$a=1,Ba=1.08883,Wa=ft.prototype=new ot;Wa.brighter=function(n){return new ft(Math.min(100,this.l+Va*(arguments.length?n:1)),this.a,this.b)},Wa.darker=function(n){return new ft(Math.max(0,this.l-Va*(arguments.length?n:1)),this.a,this.b)},Wa.rgb=function(){return ht(this.l,this.a,this.b)},ta.rgb=mt;var Ja=mt.prototype=new ot;Ja.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new mt(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mt(u,u,u)},Ja.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mt(n*this.r,n*this.g,n*this.b)},Ja.hsl=function(){return _t(this.r,this.g,this.b)},Ja.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Ga=ta.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ga.forEach(function(n,t){Ga.set(n,yt(t))}),ta.functor=Et,ta.xhr=At(y),ta.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var o=Nt(n,t,null==e?r:u(e),i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(s>=l)return o;if(u)return u=!1,i;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(u=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;l>s;){var r=n.charCodeAt(s++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(s)&&(++s,++a);else if(r!==c)continue;return n.slice(t,s-a)}return n.slice(t)}for(var r,u,i={},o={},a=[],l=n.length,s=0,f=0;(r=e())!==o;){for(var h=[];r!==i&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,f++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new m,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},ta.csv=ta.dsv(",","text/csv"),ta.tsv=ta.dsv("	","text/tab-separated-values");var Ka,Qa,nc,tc,ec,rc=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ta.timer=function(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,f:!1,n:null};Qa?Qa.n=i:Ka=i,Qa=i,nc||(tc=clearTimeout(tc),nc=1,rc(qt))},ta.timer.flush=function(){Lt(),Tt()},ta.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var uc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Dt);ta.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=ta.round(n,Rt(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),uc[8+e/3]};var ic=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,oc=ta.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ta.round(n,Rt(n,t))).toFixed(Math.max(0,Math.min(20,Rt(n*(1+1e-15),t))))}}),ac=ta.time={},cc=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){lc.setUTCDate.apply(this._,arguments)},setDay:function(){lc.setUTCDay.apply(this._,arguments)},setFullYear:function(){lc.setUTCFullYear.apply(this._,arguments)},setHours:function(){lc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){lc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){lc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){lc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){lc.setUTCSeconds.apply(this._,arguments)},setTime:function(){lc.setTime.apply(this._,arguments)}};var lc=Date.prototype;ac.year=Ft(function(n){return n=ac.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ac.years=ac.year.range,ac.years.utc=ac.year.utc.range,ac.day=Ft(function(n){var t=new cc(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ac.days=ac.day.range,ac.days.utc=ac.day.utc.range,ac.dayOfYear=function(n){var t=ac.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ac[n]=Ft(function(n){return(n=ac.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ac[n+"s"]=e.range,ac[n+"s"].utc=e.utc.range,ac[n+"OfYear"]=function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)}}),ac.week=ac.sunday,ac.weeks=ac.sunday.range,ac.weeks.utc=ac.sunday.utc.range,ac.weekOfYear=ac.sundayOfYear;var sc={"-":"",_:" ",0:"0"},fc=/^\s*\d+/,hc=/^%/;ta.locale=function(n){return{numberFormat:Pt(n),timeFormat:Ot(n)}};var gc=ta.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ta.format=gc.numberFormat,ta.geo={},ce.prototype={s:0,t:0,add:function(n){le(n,this.t,pc),le(pc.s,this.s,this),this.s?this.t+=pc.t:this.s=pc.t
},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pc=new ce;ta.geo.stream=function(n,t){n&&vc.hasOwnProperty(n.type)?vc[n.type](n,t):se(n,t)};var vc={Feature:function(n,t){se(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)se(e[r].geometry,t)}},dc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){fe(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)fe(e[r],t,0)},Polygon:function(n,t){he(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)he(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)se(e[r],t)}};ta.geo.area=function(n){return mc=0,ta.geo.stream(n,Mc),mc};var mc,yc=new ce,Mc={sphere:function(){mc+=4*qa},point:b,lineStart:b,lineEnd:b,polygonStart:function(){yc.reset(),Mc.lineStart=ge},polygonEnd:function(){var n=2*yc;mc+=0>n?4*qa+n:n,Mc.lineStart=Mc.lineEnd=Mc.point=b}};ta.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=pe([t*Da,e*Da]);if(m){var u=de(m,r),i=[u[1],-u[0],0],o=de(i,u);Me(o),o=xe(o);var c=t-p,l=c>0?1:-1,v=o[0]*Pa*l,d=ga(c)>180;if(d^(v>l*p&&l*t>v)){var y=o[1]*Pa;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>l*p&&l*t>v)){var y=-o[1]*Pa;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=ga(r)>180?r+(r>0?360:-360):r}else v=n,d=e;Mc.point(n,e),t(n,e)}function i(){Mc.lineStart()}function o(){u(v,d),Mc.lineEnd(),ga(y)>Ca&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=o,y=0,Mc.polygonStart()},polygonEnd:function(){Mc.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>yc?(s=-(h=180),f=-(g=90)):y>Ca?g=90:-Ca>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],ta.geo.stream(n,b);var t=M.length;if(t){M.sort(c);for(var e,r=1,u=M[0],i=[u];t>r;++r)e=M[r],l(e[0],u)||l(e[1],u)?(a(u[0],e[1])>a(u[0],u[1])&&(u[1]=e[1]),a(e[0],u[1])>a(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var o,e,p=-1/0,t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))>p&&(p=o,s=e[0],h=u[1])}return M=x=null,1/0===s||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[s,f],[h,g]]}}(),ta.geo.centroid=function(n){xc=bc=_c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,qc);var t=Nc,e=Cc,r=zc,u=t*t+e*e+r*r;return za>u&&(t=kc,e=Ec,r=Ac,Ca>bc&&(t=_c,e=wc,r=Sc),u=t*t+e*e+r*r,za>u)?[0/0,0/0]:[Math.atan2(e,t)*Pa,tt(r/Math.sqrt(u))*Pa]};var xc,bc,_c,wc,Sc,kc,Ec,Ac,Nc,Cc,zc,qc={sphere:b,point:_e,lineStart:Se,lineEnd:ke,polygonStart:function(){qc.lineStart=Ee},polygonEnd:function(){qc.lineStart=Se}},Lc=Le(Ne,Pe,je,[-qa,-qa/2]),Tc=1e9;ta.geo.clipExtent=function(){var n,t,e,r,u,i,o={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Ie(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ta.geo.conicEqualArea=function(){return Ye(Ze)}).raw=Ze,ta.geo.albers=function(){return ta.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ta.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t||(r(i,o),t)||u(i,o),t}var t,e,r,u,i=ta.geo.albers(),o=ta.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ta.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?o:u>=.166&&.234>u&&r>=-.214&&-.115>r?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var l=i.scale(),s=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[s-.455*l,f-.238*l],[s+.455*l,f+.238*l]]).stream(c).point,r=o.translate([s-.307*l,f+.201*l]).clipExtent([[s-.425*l+Ca,f+.12*l+Ca],[s-.214*l-Ca,f+.234*l-Ca]]).stream(c).point,u=a.translate([s-.205*l,f+.212*l]).clipExtent([[s-.214*l+Ca,f+.166*l+Ca],[s-.115*l-Ca,f+.234*l-Ca]]).stream(c).point,n},n.scale(1070)};var Rc,Dc,Pc,Uc,jc,Fc,Hc={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Dc=0,Hc.lineStart=Ve},polygonEnd:function(){Hc.lineStart=Hc.lineEnd=Hc.point=b,Rc+=ga(Dc/2)}},Oc={point:Xe,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Ic={point:We,lineStart:Je,lineEnd:Ge,polygonStart:function(){Ic.lineStart=Ke},polygonEnd:function(){Ic.point=We,Ic.lineStart=Je,Ic.lineEnd=Ge}};ta.geo.path=function(){function n(n){return n&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=u(i)),ta.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return Rc=0,ta.geo.stream(n,u(Hc)),Rc},n.centroid=function(n){return _c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,u(Ic)),zc?[Nc/zc,Cc/zc]:Ac?[kc/Ac,Ec/Ac]:Sc?[_c/Sc,wc/Sc]:[0/0,0/0]},n.bounds=function(n){return jc=Fc=-(Pc=Uc=1/0),ta.geo.stream(n,u(Oc)),[[Pc,Uc],[jc,Fc]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||tr(n):y,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new $e:new Qe(n),"function"!=typeof a&&i.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(ta.geo.albersUsa()).context(null)},ta.geo.transform=function(n){return{stream:function(t){var e=new er(t);for(var r in n)e[r]=n[r];return e}}},er.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ta.geo.projection=ur,ta.geo.projectionMutator=ir,(ta.geo.equirectangular=function(){return ur(ar)}).raw=ar.invert=ar,ta.geo.rotation=function(n){function t(t){return t=n(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t}return n=lr(n[0]%360*Da,n[1]*Da,n.length>2?n[2]*Da:0),t.invert=function(t){return t=n.invert(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t},t},cr.invert=ar,ta.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=lr(-n[0]*Da,-n[1]*Da,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Pa,n[1]*=Pa}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=gr((t=+r)*Da,u*Da),n):t},n.precision=function(r){return arguments.length?(e=gr(t*Da,(u=+r)*Da),n):u},n.angle(90)},ta.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Da,u=n[1]*Da,i=t[1]*Da,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),l=Math.cos(u),s=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*o)*e+(e=l*s-c*f*a)*e),c*s+l*f*a)},ta.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ta.range(Math.ceil(i/d)*d,u,d).map(h).concat(ta.range(Math.ceil(l/m)*m,c,m).map(g)).concat(ta.range(Math.ceil(r/p)*p,e,p).filter(function(n){return ga(n%d)>Ca}).map(s)).concat(ta.range(Math.ceil(a/v)*v,o,v).filter(function(n){return ga(n%m)>Ca}).map(f))}var e,r,u,i,o,a,c,l,s,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],l=+t[0][1],c=+t[1][1],i>u&&(t=i,i=u,u=t),l>c&&(t=l,l=c,c=t),n.precision(y)):[[i,l],[u,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,s=vr(a,o,90),f=dr(r,e,y),h=vr(l,c,90),g=dr(i,u,y),n):y},n.majorExtent([[-180,-90+Ca],[180,90-Ca]]).minorExtent([[-180,-80-Ca],[180,80+Ca]])},ta.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=mr,u=yr;return n.distance=function(){return ta.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},ta.geo.interpolate=function(n,t){return Mr(n[0]*Da,n[1]*Da,t[0]*Da,t[1]*Da)},ta.geo.length=function(n){return Yc=0,ta.geo.stream(n,Zc),Yc};var Yc,Zc={sphere:b,point:b,lineStart:xr,lineEnd:b,polygonStart:b,polygonEnd:b},Vc=br(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ta.geo.azimuthalEqualArea=function(){return ur(Vc)}).raw=Vc;var Xc=br(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},y);(ta.geo.azimuthalEquidistant=function(){return ur(Xc)}).raw=Xc,(ta.geo.conicConformal=function(){return Ye(_r)}).raw=_r,(ta.geo.conicEquidistant=function(){return Ye(wr)}).raw=wr;var $c=br(function(n){return 1/n},Math.atan);(ta.geo.gnomonic=function(){return ur($c)}).raw=$c,Sr.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Ra]},(ta.geo.mercator=function(){return kr(Sr)}).raw=Sr;var Bc=br(function(){return 1},Math.asin);(ta.geo.orthographic=function(){return ur(Bc)}).raw=Bc;var Wc=br(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ta.geo.stereographic=function(){return ur(Wc)}).raw=Wc,Er.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Ra]},(ta.geo.transverseMercator=function(){var n=kr(Er),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Er,ta.geom={},ta.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=Et(e),i=Et(r),o=n.length,a=[],c=[];for(t=0;o>t;t++)a.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(a.sort(zr),t=0;o>t;t++)c.push([a[t][0],-a[t][1]]);var l=Cr(a),s=Cr(c),f=s[0]===l[0],h=s[s.length-1]===l[l.length-1],g=[];for(t=l.length-1;t>=0;--t)g.push(n[a[l[t]][2]]);for(t=+f;t<s.length-h;++t)g.push(n[a[s[t]][2]]);return g}var e=Ar,r=Nr;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ta.geom.polygon=function(n){return ya(n,Jc),n};var Jc=ta.geom.polygon.prototype=[];Jc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},Jc.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[i*n,o*n]},Jc.clip=function(n){for(var t,e,r,u,i,o,a=Tr(n),c=-1,l=this.length-Tr(this),s=this[l-1];++c<l;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],qr(o,s,u)?(qr(i,s,u)||n.push(Lr(i,o,s,u)),n.push(o)):qr(i,s,u)&&n.push(Lr(i,o,s,u)),i=o;a&&n.push(n[0]),s=u}return n};var Gc,Kc,Qc,nl,tl,el=[],rl=[];Or.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Yr),t.length},Qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nu.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=uu(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(eu(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ru(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ru(this,e),n=e,e=n.U),e.C=!1,r.C=!0,eu(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=i?o?uu(o):i:o,u?u.L===n?u.L=e:u.R=e:this._=e,i&&o?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,eu(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ru(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,eu(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,ru(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,eu(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ru(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},ta.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return iu(e(n),a).cells.forEach(function(e,a){var c=e.edges,l=e.site,s=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=r&&l.x<=i&&l.y>=u&&l.y<=o?[[r,o],[i,o],[i,u],[r,u]]:[];s.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Ca)*Ca,y:Math.round(o(n,t)/Ca)*Ca,i:t}})}var r=Ar,u=Nr,i=r,o=u,a=ul;return n?t(n):(t.links=function(n){return iu(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return iu(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(Yr),c=-1,l=a.length,s=a[l-1].edge,f=s.l===o?s.r:s.l;++c<l;)u=s,i=f,s=a[c].edge,f=s.l===o?s.r:s.l,r<i.i&&r<f.i&&au(o,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=Et(r=n),t):r},t.y=function(n){return arguments.length?(o=Et(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?ul:n,t):a===ul?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===ul?null:a&&a[1]},t)};var ul=[[-1e6,-1e6],[1e6,1e6]];ta.geom.delaunay=function(n){return ta.geom.voronoi().triangles(n)},ta.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,s=n.y;if(null!=c)if(ga(c-e)+ga(s-r)<.01)l(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,l(n,f,c,s,u,i,o,a),l(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,u,i,o,a)}function l(n,t,e,r,u,o,a,c){var l=.5*(u+a),s=.5*(o+c),f=e>=l,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=su()),f?u=l:a=l,h?o=s:c=s,i(n,t,e,r,u,o,a,c)}var s,f,h,g,p,v,d,m,y,M=Et(a),x=Et(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)for(g=0;p>g;++g)s=n[g],s.x<v&&(v=s.x),s.y<d&&(d=s.y),s.x>m&&(m=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);v>b&&(v=b),d>_&&(d=_),b>m&&(m=b),_>y&&(y=_),f.push(b),h.push(_)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=su();if(k.add=function(n){i(k,n,+M(n,++g),+x(n,g),v,d,m,y)},k.visit=function(n){fu(n,k,v,d,m,y)},k.find=function(n){return hu(k,n[0],n[1],v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=s=null,k}var o,a=Ar,c=Nr;return(o=arguments.length)?(a=cu,c=lu,3===o&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},ta.interpolateRgb=gu,ta.interpolateObject=pu,ta.interpolateNumber=vu,ta.interpolateString=du;var il=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ol=new RegExp(il.source,"g");ta.interpolate=mu,ta.interpolators=[function(n,t){var e=typeof t;return("string"===e?Ga.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?gu:du:t instanceof ot?gu:Array.isArray(t)?yu:"object"===e&&isNaN(t)?pu:vu)(n,t)}],ta.interpolateArray=yu;var al=function(){return y},cl=ta.map({linear:al,poly:ku,quad:function(){return _u},cubic:function(){return wu},sin:function(){return Eu},exp:function(){return Au},circle:function(){return Nu},elastic:Cu,back:zu,bounce:function(){return qu}}),ll=ta.map({"in":y,out:xu,"in-out":bu,"out-in":function(n){return bu(xu(n))}});ta.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=cl.get(e)||al,r=ll.get(r)||y,Mu(r(e.apply(null,ea.call(arguments,1))))},ta.interpolateHcl=Lu,ta.interpolateHsl=Tu,ta.interpolateLab=Ru,ta.interpolateRound=Du,ta.transform=function(n){var t=ua.createElementNS(ta.ns.prefix.svg,"g");return(ta.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Pu(e?e.matrix:sl)})(n)},Pu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var sl={a:1,b:0,c:0,d:1,e:0,f:0};ta.interpolateTransform=Hu,ta.layout={},ta.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Yu(n[e]));return t}},ta.layout.chord=function(){function n(){var n,l,f,h,g,p={},v=[],d=ta.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(l=0,g=-1;++g<i;)l+=u[h][g];v.push(l),m.push(ta.range(i)),n+=l}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(La-s*i)/n,l=0,h=-1;++h<i;){for(f=l,g=-1;++g<i;){var y=d[h],M=m[y][g],x=u[y][M],b=l,_=l+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/n},l+=s}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,o,a,c,l={},s=0;return l.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,l):u},l.padding=function(n){return arguments.length?(s=n,e=r=null,l):s},l.sortGroups=function(n){return arguments.length?(o=n,e=r=null,l):o},l.sortSubgroups=function(n){return arguments.length?(a=n,e=null,l):a},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},ta.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-e,c=i*i+o*o;if(c>a*a/d){if(p>c){var l=t.charge/c;n.px-=i*l,n.py-=o*l}return!0}if(t.point&&c&&p>c){var l=t.pointCharge/c;n.px-=i*l,n.py-=o*l}}return!t.charge}}function t(n){n.px=ta.event.x,n.py=ta.event.y,a.resume()}var e,r,u,i,o,a={},c=ta.dispatch("start","tick","end"),l=[1,1],s=.9,f=fl,h=hl,g=-30,p=gl,v=.1,d=.64,m=[],M=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,f,h,p,d,y,x,b=m.length,_=M.length;for(e=0;_>e;++e)a=M[e],f=a.source,h=a.target,y=h.x-f.x,x=h.y-f.y,(p=y*y+x*x)&&(p=r*i[e]*((p=Math.sqrt(p))-u[e])/p,y*=p,x*=p,h.x-=y*(d=f.weight/(h.weight+f.weight)),h.y-=x*d,f.x+=y*(d=1-d),f.y+=x*d);if((d=r*v)&&(y=l[0]/2,x=l[1]/2,e=-1,d))for(;++e<b;)a=m[e],a.x+=(y-a.x)*d,a.y+=(x-a.y)*d;if(g)for(Ju(t=ta.geom.quadtree(m),r,o),e=-1;++e<b;)(a=m[e]).fixed||t.visit(n(a));for(e=-1;++e<b;)a=m[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*s,a.y-=(a.py-(a.py=a.y))*s);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(m=n,a):m},a.links=function(n){return arguments.length?(M=n,a):M},a.size=function(n){return arguments.length?(l=n,a):l},a.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(s=+n,a):s},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),ta.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;c>a;++a)e[a]=[];for(a=0;s>a;++a){var u=M[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var i,o=e[t],a=-1,l=o.length;++a<l;)if(!isNaN(i=o[a][n]))return i;return Math.random()*r}var t,e,r,c=m.length,s=M.length,p=l[0],v=l[1];for(t=0;c>t;++t)(r=m[t]).index=t,r.weight=0;for(t=0;s>t;++t)r=M[t],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(t=0;c>t;++t)r=m[t],isNaN(r.x)&&(r.x=n("x",p)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof f)for(t=0;s>t;++t)u[t]=+f.call(this,M[t],t);else for(t=0;s>t;++t)u[t]=f;if(i=[],"function"==typeof h)for(t=0;s>t;++t)i[t]=+h.call(this,M[t],t);else for(t=0;s>t;++t)i[t]=h;if(o=[],"function"==typeof g)for(t=0;c>t;++t)o[t]=+g.call(this,m[t],t);else for(t=0;c>t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=ta.behavior.drag().origin(y).on("dragstart.force",Xu).on("drag.force",t).on("dragend.force",$u)),arguments.length?void this.on("mouseover.force",Bu).on("mouseout.force",Wu).call(e):e},ta.rebind(a,c,"on")};var fl=20,hl=1,gl=1/0;ta.layout.hierarchy=function(){function n(u){var i,o=[u],a=[];for(u.depth=0;null!=(i=o.pop());)if(a.push(i),(l=e.call(n,i,i.depth))&&(c=l.length)){for(var c,l,s;--c>=0;)o.push(s=l[c]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=l}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return Qu(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),a}var t=ei,e=ni,r=ti;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Ku(t,function(n){n.children&&(n.value=0)}),Qu(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ta.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(o=i.length)){var o,a,c,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(a=i[l],e,c=a.value*r,u),e+=c}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=ta.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},Gu(e,r)},ta.layout.pie=function(){function n(o){var a,c=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof u?u.apply(this,arguments):u)-s,h=Math.min(Math.abs(f)/c,+("function"==typeof i?i.apply(this,arguments):i)),g=h*(0>f?-1:1),p=(f-c*g)/ta.sum(l),v=ta.range(c),d=[];return null!=e&&v.sort(e===pl?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:a=l[n],startAngle:s,endAngle:s+=a*p+g,padAngle:h}}),d}var t=Number,e=pl,r=0,u=La,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var pl={};ta.layout.stack=function(){function n(a,c){if(!(h=a.length))return a;var l=a.map(function(e,r){return t.call(n,e,r)}),s=l.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,s,c);l=ta.permute(l,f),s=ta.permute(s,f);var h,g,p,v,d=r.call(n,s,c),m=l[0].length;for(p=0;m>p;++p)for(u.call(n,l[0][p],v=d[p],s[0][p][1]),g=1;h>g;++g)u.call(n,l[g][p],v+=s[g-1][p][1],s[g][p][1]);return a}var t=y,e=ai,r=ci,u=oi,i=ui,o=ii;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:vl.get(t)||ai,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:dl.get(t)||ci,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var vl=ta.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(li),i=n.map(si),o=ta.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,l=[],s=[];for(t=0;r>t;++t)e=o[t],c>a?(a+=i[e],l.push(e)):(c+=i[e],s.push(e));return s.reverse().concat(l)},reverse:function(n){return ta.range(n.length).reverse()},"default":ai}),dl=ta.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;i>e;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,u,i,o,a,c,l,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=l=0,e=1;h>e;++e){for(t=0,u=0;s>t;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];s>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;i+=o*n[t][e][1]}g[e]=c-=u?i/u*a:0,l>c&&(l=c)}for(e=0;h>e;++e)g[e]-=l;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,o=1/u,a=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=o}for(e=0;i>e;++e)a[e]=0;return a},zero:ci});ta.layout.histogram=function(){function n(n,i){for(var o,a,c=[],l=n.map(e,this),s=r.call(this,l,i),f=u.call(this,s,l,i),i=-1,h=l.length,g=f.length-1,p=t?1:1/h;++i<g;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g>0)for(i=-1;++i<h;)a=l[i],a>=s[0]&&a<=s[1]&&(o=c[ta.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=pi,u=hi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=Et(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return gi(n,t)}:Et(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ta.layout.pack=function(){function n(n,i){var o=e.call(this,n,i),a=o[0],c=u[0],l=u[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Qu(a,function(n){n.r=+s(n.value)}),Qu(a,Mi),r){var f=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;Qu(a,function(n){n.r+=f}),Qu(a,Mi),Qu(a,function(n){n.r-=f})}return _i(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),o}var t,e=ta.layout.hierarchy().sort(vi),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Gu(n,e)},ta.layout.tree=function(){function n(n,u){var s=o.call(this,n,u),f=s[0],h=t(f);if(Qu(h,e),h.parent.m=-h.z,Ku(h,r),l)Ku(f,i);else{var g=f,p=f,v=f;Ku(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=a(g,p)/2-g.x,m=c[0]/(p.x+a(p,g)/2+d),y=c[1]/(v.depth||1);Ku(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,o=0,a=i.length;a>o;++o)r.push((i[o]=u={_:i[o],parent:t,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Ni(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+a(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,o=t,c=u.parent.children[0],l=u.m,s=i.m,f=o.m,h=c.m;o=Ei(o),u=ki(u),o&&u;)c=ki(c),i=Ei(i),i.a=n,r=o.z+f-u.z-l+a(o._,u._),r>0&&(Ai(Ci(o,n,e),n,r),l+=r,s+=r),f+=o.m,l+=u.m,h+=c.m,s+=i.m;o&&!Ei(i)&&(i.t=o,i.m+=f-s),u&&!ki(c)&&(c.t=u,c.m+=l-h,e=n)}return e}function i(n){n.x*=c[0],n.y=n.depth*c[1]}var o=ta.layout.hierarchy().sort(null).value(null),a=Si,c=[1,1],l=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(l=null==(c=t)?i:null,n):l?null:c},n.nodeSize=function(t){return arguments.length?(l=null==(c=t)?null:i,n):l?c:null},Gu(n,o)},ta.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],l=0;Qu(c,function(n){var t=n.children;t&&t.length?(n.x=qi(t),n.y=zi(t)):(n.x=o?l+=e(n,o):0,n.y=0,o=n)});var s=Li(c),f=Ti(c),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return Qu(c,u?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=ta.layout.hierarchy().sort(null).value(null),e=Si,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},Gu(n,t)},ta.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var o,a,c,l=f(e),s=[],h=i.slice(),p=1/0,v="slice"===g?l.dx:"dice"===g?l.dy:"slice-dice"===g?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),s.area=0;(c=h.length)>0;)s.push(o=h[c-1]),s.area+=o.area,"squarify"!==g||(a=r(s,v))<=p?(h.pop(),p=a):(s.area-=s.pop().area,u(s,v,l,!1),v=Math.min(l.dx,l.dy),s.length=s.area=0,p=1/0);s.length&&(u(s,v,l,!0),s.length=s.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,o=f(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,l=e.y,s=t?c(n.area/t):0;if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++i<o;)u=n[i],u.x=a,u.y=l,u.dy=s,a+=u.dx=Math.min(e.x+e.dx-a,s?c(u.area/s):0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++i<o;)u=n[i],u.x=a,u.y=l,u.dx=s,l+=u.dy=Math.min(e.y+e.dy-l,s?c(u.area/s):0);u.z=!1,u.dy+=e.y+e.dy-l,e.x+=s,e.dx-=s}}function i(r){var u=o||a(r),i=u[0];return i.x=0,i.y=0,i.dx=l[0],i.dy=l[1],o&&a.revalue(i),n([i],i.dx*i.dy/i.value),(o?e:t)(i),h&&(o=u),u}var o,a=ta.layout.hierarchy(),c=Math.round,l=[1,1],s=null,f=Ri,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));
return i.size=function(n){return arguments.length?(l=n,i):l},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ri(t):Di(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Di(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Ri:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},Gu(i,a)},ta.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=ta.random.normal.apply(ta,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ta.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},ta.scale={};var ml={floor:y,ceil:y};ta.scale.linear=function(){return Ii([0,1],[0,1],mu,!1)};var yl={s:1,g:1,p:1,r:1,e:1};ta.scale.log=function(){return Ji(ta.scale.linear().domain([0,1]),10,!0,[1,10])};var Ml=ta.format(".0e"),xl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ta.scale.pow=function(){return Gi(ta.scale.linear(),1,[0,1])},ta.scale.sqrt=function(){return ta.scale.pow().exponent(.5)},ta.scale.ordinal=function(){return Qi([],{t:"range",a:[[]]})},ta.scale.category10=function(){return ta.scale.ordinal().range(bl)},ta.scale.category20=function(){return ta.scale.ordinal().range(_l)},ta.scale.category20b=function(){return ta.scale.ordinal().range(wl)},ta.scale.category20c=function(){return ta.scale.ordinal().range(Sl)};var bl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),_l=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),wl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),Sl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);ta.scale.quantile=function(){return no([],[])},ta.scale.quantize=function(){return to(0,1,[0,1])},ta.scale.threshold=function(){return eo([.5],[0,1])},ta.scale.identity=function(){return ro([0,1])},ta.svg={},ta.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),s=o.apply(this,arguments)-Ra,f=a.apply(this,arguments)-Ra,h=Math.abs(f-s),g=s>f?0:1;if(n>l&&(p=l,l=n,n=p),h>=Ta)return t(l,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y,M,x,b,_,w,S,k,E=0,A=0,N=[];if((m=(+c.apply(this,arguments)||0)/2)&&(d=i===kl?Math.sqrt(n*n+l*l):+i.apply(this,arguments),g||(A*=-1),l&&(A=tt(d/l*Math.sin(m))),n&&(E=tt(d/n*Math.sin(m)))),l){y=l*Math.cos(s+A),M=l*Math.sin(s+A),x=l*Math.cos(f-A),b=l*Math.sin(f-A);var C=Math.abs(f-s-2*A)<=qa?0:1;if(A&&so(y,M,x,b)===g^C){var z=(s+f)/2;y=l*Math.cos(z),M=l*Math.sin(z),x=b=null}}else y=M=0;if(n){_=n*Math.cos(f-E),w=n*Math.sin(f-E),S=n*Math.cos(s+E),k=n*Math.sin(s+E);var q=Math.abs(s-f+2*E)<=qa?0:1;if(E&&so(_,w,S,k)===1-g^q){var L=(s+f)/2;_=n*Math.cos(L),w=n*Math.sin(L),S=k=null}}else _=w=0;if((p=Math.min(Math.abs(l-n)/2,+u.apply(this,arguments)))>.001){v=l>n^g?0:1;var T=null==S?[_,w]:null==x?[y,M]:Lr([y,M],[S,k],[x,b],[_,w]),R=y-T[0],D=M-T[1],P=x-T[0],U=b-T[1],j=1/Math.sin(Math.acos((R*P+D*U)/(Math.sqrt(R*R+D*D)*Math.sqrt(P*P+U*U)))/2),F=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=x){var H=Math.min(p,(l-F)/(j+1)),O=fo(null==S?[_,w]:[S,k],[y,M],l,H,g),I=fo([x,b],[_,w],l,H,g);p===H?N.push("M",O[0],"A",H,",",H," 0 0,",v," ",O[1],"A",l,",",l," 0 ",1-g^so(O[1][0],O[1][1],I[1][0],I[1][1]),",",g," ",I[1],"A",H,",",H," 0 0,",v," ",I[0]):N.push("M",O[0],"A",H,",",H," 0 1,",v," ",I[0])}else N.push("M",y,",",M);if(null!=S){var Y=Math.min(p,(n-F)/(j-1)),Z=fo([y,M],[S,k],n,-Y,g),V=fo([_,w],null==x?[y,M]:[x,b],n,-Y,g);p===Y?N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^so(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",Y,",",Y," 0 0,",v," ",Z[0]):N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",Z[0])}else N.push("L",_,",",w)}else N.push("M",y,",",M),null!=x&&N.push("A",l,",",l," 0 ",C,",",g," ",x,",",b),N.push("L",_,",",w),null!=S&&N.push("A",n,",",n," 0 ",q,",",1-g," ",S,",",k);return N.push("Z"),N.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=io,r=oo,u=uo,i=kl,o=ao,a=co,c=lo;return n.innerRadius=function(t){return arguments.length?(e=Et(t),n):e},n.outerRadius=function(t){return arguments.length?(r=Et(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=Et(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==kl?kl:Et(t),n):i},n.startAngle=function(t){return arguments.length?(o=Et(t),n):o},n.endAngle=function(t){return arguments.length?(a=Et(t),n):a},n.padAngle=function(t){return arguments.length?(c=Et(t),n):c},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Ra;return[Math.cos(t)*n,Math.sin(t)*n]},n};var kl="auto";ta.svg.line=function(){return ho(y)};var El=ta.map({linear:go,"linear-closed":po,step:vo,"step-before":mo,"step-after":yo,basis:So,"basis-open":ko,"basis-closed":Eo,bundle:Ao,cardinal:bo,"cardinal-open":Mo,"cardinal-closed":xo,monotone:To});El.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Al=[0,2/3,1/3,0],Nl=[0,1/3,2/3,0],Cl=[0,1/6,2/3,1/6];ta.svg.line.radial=function(){var n=ho(Ro);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},mo.reverse=yo,yo.reverse=mo,ta.svg.area=function(){return Do(y)},ta.svg.area.radial=function(){var n=Do(Ro);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ta.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),l=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+u(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)-Ra,s=l.call(n,u,r)-Ra;return{r:i,a0:o,a1:s,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>qa)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=mr,o=yr,a=Po,c=ao,l=co;return n.radius=function(t){return arguments.length?(a=Et(t),n):a},n.source=function(t){return arguments.length?(i=Et(t),n):i},n.target=function(t){return arguments.length?(o=Et(t),n):o},n.startAngle=function(t){return arguments.length?(c=Et(t),n):c},n.endAngle=function(t){return arguments.length?(l=Et(t),n):l},n},ta.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,c=[i,{x:i.x,y:a},{x:o.x,y:a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=mr,e=yr,r=Uo;return n.source=function(e){return arguments.length?(t=Et(e),n):t},n.target=function(t){return arguments.length?(e=Et(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ta.svg.diagonal.radial=function(){var n=ta.svg.diagonal(),t=Uo,e=n.projection;return n.projection=function(n){return arguments.length?e(jo(t=n)):t},n},ta.svg.symbol=function(){function n(n,r){return(zl.get(t.call(this,n,r))||Oo)(e.call(this,n,r))}var t=Ho,e=Fo;return n.type=function(e){return arguments.length?(t=Et(e),n):t},n.size=function(t){return arguments.length?(e=Et(t),n):e},n};var zl=ta.map({circle:Oo,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Ll)),e=t*Ll;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ta.svg.symbolTypes=zl.keys();var ql=Math.sqrt(3),Ll=Math.tan(30*Da);_a.transition=function(n){for(var t,e,r=Tl||++Ul,u=Xo(n),i=[],o=Rl||{time:Date.now(),ease:Su,delay:0,duration:250},a=-1,c=this.length;++a<c;){i.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(e=l[s])&&$o(e,s,u,r,o),t.push(e)}return Yo(i,u,r)},_a.interrupt=function(n){return this.each(null==n?Dl:Io(Xo(n)))};var Tl,Rl,Dl=Io(Xo()),Pl=[],Ul=0;Pl.call=_a.call,Pl.empty=_a.empty,Pl.node=_a.node,Pl.size=_a.size,ta.transition=function(n,t){return n&&n.transition?Tl?n.transition(t):n:ta.selection().transition(n)},ta.transition.prototype=Pl,Pl.select=function(n){var t,e,r,u=this.id,i=this.namespace,o=[];n=N(n);for(var a=-1,c=this.length;++a<c;){o.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(r=l[s])&&(e=n.call(r,r.__data__,s,a))?("__data__"in r&&(e.__data__=r.__data__),$o(e,s,i,u,r[i][u]),t.push(e)):t.push(null)}return Yo(o,i,u)},Pl.selectAll=function(n){var t,e,r,u,i,o=this.id,a=this.namespace,c=[];n=C(n);for(var l=-1,s=this.length;++l<s;)for(var f=this[l],h=-1,g=f.length;++h<g;)if(r=f[h]){i=r[a][o],e=n.call(r,r.__data__,h,l),c.push(t=[]);for(var p=-1,v=e.length;++p<v;)(u=e[p])&&$o(u,p,a,o,i),t.push(u)}return Yo(c,a,o)},Pl.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]);for(var e=this[i],a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return Yo(u,this.namespace,this.id)},Pl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Pl.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Hu:mu,a=ta.ns.qualify(n);return Zo(this,"attr."+n,t,a.local?i:u)},Pl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=ta.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Pl.style=function(n,e,r){function u(){this.style.removeProperty(n)}function i(e){return null==e?u:(e+="",function(){var u,i=t(this).getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(u=mu(i,e),function(t){this.style.setProperty(n,u(t),r)})})}var o=arguments.length;if(3>o){if("string"!=typeof n){2>o&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Zo(this,"style."+n,e,i)},Pl.styleTween=function(n,e,r){function u(u,i){var o=e.call(this,u,i,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,u)},Pl.text=function(n){return Zo(this,"text",n,Vo)},Pl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Pl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ta.ease.apply(ta,arguments)),Y(this,function(r){r[e][t].ease=n}))},Pl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Pl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Pl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=Rl,i=Tl;try{Tl=e,Y(this,function(t,u,i){Rl=t[r][e],n.call(t,t.__data__,u,i)})}finally{Rl=u,Tl=i}}else Y(this,function(u){var i=u[r][e];(i.event||(i.event=ta.dispatch("start","end","interrupt"))).on(n,t)});return this},Pl.transition=function(){for(var n,t,e,r,u=this.id,i=++Ul,o=this.namespace,a=[],c=0,l=this.length;l>c;c++){a.push(n=[]);for(var t=this[c],s=0,f=t.length;f>s;s++)(e=t[s])&&(r=e[o][u],$o(e,s,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Yo(a,o,i)},ta.svg.axis=function(){function n(n){n.each(function(){var n,l=ta.select(this),s=this.__chart__||e,f=this.__chart__=e.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):y:t,p=l.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ca),d=ta.transition(p.exit()).style("opacity",Ca).remove(),m=ta.transition(p.order()).style("opacity",1),M=Math.max(u,0)+o,x=Ui(f),b=l.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ta.transition(b));v.append("line"),v.append("text");var w,S,k,E,A=v.select("line"),N=m.select("line"),C=p.select("text").text(g),z=v.select("text"),q=m.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=Bo,w="x",k="y",S="x2",E="y2",C.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+L*i+"V0H"+x[1]+"V"+L*i)):(n=Wo,w="y",k="x",S="y2",E="x2",C.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),_.attr("d","M"+L*i+","+x[0]+"H0V"+x[1]+"H"+L*i)),A.attr(E,L*u),z.attr(k,L*M),N.attr(S,0).attr(E,L*u),q.attr(w,0).attr(k,L*M),f.rangeBand){var T=f,R=T.rangeBand()/2;s=f=function(n){return T(n)+R}}else s.rangeBand?s=f:d.call(n,f,s);v.call(n,s,f),m.call(n,f,f)})}var t,e=ta.scale.linear(),r=jl,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Fl?t+"":jl,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var jl="bottom",Fl={top:1,right:1,bottom:1,left:1};ta.svg.brush=function(){function n(t){t.each(function(){var t=ta.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,y);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Hl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var c,f=ta.transition(t),h=ta.transition(o);l&&(c=Ui(l),h.attr("x",c[0]).attr("width",c[1]-c[0]),r(f)),s&&(c=Ui(s),h.attr("y",c[0]).attr("height",c[1]-c[0]),u(f)),e(f)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+f[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",f[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function u(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==ta.event.keyCode&&(C||(M=null,q[0]-=f[1],q[1]-=h[1],C=2),S())}function v(){32==ta.event.keyCode&&2==C&&(q[0]+=f[1],q[1]+=h[1],C=0,S())}function d(){var n=ta.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(ta.event.altKey?(M||(M=[(f[0]+f[1])/2,(h[0]+h[1])/2]),q[0]=f[+(n[0]<M[0])],q[1]=h[+(n[1]<M[1])]):M=null),A&&m(n,l,0)&&(r(k),t=!0),N&&m(n,s,1)&&(u(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function m(n,t,e){var r,u,i=Ui(t),c=i[0],l=i[1],s=q[e],v=e?h:f,d=v[1]-v[0];return C&&(c-=s,l-=d+s),r=(e?p:g)?Math.max(c,Math.min(l,n[e])):n[e],C?u=(r+=s)+d:(M&&(s=Math.max(c,Math.min(l,2*M[e]-r))),r>s?(u=r,r=s):u=s),v[0]!=r||v[1]!=u?(e?a=null:o=null,v[0]=r,v[1]=u,!0):void 0}function y(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ta.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=ta.select(ta.event.target),w=c.of(b,arguments),k=ta.select(b),E=_.datum(),A=!/^(n|s)$/.test(E)&&l,N=!/^(e|w)$/.test(E)&&s,C=_.classed("extent"),z=W(b),q=ta.mouse(b),L=ta.select(t(b)).on("keydown.brush",i).on("keyup.brush",v);if(ta.event.changedTouches?L.on("touchmove.brush",d).on("touchend.brush",y):L.on("mousemove.brush",d).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),C)q[0]=f[0]-q[0],q[1]=h[0]-q[1];else if(E){var T=+/w$/.test(E),R=+/^n/.test(E);x=[f[1-T]-q[0],h[1-R]-q[1]],q[0]=f[T],q[1]=h[R]}else ta.event.altKey&&(M=q.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ta.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,c=E(n,"brushstart","brush","brushend"),l=null,s=null,f=[0,0],h=[0,0],g=!0,p=!0,v=Ol[0];return n.event=function(n){n.each(function(){var n=c.of(this,arguments),t={x:f,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,Tl?ta.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,f=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=yu(f,t.x),r=yu(h,t.y);return o=a=null,function(u){f=t.x=e(u),h=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(l=t,v=Ol[!l<<1|!s],n):l},n.y=function(t){return arguments.length?(s=t,v=Ol[!l<<1|!s],n):s},n.clamp=function(t){return arguments.length?(l&&s?(g=!!t[0],p=!!t[1]):l?g=!!t:s&&(p=!!t),n):l&&s?[g,p]:l?g:s?p:null},n.extent=function(t){var e,r,u,i,c;return arguments.length?(l&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),o=[e,r],l.invert&&(e=l(e),r=l(r)),e>r&&(c=e,e=r,r=c),(e!=f[0]||r!=f[1])&&(f=[e,r])),s&&(u=t[0],i=t[1],l&&(u=u[1],i=i[1]),a=[u,i],s.invert&&(u=s(u),i=s(i)),u>i&&(c=u,u=i,i=c),(u!=h[0]||i!=h[1])&&(h=[u,i])),n):(l&&(o?(e=o[0],r=o[1]):(e=f[0],r=f[1],l.invert&&(e=l.invert(e),r=l.invert(r)),e>r&&(c=e,e=r,r=c))),s&&(a?(u=a[0],i=a[1]):(u=h[0],i=h[1],s.invert&&(u=s.invert(u),i=s.invert(i)),u>i&&(c=u,u=i,i=c))),l&&s?[[e,u],[r,i]]:l?[e,r]:s&&[u,i])},n.clear=function(){return n.empty()||(f=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!l&&f[0]==f[1]||!!s&&h[0]==h[1]},ta.rebind(n,c,"on")};var Hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ol=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Il=ac.format=gc.timeFormat,Yl=Il.utc,Zl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Il.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:Zl,Jo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Jo.toString=Zl.toString,ac.second=Ft(function(n){return new cc(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ac.seconds=ac.second.range,ac.seconds.utc=ac.second.utc.range,ac.minute=Ft(function(n){return new cc(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ac.minutes=ac.minute.range,ac.minutes.utc=ac.minute.utc.range,ac.hour=Ft(function(n){var t=n.getTimezoneOffset()/60;return new cc(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ac.hours=ac.hour.range,ac.hours.utc=ac.hour.utc.range,ac.month=Ft(function(n){return n=ac.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ac.months=ac.month.range,ac.months.utc=ac.month.utc.range;var Vl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xl=[[ac.second,1],[ac.second,5],[ac.second,15],[ac.second,30],[ac.minute,1],[ac.minute,5],[ac.minute,15],[ac.minute,30],[ac.hour,1],[ac.hour,3],[ac.hour,6],[ac.hour,12],[ac.day,1],[ac.day,2],[ac.week,1],[ac.month,1],[ac.month,3],[ac.year,1]],$l=Il.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Ne]]),Bl={range:function(n,t,e){return ta.range(Math.ceil(n/e)*e,+t,e).map(Ko)},floor:y,ceil:y};Xl.year=ac.year,ac.scale=function(){return Go(ta.scale.linear(),Xl,$l)};var Wl=Xl.map(function(n){return[n[0].utc,n[1]]}),Jl=Yl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Ne]]);Wl.year=ac.year.utc,ac.scale.utc=function(){return Go(ta.scale.linear(),Wl,Jl)},ta.text=At(function(n){return n.responseText}),ta.json=function(n,t){return Nt(n,"application/json",Qo,t)},ta.html=function(n,t){return Nt(n,"text/html",na,t)},ta.xml=At(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(ta):"object"==typeof module&&module.exports&&(module.exports=ta),this.d3=ta}();

if(!AmCharts)var AmCharts={themes:{},maps:{},inheriting:{},charts:[],onReadyArray:[],useUTC:!1,updateRate:40,uid:0,lang:{},translations:{},mapTranslations:{},windows:{},initHandlers:[]};
AmCharts.Class=function(a){var b=function(){arguments[0]!==AmCharts.inheriting&&(this.events={},this.construct.apply(this,arguments))};a.inherits?(b.prototype=new a.inherits(AmCharts.inheriting),b.base=a.inherits.prototype,delete a.inherits):(b.prototype.createEvents=function(){for(var a=0,b=arguments.length;a<b;a++)this.events[arguments[a]]=[]},b.prototype.listenTo=function(a,b,c){this.removeListener(a,b,c);a.events[b].push({handler:c,scope:this})},b.prototype.addListener=function(a,b,c){this.removeListener(this,
a,b);this.events[a].push({handler:b,scope:c})},b.prototype.removeListener=function(a,b,c){if(a&&a.events)for(a=a.events[b],b=a.length-1;0<=b;b--)a[b].handler===c&&a.splice(b,1)},b.prototype.fire=function(a,b){for(var c=this.events[a],g=0,h=c.length;g<h;g++){var k=c[g];k.handler.call(k.scope,b)}});for(var c in a)b.prototype[c]=a[c];return b};AmCharts.addChart=function(a){AmCharts.charts.push(a)};AmCharts.removeChart=function(a){for(var b=AmCharts.charts,c=b.length-1;0<=c;c--)b[c]==a&&b.splice(c,1)};
AmCharts.isModern=!0;AmCharts.getIEVersion=function(){var a=0;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(b=navigator.userAgent,c=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=c.exec(b)&&(a=parseFloat(RegExp.$1)));return a};
AmCharts.applyLang=function(a,b){var c=AmCharts.translations;b.dayNames=AmCharts.dayNames;b.shortDayNames=AmCharts.shortDayNames;b.monthNames=AmCharts.monthNames;b.shortMonthNames=AmCharts.shortMonthNames;c&&(c=c[a])&&(AmCharts.lang=c,c.monthNames&&(b.dayNames=c.dayNames,b.shortDayNames=c.shortDayNames,b.monthNames=c.monthNames,b.shortMonthNames=c.shortMonthNames))};AmCharts.IEversion=AmCharts.getIEVersion();9>AmCharts.IEversion&&0<AmCharts.IEversion&&(AmCharts.isModern=!1,AmCharts.isIE=!0);
AmCharts.dx=0;AmCharts.dy=0;if(document.addEventListener||window.opera)AmCharts.isNN=!0,AmCharts.isIE=!1,AmCharts.dx=.5,AmCharts.dy=.5;document.attachEvent&&(AmCharts.isNN=!1,AmCharts.isIE=!0,AmCharts.isModern||(AmCharts.dx=0,AmCharts.dy=0));window.chrome&&(AmCharts.chrome=!0);AmCharts.handleResize=function(){for(var a=AmCharts.charts,b=0;b<a.length;b++){var c=a[b];c&&c.div&&c.handleResize()}};AmCharts.handleMouseUp=function(a){for(var b=AmCharts.charts,c=0;c<b.length;c++){var d=b[c];d&&d.handleReleaseOutside(a)}};
AmCharts.handleMouseMove=function(a){for(var b=AmCharts.charts,c=0;c<b.length;c++){var d=b[c];d&&d.handleMouseMove(a)}};AmCharts.handleWheel=function(a){for(var b=AmCharts.charts,c=0;c<b.length;c++){var d=b[c];if(d&&d.mouseIsOver){d.mouseWheelScrollEnabled||d.mouseWheelZoomEnabled?d.handleWheel(a):a.stopPropagation&&a.stopPropagation();break}}};AmCharts.resetMouseOver=function(){for(var a=AmCharts.charts,b=0;b<a.length;b++){var c=a[b];c&&(c.mouseIsOver=!1)}};AmCharts.ready=function(a){AmCharts.onReadyArray.push(a)};
AmCharts.handleLoad=function(){AmCharts.isReady=!0;for(var a=AmCharts.onReadyArray,b=0;b<a.length;b++){var c=a[b];isNaN(AmCharts.processDelay)?c():setTimeout(c,AmCharts.processDelay*b)}};AmCharts.addInitHandler=function(a,b){AmCharts.initHandlers.push({method:a,types:b})};AmCharts.callInitHandler=function(a){var b=AmCharts.initHandlers;if(AmCharts.initHandlers)for(var c=0;c<b.length;c++){var d=b[c];d.types?-1!=d.types.indexOf(a.type)&&d.method(a):d.method(a)}};
AmCharts.getUniqueId=function(){AmCharts.uid++;return"AmChartsEl-"+AmCharts.uid};AmCharts.isNN&&(document.addEventListener("mousemove",AmCharts.handleMouseMove,!0),window.addEventListener("resize",AmCharts.handleResize,!0),document.addEventListener("mouseup",AmCharts.handleMouseUp,!0),window.addEventListener("load",AmCharts.handleLoad,!0),window.addEventListener("DOMMouseScroll",AmCharts.handleWheel,!0),document.addEventListener("mousewheel",AmCharts.handleWheel,!0));
AmCharts.isIE&&(document.attachEvent("onmousemove",AmCharts.handleMouseMove),window.attachEvent("onresize",AmCharts.handleResize),document.attachEvent("onmouseup",AmCharts.handleMouseUp),window.attachEvent("onload",AmCharts.handleLoad));
AmCharts.clear=function(){var a=AmCharts.charts;if(a)for(var b=0;b<a.length;b++)a[b].clear();AmCharts.charts=null;AmCharts.isNN&&(document.removeEventListener("mousemove",AmCharts.handleMouseMove,!0),window.removeEventListener("resize",AmCharts.handleResize,!0),document.removeEventListener("mouseup",AmCharts.handleMouseUp,!0),window.removeEventListener("load",AmCharts.handleLoad,!0),window.removeEventListener("DOMMouseScroll",AmCharts.handleWheel,!0),document.removeEventListener("mousewheel",AmCharts.handleWheel,
!0));AmCharts.isIE&&(document.detachEvent("onmousemove",AmCharts.handleMouseMove),window.detachEvent("onresize",AmCharts.handleResize),document.detachEvent("onmouseup",AmCharts.handleMouseUp),window.detachEvent("onload",AmCharts.handleLoad))};
AmCharts.makeChart=function(a,b,c){var d=b.type,e=b.theme;AmCharts.isString(e)&&(e=AmCharts.themes[e],b.theme=e);var f;switch(d){case "serial":f=new AmCharts.AmSerialChart(e);break;case "xy":f=new AmCharts.AmXYChart(e);break;case "pie":f=new AmCharts.AmPieChart(e);break;case "radar":f=new AmCharts.AmRadarChart(e);break;case "gauge":f=new AmCharts.AmAngularGauge(e);break;case "funnel":f=new AmCharts.AmFunnelChart(e);break;case "map":f=new AmCharts.AmMap(e);break;case "stock":f=new AmCharts.AmStockChart(e)}AmCharts.extend(f,
b);AmCharts.isReady?isNaN(c)?f.write(a):setTimeout(function(){AmCharts.realWrite(f,a)},c):AmCharts.ready(function(){isNaN(c)?f.write(a):setTimeout(function(){AmCharts.realWrite(f,a)},c)});return f};AmCharts.realWrite=function(a,b){a.write(b)};AmCharts.toBoolean=function(a,b){if(void 0===a)return b;switch(String(a).toLowerCase()){case "true":case "yes":case "1":return!0;case "false":case "no":case "0":case null:return!1;default:return Boolean(a)}};AmCharts.removeFromArray=function(a,b){var c;if(void 0!=b&&void 0!=a)for(c=a.length-1;0<=c;c--)a[c]==b&&a.splice(c,1)};AmCharts.getDecimals=function(a){var b=0;isNaN(a)||(a=String(a),-1!=a.indexOf("e-")?b=Number(a.split("-")[1]):-1!=a.indexOf(".")&&(b=a.split(".")[1].length));return b};
AmCharts.wrappedText=function(a,b,c,d,e,f,g,h,k){var l=AmCharts.text(a,b,c,d,e,f,g),m="\n";AmCharts.isModern||(m="<br>");if(10<k)return l;if(l){var n=l.getBBox();if(n.width>h){n=Math.ceil(n.width/h);l.remove();for(var l=[],p=0;-1<(index=b.indexOf(" ",p));)l.push(index),p=index+1;Math.round(b.length/2);for(var r,p=0;p<l.length;p+=Math.ceil(l.length/n))r=l[p],b=b.substr(0,r)+m+b.substr(r+1);if(isNaN(r)){if(0==k)for(p=1;p<n;p++)r=Math.round(b.length/n*p),b=b.substr(0,r)+m+b.substr(r);return AmCharts.text(a,
b,c,d,e,f,g)}return AmCharts.wrappedText(a,b,c,d,e,f,g,h,k+1)}return l}};AmCharts.getStyle=function(a,b){var c="";document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]);return c};AmCharts.removePx=function(a){if(void 0!=a)return Number(a.substring(0,a.length-2))};
AmCharts.getURL=function(a,b){if(a)if("_self"!=b&&b)if("_top"==b&&window.top)window.top.location.href=a;else if("_parent"==b&&window.parent)window.parent.location.href=a;else if("_blank"==b)window.open(a);else{var c=document.getElementsByName(b)[0];c?c.src=a:(c=AmCharts.windows[b])?c.opener&&!c.opener.closed?c.location.href=a:AmCharts.windows[b]=window.open(a):AmCharts.windows[b]=window.open(a)}else window.location.href=a};AmCharts.ifArray=function(a){return a&&0<a.length?!0:!1};
AmCharts.callMethod=function(a,b){var c;for(c=0;c<b.length;c++){var d=b[c];if(d){if(d[a])d[a]();var e=d.length;if(0<e){var f;for(f=0;f<e;f++){var g=d[f];if(g&&g[a])g[a]()}}}}};AmCharts.toNumber=function(a){return"number"==typeof a?a:Number(String(a).replace(/[^0-9\-.]+/g,""))};
AmCharts.toColor=function(a){if(""!==a&&void 0!==a)if(-1!=a.indexOf(",")){a=a.split(",");var b;for(b=0;b<a.length;b++){var c=a[b].substring(a[b].length-6,a[b].length);a[b]="#"+c}}else a=a.substring(a.length-6,a.length),a="#"+a;return a};AmCharts.toCoordinate=function(a,b,c){var d;void 0!==a&&(a=String(a),c&&c<b&&(b=c),d=Number(a),-1!=a.indexOf("!")&&(d=b-Number(a.substr(1))),-1!=a.indexOf("%")&&(d=b*Number(a.substr(0,a.length-1))/100));return d};
AmCharts.fitToBounds=function(a,b,c){a<b&&(a=b);a>c&&(a=c);return a};AmCharts.isDefined=function(a){return void 0===a?!1:!0};AmCharts.stripNumbers=function(a){return a.replace(/[0-9]+/g,"")};AmCharts.roundTo=function(a,b){if(0>b)return a;var c=Math.pow(10,b);return Math.round(a*c)/c};AmCharts.toFixed=function(a,b){var c=String(Math.round(a*Math.pow(10,b)));if(0<b){var d=c.length;if(d<b){var e;for(e=0;e<b-d;e++)c="0"+c}d=c.substring(0,c.length-b);""===d&&(d=0);return d+"."+c.substring(c.length-b,c.length)}return String(c)};
AmCharts.formatDuration=function(a,b,c,d,e,f){var g=AmCharts.intervals,h=f.decimalSeparator;if(a>=g[b].contains){var k=a-Math.floor(a/g[b].contains)*g[b].contains;"ss"==b&&(k=AmCharts.formatNumber(k,f),1==k.split(h)[0].length&&(k="0"+k));("mm"==b||"hh"==b)&&10>k&&(k="0"+k);c=k+""+d[b]+""+c;a=Math.floor(a/g[b].contains);b=g[b].nextInterval;return AmCharts.formatDuration(a,b,c,d,e,f)}"ss"==b&&(a=AmCharts.formatNumber(a,f),1==a.split(h)[0].length&&(a="0"+a));("mm"==b||"hh"==b)&&10>a&&(a="0"+a);c=a+""+
d[b]+""+c;if(g[e].count>g[b].count)for(a=g[b].count;a<g[e].count;a++)b=g[b].nextInterval,"ss"==b||"mm"==b||"hh"==b?c="00"+d[b]+""+c:"DD"==b&&(c="0"+d[b]+""+c);":"==c.charAt(c.length-1)&&(c=c.substring(0,c.length-1));return c};
AmCharts.formatNumber=function(a,b,c,d,e){a=AmCharts.roundTo(a,b.precision);isNaN(c)&&(c=b.precision);var f=b.decimalSeparator;b=b.thousandsSeparator;var g;g=0>a?"-":"";a=Math.abs(a);var h=String(a),k=!1;-1!=h.indexOf("e")&&(k=!0);0<=c&&!k&&(h=AmCharts.toFixed(a,c));var l="";if(k)l=h;else{var h=h.split("."),k=String(h[0]),m;for(m=k.length;0<=m;m-=3)l=m!=k.length?0!==m?k.substring(m-3,m)+b+l:k.substring(m-3,m)+l:k.substring(m-3,m);void 0!==h[1]&&(l=l+f+h[1]);void 0!==c&&0<c&&"0"!=l&&(l=AmCharts.addZeroes(l,
f,c))}l=g+l;""===g&&!0===d&&0!==a&&(l="+"+l);!0===e&&(l+="%");return l};AmCharts.addZeroes=function(a,b,c){a=a.split(b);void 0===a[1]&&0<c&&(a[1]="0");return a[1].length<c?(a[1]+="0",AmCharts.addZeroes(a[0]+b+a[1],b,c)):void 0!==a[1]?a[0]+b+a[1]:a[0]};
AmCharts.scientificToNormal=function(a){var b;a=String(a).split("e");var c;if("-"==a[1].substr(0,1)){b="0.";for(c=0;c<Math.abs(Number(a[1]))-1;c++)b+="0";b+=a[0].split(".").join("")}else{var d=0;b=a[0].split(".");b[1]&&(d=b[1].length);b=a[0].split(".").join("");for(c=0;c<Math.abs(Number(a[1]))-d;c++)b+="0"}return b};
AmCharts.toScientific=function(a,b){if(0===a)return"0";var c=Math.floor(Math.log(Math.abs(a))*Math.LOG10E);Math.pow(10,c);mantissa=String(mantissa).split(".").join(b);return String(mantissa)+"e"+c};AmCharts.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)};
AmCharts.hitTest=function(a,b,c){var d=!1,e=a.x,f=a.x+a.width,g=a.y,h=a.y+a.height,k=AmCharts.isInRectangle;d||(d=k(e,g,b));d||(d=k(e,h,b));d||(d=k(f,g,b));d||(d=k(f,h,b));d||!0===c||(d=AmCharts.hitTest(b,a,!0));return d};AmCharts.isInRectangle=function(a,b,c){return a>=c.x-5&&a<=c.x+c.width+5&&b>=c.y-5&&b<=c.y+c.height+5?!0:!1};AmCharts.isPercents=function(a){if(-1!=String(a).indexOf("%"))return!0};
AmCharts.findPosX=function(a){var b=a,c=a.offsetLeft;if(a.offsetParent){for(;a=a.offsetParent;)c+=a.offsetLeft;for(;(b=b.parentNode)&&b!=document.body;)c-=b.scrollLeft||0}return c};AmCharts.findPosY=function(a){var b=a,c=a.offsetTop;if(a.offsetParent){for(;a=a.offsetParent;)c+=a.offsetTop;for(;(b=b.parentNode)&&b!=document.body;)c-=b.scrollTop||0}return c};AmCharts.findIfFixed=function(a){if(a.offsetParent)for(;a=a.offsetParent;)if("fixed"==AmCharts.getStyle(a,"position"))return!0;return!1};
AmCharts.findIfAuto=function(a){return a.style&&"auto"==AmCharts.getStyle(a,"overflow")?!0:a.parentNode?AmCharts.findIfAuto(a.parentNode):!1};AmCharts.findScrollLeft=function(a,b){a.scrollLeft&&(b+=a.scrollLeft);return a.parentNode?AmCharts.findScrollLeft(a.parentNode,b):b};AmCharts.findScrollTop=function(a,b){a.scrollTop&&(b+=a.scrollTop);return a.parentNode?AmCharts.findScrollTop(a.parentNode,b):b};
AmCharts.formatValue=function(a,b,c,d,e,f,g,h){if(b){void 0===e&&(e="");var k;for(k=0;k<c.length;k++){var l=c[k],m=b[l];void 0!==m&&(m=f?AmCharts.addPrefix(m,h,g,d):AmCharts.formatNumber(m,d),a=a.replace(new RegExp("\\[\\["+e+""+l+"\\]\\]","g"),m))}}return a};AmCharts.formatDataContextValue=function(a,b){if(a){var c=a.match(/\[\[.*?\]\]/g),d;for(d=0;d<c.length;d++){var e=c[d],e=e.substr(2,e.length-4);void 0!==b[e]&&(a=a.replace(new RegExp("\\[\\["+e+"\\]\\]","g"),b[e]))}}return a};
AmCharts.massReplace=function(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];void 0===d&&(d="");a=a.replace(c,d)}return a};AmCharts.cleanFromEmpty=function(a){return a.replace(/\[\[[^\]]*\]\]/g,"")};
AmCharts.addPrefix=function(a,b,c,d,e){var f=AmCharts.formatNumber(a,d),g="",h,k,l;if(0===a)return"0";0>a&&(g="-");a=Math.abs(a);if(1<a)for(h=b.length-1;-1<h;h--){if(a>=b[h].number&&(k=a/b[h].number,l=Number(d.precision),1>l&&(l=1),c=AmCharts.roundTo(k,l),l=AmCharts.formatNumber(c,{precision:-1,decimalSeparator:d.decimalSeparator,thousandsSeparator:d.thousandsSeparator}),!e||k==c)){f=g+""+l+""+b[h].prefix;break}}else for(h=0;h<c.length;h++)if(a<=c[h].number){k=a/c[h].number;l=Math.abs(Math.round(Math.log(k)*
Math.LOG10E));k=AmCharts.roundTo(k,l);f=g+""+k+""+c[h].prefix;break}return f};AmCharts.remove=function(a){a&&a.remove()};AmCharts.recommended=function(){var a="js";document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(a="flash");return a};AmCharts.getEffect=function(a){">"==a&&(a="easeOutSine");"<"==a&&(a="easeInSine");"elastic"==a&&(a="easeOutElastic");return a};
AmCharts.getObjById=function(a,b){var c,d;for(d=0;d<a.length;d++){var e=a[d];e.id==b&&(c=e)}return c};AmCharts.applyTheme=function(a,b,c){b||(b=AmCharts.theme);b&&b[c]&&AmCharts.extend(a,b[c])};AmCharts.isString=function(a){return"string"==typeof a?!0:!1};AmCharts.extend=function(a,b,c){for(var d in b)c?a.hasOwnProperty(d)||(a[d]=b[d]):a[d]=b[d];return a};
AmCharts.copyProperties=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"events"!=c&&void 0!==a[c]&&"function"!=typeof a[c]&&"cname"!=c&&(b[c]=a[c])};AmCharts.processObject=function(a,b,c){!1===a instanceof b&&(a=AmCharts.extend(new b(c),a));return a};AmCharts.fixNewLines=function(a){var b=RegExp("\\n","g");a&&(a=a.replace(b,"<br />"));return a};AmCharts.fixBrakes=function(a){if(AmCharts.isModern){var b=RegExp("<br>","g");a&&(a=a.replace(b,"\n"))}else a=AmCharts.fixNewLines(a);return a};
AmCharts.deleteObject=function(a,b){if(a){if(void 0===b||null===b)b=20;if(0!==b)if("[object Array]"===Object.prototype.toString.call(a))for(var c=0;c<a.length;c++)AmCharts.deleteObject(a[c],b-1),a[c]=null;else if(a&&!a.tagName)try{for(c in a)a[c]&&("object"==typeof a[c]&&AmCharts.deleteObject(a[c],b-1),"function"!=typeof a[c]&&(a[c]=null))}catch(d){}}};
AmCharts.bounce=function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c};AmCharts.easeInSine=function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c};AmCharts.easeOutSine=function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c};
AmCharts.easeOutElastic=function(a,b,c,d,e){a=1.70158;var f=0,g=d;if(0===b)return c;if(1==(b/=e))return c+d;f||(f=.3*e);g<Math.abs(d)?(g=d,a=f/4):a=f/(2*Math.PI)*Math.asin(d/g);return g*Math.pow(2,-10*b)*Math.sin(2*(b*e-a)*Math.PI/f)+d+c};AmCharts.fixStepE=function(a){a=a.toExponential(0).split("e");var b=Number(a[1]);9==Number(a[0])&&b++;return AmCharts.generateNumber(1,b)};
AmCharts.generateNumber=function(a,b){var c="",d;d=0>b?Math.abs(b)-1:Math.abs(b);var e;for(e=0;e<d;e++)c+="0";return 0>b?Number("0."+c+String(a)):Number(String(a)+c)};AmCharts.setCN=function(a,b,c,d){if(a.addClassNames&&b&&(b=b.node)&&c){var e=b.getAttribute("class");a=a.classNamePrefix+"-";d&&(a="");e?b.setAttribute("class",e+" "+a+c):b.setAttribute("class",a+c)}};AmCharts.AxisBase=AmCharts.Class({construct:function(a){this.createEvents("clickItem","rollOverItem","rollOutItem");this.viY=this.viX=this.y=this.x=this.dy=this.dx=0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=!0;this.labelRotation=0;this.autoGridCount=
!0;this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.minHorizontalGap=75;this.minVerticalGap=35;this.titleBold=!0;this.minorGridEnabled=!1;this.minorGridAlpha=.07;this.autoWrap=!1;this.titleAlign="middle";this.labelOffset=0;this.bcn="axis-";AmCharts.applyTheme(this,a,"AxisBase")},zoom:function(a,b){this.start=a;this.end=b;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var a=this.position;"H"==this.orientation?("left"==
a&&(a="bottom"),"right"==a&&(a="top")):("bottom"==a&&(a="left"),"top"==a&&(a="right"));this.position=a},draw:function(){var a=this.chart;this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.labels=[];var b=a.container,c=b.set();a.gridSet.push(c);this.set=c;b=b.set();a.axesLabelsSet.push(b);this.labelsSet=b;this.axisLine=new this.axisRenderer(this);this.autoGridCount?("V"==this.orientation?(a=this.height/this.minVerticalGap,3>a&&(a=3)):a=this.width/this.minHorizontalGap,this.gridCountR=
Math.max(a,1)):this.gridCountR=this.gridCount;this.axisWidth=this.axisLine.axisWidth;this.addTitle()},setOrientation:function(a){this.orientation=a?"H":"V"},addTitle:function(){var a=this.title;if(a){var b=this.chart,c=this.titleColor;void 0===c&&(c=b.color);var d=this.titleFontSize;isNaN(d)&&(d=b.fontSize+1);a=AmCharts.text(b.container,a,c,b.fontFamily,d,this.titleAlign,this.titleBold);AmCharts.setCN(b,a,this.bcn+"title");this.titleLabel=a}},positionTitle:function(){var a=this.titleLabel;if(a){var b,
c,d=this.labelsSet,e={};0<d.length()?e=d.getBBox():(e.x=0,e.y=0,e.width=this.viW,e.height=this.viH);d.push(a);var d=e.x,f=e.y;AmCharts.VML&&(this.rotate?d-=this.x:f-=this.y);var g=e.width,e=e.height,h=this.viW,k=this.viH,l=0,m=a.getBBox().height/2,n=this.inside,p=this.titleAlign;switch(this.position){case "top":b="left"==p?-1:"right"==p?h:h/2;c=f-10-m;break;case "bottom":b="left"==p?-1:"right"==p?h:h/2;c=f+e+10+m;break;case "left":b=d-10-m;n&&(b-=5);c="left"==p?k+1:"right"==p?-1:k/2;l=-90;break;case "right":b=
d+g+10+m-3,n&&(b+=7),c="left"==p?k+2:"right"==p?-2:k/2,l=-90}this.marginsChanged?(a.translate(b,c),this.tx=b,this.ty=c):a.translate(this.tx,this.ty);this.marginsChanged=!1;0!==l&&a.rotate(l)}},pushAxisItem:function(a,b){var c=this,d=a.graphics();0<d.length()&&(b?c.labelsSet.push(d):c.set.push(d));if(d=a.getLabel())this.labelsSet.push(d),d.click(function(b){c.handleMouse(b,a,"clickItem")}).mouseover(function(b){c.handleMouse(b,a,"rollOverItem")}).mouseout(function(b){c.handleMouse(b,a,"rollOutItem")})},
handleMouse:function(a,b,c){this.fire(c,{type:c,value:b.value,serialDataItem:b.serialDataItem,axis:this,target:b.label,chart:this.chart,event:a})},addGuide:function(a){for(var b=this.guides,c=!1,d=b.length,e=0;e<b.length;e++)b[e]==a&&(c=!0,d=e);a.id||(a.id="guideAuto"+d+"_"+(new Date).getTime());c||b.push(a)},removeGuide:function(a){var b=this.guides,c;for(c=0;c<b.length;c++)b[c]==a&&b.splice(c,1)},handleGuideOver:function(a){clearTimeout(this.chart.hoverInt);var b=a.graphics.getBBox(),c=b.x+b.width/
2,b=b.y+b.height/2,d=a.fillColor;void 0===d&&(d=a.lineColor);this.chart.showBalloon(a.balloonText,d,!0,c,b)},handleGuideOut:function(a){this.chart.hideBalloon()},addEventListeners:function(a,b){var c=this;a.mouseover(function(){c.handleGuideOver(b)});a.mouseout(function(){c.handleGuideOut(b)})},getBBox:function(){var a=this.labelsSet.getBBox();AmCharts.VML||(a={x:a.x+this.x,y:a.y+this.y,width:a.width,height:a.height});return a},destroy:function(){AmCharts.remove(this.set);AmCharts.remove(this.labelsSet);
var a=this.axisLine;a&&AmCharts.remove(a.set);AmCharts.remove(this.grid0)}});AmCharts.ValueAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(a){this.cname="ValueAxis";this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed");AmCharts.ValueAxis.base.construct.call(this,a);this.dataChanged=!0;this.stackType="none";this.position="left";this.unitPosition="right";this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.baseValue=
0;this.radarCategoriesEnabled=!0;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10;this.minMaxMultiplier=1;this.logGridLimit=2;this.totalTextOffset=this.treatZeroAs=0;AmCharts.applyTheme(this,a,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1);this.totals=[];this.data=this.chart.chartData;var a=this.chart;"xy"!=a.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));this.recalculateToPercents&&
this.recalculate();this.synchronizationMultiplier&&this.synchronizeWith?(AmCharts.isString(this.synchronizeWith)&&(this.synchronizeWith=a.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){AmCharts.ValueAxis.base.draw.call(this);var a=this.chart,b=this.set;AmCharts.setCN(a,this.set,"value-axis value-axis-"+this.id);AmCharts.setCN(a,this.labelsSet,"value-axis value-axis-"+
this.id);AmCharts.setCN(a,this.axisLine.axisSet,"value-axis value-axis-"+this.id);"duration"==this.type&&(this.duration="ss");!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1);if(this.logarithmic){var c=this.treatZeroAs,d=this.getMin(0,this.data.length-1);0<c&&0==d&&(this.minReal=d=c);if(0>=d||0>=this.minimum){this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:a});return}}this.grid0=null;var e,f,g=a.dx,h=a.dy,c=!1,d=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||
!this.foundGraphs||Infinity==this.min||-Infinity==this.max)c=!0;else{var k=this.labelFrequency,l=this.showFirstLabel,m=this.showLastLabel,n=1,p=0,r=Math.round((this.max-this.min)/this.step)+1,q;!0===d?(q=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/q,q>this.logGridLimit&&(r=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,p=Math.round(Math.log(this.minReal)*Math.LOG10E),r>this.gridCountR&&(n=Math.ceil(r/this.gridCountR)))):this.stepWidth=this.axisWidth/
(this.max-this.min);var u=0;1>this.step&&-1<this.step&&(u=AmCharts.getDecimals(this.step));this.integersOnly&&(u=0);u>this.maxDecCount&&(u=this.maxDecCount);var z=this.precision;isNaN(z)||(u=z);this.max=AmCharts.roundTo(this.max,this.maxDecCount);this.min=AmCharts.roundTo(this.min,this.maxDecCount);f={};f.precision=u;f.decimalSeparator=a.nf.decimalSeparator;f.thousandsSeparator=a.nf.thousandsSeparator;this.numberFormatter=f;var x,t=this.guides;e=t.length;if(0<e){var w=this.fillAlpha;for(f=this.fillAlpha=
0;f<e;f++){var y=t[f],A=NaN,C=y.above;isNaN(y.toValue)||(A=this.getCoordinate(y.toValue),x=new this.axisItemRenderer(this,A,"",!0,NaN,NaN,y),this.pushAxisItem(x,C));var B=NaN;isNaN(y.value)||(B=this.getCoordinate(y.value),x=new this.axisItemRenderer(this,B,y.label,!0,NaN,(A-B)/2,y),this.pushAxisItem(x,C));isNaN(A-B)||(x=new this.guideFillRenderer(this,B,A,y),this.pushAxisItem(x,C),x=x.graphics(),y.graphics=x,y.balloonText&&this.addEventListeners(x,y))}this.fillAlpha=w}this.exponential=!1;for(f=p;f<
r;f+=n)t=AmCharts.roundTo(this.step*f+this.min,u),-1!=String(t).indexOf("e")&&(this.exponential=!0,String(t).split("e"));this.duration&&(this.maxInterval=AmCharts.getMaxInterval(this.max,this.duration));var u=this.step,H,t=this.minorGridAlpha;this.minorGridEnabled&&(H=this.getMinorGridStep(u,this.stepWidth*u));for(f=p;f<r;f+=n)if(p=u*f+this.min,d&&this.max-this.min>5*this.min&&(p-=this.min),p=AmCharts.roundTo(p,this.maxDecCount+1),!this.integersOnly||Math.round(p)==p)if(isNaN(z)||Number(AmCharts.toFixed(p,
z))==p){!0===d&&(0===p&&(p=this.minReal),q>this.logGridLimit&&(p=Math.pow(10,f)));x=this.formatValue(p,!1,f);Math.round(f/k)!=f/k&&(x=void 0);if(0===f&&!l||f==r-1&&!m)x=" ";e=this.getCoordinate(p);x=new this.axisItemRenderer(this,e,x,void 0,void 0,void 0,void 0,this.boldLabels);this.pushAxisItem(x);if(p==this.baseValue&&"radar"!=a.type){var D,I,y=this.viW,C=this.viH;x=this.viX;w=this.viY;"H"==this.orientation?0<=e&&e<=y+1&&(D=[e,e,e+g],I=[C,0,h]):0<=e&&e<=C+1&&(D=[0,y,y+g],I=[e,e,e+h]);D&&(e=AmCharts.fitToBounds(2*
this.gridAlpha,0,1),e=AmCharts.line(a.container,D,I,this.gridColor,e,1,this.dashLength),e.translate(x,w),this.grid0=e,a.axesSet.push(e),e.toBack(),AmCharts.setCN(a,e,this.bcn+"zero-grid-"+this.id),AmCharts.setCN(a,e,this.bcn+"zero-grid"))}if(!isNaN(H)&&0<t&&f<r-1){x=this.gridAlpha;this.gridAlpha=this.minorGridAlpha;for(e=1;e<u/H;e++)w=this.getCoordinate(p+H*e),w=new this.axisItemRenderer(this,w,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(w);this.gridAlpha=x}}q=this.baseValue;this.min>this.baseValue&&
this.max>this.baseValue&&(q=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(q=this.max);d&&q<this.minReal&&(q=this.minReal);this.baseCoord=this.getCoordinate(q);q={type:"axisChanged",target:this,chart:a};q.min=d?this.minReal:this.min;q.max=this.max;this.fire("axisChanged",q);this.axisCreated=!0}d=this.axisLine.set;q=this.labelsSet;this.positionTitle();"radar"!=a.type?(a=this.viX,H=this.viY,b.translate(a,H),q.translate(a,H)):d.toFront();!this.visible||c?(b.hide(),d.hide(),q.hide()):(b.show(),
d.show(),q.show());this.axisY=this.y-this.viY;this.axisX=this.x-this.viX},formatValue:function(a,b,c){var d=this.exponential,e=this.logarithmic,f=this.numberFormatter,g=this.chart;!0===this.logarithmic&&(d=-1!=String(a).indexOf("e")?!0:!1);this.useScientificNotation&&(d=!0);this.usePrefixes&&(d=!1);d?(b=-1==String(a).indexOf("e")?a.toExponential(15):String(a),c=b.split("e"),b=Number(c[0]),c=Number(c[1]),b=AmCharts.roundTo(b,14),10==b&&(b=1,c+=1),b=b+"e"+c,0===a&&(b="0"),1==a&&(b="1")):(e&&(d=String(a).split("."),
d[1]?(f.precision=d[1].length,0>c&&(f.precision=Math.abs(c))):f.precision=-1),b=this.usePrefixes?AmCharts.addPrefix(a,g.prefixesOfBigNumbers,g.prefixesOfSmallNumbers,f,!b):AmCharts.formatNumber(a,f,f.precision));this.duration&&(b=AmCharts.formatDuration(a,this.duration,"",this.durationUnits,this.maxInterval,f));this.recalculateToPercents?b+="%":(f=this.unit)&&(b="left"==this.unitPosition?f+b:b+f);this.labelFunction&&(b=this.labelFunction(a,b,this).toString());return b},getMinorGridStep:function(a,
b){var c=[5,4,2];60>b&&c.shift();for(var d=Math.floor(Math.log(Math.abs(a))*Math.LOG10E),e=0;e<c.length;e++){var f=a/c[e],g=Math.floor(Math.log(Math.abs(f))*Math.LOG10E);if(!(0<Math.abs(d-g)))if(1>a){if(g=Math.pow(10,-g)*f,g==Math.round(g))return f}else if(f==Math.round(f))return f}},stackGraphs:function(a){var b=this.stackType;"stacked"==b&&(b="regular");"line"==b&&(b="none");"100% stacked"==b&&(b="100%");this.stackType=b;var c=[],d=[],e=[],f=[],g,h=this.chart.graphs,k,l,m,n,p=this.baseValue,r=!1;
if("line"==a||"step"==a||"smoothedLine"==a)r=!0;if(r&&("regular"==b||"100%"==b))for(n=0;n<h.length;n++)m=h[n],m.hidden||(l=m.type,m.chart==this.chart&&m.valueAxis==this&&a==l&&m.stackable&&(k&&(m.stackGraph=k),k=m));for(k=this.start;k<=this.end;k++){var q=0;for(n=0;n<h.length;n++)if(m=h[n],m.hidden)m.newStack&&(e[k]=NaN,d[k]=NaN);else if(l=m.type,m.chart==this.chart&&m.valueAxis==this&&a==l&&m.stackable)if(l=this.data[k].axes[this.id].graphs[m.id],g=l.values.value,isNaN(g))m.newStack&&(e[k]=NaN,d[k]=
NaN);else{var u=AmCharts.getDecimals(g);q<u&&(q=u);isNaN(f[k])?f[k]=Math.abs(g):f[k]+=Math.abs(g);f[k]=AmCharts.roundTo(f[k],q);u=m.fillToGraph;r&&u&&(u=this.data[k].axes[this.id].graphs[u.id])&&(l.values.open=u.values.value);"regular"==b&&(r&&(isNaN(c[k])?(c[k]=g,l.values.close=g,l.values.open=this.baseValue):(isNaN(g)?l.values.close=c[k]:l.values.close=g+c[k],l.values.open=c[k],c[k]=l.values.close)),"column"==a&&(m.newStack&&(e[k]=NaN,d[k]=NaN),l.values.close=g,0>g?(l.values.close=g,isNaN(d[k])?
l.values.open=p:(l.values.close+=d[k],l.values.open=d[k]),d[k]=l.values.close):(l.values.close=g,isNaN(e[k])?l.values.open=p:(l.values.close+=e[k],l.values.open=e[k]),e[k]=l.values.close)))}}for(k=this.start;k<=this.end;k++)for(n=0;n<h.length;n++)(m=h[n],m.hidden)?m.newStack&&(e[k]=NaN,d[k]=NaN):(l=m.type,m.chart==this.chart&&m.valueAxis==this&&a==l&&m.stackable&&(l=this.data[k].axes[this.id].graphs[m.id],g=l.values.value,isNaN(g)||(c=g/f[k]*100,l.values.percents=c,l.values.total=f[k],m.newStack&&
(e[k]=NaN,d[k]=NaN),"100%"==b&&(isNaN(d[k])&&(d[k]=0),isNaN(e[k])&&(e[k]=0),0>c?(l.values.close=AmCharts.fitToBounds(c+d[k],-100,100),l.values.open=d[k],d[k]=l.values.close):(l.values.close=AmCharts.fitToBounds(c+e[k],-100,100),l.values.open=e[k],e[k]=l.values.close)))))},recalculate:function(){var a=this.chart,b=a.graphs,c;for(c=0;c<b.length;c++){var d=b[c];if(d.valueAxis==this){var e="value";if("candlestick"==d.type||"ohlc"==d.type)e="open";var f,g,h=this.end+2,h=AmCharts.fitToBounds(this.end+1,
0,this.data.length-1),k=this.start;0<k&&k--;var l;g=this.start;d.compareFromStart&&(g=0);if(!isNaN(a.startTime)&&(l=a.categoryAxis)){var m=l.minDuration(),m=new Date(a.startTime+m/2),n=AmCharts.resetDateToMin(new Date(a.startTime),l.minPeriod).getTime();AmCharts.resetDateToMin(new Date(m),l.minPeriod).getTime()>n&&g++}if(l=a.recalculateFromDate)a.dataDateFormat&&(l=AmCharts.stringToDate(l,a.dataDateFormat)),g=a.getClosestIndex(a.chartData,"time",l.getTime(),!0,0,a.chartData.length),h=a.chartData.length-
1;for(l=g;l<=h&&(g=this.data[l].axes[this.id].graphs[d.id],f=g.values[e],isNaN(f));l++);this.recBaseValue=f;for(e=k;e<=h;e++){g=this.data[e].axes[this.id].graphs[d.id];g.percents={};var k=g.values,p;for(p in k)g.percents[p]="percents"!=p?k[p]/f*100-100:k[p]}}}},getMinMax:function(){var a=!1,b=this.chart,c=b.graphs,d;for(d=0;d<c.length;d++){var e=c[d].type;("line"==e||"step"==e||"smoothedLine"==e)&&this.expandMinMax&&(a=!0)}a&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++);"serial"==
b.type&&(!0!==b.categoryAxis.parseDates||a||this.end<this.data.length-1&&this.end++);a=this.minMaxMultiplier;this.min=this.getMin(this.start,this.end);this.max=this.getMax();a=(this.max-this.min)*(a-1);this.min-=a;this.max+=a;a=this.guides.length;if(this.includeGuidesInMinMax&&0<a)for(b=0;b<a;b++)c=this.guides[b],c.toValue<this.min&&(this.min=c.toValue),c.value<this.min&&(this.min=c.value),c.toValue>this.max&&(this.max=c.toValue),c.value>this.max&&(this.max=c.value);isNaN(this.minimum)||(this.min=
this.minimum);isNaN(this.maximum)||(this.max=this.maximum);this.min>this.max&&(a=this.max,this.max=this.min,this.min=a);isNaN(this.minTemp)||(this.min=this.minTemp);isNaN(this.maxTemp)||(this.max=this.maxTemp);this.minReal=this.min;this.maxReal=this.max;0===this.min&&0===this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-1);a=this.min;b=this.max;c=this.max-this.min;d=0===c?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E))/
10;isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/d)*d+d);isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/d)*d-d);0>this.min&&0<=a&&(this.min=0);0<this.max&&0>=b&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);c=this.max-this.min;d=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E))/10;this.step=Math.ceil(c/this.gridCountR/d)*d;c=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));c=
AmCharts.fixStepE(c);d=Math.ceil(this.step/c);5<d&&(d=10);5>=d&&2<d&&(d=5);this.step=Math.ceil(this.step/(c*d))*c*d;1>c?(this.maxDecCount=Math.abs(Math.log(Math.abs(c))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=AmCharts.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=a&&(this.min=0);0<this.max&&0>=b&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&
(this.minReal=Math.floor(this.minReal));c=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0===this.min&&(this.minReal=c);0===this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);c=Math.log(b)*Math.LOG10E-Math.log(a)*Math.LOG10E;this.logarithmic&&(2<c?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(b))*
Math.LOG10E))):(b=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,a=Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E))/10,b<a&&(this.minReal=this.min=10*a)))},getMin:function(a,b){var c,d;for(d=a;d<=b;d++){var e=this.data[d].axes[this.id].graphs,f;for(f in e)if(e.hasOwnProperty(f)){var g=this.chart.getGraphById(f);if(g.includeInMinMax&&(!g.hidden||this.includeHidden)){isNaN(c)&&(c=Infinity);this.foundGraphs=!0;g=e[f].values;this.recalculateToPercents&&(g=e[f].percents);
var h;if(this.minMaxField)h=g[this.minMaxField],h<c&&(c=h);else for(var k in g)g.hasOwnProperty(k)&&"percents"!=k&&"total"!=k&&(h=g[k],h<c&&(c=h))}}}return c},getMax:function(){var a,b;for(b=this.start;b<=this.end;b++){var c=this.data[b].axes[this.id].graphs,d;for(d in c)if(c.hasOwnProperty(d)){var e=this.chart.getGraphById(d);if(e.includeInMinMax&&(!e.hidden||this.includeHidden)){isNaN(a)&&(a=-Infinity);this.foundGraphs=!0;e=c[d].values;this.recalculateToPercents&&(e=c[d].percents);var f;if(this.minMaxField)f=
e[this.minMaxField],f>a&&(a=f);else for(var g in e)e.hasOwnProperty(g)&&"percents"!=g&&"total"!=g&&(f=e[g],f>a&&(a=f))}}}return a},dispatchZoomEvent:function(a,b){var c={type:"axisZoomed",startValue:a,endValue:b,target:this,chart:this.chart};this.fire(c.type,c)},zoomToValues:function(a,b){if(b<a){var c=b;b=a;a=c}a<this.min&&(a=this.min);b>this.max&&(b=this.max);c={type:"axisSelfZoomed"};c.chart=this.chart;c.valueAxis=this;c.multiplier=this.axisWidth/Math.abs(this.getCoordinate(b)-this.getCoordinate(a));
c.position="V"==this.orientation?this.reversed?this.getCoordinate(a):this.getCoordinate(b):this.reversed?this.getCoordinate(b):this.getCoordinate(a);this.fire(c.type,c)},coordinateToValue:function(a){if(isNaN(a))return NaN;var b=this.axisWidth,c=this.stepWidth,d=this.reversed,e=this.rotate,f=this.min,g=this.minReal;return!0===this.logarithmic?Math.pow(10,(e?!0===d?(b-a)/c:a/c:!0===d?a/c:(b-a)/c)+Math.log(g)*Math.LOG10E):!0===d?e?f-(a-b)/c:a/c+f:e?a/c+f:f-(a-b)/c},getCoordinate:function(a){if(isNaN(a))return NaN;
var b=this.rotate,c=this.reversed,d=this.axisWidth,e=this.stepWidth,f=this.min,g=this.minReal;!0===this.logarithmic?(0==a&&(a=this.treatZeroAs),a=Math.log(a)*Math.LOG10E-Math.log(g)*Math.LOG10E,b=b?!0===c?d-e*a:e*a:!0===c?e*a:d-e*a):b=!0===c?b?d-e*(a-f):e*(a-f):b?e*(a-f):d-e*(a-f);b=this.rotate?b+(this.x-this.viX):b+(this.y-this.viY);1E7<Math.abs(b)&&(b=1E7*(b/Math.abs(b)));return Math.round(b)},synchronizeWithAxis:function(a){this.synchronizeWith=a;this.listenTo(this.synchronizeWith,"axisChanged",
this.handleSynchronization)},handleSynchronization:function(a){var b=this.synchronizeWith;a=b.min;var c=b.max,b=b.step,d=this.synchronizationMultiplier;d&&(this.min=a*d,this.max=c*d,this.step=b*d,a=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),a=Math.abs(Math.log(Math.abs(a))*Math.LOG10E),this.maxDecCount=a=Math.round(a),this.draw())}});AmCharts.RecAxis=AmCharts.Class({construct:function(a){var b=a.chart,c=a.axisThickness,d=a.axisColor,e=a.axisAlpha,f=a.offset,g=a.dx,h=a.dy,k=a.viX,l=a.viY,m=a.viH,n=a.viW,p=b.container;"H"==a.orientation?(d=AmCharts.line(p,[0,n],[0,0],d,e,c),this.axisWidth=a.width,"bottom"==a.position?(h=c/2+f+m+l-1,c=k):(h=-c/2-f+l+h,c=g+k)):(this.axisWidth=a.height,"right"==a.position?(d=AmCharts.line(p,[0,0,-g],[0,m,m-h],d,e,c),h=l+h,c=c/2+f+g+n+k-1):(d=AmCharts.line(p,[0,0],[0,m],d,e,c),h=l,c=-c/2-f+k));d.translate(c,
h);c=b.container.set();c.push(d);b.axesSet.push(c);AmCharts.setCN(b,d,a.bcn+"line");this.axisSet=c;this.set=d}});AmCharts.RecItem=AmCharts.Class({construct:function(a,b,c,d,e,f,g,h,k,l,m,n){b=Math.round(b);var p=a.chart;this.value=c;void 0==c&&(c="");k||(k=0);void 0==d&&(d=!0);var r=p.fontFamily,q=a.fontSize;void 0==q&&(q=p.fontSize);var u=a.color;void 0==u&&(u=p.color);void 0!==m&&(u=m);var z=a.chart.container,x=z.set();this.set=x;var t=a.axisThickness,w=a.axisColor,y=a.axisAlpha,A=a.tickLength,C=a.gridAlpha,B=a.gridThickness,H=a.gridColor,D=a.dashLength,I=a.fillColor,X=a.fillAlpha,ca=a.labelsEnabled;m=a.labelRotation;
var oa=a.counter,S=a.inside,ma=a.labelOffset,pa=a.dx,ia=a.dy,Oa=a.orientation,Z=a.position,Y=a.previousCoord,T=a.viH,ra=a.viW,aa=a.offset,ba,sa;g?(void 0!=g.id&&(n=p.classNamePrefix+"-guide-"+g.id),ca=!0,isNaN(g.tickLength)||(A=g.tickLength),void 0!=g.lineColor&&(H=g.lineColor),void 0!=g.color&&(u=g.color),isNaN(g.lineAlpha)||(C=g.lineAlpha),isNaN(g.dashLength)||(D=g.dashLength),isNaN(g.lineThickness)||(B=g.lineThickness),!0===g.inside&&(S=!0),isNaN(g.labelRotation)||(m=g.labelRotation),isNaN(g.fontSize)||
(q=g.fontSize),g.position&&(Z=g.position),void 0!==g.boldLabel&&(h=g.boldLabel),isNaN(g.labelOffset)||(ma=g.labelOffset)):""===c&&(A=0);var ha="start";e&&(ha="middle");var O=m*Math.PI/180,U,va,G=0,v=0,ja=0,da=U=0,Pa=0;"V"==Oa&&(m=0);var W;ca&&(W=a.autoWrap&&0===m?AmCharts.wrappedText(z,c,u,r,q,ha,h,e,0):AmCharts.text(z,c,u,r,q,ha,h),ha=W.getBBox(),da=ha.width,Pa=ha.height);if("H"==Oa){if(0<=b&&b<=ra+1&&(0<A&&0<y&&b+k<=ra+1&&(ba=AmCharts.line(z,[b+k,b+k],[0,A],w,y,B),x.push(ba)),0<C&&(sa=AmCharts.line(z,
[b,b+pa,b+pa],[T,T+ia,ia],H,C,B,D),x.push(sa))),v=0,G=b,g&&90==m&&S&&(G-=q),!1===d?(ha="start",v="bottom"==Z?S?v+A:v-A:S?v-A:v+A,G+=3,e&&(G+=e/2-3,ha="middle"),0<m&&(ha="middle")):ha="middle",1==oa&&0<X&&!g&&!l&&Y<ra&&(d=AmCharts.fitToBounds(b,0,ra),Y=AmCharts.fitToBounds(Y,0,ra),U=d-Y,0<U&&(va=AmCharts.rect(z,U,a.height,I,X),va.translate(d-U+pa,ia),x.push(va))),"bottom"==Z?(v+=T+q/2+aa,S?(0<m?(v=T-da/2*Math.sin(O)-A-3,G+=da/2*Math.cos(O)-4+2):0>m?(v=T+da*Math.sin(O)-A-3+2,G+=-da*Math.cos(O)-Pa*Math.sin(O)-
4):v-=A+q+3+3,v-=ma):(0<m?(v=T+da/2*Math.sin(O)+A+3,G-=da/2*Math.cos(O)):0>m?(v=T+A+3-da/2*Math.sin(O)+2,G+=da/2*Math.cos(O)):v+=A+t+3+3,v+=ma)):(v+=ia+q/2-aa,G+=pa,S?(0<m?(v=da/2*Math.sin(O)+A+3,G-=da/2*Math.cos(O)):v+=A+3,v+=ma):(0<m?(v=-(da/2)*Math.sin(O)-A-6,G+=da/2*Math.cos(O)):v-=A+q+3+t+3,v-=ma)),"bottom"==Z?U=(S?T-A-1:T+t-1)+aa:(ja=pa,U=(S?ia:ia-A-t+1)-aa),f&&(G+=f),f=G,0<m&&(f+=da/2*Math.cos(O)),W&&(q=0,S&&(q=da/2*Math.cos(O)),f+q>ra+2||0>f))W.remove(),W=null}else{0<=b&&b<=T+1&&(0<A&&0<y&&
b+k<=T+1&&(ba=AmCharts.line(z,[0,A],[b+k,b+k],w,y,B),x.push(ba)),0<C&&(sa=AmCharts.line(z,[0,pa,ra+pa],[b,b+ia,b+ia],H,C,B,D),x.push(sa)));ha="end";if(!0===S&&"left"==Z||!1===S&&"right"==Z)ha="start";v=b-q/2;1==oa&&0<X&&!g&&!l&&(d=AmCharts.fitToBounds(b,0,T),Y=AmCharts.fitToBounds(Y,0,T),O=d-Y,va=AmCharts.polygon(z,[0,a.width,a.width,0],[0,0,O,O],I,X),va.translate(pa,d-O+ia),x.push(va));v+=q/2;"right"==Z?(G+=pa+ra+aa,v+=ia,S?(f||(v-=q/2+3),G=G-(A+4)-ma):(G+=A+4+t,v-=2,G+=ma)):S?(G+=A+4-aa,f||(v-=
q/2+3),g&&(G+=pa,v+=ia),G+=ma):(G+=-A-t-4-2-aa,v-=2,G-=ma);ba&&("right"==Z?(ja+=pa+aa+ra,U+=ia,ja=S?ja-t:ja+t):(ja-=aa,S||(ja-=A+t)));f&&(v+=f);S=-3;"right"==Z&&(S+=ia);W&&(v>T+1||v<S)&&(W.remove(),W=null)}ba&&(ba.translate(ja,U),AmCharts.setCN(p,ba,a.bcn+"tick"),AmCharts.setCN(p,ba,n,!0),g&&AmCharts.setCN(p,ba,"guide"));!1===a.visible&&(ba&&ba.remove(),W&&(W.remove(),W=null));W&&(W.attr({"text-anchor":ha}),W.translate(G,v),0!==m&&W.rotate(-m,a.chart.backgroundColor),a.allLabels.push(W),this.label=
W,AmCharts.setCN(p,W,a.bcn+"label"),AmCharts.setCN(p,W,n,!0),g&&AmCharts.setCN(p,W,"guide"));sa&&(AmCharts.setCN(p,sa,a.bcn+"grid"),AmCharts.setCN(p,sa,n,!0),g&&AmCharts.setCN(p,sa,"guide"));va&&(AmCharts.setCN(p,va,a.bcn+"fill"),AmCharts.setCN(p,va,n,!0));l?sa&&AmCharts.setCN(p,sa,a.bcn+"grid-minor"):(a.counter=0===oa?1:0,a.previousCoord=b);0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}});AmCharts.RecFill=AmCharts.Class({construct:function(a,b,c,d){var e=a.dx,f=a.dy,g=a.orientation,h=0;if(c<b){var k=b;b=c;c=k}var l=d.fillAlpha;isNaN(l)&&(l=0);var k=a.chart.container,m=d.fillColor;"V"==g?(b=AmCharts.fitToBounds(b,0,a.viH),c=AmCharts.fitToBounds(c,0,a.viH)):(b=AmCharts.fitToBounds(b,0,a.viW),c=AmCharts.fitToBounds(c,0,a.viW));c-=b;isNaN(c)&&(c=4,h=2,l=0);0>c&&"object"==typeof m&&(m=m.join(",").split(",").reverse());"V"==g?(g=AmCharts.rect(k,a.width,c,m,l),g.translate(e,b-h+f)):(g=AmCharts.rect(k,
c,a.height,m,l),g.translate(b-h+e,f));AmCharts.setCN(a.chart,g,"guide-fill");d.id&&AmCharts.setCN(a.chart,g,"guide-fill-"+d.id);this.set=k.set([g])},graphics:function(){return this.set},getLabel:function(){}});AmCharts.AmChart=AmCharts.Class({construct:function(a){this.theme=a;this.classNamePrefix="amcharts";this.addClassNames=!1;this.version="3.12.0";AmCharts.addChart(this);this.createEvents("dataUpdated","init","rendered","drawn","failed");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";this.fontSize=11;this.usePrefixes=
!1;this.precision=-1;this.percentPrecision=2;this.decimalSeparator=".";this.thousandsSeparator=",";this.labels=[];this.allLabels=[];this.titles=[];this.marginRight=this.marginLeft=this.autoMarginOffset=0;this.timeOuts=[];this.creditsPosition="top-left";var b=document.createElement("div"),c=b.style;c.overflow="hidden";c.position="relative";c.textAlign="left";this.chartDiv=b;b=document.createElement("div");c=b.style;c.overflow="hidden";c.position="relative";c.textAlign="left";this.legendDiv=b;this.titleHeight=
0;this.hideBalloonTime=150;this.handDrawScatter=2;this.handDrawThickness=1;this.prefixesOfBigNumbers=[{number:1E3,prefix:"k"},{number:1E6,prefix:"M"},{number:1E9,prefix:"G"},{number:1E12,prefix:"T"},{number:1E15,prefix:"P"},{number:1E18,prefix:"E"},{number:1E21,prefix:"Z"},{number:1E24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1E-24,prefix:"y"},{number:1E-21,prefix:"z"},{number:1E-18,prefix:"a"},{number:1E-15,prefix:"f"},{number:1E-12,prefix:"p"},{number:1E-9,prefix:"n"},{number:1E-6,prefix:"\u03bc"},
{number:.001,prefix:"m"}];this.panEventsEnabled=!0;AmCharts.bezierX=3;AmCharts.bezierY=6;this.product="amcharts";this.animations=[];this.balloon=new AmCharts.AmBalloon(this.theme);this.balloon.chart=this;AmCharts.applyTheme(this,a,"AmChart")},drawChart:function(){this.drawBackground();this.redrawLabels();this.drawTitles();this.brr()},drawBackground:function(){AmCharts.remove(this.background);var a=this.container,b=this.backgroundColor,c=this.backgroundAlpha,d=this.set;AmCharts.isModern||0!==c||(c=
.001);var e=this.updateWidth();this.realWidth=e;var f=this.updateHeight();this.realHeight=f;b=AmCharts.polygon(a,[0,e-1,e-1,0],[0,0,f-1,f-1],b,c,1,this.borderColor,this.borderAlpha);AmCharts.setCN(this,b,"bg");this.background=b;d.push(b);if(b=this.backgroundImage)this.path&&(b=this.path+b),a=a.image(b,0,0,e,f),AmCharts.setCN(this,b,"bg-image"),this.bgImg=a,d.push(a)},drawTitles:function(){var a=this.titles;if(AmCharts.ifArray(a)){var b=20,c;for(c=0;c<a.length;c++){var d=a[c],e=d.color;void 0===e&&
(e=this.color);var f=d.size;isNaN(f)&&(f=this.fontSize+2);isNaN(d.alpha);var g=this.marginLeft,e=AmCharts.text(this.container,d.text,e,this.fontFamily,f);e.translate(g+(this.realWidth-this.marginRight-g)/2,b);e.node.style.pointerEvents="none";AmCharts.setCN(this,e,"title");d.id&&AmCharts.setCN(this,e,"title-"+d.id);g=!0;void 0!==d.bold&&(g=d.bold);g&&e.attr({"font-weight":"bold"});e.attr({opacity:d.alpha});b+=f+6;this.freeLabelsSet.push(e)}}},write:function(a){if(a="object"!=typeof a?document.getElementById(a):
a){a.innerHTML="";this.div=a;a.style.overflow="hidden";a.style.textAlign="left";var b=this.chartDiv,c=this.legendDiv,d=this.legend,e=c.style,f=b.style;this.measure();var g,h=document.createElement("div");g=h.style;g.position="relative";this.containerDiv=h;h.className=this.classNamePrefix+"-main-div";b.className=this.classNamePrefix+"-chart-div";a.appendChild(h);var k=this.exportConfig;k&&AmCharts.AmExport&&!this.AmExport&&(this.AmExport=new AmCharts.AmExport(this,k));this.amExport&&AmCharts.AmExport&&
(this.AmExport=AmCharts.extend(this.amExport,new AmCharts.AmExport(this),!0));this.AmExport&&this.AmExport.init&&this.AmExport.init();if(d)switch(d=this.addLegend(d,d.divId),d.position){case "bottom":h.appendChild(b);h.appendChild(c);break;case "top":h.appendChild(c);h.appendChild(b);break;case "absolute":g.width=a.style.width;g.height=a.style.height;e.position="absolute";f.position="absolute";void 0!==d.left&&(e.left=d.left+"px");void 0!==d.right&&(e.right=d.right+"px");void 0!==d.top&&(e.top=d.top+
"px");void 0!==d.bottom&&(e.bottom=d.bottom+"px");d.marginLeft=0;d.marginRight=0;h.appendChild(b);h.appendChild(c);break;case "right":g.width=a.style.width;g.height=a.style.height;e.position="relative";f.position="absolute";h.appendChild(b);h.appendChild(c);break;case "left":g.width=a.style.width;g.height=a.style.height;e.position="absolute";f.position="relative";h.appendChild(b);h.appendChild(c);break;case "outside":h.appendChild(b)}else h.appendChild(b);this.listenersAdded||(this.addListeners(),
this.listenersAdded=!0);this.initChart()}},createLabelsSet:function(){AmCharts.remove(this.labelsSet);this.labelsSet=this.container.set();this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.initHC||(AmCharts.callInitHandler(this),this.initHC=!0);AmCharts.applyLang(this.language,this);var a=this.numberFormatter;a&&(isNaN(a.precision)||(this.precision=a.precision),void 0!==a.thousandsSeparator&&(this.thousandsSeparator=a.thousandsSeparator),void 0!==a.decimalSeparator&&(this.decimalSeparator=
a.decimalSeparator));(a=this.percentFormatter)&&!isNaN(a.precision)&&(this.percentPrecision=a.precision);this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.divIsFixed=AmCharts.findIfFixed(this.chartDiv);this.previousHeight=this.divRealHeight;this.previousWidth=this.divRealWidth;this.destroy();this.startInterval();
a=0;document.attachEvent&&!window.opera&&(a=1);this.dmouseX=this.dmouseY=0;var b=document.getElementsByTagName("html")[0];b&&window.getComputedStyle&&(b=window.getComputedStyle(b,null))&&(this.dmouseY=AmCharts.removePx(b.getPropertyValue("margin-top")),this.dmouseX=AmCharts.removePx(b.getPropertyValue("margin-left")));this.mouseMode=a;(a=this.container)?(a.container.innerHTML="",this.chartDiv.appendChild(a.container),a.setSize(this.realWidth,this.realHeight)):a=new AmCharts.AmDraw(this.chartDiv,this.realWidth,
this.realHeight,this);a.chart=this;AmCharts.VML||AmCharts.SVG?(a.handDrawn=this.handDrawn,a.handDrawScatter=this.handDrawScatter,a.handDrawThickness=this.handDrawThickness,this.container=a,this.set&&this.set.remove(),this.set=a.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=a.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=a.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),this.graphsBehindSet=a.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=
a.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=a.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=a.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=a.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=a.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=a.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=a.set(),this.bulletSet&&this.bulletSet.remove(),this.bulletSet=a.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),
this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=a.set(),this.freeLabelsSet=a.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=a.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zoomButtonSet=a.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=a.set(),this.renderFix()):this.fire("failed",{type:"failed",chart:this})},measure:function(){var a=this.div;if(a){var b=this.chartDiv,c=a.offsetWidth,d=a.offsetHeight,e=this.container;a.clientHeight&&(c=a.clientWidth,
d=a.clientHeight);var f=AmCharts.removePx(AmCharts.getStyle(a,"padding-left")),g=AmCharts.removePx(AmCharts.getStyle(a,"padding-right")),h=AmCharts.removePx(AmCharts.getStyle(a,"padding-top")),k=AmCharts.removePx(AmCharts.getStyle(a,"padding-bottom"));isNaN(f)||(c-=f);isNaN(g)||(c-=g);isNaN(h)||(d-=h);isNaN(k)||(d-=k);f=a.style;a=f.width;f=f.height;-1!=a.indexOf("px")&&(c=AmCharts.removePx(a));-1!=f.indexOf("px")&&(d=AmCharts.removePx(f));a=AmCharts.toCoordinate(this.width,c);f=AmCharts.toCoordinate(this.height,
d);this.balloon=AmCharts.processObject(this.balloon,AmCharts.AmBalloon,this.theme);this.balloon.chart=this;(a!=this.previousWidth||f!=this.previousHeight)&&0<a&&0<f&&(b.style.width=a+"px",b.style.height=f+"px",e&&e.setSize(a,f));this.balloon.setBounds(2,2,a-2,f);this.realWidth=a;this.realHeight=f;this.divRealWidth=c;this.divRealHeight=d}},destroy:function(){this.chartDiv.innerHTML="";this.clearTimeOuts();this.interval&&clearInterval(this.interval);this.interval=NaN},clearTimeOuts:function(){var a=
this.timeOuts;if(a){var b;for(b=0;b<a.length;b++)clearTimeout(a[b])}this.timeOuts=[]},clear:function(a){AmCharts.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]);this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null;this.clearTimeOuts();this.interval&&clearInterval(this.interval);this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv));a||AmCharts.removeChart(this)},setMouseCursor:function(a){"auto"==
a&&AmCharts.isNN&&(a="default");this.chartDiv.style.cursor=a;this.legendDiv.style.cursor=a},redrawLabels:function(){this.labels=[];var a=this.allLabels;this.createLabelsSet();var b;for(b=0;b<a.length;b++)this.drawLabel(a[b])},drawLabel:function(a){if(this.container){var b=a.y,c=a.text,d=a.align,e=a.size,f=a.color,g=a.rotation,h=a.alpha,k=a.bold,l=AmCharts.toCoordinate(a.x,this.realWidth),b=AmCharts.toCoordinate(b,this.realHeight);l||(l=0);b||(b=0);void 0===f&&(f=this.color);isNaN(e)&&(e=this.fontSize);
d||(d="start");"left"==d&&(d="start");"right"==d&&(d="end");"center"==d&&(d="middle",g?b=this.realHeight-b+b/2:l=this.realWidth/2-l);void 0===h&&(h=1);void 0===g&&(g=0);b+=e/2;c=AmCharts.text(this.container,c,f,this.fontFamily,e,d,k,h);c.translate(l,b);AmCharts.setCN(this,c,"label");a.id&&AmCharts.setCN(this,c,"label-"+a.id);0!==g&&c.rotate(g);a.url?(c.setAttr("cursor","pointer"),c.click(function(){AmCharts.getURL(a.url)})):c.node.style.pointerEvents="none";this.labelsSet.push(c);this.labels.push(c)}},
addLabel:function(a,b,c,d,e,f,g,h,k,l){a={x:a,y:b,text:c,align:d,size:e,color:f,alpha:h,rotation:g,bold:k,url:l};this.container&&this.drawLabel(a);this.allLabels.push(a)},clearLabels:function(){var a=this.labels,b;for(b=a.length-1;0<=b;b--)a[b].remove();this.labels=[];this.allLabels=[]},updateHeight:function(){var a=this.divRealHeight,b=this.legend;if(b){var c=this.legendDiv.offsetHeight,b=b.position;if("top"==b||"bottom"==b){a-=c;if(0>a||isNaN(a))a=0;this.chartDiv.style.height=a+"px"}}return a},
updateWidth:function(){var a=this.divRealWidth,b=this.divRealHeight,c=this.legend;if(c){var d=this.legendDiv,e=d.offsetWidth;isNaN(c.width)||(e=c.width);var f=d.offsetHeight,d=d.style,g=this.chartDiv.style,c=c.position;if("right"==c||"left"==c){a-=e;if(0>a||isNaN(a))a=0;g.width=a+"px";"left"==c?g.left=e+"px":d.left=a+"px";b>f&&(d.top=(b-f)/2+"px")}}return a},getTitleHeight:function(){var a=0,b=this.titles;if(0<b.length){var a=15,c;for(c=0;c<b.length;c++){var d=b[c].size;isNaN(d)&&(d=this.fontSize+
2);a+=d+6}}return a},addTitle:function(a,b,c,d,e){isNaN(b)&&(b=this.fontSize+2);a={text:a,size:b,color:c,alpha:d,bold:e};this.titles.push(a);return a},handleWheel:function(a){var b=0;a||(a=window.event);a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);b&&this.handleWheelReal(b,a.shiftKey);a.preventDefault&&a.preventDefault()},handleWheelReal:function(a){},addListeners:function(){var a=this,b=a.chartDiv;document.addEventListener?(a.panEventsEnabled&&(b.style.msTouchAction="none"),"ontouchstart"in
document.documentElement&&(b.addEventListener("touchstart",function(b){a.handleTouchMove.call(a,b);a.handleTouchStart.call(a,b)},!0),b.addEventListener("touchmove",function(b){a.handleTouchMove.call(a,b)},!0),b.addEventListener("touchend",function(b){a.handleTouchEnd.call(a,b)},!0)),b.addEventListener("mousedown",function(b){a.mouseIsOver=!0;a.handleMouseMove.call(a,b);a.handleMouseDown.call(a,b)},!0),b.addEventListener("mouseover",function(b){a.handleMouseOver.call(a,b)},!0),b.addEventListener("mouseout",
function(b){a.handleMouseOut.call(a,b)},!0)):(b.attachEvent("onmousedown",function(b){a.handleMouseDown.call(a,b)}),b.attachEvent("onmouseover",function(b){a.handleMouseOver.call(a,b)}),b.attachEvent("onmouseout",function(b){a.handleMouseOut.call(a,b)}))},dispDUpd:function(){var a;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,a="dataUpdated",this.fire(a,{type:a,chart:this}));this.chartCreated||(a="init",this.fire(a,{type:a,chart:this}));this.chartRendered||(a="rendered",this.fire(a,{type:a,
chart:this}),this.chartRendered=!0);a="drawn";this.fire(a,{type:a,chart:this})},validateSize:function(){var a=this;a.measure();var b=a.legend;if((a.realWidth!=a.previousWidth||a.realHeight!=a.previousHeight)&&0<a.realWidth&&0<a.realHeight){a.sizeChanged=!0;if(b){clearTimeout(a.legendInitTO);var c=setTimeout(function(){b.invalidateSize()},100);a.timeOuts.push(c);a.legendInitTO=c}a.marginsUpdated="xy"!=a.type?!1:!0;clearTimeout(a.initTO);c=setTimeout(function(){a.initChart()},150);a.timeOuts.push(c);
a.initTO=c}a.renderFix();b&&b.renderFix()},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN;this.invalidateSizeReal()},invalidateSizeReal:function(){var a=this;a.marginsUpdated=!1;clearTimeout(a.validateTO);var b=setTimeout(function(){a.validateSize()},5);a.timeOuts.push(b);a.validateTO=b},validateData:function(a){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated="xy"!=this.type?!1:!0,this.initChart(a))},validateNow:function(){this.chartRendered=!1;this.write(this.div)},
showItem:function(a){a.hidden=!1;this.initChart()},hideItem:function(a){a.hidden=!0;this.initChart()},hideBalloon:function(){var a=this;clearInterval(a.hoverInt);clearTimeout(a.balloonTO);a.hoverInt=setTimeout(function(){a.hideBalloonReal.call(a)},a.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var a=this.balloon;a&&a.hide()},showBalloon:function(a,b,c,d,e){var f=this;clearTimeout(f.balloonTO);clearInterval(f.hoverInt);f.balloonTO=setTimeout(function(){f.showBalloonReal.call(f,
a,b,c,d,e)},1)},showBalloonReal:function(a,b,c,d,e){this.handleMouseMove();var f=this.balloon;f.enabled&&(f.followCursor(!1),f.changeColor(b),!c||f.fixedPosition?(f.setPosition(d,e),f.followCursor(!1)):f.followCursor(!0),a&&f.showBalloon(a))},handleTouchMove:function(a){this.hideBalloon();var b=this.chartDiv;a.touches&&(a=a.touches.item(0),this.mouseX=a.pageX-AmCharts.findPosX(b),this.mouseY=a.pageY-AmCharts.findPosY(b))},handleMouseOver:function(a){AmCharts.resetMouseOver();this.mouseIsOver=!0},
handleMouseOut:function(a){AmCharts.resetMouseOver();this.mouseIsOver=!1},handleMouseMove:function(a){if(this.mouseIsOver){var b=this.chartDiv;a||(a=window.event);var c,d;if(a){this.posX=AmCharts.findPosX(b);this.posY=AmCharts.findPosY(b);switch(this.mouseMode){case 1:c=a.clientX-this.posX;d=a.clientY-this.posY;if(!this.divIsFixed){var b=document.body,e,f;b&&(e=b.scrollLeft,y1=b.scrollTop);if(b=document.documentElement)f=b.scrollLeft,y2=b.scrollTop;e=Math.max(e,f);f=Math.max(y1,y2);c+=e;d+=f}break;
case 0:this.divIsFixed?(c=a.clientX-this.posX,d=a.clientY-this.posY):(c=a.pageX-this.posX,d=a.pageY-this.posY)}a.touches&&(a=a.touches.item(0),c=a.pageX-this.posX,d=a.pageY-this.posY);this.mouseX=c-this.dmouseX;this.mouseY=d-this.dmouseY}}},handleTouchStart:function(a){this.handleMouseDown(a)},handleTouchEnd:function(a){AmCharts.resetMouseOver();this.handleReleaseOutside(a)},handleReleaseOutside:function(a){},handleMouseDown:function(a){AmCharts.resetMouseOver();this.mouseIsOver=!0;a&&a.preventDefault&&
(this.panEventsEnabled?a.preventDefault():a.touches||a.preventDefault())},addLegend:function(a,b){a=AmCharts.processObject(a,AmCharts.AmLegend,this.theme);a.divId=b;var c;c="object"!=typeof b&&b?document.getElementById(b):b;this.legend=a;a.chart=this;c?(a.div=c,a.position="outside",a.autoMargins=!1):a.div=this.legendDiv;c=this.handleLegendEvent;this.listenTo(a,"showItem",c);this.listenTo(a,"hideItem",c);this.listenTo(a,"clickMarker",c);this.listenTo(a,"rollOverItem",c);this.listenTo(a,"rollOutItem",
c);this.listenTo(a,"rollOverMarker",c);this.listenTo(a,"rollOutMarker",c);this.listenTo(a,"clickLabel",c);return a},removeLegend:function(){this.legend=void 0;this.legendDiv.innerHTML=""},handleResize:function(){(AmCharts.isPercents(this.width)||AmCharts.isPercents(this.height))&&this.invalidateSizeReal();this.renderFix()},renderFix:function(){if(!AmCharts.VML){var a=this.container;a&&a.renderFix()}},getSVG:function(){if(AmCharts.hasSVG)return this.container},animate:function(a,b,c,d,e,f,g){a["an_"+
b]&&AmCharts.removeFromArray(this.animations,a["an_"+b]);c={obj:a,frame:0,attribute:b,from:c,to:d,time:e,effect:f,suffix:g};a["an_"+b]=c;this.animations.push(c);return c},setLegendData:function(a){var b=this.legend;b&&b.setData(a)},startInterval:function(){var a=this;clearInterval(a.interval);a.interval=setInterval(function(){a.updateAnimations.call(a)},AmCharts.updateRate)},stopAnim:function(a){AmCharts.removeFromArray(this.animations,a)},updateAnimations:function(){var a;this.container&&this.container.update();
for(a=this.animations.length-1;0<=a;a--){var b=this.animations[a],c=1E3*b.time/AmCharts.updateRate,d=b.frame+1,e=b.obj,f=b.attribute;if(d<=c){b.frame++;var g=Number(b.from),h=Number(b.to)-g,c=AmCharts[b.effect](0,d,g,h,c);0===h?(this.animations.splice(a,1),e.node.style[f]=Number(b.to)+b.suffix):e.node.style[f]=c+b.suffix}else e.node.style[f]=Number(b.to)+b.suffix,this.animations.splice(a,1)}},inIframe:function(){try{return window.self!==window.top}catch(a){return!0}},brr:function(){var a=window.location.hostname.split("."),
b;2<=a.length&&(b=a[a.length-2]+"."+a[a.length-1]);this.amLink&&(a=this.amLink.parentNode)&&a.removeChild(this.amLink);a=this.creditsPosition;if("amcharts.com"!=b||!0===this.inIframe()){var c=b=0,d=this.realWidth,e=this.realHeight;if("serial"==this.type||"xy"==this.type)b=this.marginLeftReal,c=this.marginTopReal,d=b+this.plotAreaWidth,e=c+this.plotAreaHeight;var f="http://www.amcharts.com/javascript-charts/",g="JavaScript charts",h="JS chart by amCharts";"ammap"==this.product&&(f="http://www.ammap.com/javascript-maps/",
g="Interactive JavaScript maps",h="JS map by amCharts");var k=document.createElement("a"),h=document.createTextNode(h);k.setAttribute("href",f);k.setAttribute("title",g);k.appendChild(h);this.chartDiv.appendChild(k);this.amLink=k;f=k.style;f.position="absolute";f.textDecoration="none";f.color=this.color;f.fontFamily=this.fontFamily;f.fontSize=this.fontSize+"px";f.opacity=.7;f.display="block";var g=k.offsetWidth,k=k.offsetHeight,h=5+b,l=c+5;"bottom-left"==a&&(h=5+b,l=e-k-3);"bottom-right"==a&&(h=d-
g-5,l=e-k-3);"top-right"==a&&(h=d-g-5,l=c+5);f.left=h+"px";f.top=l+"px"}}});AmCharts.Slice=AmCharts.Class({construct:function(){}});AmCharts.SerialDataItem=AmCharts.Class({construct:function(){}});AmCharts.GraphDataItem=AmCharts.Class({construct:function(){}});AmCharts.Guide=AmCharts.Class({construct:function(a){this.cname="Guide";AmCharts.applyTheme(this,a,this.cname)}});AmCharts.AmGraph=AmCharts.Class({construct:function(a){this.cname="AmGraph";this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=4;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;this.pointPosition="middle";
this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBulletsAt=this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletBorderAlpha=0;this.bulletAlpha=1;this.bulletSize=8;this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=this.dx=0;this.periodValue="";
this.clustered=!0;this.periodSpan=1;this.y=this.x=0;this.switchable=!0;this.tcc=this.minDistance=1;this.labelRotation=0;this.labelAnchor="auto";this.labelOffset=3;AmCharts.applyTheme(this,a,this.cname)},draw:function(){var a=this.chart,b=a.type;this.bcn="graph-";this.scrollbar&&(this.bcn="scrollbar-"+this.bcn);isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:a.decimalSeparator,thousandsSeparator:a.thousandsSeparator});
var c=a.container;this.container=c;this.destroy();var d=c.set(),e=c.set();this.behindColumns?(a.graphsBehindSet.push(d),a.bulletBehindSet.push(e)):(a.graphsSet.push(d),a.bulletSet.push(e));var f=this.bulletAxis;AmCharts.isString(f)&&(this.bulletAxis=a.getValueAxisById(f));this.bulletSet=e;if(!this.scrollbar){var f=a.marginLeftReal,g=a.marginTopReal;d.translate(f,g);e.translate(f,g)}c=c.set();AmCharts.remove(this.columnsSet);d.push(c);this.set=d;AmCharts.setCN(a,d,"graph-"+this.type);AmCharts.setCN(a,
d,"graph-"+this.id);AmCharts.setCN(a,e,"graph-"+this.type);AmCharts.setCN(a,e,"graph-"+this.id);this.columnsSet=c;this.columnsArray=[];this.ownColumns=[];this.allBullets=[];this.animationArray=[];d=this.labelPosition;d||(e=this.valueAxis.stackType,d="top","column"==this.type&&(a.rotate&&(d="right"),"100%"==e||"regular"==e)&&(d="middle"),this.labelPosition=d);AmCharts.ifArray(this.data)&&(a=!1,"xy"==b?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(a=!0):this.valueAxis.axisCreated&&(a=!0),!this.hidden&&
a&&this.createGraph())},createGraph:function(){var a=this,b=a.chart;a.startAlpha=b.startAlpha;a.seqAn=b.sequencedAnimation;a.baseCoord=a.valueAxis.baseCoord;void 0===a.fillAlphas&&(a.fillAlphas=0);a.bulletColorR=a.bulletColor;void 0===a.bulletColorR&&(a.bulletColorR=a.lineColorR,a.bulletColorNegative=a.negativeLineColor);void 0===a.bulletAlpha&&(a.bulletAlpha=a.lineAlpha);clearTimeout(a.playedTO);if(!isNaN(a.valueAxis.min)&&!isNaN(a.valueAxis.max)){switch(b.type){case "serial":a.categoryAxis&&(a.createSerialGraph(),
"candlestick"==a.type&&1>a.valueAxis.minMaxMultiplier&&a.positiveClip(a.set));break;case "radar":a.createRadarGraph();break;case "xy":a.createXYGraph(),a.positiveClip(a.set)}a.playedTO=setTimeout(function(){a.setAnimationPlayed.call(a)},500*a.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var a=[],b=[],c=this.xAxis,d=this.yAxis;this.pmh=d.viH+1;this.pmw=c.viW+1;this.pmy=this.pmx=0;var e;for(e=this.start;e<=this.end;e++){var f=this.data[e].axes[c.id].graphs[this.id],
g=f.values,h=g.x,k=g.y,g=c.getCoordinate(h),l=d.getCoordinate(k);!isNaN(h)&&!isNaN(k)&&(a.push(g),b.push(l),h=this.createBullet(f,g,l,e),k=this.labelText)&&(f=this.createLabel(f,g,l,k),this.positionLabel(g,l,f,h),this.allBullets.push(f))}this.drawLineGraph(a,b);this.launchAnimation()},createRadarGraph:function(){var a=this.valueAxis.stackType,b=[],c=[],d,e,f;for(f=this.start;f<=this.end;f++){var g=this.data[f].axes[this.valueAxis.id].graphs[this.id],h;h="none"==a||"3d"==a?g.values.value:g.values.close;
if(isNaN(h))this.drawLineGraph(b,c),b=[],c=[];else{var k=this.y-(this.valueAxis.getCoordinate(h)-this.height),l=180-360/(this.end-this.start+1)*f;h=k*Math.sin(l/180*Math.PI);k*=Math.cos(l/180*Math.PI);b.push(h);c.push(k);var l=this.createBullet(g,h,k,f),m=this.labelText;m&&(g=this.createLabel(g,h,k,m),this.positionLabel(h,k,g,l),this.allBullets.push(g));isNaN(d)&&(d=h);isNaN(e)&&(e=k)}}b.push(d);c.push(e);this.drawLineGraph(b,c);this.launchAnimation()},positionLabel:function(a,b,c,d,e,f){e="middle";
f=!1;var g=this.labelPosition,h=c.getBBox(),k=d.graphDataItem,l=this.chart.rotate,m=k.isNegative;b-=h.height/4/2;switch(g){case "top":g=l?"top":m?"bottom":"top";break;case "right":g=l?m?"left":"right":"right";break;case "bottom":g=l?"bottom":m?"top":"bottom";break;case "left":g=l?m?"right":"left":"left"}var n=k.columnGraphics,p=0,r=0;n&&(p=n.x,r=n.y);var q=this.labelOffset;switch(g){case "top":b-=d.size/2+h.height/2+q;break;case "right":e="start";a+=d.size/2+q;break;case "bottom":b+=d.size/2+h.height/
2+q;break;case "left":e="end";a-=d.size/2+q;break;case "inside":"column"==this.type&&(f=!0,l?m?(e="end",a=p-3-q):(e="start",a=p+3+q):b=m?r+7+q:r-10-q);break;case "middle":"column"==this.type&&(f=!0,l?a-=(a-p)/2+q-3:b-=(b-r)/2+q-3)}"auto"!=this.labelAnchor&&(e=this.labelAnchor);c.attr({"text-anchor":e});this.labelRotation&&c.rotate(this.labelRotation);c.translate(a,b);h=c.getBBox();n&&f&&(h.height>k.columnHeight||h.width>k.columnWidth)&&(c.remove(),c=!1);if(c&&"serial"==this.chart.type)if(l){if(0>
b||b>this.height)c.remove(),c=!1}else if(0>a||a>this.width)c.remove(),c=!1;return c},getGradRotation:function(){var a=270;"horizontal"==this.gradientOrientation&&(a=0);return this.gradientRotation=a},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var a=this.chart,b=this.id,c=this.index,d=this.data,e=this.chart.container,f=this.valueAxis,g=this.type,h=this.columnWidthReal,k=this.showBulletsAt;isNaN(this.columnWidth)||(h=this.columnWidth);
isNaN(h)&&(h=.8);var l=this.useNegativeColorIfDown,m=this.width,n=this.height,p=this.y,r=this.rotate,q=this.columnCount,u=AmCharts.toCoordinate(this.cornerRadiusTop,h/2),z=this.connect,x=[],t=[],w,y,A,C,B=this.chart.graphs.length,H,D=this.dx/this.tcc,I=this.dy/this.tcc,X=f.stackType,ca=this.start,oa=this.end,S=this.scrollbar,ma="graph-column-";S&&(ma="scrollbar-graph-column-");var pa=this.categoryAxis,ia=this.baseCoord,Oa=this.negativeBase,Z=this.columnIndex,Y=this.lineThickness,T=this.lineAlpha,
ra=this.lineColorR,aa=this.dashLength,ba=this.set,sa,ha=this.getGradRotation(),O=this.chart.columnSpacing,U=pa.cellWidth,va=(U*h-q)/q;O>va&&(O=va);var G,v,ja,da=n+1,Pa=m+1,W=0,pb=0,qb,rb,db,eb,sb=this.fillColorsR,Ia=this.negativeFillColors,Ba=this.negativeLineColor,Va=this.fillAlphas,Wa=this.negativeFillAlphas;"object"==typeof Va&&(Va=Va[0]);"object"==typeof Wa&&(Wa=Wa[0]);var fb=f.getCoordinate(f.min);f.logarithmic&&(fb=f.getCoordinate(f.minReal));this.minCoord=fb;this.resetBullet&&(this.bullet=
"none");if(!(S||"line"!=g&&"smoothedLine"!=g&&"step"!=g||(1==d.length&&"step"!=g&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!Ia&&void 0==Ba||l))){var Qa=Oa;Qa>f.max&&(Qa=f.max);Qa<f.min&&(Qa=f.min);f.logarithmic&&(Qa=f.minReal);var Fa=f.getCoordinate(Qa),Hb=f.getCoordinate(f.max);r?(da=n,Pa=Math.abs(Hb-Fa)+1,qb=n,rb=Math.abs(fb-Fa)+1,eb=pb=0,f.reversed?(W=0,db=Fa):(W=Fa,db=0)):(Pa=m,da=Math.abs(Hb-Fa)+1,rb=m,qb=Math.abs(fb-Fa)+1,db=W=0,f.reversed?(eb=p,pb=Fa):eb=Fa+1)}var Ga=
Math.round;this.pmx=Ga(W);this.pmy=Ga(pb);this.pmh=Ga(da);this.pmw=Ga(Pa);this.nmx=Ga(db);this.nmy=Ga(eb);this.nmh=Ga(qb);this.nmw=Ga(rb);AmCharts.isModern||(this.nmy=this.nmx=0,this.nmh=this.height);this.clustered||(q=1);h="column"==g?(U*h-O*(q-1))/q:U*h;1>h&&(h=1);var Ib=this.fixedColumnWidth;isNaN(Ib)||(h=Ib);var J;if("line"==g||"step"==g||"smoothedLine"==g){if(0<ca){for(J=ca-1;-1<J;J--)if(G=d[J],v=G.axes[f.id].graphs[b],ja=v.values.value,!isNaN(ja)){ca=J;break}if(this.lineColorField)for(J=ca;-1<
J;J--)if(G=d[J],v=G.axes[f.id].graphs[b],v.lineColor){this.bulletColorSwitched=this.lineColorSwitched=v.lineColor;break}if(this.fillColorsField)for(J=ca;-1<J;J--)if(G=d[J],v=G.axes[f.id].graphs[b],v.fillColors){this.fillColorsSwitched=v.fillColors;break}if(this.dashLengthField)for(J=ca;-1<J;J--)if(G=d[J],v=G.axes[f.id].graphs[b],!isNaN(v.dashLength)){this.dashLengthSwitched=v.dashLength;break}}if(oa<d.length-1)for(J=oa+1;J<d.length;J++)if(G=d[J],v=G.axes[f.id].graphs[b],ja=v.values.value,!isNaN(ja)){oa=
J;break}}oa<d.length-1&&oa++;var P=[],Q=[],Ja=!1;if("line"==g||"step"==g||"smoothedLine"==g)if(this.stackable&&"regular"==X||"100%"==X||this.fillToGraph)Ja=!0;var Jb=this.noStepRisers,gb=-1E3,hb=-1E3,ib=this.minDistance,Ka=!0,Xa=!1;for(J=ca;J<=oa;J++){G=d[J];v=G.axes[f.id].graphs[b];v.index=J;var Ya,La=NaN;if(l&&void 0==this.openField)for(var tb=J+1;tb<d.length&&(!d[tb]||!(Ya=d[J+1].axes[f.id].graphs[b])||!Ya.values||(La=Ya.values.value,isNaN(La)));tb++);var R,N,L,ea,ka=NaN,F=NaN,E=NaN,M=NaN,K=NaN,
Ma=NaN,Ca=NaN,Na=NaN,Da=NaN,xa=NaN,ya=NaN,fa=NaN,ga=NaN,V=NaN,ub=NaN,vb=NaN,la=NaN,na=void 0,Ha=sb,Ra=Va,za=ra,ta,wa,wb=this.proCandlesticks,jb=this.topRadius,Za=this.pattern;void 0!=v.pattern&&(Za=v.pattern);void 0!=v.color&&(Ha=v.color);v.fillColors&&(Ha=v.fillColors);isNaN(v.alpha)||(Ra=v.alpha);isNaN(v.dashLength)||(aa=v.dashLength);var Aa=v.values;f.recalculateToPercents&&(Aa=v.percents);if(Aa){V=this.stackable&&"none"!=X&&"3d"!=X?Aa.close:Aa.value;if("candlestick"==g||"ohlc"==g)V=Aa.close,vb=
Aa.low,Ca=f.getCoordinate(vb),ub=Aa.high,Da=f.getCoordinate(ub);la=Aa.open;E=f.getCoordinate(V);isNaN(la)||(K=f.getCoordinate(la),l&&(La=la,la=K=NaN));l&&(void 0==this.openField?Ya&&(Ya.isNegative=La<V?!0:!1,isNaN(La)&&(v.isNegative=!Ka)):v.isNegative=La>V?!0:!1);if(!S)switch(this.showBalloonAt){case "close":v.y=E;break;case "open":v.y=K;break;case "high":v.y=Da;break;case "low":v.y=Ca}var ka=G.x[pa.id],Sa=this.periodSpan-1,qa=Math.floor(U/2)+Math.floor(Sa*U/2),Ea=qa,kb=0;"left"==this.stepDirection&&
(kb=(2*U+Sa*U)/2,ka-=kb);"center"==this.stepDirection&&(kb=U/2,ka-=kb);"start"==this.pointPosition&&(ka-=U/2+Math.floor(Sa*U/2),qa=0,Ea=Math.floor(U)+Math.floor(Sa*U));"end"==this.pointPosition&&(ka+=U/2+Math.floor(Sa*U/2),qa=Math.floor(U)+Math.floor(Sa*U),Ea=0);if(Jb){var xb=this.columnWidth;isNaN(xb)||(qa*=xb,Ea*=xb)}S||(v.x=ka);-1E5>ka&&(ka=-1E5);ka>m+1E5&&(ka=m+1E5);r?(F=E,M=K,K=E=ka,isNaN(la)&&!this.fillToGraph&&(M=ia),Ma=Ca,Na=Da):(M=F=ka,isNaN(la)&&!this.fillToGraph&&(K=ia));if(!wb&&V<la||
wb&&V<sa)v.isNegative=!0,Ia&&(Ha=Ia),Wa&&(Ra=Wa),void 0!=Ba&&(za=Ba);Xa=!1;isNaN(V)||(l?V>La?(Ka&&(Xa=!0),Ka=!1):(Ka||(Xa=!0),Ka=!0):v.isNegative=V<Oa?!0:!1,sa=V);switch(g){case "line":if(isNaN(V))z||(this.drawLineGraph(x,t,P,Q),x=[],t=[],P=[],Q=[]);else{if(Math.abs(F-gb)>=ib||Math.abs(E-hb)>=ib)x.push(F),t.push(E),gb=F,hb=E;xa=F;ya=E;fa=F;ga=E;!Ja||isNaN(K)||isNaN(M)||(P.push(M),Q.push(K));if(Xa||void 0!=v.lineColor||void 0!=v.fillColors||!isNaN(v.dashLength))this.drawLineGraph(x,t,P,Q),x=[F],t=
[E],P=[],Q=[],!Ja||isNaN(K)||isNaN(M)||(P.push(M),Q.push(K)),l?Ka?(this.lineColorSwitched=ra,this.fillColorsSwitched=sb):(this.lineColorSwitched=Ba,this.fillColorsSwitched=Ia):(this.lineColorSwitched=v.lineColor,this.fillColorsSwitched=v.fillColors),this.dashLengthSwitched=v.dashLength;v.gap&&(this.drawLineGraph(x,t,P,Q),x=[],t=[],P=[],Q=[])}break;case "smoothedLine":if(isNaN(V))z||(this.drawSmoothedGraph(x,t,P,Q),x=[],t=[],P=[],Q=[]);else{if(Math.abs(F-gb)>=ib||Math.abs(E-hb)>=ib)x.push(F),t.push(E),
gb=F,hb=E;xa=F;ya=E;fa=F;ga=E;!Ja||isNaN(K)||isNaN(M)||(P.push(M),Q.push(K));void 0==v.lineColor&&void 0==v.fillColors&&isNaN(v.dashLength)||(this.drawSmoothedGraph(x,t,P,Q),x=[F],t=[E],P=[],Q=[],!Ja||isNaN(K)||isNaN(M)||(P.push(M),Q.push(K)),this.lineColorSwitched=v.lineColor,this.fillColorsSwitched=v.fillColors,this.dashLengthSwitched=v.dashLength);v.gap&&(this.drawSmoothedGraph(x,t,P,Q),x=[],t=[],P=[],Q=[])}break;case "step":if(!isNaN(V)){r?(isNaN(w)||(x.push(w),t.push(E-qa)),t.push(E-qa),x.push(F),
t.push(E+Ea),x.push(F),!Ja||isNaN(K)||isNaN(M)||(isNaN(A)||(P.push(A),Q.push(K-qa)),P.push(M),Q.push(K-qa),P.push(M),Q.push(K+Ea))):(isNaN(y)||(t.push(y),x.push(w),t.push(y),x.push(F-qa)),x.push(F-qa),t.push(E),x.push(F+Ea),t.push(E),!Ja||isNaN(K)||isNaN(M)||(isNaN(C)||(P.push(M-qa),Q.push(C)),P.push(M-qa),Q.push(K),P.push(M+Ea),Q.push(K)));w=F;y=E;A=M;C=K;xa=F;ya=E;fa=F;ga=E;if(Xa||void 0!=v.lineColor||void 0!=v.fillColors||!isNaN(v.dashLength)){var Wb=x[x.length-2],Xb=t[t.length-2];x.pop();t.pop();
this.drawLineGraph(x,t,P,Q);x=[Wb];t=[Xb];P=[];Q=[];this.lineColorSwitched=v.lineColor;this.fillColorsSwitched=v.fillColors;this.dashLengthSwitched=v.dashLength;l&&(Ka?(this.lineColorSwitched=ra,this.fillColorsSwitched=sb):(this.lineColorSwitched=Ba,this.fillColorsSwitched=Ia))}if(Jb||v.gap)w=y=NaN,this.drawLineGraph(x,t,P,Q),x=[],t=[],P=[],Q=[]}else if(!z){if(1>=this.periodSpan||1<this.periodSpan&&F-w>qa+Ea)w=y=NaN;this.drawLineGraph(x,t,P,Q);x=[];t=[];P=[];Q=[]}break;case "column":ta=za;void 0!=
v.lineColor&&(ta=v.lineColor);if(!isNaN(V)){l||(v.isNegative=V<Oa?!0:!1);v.isNegative&&(Ia&&(Ha=Ia),void 0!=Ba&&(ta=Ba));var Kb=f.min,Lb=f.max;if(!(V<Kb&&la<Kb||V>Lb&&la>Lb)){var ua;if(r){"3d"==X?(N=E-(q/2-this.depthCount+1)*(h+O)+O/2+I*Z,R=M+D*Z,ua=Z):(N=Math.floor(E-(q/2-Z)*(h+O)+O/2),R=M,ua=0);L=h;xa=F;ya=N+h/2;isNaN(M)||M>F&&!v.isNegative&&(xa=M);fa=F;ga=N+h/2;N+L>n+ua*I&&(L=n-N+ua*I);N<ua*I&&(L+=N,N=ua*I);ea=F-M;var Yb=R;R=AmCharts.fitToBounds(R,0,m);ea+=Yb-R;ea=AmCharts.fitToBounds(ea,-R,m-
R+D*Z);N<n&&0<L&&(na=new AmCharts.Cuboid(e,ea,L,D-a.d3x,I-a.d3y,Ha,Ra,Y,ta,T,ha,u,r,aa,Za,jb,ma),v.columnWidth=Math.abs(ea),v.columnHeight=Math.abs(L))}else{"3d"==X?(R=F-(q/2-this.depthCount+1)*(h+O)+O/2+D*Z,N=K+I*Z,ua=Z):(R=F-(q/2-Z)*(h+O)+O/2,N=K,ua=0);L=h;xa=R+h/2;ya=E;isNaN(K)||K<E&&!v.isNegative&&(ya=K);fa=R+h/2;ga=E;R+L>m+ua*D&&(L=m-R+ua*D);R<ua*D&&(L+=R-ua*D,R=ua*D);ea=E-K;var Zb=N;N=AmCharts.fitToBounds(N,this.dy,n);ea+=Zb-N;ea=AmCharts.fitToBounds(ea,-N+I*Z,n-N);R<m+Z*D&&0<L&&(this.showOnAxis&&
(N-=I/2),na=new AmCharts.Cuboid(e,L,ea,D-a.d3x,I-a.d3y,Ha,Ra,Y,ta,this.lineAlpha,ha,u,r,aa,Za,jb,ma),v.columnHeight=Math.abs(ea),v.columnWidth=Math.abs(L))}}if(na&&(wa=na.set,AmCharts.setCN(a,na.set,"graph-"+this.type),AmCharts.setCN(a,na.set,"graph-"+this.id),v.className&&AmCharts.setCN(a,na.set,v.className,!0),v.columnGraphics=wa,wa.translate(R,N),this.columnsSet.push(wa),(v.url||this.showHandOnHover)&&wa.setAttr("cursor","pointer"),!S)){"none"==X&&(H=r?(this.end+1-J)*B-c:B*J+c);"3d"==X&&(r?(H=
(this.end+1-J)*B-c-1E3*this.depthCount,xa+=D*this.columnIndex,fa+=D*this.columnIndex,v.y+=D*this.columnIndex):(H=(B-c)*(J+1)+1E3*this.depthCount,ya+=I*this.columnIndex,ga+=I*this.columnIndex,v.y+=I*this.columnIndex));if("regular"==X||"100%"==X)H=r?0<Aa.value?(this.end+1-J)*B+c:(this.end+1-J)*B-c:0<Aa.value?B*J+c:B*J-c;this.columnsArray.push({column:na,depth:H});v.x=r?N+L/2:R+L/2;this.ownColumns.push(na);this.animateColumns(na,J,F,M,E,K);this.addListeners(wa,v)}}break;case "candlestick":if(!isNaN(la)&&
!isNaN(V)){var Ta,$a;ta=za;void 0!=v.lineColor&&(ta=v.lineColor);if(r){if(N=E-h/2,R=M,L=h,N+L>n&&(L=n-N),0>N&&(L+=N,N=0),N<n&&0<L){var yb,zb;V>la?(yb=[F,Na],zb=[M,Ma]):(yb=[M,Na],zb=[F,Ma]);!isNaN(Na)&&!isNaN(Ma)&&E<n&&0<E&&(Ta=AmCharts.line(e,yb,[E,E],ta,T,Y),$a=AmCharts.line(e,zb,[E,E],ta,T,Y));ea=F-M;na=new AmCharts.Cuboid(e,ea,L,D,I,Ha,Va,Y,ta,T,ha,u,r,aa,Za,jb,ma)}}else if(R=F-h/2,N=K+Y/2,L=h,R+L>m&&(L=m-R),0>R&&(L+=R,R=0),ea=E-K,R<m&&0<L){wb&&V>=la&&(Ra=0);var na=new AmCharts.Cuboid(e,L,ea,
D,I,Ha,Ra,Y,ta,T,ha,u,r,aa,Za,jb,ma),Ab,Bb;V>la?(Ab=[E,Da],Bb=[K,Ca]):(Ab=[K,Da],Bb=[E,Ca]);!isNaN(Da)&&!isNaN(Ca)&&F<m&&0<F&&(Ta=AmCharts.line(e,[F,F],Ab,ta,T,Y),$a=AmCharts.line(e,[F,F],Bb,ta,T,Y),AmCharts.setCN(a,Ta,this.bcn+"line-high"),v.className&&AmCharts.setCN(a,Ta,v.className,!0),AmCharts.setCN(a,$a,this.bcn+"line-low"),v.className&&AmCharts.setCN(a,$a,v.className,!0))}na&&(wa=na.set,v.columnGraphics=wa,ba.push(wa),wa.translate(R,N-Y/2),(v.url||this.showHandOnHover)&&wa.setAttr("cursor",
"pointer"),Ta&&(ba.push(Ta),ba.push($a)),xa=F,ya=E,r?(ga=E,fa=F,"open"==k&&(fa=M),"high"==k&&(fa=Na),"low"==k&&(fa=Ma)):(ga=E,"open"==k&&(ga=K),"high"==k&&(ga=Da),"low"==k&&(ga=Ca),fa=F),S||(v.x=r?N+L/2:R+L/2,this.animateColumns(na,J,F,M,E,K),this.addListeners(wa,v)))}break;case "ohlc":if(!(isNaN(la)||isNaN(ub)||isNaN(vb)||isNaN(V))){var Mb=e.set();ba.push(Mb);V<la&&(v.isNegative=!0,void 0!=Ba&&(za=Ba));var lb,mb,nb;if(r){var Cb=E-h/2,Cb=AmCharts.fitToBounds(Cb,0,n),Nb=AmCharts.fitToBounds(E,0,n),
Db=E+h/2,Db=AmCharts.fitToBounds(Db,0,n);mb=AmCharts.line(e,[M,M],[Cb,Nb],za,T,Y,aa);0<E&&E<n&&(lb=AmCharts.line(e,[Ma,Na],[E,E],za,T,Y,aa));nb=AmCharts.line(e,[F,F],[Nb,Db],za,T,Y,aa);ga=E;fa=F;"open"==k&&(fa=M);"high"==k&&(fa=Na);"low"==k&&(fa=Ma)}else{var Eb=F-h/2,Eb=AmCharts.fitToBounds(Eb,0,m),Ob=AmCharts.fitToBounds(F,0,m),Fb=F+h/2,Fb=AmCharts.fitToBounds(Fb,0,m);mb=AmCharts.line(e,[Eb,Ob],[K,K],za,T,Y,aa);0<F&&F<m&&(lb=AmCharts.line(e,[F,F],[Ca,Da],za,T,Y,aa));nb=AmCharts.line(e,[Ob,Fb],[E,
E],za,T,Y,aa);ga=E;"open"==k&&(ga=K);"high"==k&&(ga=Da);"low"==k&&(ga=Ca);fa=F}ba.push(mb);ba.push(lb);ba.push(nb);AmCharts.setCN(a,mb,this.bcn+"stroke-open");AmCharts.setCN(a,nb,this.bcn+"stroke-close");AmCharts.setCN(a,lb,this.bcn+"stroke");v.className&&AmCharts.setCN(a,Mb,v.className,!0);xa=F;ya=E}}if(!S&&!isNaN(V)){var Pb=this.hideBulletsCount;if(this.end-this.start<=Pb||0===Pb){var $b=this.createBullet(v,fa,ga,J),Qb=this.labelText;if(Qb){var Gb=this.createLabel(v,fa,ga,Qb);(Gb=this.positionLabel(xa,
ya,Gb,$b,L,ea))&&this.allBullets.push(Gb)}if("regular"==X||"100%"==X){var Rb=f.totalText;if(Rb){var Ua=this.createLabel(v,0,0,Rb,f.totalTextColor);this.allBullets.push(Ua);var Sb=Ua.getBBox(),Tb=Sb.width,Ub=Sb.height,ab,bb,ob=f.totalTextOffset,Vb=f.totals[J];Vb&&Vb.remove();var cb=0;"column"!=g&&(cb=this.bulletSize);r?(bb=E,ab=0>V?F-Tb/2-2-cb-ob:F+Tb/2+3+cb+ob):(ab=F,bb=0>V?E+Ub/2+cb+ob:E-Ub/2-3-cb-ob);Ua.translate(ab,bb);f.totals[J]=Ua;r?(0>bb||bb>n)&&Ua.remove():(0>ab||ab>m)&&Ua.remove()}}}}}}if("line"==
g||"step"==g||"smoothedLine"==g)"smoothedLine"==g?this.drawSmoothedGraph(x,t,P,Q):this.drawLineGraph(x,t,P,Q),S||this.launchAnimation();this.bulletsHidden&&this.hideBullets();this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(a,b,c,d,e,f){var g=this;c=g.chart.startDuration;0<c&&!g.animationPlayed&&(g.seqAn?(a.set.hide(),g.animationArray.push(a),a=setTimeout(function(){g.animate.call(g)},c/(g.end-g.start+1)*(b-g.start)*1E3),g.timeOuts.push(a)):g.animate(a))},createLabel:function(a,
b,c,d,e){var f=this.chart,g=a.labelColor;g||(g=this.color);g||(g=f.color);e&&(g=e);e=this.fontSize;void 0===e&&(this.fontSize=e=f.fontSize);var h=this.labelFunction;d=f.formatString(d,a);d=AmCharts.cleanFromEmpty(d);h&&(d=h(a,d));a=AmCharts.text(this.container,d,g,f.fontFamily,e);a.node.style.pointerEvents="none";a.translate(b,c);this.bulletSet.push(a);return a},positiveClip:function(a){a.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(a){a.clipRect(this.nmx,this.nmy,this.nmw,
this.nmh)},drawLineGraph:function(a,b,c,d){var e=this;if(1<a.length){var f=e.set,g=e.chart,h=e.container,k=h.set(),l=h.set();f.push(l);f.push(k);var m=e.lineAlpha,n=e.lineThickness,f=e.fillAlphas,p=e.lineColorR,r=e.negativeLineAlpha;isNaN(r)&&(r=m);var q=e.lineColorSwitched;q&&(p=q);var q=e.fillColorsR,u=e.fillColorsSwitched;u&&(q=u);var z=e.dashLength;(u=e.dashLengthSwitched)&&(z=u);var u=e.negativeLineColor,x=e.negativeFillColors,t=e.negativeFillAlphas,w=e.baseCoord;0!==e.negativeBase&&(w=e.valueAxis.getCoordinate(e.negativeBase));
m=AmCharts.line(h,a,b,p,m,n,z,!1,!0);AmCharts.setCN(g,m,e.bcn+"stroke");k.push(m);k.click(function(a){e.handleGraphEvent(a,"clickGraph")}).mouseover(function(a){e.handleGraphEvent(a,"rollOverGraph")}).mouseout(function(a){e.handleGraphEvent(a,"rollOutGraph")});void 0===u||e.useNegativeColorIfDown||(n=AmCharts.line(h,a,b,u,r,n,z,!1,!0),AmCharts.setCN(g,n,e.bcn+"stroke"),AmCharts.setCN(g,n,e.bcn+"stroke-negative"),l.push(n));if(0<f||0<t)if(n=a.join(";").split(";"),r=b.join(";").split(";"),m=g.type,
"serial"==m?0<c.length?(c.reverse(),d.reverse(),n=a.concat(c),r=b.concat(d)):e.rotate?(r.push(r[r.length-1]),n.push(w),r.push(r[0]),n.push(w),r.push(r[0]),n.push(n[0])):(n.push(n[n.length-1]),r.push(w),n.push(n[0]),r.push(w),n.push(a[0]),r.push(r[0])):"xy"==m&&(b=e.fillToAxis)&&(AmCharts.isString(b)&&(b=g.getValueAxisById(b)),"H"==b.orientation?(w="top"==b.position?0:b.viH,n.push(n[n.length-1]),r.push(w),n.push(n[0]),r.push(w),n.push(a[0]),r.push(r[0])):(w="left"==b.position?0:b.viW,r.push(r[r.length-
1]),n.push(w),r.push(r[0]),n.push(w),r.push(r[0]),n.push(n[0]))),a=e.gradientRotation,0<f&&(b=AmCharts.polygon(h,n,r,q,f,1,"#000",0,a),b.pattern(e.pattern),AmCharts.setCN(g,b,e.bcn+"fill"),k.push(b)),x||void 0!==u)isNaN(t)&&(t=f),x||(x=u),h=AmCharts.polygon(h,n,r,x,t,1,"#000",0,a),AmCharts.setCN(g,h,e.bcn+"fill"),AmCharts.setCN(g,h,e.bcn+"fill-negative"),h.pattern(e.pattern),l.push(h),l.click(function(a){e.handleGraphEvent(a,"clickGraph")}).mouseover(function(a){e.handleGraphEvent(a,"rollOverGraph")}).mouseout(function(a){e.handleGraphEvent(a,
"rollOutGraph")});e.applyMask(l,k)}},applyMask:function(a,b){var c=a.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(b),0<c&&this.negativeClip(a))},drawSmoothedGraph:function(a,b,c,d){if(1<a.length){var e=this.set,f=this.chart,g=this.container,h=g.set(),k=g.set();e.push(k);e.push(h);var l=this.lineAlpha,m=this.lineThickness,e=this.dashLength,n=this.fillAlphas,p=this.lineColorR,r=this.fillColorsR,q=this.negativeLineColor,u=this.negativeFillColors,z=this.negativeFillAlphas,x=
this.baseCoord,t=this.lineColorSwitched;t&&(p=t);(t=this.fillColorsSwitched)&&(r=t);t=this.negativeLineAlpha;isNaN(t)&&(t=l);l=new AmCharts.Bezier(g,a,b,p,l,m,r,0,e);AmCharts.setCN(f,l,this.bcn+"stroke");h.push(l.path);void 0!==q&&(m=new AmCharts.Bezier(g,a,b,q,t,m,r,0,e),AmCharts.setCN(f,m,this.bcn+"stroke"),AmCharts.setCN(f,m,this.bcn+"stroke-negative"),k.push(m.path));0<n&&(l=a.join(";").split(";"),p=b.join(";").split(";"),m="",0<c.length?(c.push("M"),d.push("M"),c.reverse(),d.reverse(),l=a.concat(c),
p=b.concat(d)):(this.rotate?(m+=" L"+x+","+b[b.length-1],m+=" L"+x+","+b[0]):(m+=" L"+a[a.length-1]+","+x,m+=" L"+a[0]+","+x),m+=" L"+a[0]+","+b[0]),c=new AmCharts.Bezier(g,l,p,NaN,0,0,r,n,e,m),AmCharts.setCN(f,c,this.bcn+"fill"),c.path.pattern(this.pattern),h.push(c.path),u||void 0!==q)&&(z||(z=n),u||(u=q),a=new AmCharts.Bezier(g,a,b,NaN,0,0,u,z,e,m),a.path.pattern(this.pattern),AmCharts.setCN(f,a,this.bcn+"fill"),AmCharts.setCN(f,a,this.bcn+"fill-negative"),k.push(a.path));this.applyMask(k,h)}},
launchAnimation:function(){var a=this,b=a.chart.startDuration;if(0<b&&!a.animationPlayed){var c=a.set,d=a.bulletSet;AmCharts.VML||(c.attr({opacity:a.startAlpha}),d.attr({opacity:a.startAlpha}));c.hide();d.hide();a.seqAn?(b=setTimeout(function(){a.animateGraphs.call(a)},a.index*b*1E3),a.timeOuts.push(b)):a.animateGraphs()}},animateGraphs:function(){var a=this.chart,b=this.set,c=this.bulletSet,d=this.x,e=this.y;b.show();c.show();var f=a.startDuration,a=a.startEffect;b&&(this.rotate?(b.translate(-1E3,
e),c.translate(-1E3,e)):(b.translate(d,-1E3),c.translate(d,-1E3)),b.animate({opacity:1,translate:d+","+e},f,a),c.animate({opacity:1,translate:d+","+e},f,a))},animate:function(a){var b=this.chart,c=this.animationArray;!a&&0<c.length&&(a=c[0],c.shift());c=AmCharts[AmCharts.getEffect(b.startEffect)];b=b.startDuration;a&&(this.rotate?a.animateWidth(b,c):a.animateHeight(b,c),a.set.show())},legendKeyColor:function(){var a=this.legendColor,b=this.lineAlpha;void 0===a&&(a=this.lineColorR,0===b&&(b=this.fillColorsR)&&
(a="object"==typeof b?b[0]:b));return a},legendKeyAlpha:function(){var a=this.legendAlpha;void 0===a&&(a=this.lineAlpha,this.fillAlphas>a&&(a=this.fillAlphas),0===a&&(a=this.bulletAlpha),0===a&&(a=1));return a},createBullet:function(a,b,c,d){if(!isNaN(b)&&!isNaN(c)){d=this.chart;var e=this.container,f=this.bulletOffset,g=this.bulletSize;isNaN(a.bulletSize)||(g=a.bulletSize);var h=a.values.value,k=this.maxValue,l=this.minValue,m=this.maxBulletSize,n=this.minBulletSize;isNaN(k)||(isNaN(h)||(g=(h-l)/
(k-l)*(m-n)+n),l==k&&(g=m));k=g;this.bulletAxis&&(g=a.values.error,isNaN(g)||(h=g),g=this.bulletAxis.stepWidth*h);g<this.minBulletSize&&(g=this.minBulletSize);this.rotate?b=a.isNegative?b-f:b+f:c=a.isNegative?c+f:c-f;var p,n=this.bulletColorR;a.lineColor&&(this.bulletColorSwitched=a.lineColor);this.bulletColorSwitched&&(n=this.bulletColorSwitched);a.isNegative&&void 0!==this.bulletColorNegative&&(n=this.bulletColorNegative);void 0!==a.color&&(n=a.color);var r;"xy"==d.type&&this.valueField&&(r=this.pattern,
a.pattern&&(r=a.pattern));f=this.bullet;a.bullet&&(f=a.bullet);var h=this.bulletBorderThickness,l=this.bulletBorderColorR,m=this.bulletBorderAlpha,q=this.bulletAlpha;l||(l=n);this.useLineColorForBulletBorder&&(l=this.lineColorR);var u=a.alpha;isNaN(u)||(q=u);if("none"!=this.bullet||a.bullet)p=AmCharts.bullet(e,f,g,n,q,h,l,m,k,0,r);if(this.customBullet||a.customBullet)r=this.customBullet,a.customBullet&&(r=a.customBullet),r&&(p&&p.remove(),"function"==typeof r?(p=new r,p.chart=d,a.bulletConfig&&(p.availableSpace=
c,p.graph=this,p.graphDataItem=a,p.bulletY=c,a.bulletConfig.minCoord=this.minCoord-c,p.bulletConfig=a.bulletConfig),p.write(e),p=p.set):(d.path&&(r=d.path+r),p=e.set(),e=e.image(r,0,0,g,g),p.push(e),this.centerCustomBullets&&e.translate(-g/2,-g/2)));p&&((a.url||this.showHandOnHover)&&p.setAttr("cursor","pointer"),"serial"==d.type&&(0>b-0||b-0>this.width||c<-g/2||c-0>this.height)&&(p.remove(),p=null),p&&(this.bulletSet.push(p),p.translate(b,c),this.addListeners(p,a),this.allBullets.push(p)),a.bx=b,
a.by=c,AmCharts.setCN(d,p,this.bcn+"bullet"),a.className&&AmCharts.setCN(d,p,a.className,!0));p?(p.size=g||0,a.bulletGraphics=p):p={size:0};p.graphDataItem=a;return p}},showBullets:function(){var a=this.allBullets,b;this.bulletsHidden=!1;for(b=0;b<a.length;b++)a[b].show()},hideBullets:function(){var a=this.allBullets,b;this.bulletsHidden=!0;for(b=0;b<a.length;b++)a[b].hide()},showCustomBullets:function(){var a=this.allBullets,b;this.customBulletsHidden=!1;for(b=0;b<a.length;b++)a[b].graphDataItem.customBullet&&
a[b].show()},hideCustomBullets:function(){var a=this.allBullets,b;this.customBulletsHidden=!0;for(b=0;b<a.length;b++)a[b].graphDataItem.customBullet&&a[b].hide()},addListeners:function(a,b){var c=this;a.mouseover(function(a){c.handleRollOver(b,a)}).mouseout(function(a){c.handleRollOut(b,a)}).touchend(function(a){c.handleRollOver(b,a);c.chart.panEventsEnabled&&c.handleClick(b,a)}).touchstart(function(a){c.handleRollOver(b,a)}).click(function(a){c.handleClick(b,a)}).dblclick(function(a){c.handleDoubleClick(b,
a)}).contextmenu(function(a){c.handleRightClick(b,a)})},handleRollOver:function(a,b){if(a){var c=this.chart,d={type:"rollOverGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire("rollOverGraphItem",d);c.fire("rollOverGraphItem",d);clearTimeout(c.hoverInt);d=this.showBalloon;c.chartCursor&&"serial"==c.type&&(d=!1,!c.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(d=!0));if(d){var d=c.formatString(this.balloonText,a,!0),e=this.balloonFunction;e&&(d=e(a,a.graph));
d=AmCharts.cleanFromEmpty(d);e=c.getBalloonColor(this,a);c.balloon.showBullet=!1;c.balloon.pointerOrientation="V";var f=a.x,g=a.y;c.rotate&&(f=a.y,g=a.x);c.showBalloon(d,e,!0,f+c.marginLeftReal,g+c.marginTopReal)}}this.handleGraphEvent(b,"rollOverGraph")},handleRollOut:function(a,b){this.chart.hideBalloon();if(a){var c={type:"rollOutGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire("rollOutGraphItem",c);this.chart.fire("rollOutGraphItem",c)}this.handleGraphEvent(b,
"rollOutGraph")},handleClick:function(a,b){if(a){var c={type:"clickGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire("clickGraphItem",c);this.chart.fire("clickGraphItem",c);AmCharts.getURL(a.url,this.urlTarget)}this.handleGraphEvent(b,"clickGraph")},handleGraphEvent:function(a,b){var c={type:b,graph:this,target:this,chart:this.chart,event:a};this.fire(b,c);this.chart.fire(b,c)},handleRightClick:function(a,b){if(a){var c={type:"rightClickGraphItem",item:a,index:a.index,
graph:this,target:this,chart:this.chart,event:b};this.fire("rightClickGraphItem",c);this.chart.fire("rightClickGraphItem",c)}},handleDoubleClick:function(a,b){if(a){var c={type:"doubleClickGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire("doubleClickGraphItem",c);this.chart.fire("doubleClickGraphItem",c)}},zoom:function(a,b){this.start=a;this.end=b;this.draw()},changeOpacity:function(a){var b=this.set;b&&b.setAttr("opacity",a);if(b=this.ownColumns){var c;
for(c=0;c<b.length;c++){var d=b[c].set;d&&d.setAttr("opacity",a)}}(b=this.bulletSet)&&b.setAttr("opacity",a)},destroy:function(){AmCharts.remove(this.set);AmCharts.remove(this.bulletSet);var a=this.timeOuts;if(a){var b;for(b=0;b<a.length;b++)clearTimeout(a[b])}this.timeOuts=[]}});AmCharts.ChartCursor=AmCharts.Class({construct:function(a){this.cname="ChartCursor";this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0;this.rolledOver=!1;this.cursorPosition=
"middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.selectWithoutZooming=this.oneBalloonOnly=!1;this.graphBulletSize=1.7;this.animationDuration=.3;this.zooming=!1;this.adjustment=0;this.avoidBalloonOverlapping=!0;AmCharts.applyTheme(this,a,this.cname)},draw:function(){var a=this;a.destroy();var b=a.chart,c=b.container;a.rotate=b.rotate;a.container=c;c=c.set();c.translate(a.x,a.y);a.set=c;b.cursorSet.push(c);c=new AmCharts.AmBalloon;c.className="category";c.chart=b;a.categoryBalloon=
c;AmCharts.copyProperties(b.balloon,c);c.cornerRadius=0;c.shadowAlpha=0;c.borderThickness=1;c.borderAlpha=1;c.showBullet=!1;var d=a.categoryBalloonColor;void 0===d&&(d=a.cursorColor);c.fillColor=d;c.fillAlpha=a.categoryBalloonAlpha;c.borderColor=d;c.color=a.color;d=a.valueLineAxis;AmCharts.isString(d)&&(d=b.getValueAxisById(d));d||(d=b.valueAxes[0]);a.valueLineAxis=d;a.valueLineBalloonEnabled&&(d=new AmCharts.AmBalloon,a.vaBalloon=d,AmCharts.copyProperties(c,d),d.animationDuration=0,a.rotate||(d.pointerOrientation=
"H"));a.rotate&&(c.pointerOrientation="H");a.extraWidth=0;a.prevX=[];a.prevY=[];a.prevTX=[];a.prevTY=[];if(a.valueBalloonsEnabled)for(c=0;c<b.graphs.length;c++)d=new AmCharts.AmBalloon,d.className=b.graphs[c].id,d.chart=b,AmCharts.copyProperties(b.balloon,d),b.graphs[c].valueBalloon=d;"cursor"==a.type?a.createCursor():a.createCrosshair();a.interval=setInterval(function(){a.detectMovement.call(a)},40)},updateData:function(){var a=this.chart;this.data=a.chartData;this.firstTime=a.firstTime;this.lastTime=
a.lastTime},createCursor:function(){var a=this.chart,b=this.cursorAlpha,c=a.categoryAxis,d=this.categoryBalloon,e,f,g,h;g=a.dx;h=a.dy;var k=this.width,l=this.height,m=a.rotate;d.pointerWidth=c.tickLength;m?(e=[0,k,k+g],f=[0,0,h],g=[g,0,0],h=[h,0,l]):(e=[g,0,0],f=[h,0,l],g=[0,k,k+g],h=[0,0,h]);e=AmCharts.line(this.container,e,f,this.cursorColor,b,1);AmCharts.setCN(a,e,"cursor-line");this.line=e;(f=this.fullRectSet)?(f.push(e),f.translate(this.x,this.y)):this.set.push(e);this.valueLineEnabled&&(e=this.valueLineAlpha,
isNaN(e)||(b=e),b=AmCharts.line(this.container,g,h,this.cursorColor,b,1),AmCharts.setCN(a,b,"cursor-value-line"),this.vLine=b,this.set.push(b));this.setBalloonBounds(d,c,m);(a=this.vaBalloon)&&this.setBalloonBounds(a,this.valueLineAxis,!m);this.hideCursor()},createCrosshair:function(){var a=this.cursorAlpha,b=this.container,c=AmCharts.line(b,[0,0],[0,this.height],this.cursorColor,a,1),a=AmCharts.line(b,[0,this.width],[0,0],this.cursorColor,a,1);AmCharts.setCN(this.chart,c,"cursor-line");AmCharts.setCN(this.chart,
a,"cursor-line");this.set.push(c);this.set.push(a);this.vLine=c;this.hLine=a;this.hideCursor()},detectMovement:function(){var a=this.chart;if(a.mouseIsOver){var b=a.mouseX-this.x,c=a.mouseY-this.y;-.5<b&&b<this.width+1&&0<c&&c<this.height?(this.drawing?this.rolledOver||a.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||a.setMouseCursor("move")),this.rolledOver=!0,(this.valueLineEnabled||this.valueLineBalloonEnabled)&&this.updateVLine(b,c),this.setPosition()):this.rolledOver&&(this.handleMouseOut(),
this.rolledOver=!1)}else this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},updateVLine:function(a,b){var c=this.vLine,d=this.vaBalloon;if((c||d)&&!this.panning&&!this.drawing){c&&c.show();var e=this.valueLineAxis,f,g=this.rotate;g?(c&&c.translate(a,0),e&&(f=e.coordinateToValue(a)),c=a):(c&&c.translate(0,b),e&&(f=e.coordinateToValue(b)),c=b-1);if(d&&!isNaN(f)&&this.prevLineValue!=f){var h=e.formatValue(f,!0);d&&(this.setBalloonPosition(d,e,c,!g),d.showBalloon(h))}this.prevLineValue=f}},
getMousePosition:function(){var a,b=this.width,c=this.height;a=this.chart;this.rotate?(a=a.mouseY-this.y,0>a&&(a=0),a>c&&(a=c)):(a=a.mouseX-this.x-1,0>a&&(a=0),a>b&&(a=b));return a},updateCrosshair:function(){var a=this.chart,b=a.mouseX-this.x,c=a.mouseY-this.y,d=this.vLine,e=this.hLine,b=AmCharts.fitToBounds(b,0,this.width),c=AmCharts.fitToBounds(c,0,this.height);0<this.cursorAlpha&&(d.show(),e.show(),d.translate(b,0),e.translate(0,c));this.zooming&&(a.hideXScrollbar&&(b=NaN),a.hideYScrollbar&&(c=
NaN),this.updateSelectionSize(b,c));this.fireMoved();a.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var a=this.chart,b={type:"moved",target:this};b.chart=a;b.zooming=this.zooming;b.x=a.mouseX-this.x;b.y=a.mouseY-this.y;this.fire("moved",b)},updateSelectionSize:function(a,b){AmCharts.remove(this.selection);var c=this.selectionPosX,d=this.selectionPosY,e=0,f=0,g=this.width,h=this.height;isNaN(a)||(c>a&&(e=a,g=c-a),c<a&&(e=c,g=a-c),c==a&&(e=a,g=0),g+=this.extraWidth,e-=this.extraWidth/
2);isNaN(b)||(d>b&&(f=b,h=d-b),d<b&&(f=d,h=b-d),d==b&&(f=b,h=0),h+=this.extraWidth,f-=this.extraWidth/2);0<g&&0<h&&(c=AmCharts.rect(this.container,g,h,this.cursorColor,this.selectionAlpha),AmCharts.setCN(this.chart,c,"cursor-selection"),c.translate(e+this.x,f+this.y),this.selection=c)},arrangeBalloons:function(){var a=this.valueBalloons,b=this.x,c=this.y,d=this.height+c;a.sort(this.compareY);var e;for(e=0;e<a.length;e++){var f=a[e].balloon;f.setBounds(b,c,b+this.width,d);f.prevX=this.prevX[e];f.prevY=
this.prevY[e];f.prevTX=this.prevTX[e];f.prevTY=this.prevTY[e];f.draw();d=f.yPos-3}this.arrangeBalloons2()},compareY:function(a,b){return a.yy<b.yy?1:-1},arrangeBalloons2:function(){var a=this.valueBalloons;a.reverse();var b,c=this.x,d,e,f=a.length;for(e=0;e<f;e++){var g=a[e].balloon;b=g.bottom;var h=g.bottom-g.yPos,k=f-e-1;0<e&&b-h<d+3&&(g.setBounds(c,d+3,c+this.width,d+h+3),g.prevX=this.prevX[k],g.prevY=this.prevY[k],g.prevTX=this.prevTX[k],g.prevTY=this.prevTY[k],g.draw());g.set&&g.set.show();this.prevX[k]=
g.prevX;this.prevY[k]=g.prevY;this.prevTX[k]=g.prevTX;this.prevTY[k]=g.prevTY;d=g.bottom}},showBullets:function(){AmCharts.remove(this.allBullets);var a=this.container,b=a.set();this.set.push(b);this.set.show();this.allBullets=b;var b=this.chart.graphs,c;for(c=0;c<b.length;c++){var d=b[c];if(!d.hidden&&d.balloonText){var e=this.data[this.index].axes[d.valueAxis.id].graphs[d.id],f=e.y;if(!isNaN(f)){var g,h;g=e.x;this.rotate?(h=f,f=g):h=g;d=AmCharts.circle(a,this.bulletSize/2,this.chart.getBalloonColor(d,
e,!0),d.cursorBulletAlpha);d.translate(h,f);this.allBullets.push(d)}}}},destroy:function(){this.clear();AmCharts.remove(this.selection);this.selection=null;var a=this.categoryBalloon;a&&a.destroy();(a=this.vaBalloon)&&a.destroy();this.destroyValueBalloons();AmCharts.remove(this.set)},clear:function(){clearInterval(this.interval)},destroyValueBalloons:function(){var a=this.valueBalloons;if(a){var b;for(b=0;b<a.length;b++)a[b].balloon.hide()}},zoom:function(a,b,c,d){var e=this.chart;this.destroyValueBalloons();
this.zooming=!1;var f;this.rotate?this.selectionPosY=f=e.mouseY:this.selectionPosX=f=e.mouseX;this.start=a;this.end=b;this.startTime=c;this.endTime=d;this.zoomed=!0;d=e.categoryAxis;e=this.rotate;b=this.width;c=this.height;a=d.stepWidth;this.fullWidth&&(f=1,d.parseDates&&!d.equalSpacing&&(f=d.minDuration()),e?this.extraWidth=c=a*f:(this.extraWidth=b=a*f,this.categoryBalloon.minWidth=b),this.line&&this.line.remove(),this.line=AmCharts.rect(this.container,b,c,this.cursorColor,this.cursorAlpha,0),this.fullRectSet&&
this.fullRectSet.push(this.line));this.stepWidth=a;this.tempVal=this.valueBalloonsEnabled;this.valueBalloonsEnabled=!1;this.setPosition();this.valueBalloonsEnabled=this.tempVal;this.hideCursor()},hideObj:function(a){a&&a.hide()},hideCursor:function(a){void 0===a&&(a=!0);this.hideObj(this.set);this.hideObj(this.categoryBalloon);this.hideObj(this.line);this.hideObj(this.vLine);this.hideObj(this.hLine);this.hideObj(this.vaBalloon);this.hideObj(this.allBullets);this.destroyValueBalloons();this.selectWithoutZooming||
AmCharts.remove(this.selection);this.previousIndex=NaN;a&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this});this.drawing||this.chart.setMouseCursor("auto");this.normalizeBulletSize()},setPosition:function(a,b,c){void 0===b&&(b=!0);if("cursor"==this.type){if(this.tempPosition=NaN,AmCharts.ifArray(this.data))isNaN(a)&&(a=this.getMousePosition()),(a!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(a)&&("mouse"==this.cursorPosition&&(this.tempPosition=
a),isNaN(c)&&(c=this.chart.categoryAxis.xToIndex(a)),c!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(c,b),this.zoomed=!1),this.previousMousePosition=a}else this.updateCrosshair()},normalizeBulletSize:function(){var a=this.resizedBullets;if(a)for(var b=0;b<a.length;b++){var c=a[b],d=c.bulletGraphics;d&&(d.translate(c.bx,c.by,1),c=c.graph,isNaN(this.graphBulletAlpha)||(d.setAttr("fill-opacity",c.bulletAlpha),d.setAttr("stroke-opacity",c.bulletBorderAlpha)))}},
updateCursor:function(a,b){var c=this.chart,d=this.fullWidth,e=c.mouseX-this.x,f=c.mouseY-this.y;this.drawingNow&&(AmCharts.remove(this.drawingLine),this.drawingLine=AmCharts.line(this.container,[this.x+this.drawStartX,this.x+e],[this.y+this.drawStartY,this.y+f],this.cursorColor,1,1));if(this.enabled){void 0===b&&(b=!0);this.index=a+=this.adjustment;var g=c.categoryAxis,h=c.dx,k=c.dy,l=this.x+1,m=this.y+1,n=this.width,p=this.height,r=this.data[a];this.fireMoved();if(r){var q=r.x[g.id],u=c.rotate,
z=this.stepWidth,x=this.categoryBalloon,t=this.firstTime,w=this.lastTime,y=this.cursorPosition,A=this.zooming,C=this.panning,B=c.graphs;if(c.mouseIsOver||A||C||this.forceShow)if(this.forceShow=!1,C){var h=this.panClickPos,c=this.panClickEndTime,A=this.panClickStartTime,H=this.panClickEnd,l=this.panClickStart,e=(u?h-f:h-e)/z;if(!g.parseDates||g.equalSpacing)e=Math.round(e);0!==e&&(h={type:"zoomed",target:this},h.chart=this.chart,g.parseDates&&!g.equalSpacing?(c+e>w&&(e=w-c),A+e<t&&(e=t-A),h.start=
Math.round(A+e),h.end=Math.round(c+e),this.fire(h.type,h)):H+e>=this.data.length||0>l+e||(h.start=l+e,h.end=H+e,this.fire(h.type,h)))}else{"start"==y?q-=g.cellWidth/2:"mouse"==y&&(c.mouseIsOver?q=u?f-2:e-2:isNaN(this.tempPosition)||(q=this.tempPosition-2));if(u){if(0>q)if(A)q=0;else{this.hideCursor();return}if(q>p+1)if(A)q=p+1;else{this.hideCursor();return}}else{if(0>q)if(A)q=0;else{this.hideCursor();return}if(q>n)if(A)q=n;else{this.hideCursor();return}}if(0<this.cursorAlpha){var D=this.line;u?(t=
0,w=q+k,d&&(w-=g.cellWidth/2)):(t=q,w=0,d&&(t-=g.cellWidth/2));z=this.animationDuration;0<z&&!this.zooming?isNaN(this.previousX)?D.translate(t,w):(D.translate(this.previousX,this.previousY),D.animate({translate:t+","+w},z,"easeOutSine")):D.translate(t,w);this.previousX=t;this.previousY=w;D.show()}this.linePos=u?q+k:q;A&&(d&&D.hide(),u?this.updateSelectionSize(NaN,q):this.updateSelectionSize(q,NaN));z=!0;A&&(z=!1);this.categoryBalloonEnabled&&z?(this.setBalloonPosition(x,g,q,u),(t=this.categoryBalloonFunction)?
x.showBalloon(t(r.category)):g.parseDates?(g=AmCharts.formatDate(r.category,this.categoryBalloonDateFormat,c),-1!=g.indexOf("fff")&&(g=AmCharts.formatMilliseconds(g,r.category)),x.showBalloon(g)):x.showBalloon(AmCharts.fixNewLines(r.category))):x.hide();B&&this.bulletsEnabled&&this.showBullets();if(this.oneBalloonOnly){q=Infinity;for(g=0;g<B.length;g++)t=B[g],t.showBalloon&&!t.hidden&&t.balloonText&&(w=r.axes[t.valueAxis.id].graphs[t.id],x=w.y,isNaN(x)||(u?Math.abs(e-x)<q&&(q=Math.abs(e-x),H=t):Math.abs(f-
x)<q&&(q=Math.abs(f-x),H=t)));this.mostCloseGraph&&(H=this.mostCloseGraph)}if(a!=this.previousIndex||H!=this.previousMostCloseGraph)if(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],B&&this.valueBalloonsEnabled&&z&&c.balloon.enabled){this.valueBalloons=z=[];for(g=0;g<B.length;g++)if(t=B[g],x=NaN,(!this.oneBalloonOnly||t==H)&&t.showBalloon&&!t.hidden&&t.balloonText&&("step"==t.type&&"left"==t.stepDirection&&(r=this.data[a+1]),r)){if(w=r.axes[t.valueAxis.id].graphs[t.id])x=
w.y;if(this.showNextAvailable&&isNaN(x)&&a+1<this.data.length)for(q=a+1;q<this.data.length;q++)if(d=this.data[q])if(w=d.axes[t.valueAxis.id].graphs[t.id],x=w.y,!isNaN(x))break;if(!isNaN(x)){d=w.x;k=!0;if(u){if(q=x,0>d||d>p)k=!1}else if(q=d,d=x,0>q||q>n+h+1)k=!1;k&&(k=this.graphBulletSize,D=this.graphBulletAlpha,1==k&&isNaN(D)||!AmCharts.isModern||!(y=w.bulletGraphics)||(y.getBBox(),y.translate(w.bx,w.by,k),this.resizedBullets.push(w),isNaN(D)||(y.setAttr("fill-opacity",D),y.setAttr("stroke-opacity",
D))),k=t.valueBalloon,D=c.getBalloonColor(t,w),k.setBounds(l,m,l+n,m+p),k.pointerOrientation="H",y=this.balloonPointerOrientation,"vertical"==y&&(k.pointerOrientation="V"),"horizontal"==y&&(k.pointerOrientation="H"),k.changeColor(D),void 0!==t.balloonAlpha&&(k.fillAlpha=t.balloonAlpha),void 0!==t.balloonTextColor&&(k.color=t.balloonTextColor),k.setPosition(q+l,d+m),q=c.formatString(t.balloonText,w,!0),(d=t.balloonFunction)&&(q=d(w,t).toString()),""!==q&&(u?k.showBalloon(q):(k.text=q,k.show=!0),z.push({yy:x,
balloon:k})),!u&&k.set&&(k.set.hide(),t=k.textDiv)&&(t.style.visibility="hidden"))}}this.avoidBalloonOverlapping&&this.arrangeBalloons()}b?(h={type:"changed"},h.index=a,h.chart=this.chart,h.zooming=A,h.mostCloseGraph=H,h.position=u?f:e,h.target=this,c.fire("changed",h),this.fire("changed",h),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,c.updateLegendValues(a));this.previousIndex=a;this.previousMostCloseGraph=H}}}else this.hideCursor()},setBalloonPosition:function(a,b,c,d){var e=b.position,
f=b.inside;b=b.axisThickness;var g=this.chart,h=g.dx,g=g.dy,k=this.x,l=this.y,m=this.width,n=this.height;d?(f&&("right"==e?a.setBounds(k,l+g,k+m+h,l+c+g):a.setBounds(k,l+g,k+m+h,l+c)),"right"==e?f?a.setPosition(k+m+h,l+c+g):a.setPosition(k+m+h+b,l+c+g):f?a.setPosition(k,l+c):a.setPosition(k-b,l+c)):"top"==e?f?a.setPosition(k+c+h,l+g):a.setPosition(k+c+h,l+g-b+1):f?a.setPosition(k+c,l+n):a.setPosition(k+c,l+n+b-1)},setBalloonBounds:function(a,b,c){var d=b.position,e=b.inside,f=b.axisThickness,g=b.tickLength,
h=this.chart,k=h.dx,h=h.dy,l=this.x,m=this.y,n=this.width,p=this.height;c?(e&&(a.pointerWidth=0),"right"==d?e?a.setBounds(l,m+h,l+n+k,m+p+h):a.setBounds(l+n+k+f,m+h,l+n+1E3,m+p+h):e?a.setBounds(l,m,n+l,p+m):a.setBounds(-1E3,-1E3,l-g-f,m+p+15)):(a.maxWidth=n,b.parseDates&&(g=0,a.pointerWidth=0),"top"==d?e?a.setBounds(l+k,m+h,n+k+l,p+m):a.setBounds(l+k,-1E3,n+k+l,m+h-g-f):e?a.setBounds(l,m,n+l,p+m-g):a.setBounds(l,m+p+g+f-1,l+n,m+p+g+f))},enableDrawing:function(a){this.enabled=!a;this.hideCursor();
this.rolledOver=!1;this.drawing=a},isZooming:function(a){a&&a!=this.zooming&&this.handleMouseDown("fake");a||a==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var a={type:"changed",index:void 0,target:this};a.chart=this.chart;this.fire("changed",a);this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var a=this.chart,b=this.data,c;if(a){var d=a.mouseX-this.x,e=a.mouseY-
this.y;if(this.drawingNow){this.drawingNow=!1;AmCharts.remove(this.drawingLine);c=this.drawStartX;var f=this.drawStartY;if(2<Math.abs(c-d)||2<Math.abs(f-e))c={type:"draw",target:this,chart:a,initialX:c,initialY:f,finalX:d,finalY:e},this.fire(c.type,c)}if(this.enabled&&0<b.length){if(this.pan)this.rolledOver=!1;else if(this.zoomable&&this.zooming){c=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"};c.target=this;c.chart=a;if("cursor"==this.type)this.rotate?this.selectionPosY=e:this.selectionPosX=
e=d,4>Math.abs(e-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(c.end=this.fromIndex,c.start=this.index):(c.end=this.index,c.start=this.fromIndex),e=a.categoryAxis,e.parseDates&&!e.equalSpacing&&(b[c.start]&&(c.start=b[c.start].time),b[c.end]&&(c.end=a.getEndTime(b[c.end].time))),this.skipZoomDispatch||this.fire(c.type,c));else{var g=this.initialMouseX,h=this.initialMouseY;3>Math.abs(d-g)&&3>Math.abs(e-h)||(b=Math.min(g,d),f=Math.min(h,e),d=Math.abs(g-d),e=Math.abs(h-
e),a.hideXScrollbar&&(b=0,d=this.width),a.hideYScrollbar&&(f=0,e=this.height),c.selectionHeight=e,c.selectionWidth=d,c.selectionY=f,c.selectionX=b,this.skipZoomDispatch||this.fire(c.type,c))}this.selectWithoutZooming||AmCharts.remove(this.selection)}this.skipZoomDispatch=!1}}this.panning=this.zooming=!1},showCursorAt:function(a){var b=this.chart.categoryAxis;a=b.parseDates?b.dateToCoordinate(a):b.categoryToCoordinate(a);this.previousMousePosition=NaN;this.forceShow=!0;this.setPosition(a,!1)},clearSelection:function(){AmCharts.remove(this.selection)},
handleMouseDown:function(a){if(this.zoomable||this.pan||this.drawing){var b=this.rotate,c=this.chart,d=c.mouseX-this.x,e=c.mouseY-this.y;if(0<d&&d<this.width&&0<e&&e<this.height||"fake"==a)this.setPosition(),this.selectWithoutZooming&&AmCharts.remove(this.selection),this.drawing?(this.drawStartY=e,this.drawStartX=d,this.drawingNow=!0):this.pan?(this.zoomable=!1,c.setMouseCursor("move"),this.panning=!0,this.panClickPos=b?e:d,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=
this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,b?(this.initialMouse=e,this.selectionPosY=this.linePos):(this.initialMouse=d,this.selectionPosX=this.linePos)):(this.initialMouseX=d,this.initialMouseY=e,this.selectionPosX=d,this.selectionPosY=e),this.zooming=!0)}}});AmCharts.SimpleChartScrollbar=AmCharts.Class({construct:function(a){this.createEvents("zoomed");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.scrollDuration=this.selectedBackgroundAlpha=1;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;9>document.documentMode&&(this.updateOnReleaseOnly=!0);this.dragIconWidth=18;this.dragIconHeight=25;AmCharts.applyTheme(this,a,"SimpleChartScrollbar")},draw:function(){var a=
this;a.destroy();a.interval=setInterval(function(){a.updateScrollbar.call(a)},40);var b=a.chart.container,c=a.rotate,d=a.chart,e=b.set();a.set=e;d.scrollbarsSet.push(e);var f,g;c?(f=a.scrollbarHeight,g=d.plotAreaHeight):(g=a.scrollbarHeight,f=d.plotAreaWidth);a.width=f;if((a.height=g)&&f){var h=AmCharts.rect(b,f,g,a.backgroundColor,a.backgroundAlpha,1,a.backgroundColor,a.backgroundAlpha);AmCharts.setCN(d,h,"scrollbar-bg");a.bg=h;e.push(h);h=AmCharts.rect(b,f,g,"#000",.005);e.push(h);a.invisibleBg=
h;h.click(function(){a.handleBgClick()}).mouseover(function(){a.handleMouseOver()}).mouseout(function(){a.handleMouseOut()}).touchend(function(){a.handleBgClick()});h=AmCharts.rect(b,f,g,a.selectedBackgroundColor,a.selectedBackgroundAlpha);AmCharts.setCN(d,h,"scrollbar-bg-selected");a.selectedBG=h;e.push(h);f=AmCharts.rect(b,f,g,"#000",.005);a.dragger=f;e.push(f);f.mousedown(function(b){a.handleDragStart(b)}).mouseup(function(){a.handleDragStop()}).mouseover(function(){a.handleDraggerOver()}).mouseout(function(){a.handleMouseOut()}).touchstart(function(b){a.handleDragStart(b)}).touchend(function(){a.handleDragStop()});
f=d.pathToImages;c?(h=f+"dragIconH.gif",f=a.dragIconWidth,c=a.dragIconHeight):(h=f+"dragIcon.gif",c=a.dragIconWidth,f=a.dragIconHeight);g=b.image(h,0,0,c,f);AmCharts.setCN(d,g,"scrollbar-grip-left");h=b.image(h,0,0,c,f);AmCharts.setCN(d,h,"scrollbar-grip-right");var k=10,l=20;d.panEventsEnabled&&(k=25,l=a.scrollbarHeight);var m=AmCharts.rect(b,k,l,"#000",.005),n=AmCharts.rect(b,k,l,"#000",.005);n.translate(-(k-c)/2,-(l-f)/2);m.translate(-(k-c)/2,-(l-f)/2);c=b.set([g,n]);b=b.set([h,m]);a.iconLeft=
c;e.push(a.iconLeft);a.iconRight=b;e.push(b);c.mousedown(function(){a.leftDragStart()}).mouseup(function(){a.leftDragStop()}).mouseover(function(){a.iconRollOver()}).mouseout(function(){a.iconRollOut()}).touchstart(function(b){a.leftDragStart()}).touchend(function(){a.leftDragStop()});b.mousedown(function(){a.rightDragStart()}).mouseup(function(){a.rightDragStop()}).mouseover(function(){a.iconRollOver()}).mouseout(function(){a.iconRollOut()}).touchstart(function(b){a.rightDragStart()}).touchend(function(){a.rightDragStop()});
AmCharts.ifArray(d.chartData)?e.show():e.hide();a.hideDragIcons();a.clipDragger(!1)}e.translate(a.x,a.y);e.node.style.msTouchAction="none"},updateScrollbarSize:function(a,b){a=Math.round(a);b=Math.round(b);var c=this.dragger,d,e,f,g;this.rotate?(d=0,e=a,f=this.width+1,g=b-a,c.setAttr("height",b-a),c.setAttr("y",e)):(d=a,e=0,f=b-a,g=this.height+1,c.setAttr("width",b-a),c.setAttr("x",d));this.clipAndUpdate(d,e,f,g)},updateScrollbar:function(){var a,b=!1,c,d,e=this.x,f=this.y,g=this.dragger,h=this.getDBox();
if(h){c=h.x+e;d=h.y+f;var k=h.width,h=h.height,l=this.rotate,m=this.chart,n=this.width,p=this.height,r=m.mouseX,q=m.mouseY;a=this.initialMouse;this.forceClip&&this.clipDragger(!0);m.mouseIsOver&&(this.dragging&&(m=this.initialCoord,l?(a=m+(q-a),0>a&&(a=0),m=p-h,a>m&&(a=m),g.setAttr("y",a)):(a=m+(r-a),0>a&&(a=0),m=n-k,a>m&&(a=m),g.setAttr("x",a)),this.clipDragger(!0)),this.resizingRight&&(l?(a=q-d,a+d>p+f&&(a=p-d+f),0>a?(this.resizingRight=!1,b=this.resizingLeft=!0):(0===a&&(a=.1),g.setAttr("height",
a))):(a=r-c,a+c>n+e&&(a=n-c+e),0>a?(this.resizingRight=!1,b=this.resizingLeft=!0):(0===a&&(a=.1),g.setAttr("width",a))),this.clipDragger(!0)),this.resizingLeft&&(l?(c=d,d=q,d<f&&(d=f),d>p+f&&(d=p+f),a=!0===b?c-d:h+c-d,0>a?(this.resizingRight=!0,this.resizingLeft=!1,g.setAttr("y",c+h-f)):(0===a&&(a=.1),g.setAttr("y",d-f),g.setAttr("height",a))):(d=r,d<e&&(d=e),d>n+e&&(d=n+e),a=!0===b?c-d:k+c-d,0>a?(this.resizingRight=!0,this.resizingLeft=!1,g.setAttr("x",c+k-e)):(0===a&&(a=.1),g.setAttr("x",d-e),g.setAttr("width",
a))),this.clipDragger(!0)))}},stopForceClip:function(){this.forceClip=!1},clipDragger:function(a){var b=this.getDBox();if(b){var c=b.x,d=b.y,e=b.width,b=b.height,f=!1;if(this.rotate){if(c=0,e=this.width+1,this.clipY!=d||this.clipH!=b)f=!0}else if(d=0,b=this.height+1,this.clipX!=c||this.clipW!=e)f=!0;f&&(this.clipAndUpdate(c,d,e,b),a&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(a,b,c,d){this.clipX=a;this.clipY=b;this.clipW=c;this.clipH=
d;this.selectedBG.clipRect(a,b,c,d);this.updateDragIconPositions();this.maskGraphs(a,b,c,d)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var a=this.chart;a.hideBalloon();var b=this.getDBox(),c=b.x,d=b.y,e=b.width,b=b.height;this.rotate?(c=d,e=this.height/b):e=this.width/e;a={type:"zoomed",position:c,chart:a,target:this,multiplier:e};this.fire(a.type,a)}},updateDragIconPositions:function(){var a=this.getDBox(),b=a.x,c=a.y,d=this.iconLeft,e=this.iconRight,f,g,h=this.scrollbarHeight;
this.rotate?(f=this.dragIconWidth,g=this.dragIconHeight,d.translate((h-g)/2,c-f/2),e.translate((h-g)/2,c+a.height-f/2)):(f=this.dragIconHeight,g=this.dragIconWidth,d.translate(b-g/2,(h-f)/2),e.translate(b-g/2+a.width,(h-f)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){if(!this.resizingLeft&&!this.resizingRight&&!this.dragging){if(this.hideResizeGrips||!this.resizeEnabled)this.iconLeft.hide(),this.iconRight.hide();this.removeCursors()}},
removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(a,b){this.dragger.stop();this.multiplier=a;this.position=b;this.updateScrollbarSize(b,this.rotate?b+this.height/a:b+this.width/a)},destroy:function(){this.clear();AmCharts.remove(this.set);AmCharts.remove(this.iconRight);AmCharts.remove(this.iconLeft)},clear:function(){clearInterval(this.interval)},handleDragStart:function(){var a=this.chart;this.dragger.stop();this.removeCursors();this.dragging=!0;var b=this.getDBox();
this.rotate?(this.initialCoord=b.y,this.initialMouse=a.mouseY):(this.initialCoord=b.x,this.initialMouse=a.mouseX)},handleDragStop:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();this.updateScrollbar()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop();this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1;this.mouseIsOver||
this.removeCursors();this.updateOnRelease()},rightDragStart:function(){this.dragger.stop();this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("n-resize"):this.chart.setMouseCursor("e-resize");this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var a=
this;if(!a.resizingRight&&!a.resizingLeft){a.zooming=!0;var b,c,d=a.scrollDuration,e=a.dragger;b=a.getDBox();var f=b.height,g=b.width;c=a.chart;var h=a.y,k=a.x,l=a.rotate;l?(b="y",c=c.mouseY-f/2-h,c=AmCharts.fitToBounds(c,0,a.height-f)):(b="x",c=c.mouseX-g/2-k,c=AmCharts.fitToBounds(c,0,a.width-g));a.updateOnReleaseOnly?(a.skipEvent=!1,e.setAttr(b,c),a.dispatchScrollbarEvent(),a.clipDragger()):(c=Math.round(c),l?e.animate({y:c},d,">"):e.animate({x:c},d,">"),a.forceClip=!0,clearTimeout(a.forceTO),
a.forceTO=setTimeout(function(){a.stopForceClip.call(a)},5E3*d))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){if(this.set){if(this.resizingLeft||this.resizingRight||this.dragging)this.updateOnRelease(),this.removeCursors();this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1;this.hideDragIcons();this.updateScrollbar()}},handleMouseOver:function(){this.mouseIsOver=!0;
this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons()}});AmCharts.ChartScrollbar=AmCharts.Class({inherits:AmCharts.SimpleChartScrollbar,construct:function(a){this.cname="ChartScrollbar";AmCharts.ChartScrollbar.base.construct.call(this,a);this.graphLineColor="#BBBBBB";this.graphLineAlpha=0;this.graphFillColor="#BBBBBB";this.graphFillAlpha=1;this.selectedGraphLineColor="#888888";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#888888";this.selectedGraphFillAlpha=1;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=.7;this.skipEvent=this.autoGridCount=
!1;this.color="#FFFFFF";this.scrollbarCreated=!1;this.offset=0;AmCharts.applyTheme(this,a,this.cname)},init:function(){var a=this.categoryAxis,b=this.chart;a||(this.categoryAxis=a=new AmCharts.CategoryAxis);a.chart=b;a.id="scrollbar";a.dateFormats=b.categoryAxis.dateFormats;a.markPeriodChange=b.categoryAxis.markPeriodChange;a.boldPeriodBeginning=b.categoryAxis.boldPeriodBeginning;a.axisItemRenderer=AmCharts.RecItem;a.axisRenderer=AmCharts.RecAxis;a.guideFillRenderer=AmCharts.RecFill;a.inside=!0;a.fontSize=
this.fontSize;a.tickLength=0;a.axisAlpha=0;AmCharts.isString(this.graph)&&(this.graph=AmCharts.getObjById(b.graphs,this.graph));if(a=this.graph){var c=this.valueAxis;c||(this.valueAxis=c=new AmCharts.ValueAxis,c.visible=!1,c.scrollbar=!0,c.axisItemRenderer=AmCharts.RecItem,c.axisRenderer=AmCharts.RecAxis,c.guideFillRenderer=AmCharts.RecFill,c.labelsEnabled=!1,c.chart=b);b=this.unselectedGraph;b||(b=new AmCharts.AmGraph,b.scrollbar=!0,this.unselectedGraph=b,b.negativeBase=a.negativeBase,b.noStepRisers=
a.noStepRisers);b=this.selectedGraph;b||(b=new AmCharts.AmGraph,b.scrollbar=!0,this.selectedGraph=b,b.negativeBase=a.negativeBase,b.noStepRisers=a.noStepRisers)}this.scrollbarCreated=!0},draw:function(){var a=this;AmCharts.ChartScrollbar.base.draw.call(a);a.scrollbarCreated||a.init();var b=a.chart,c=b.chartData,d=a.categoryAxis,e=a.rotate,f=a.x,g=a.y,h=a.width,k=a.height,l=b.categoryAxis,m=a.set;d.setOrientation(!e);d.parseDates=l.parseDates;d.rotate=e;d.equalSpacing=l.equalSpacing;d.minPeriod=l.minPeriod;
d.startOnAxis=l.startOnAxis;d.viW=h;d.viH=k;d.width=h;d.height=k;d.gridCount=a.gridCount;d.gridColor=a.gridColor;d.gridAlpha=a.gridAlpha;d.color=a.color;d.tickLength=0;d.axisAlpha=0;d.autoGridCount=a.autoGridCount;d.parseDates&&!d.equalSpacing&&d.timeZoom(b.firstTime,b.lastTime);d.zoom(0,c.length-1);if(l=a.graph){var n=a.valueAxis,p=l.valueAxis;n.id=p.id;n.rotate=e;n.setOrientation(e);n.width=h;n.height=k;n.viW=h;n.viH=k;n.dataProvider=c;n.reversed=p.reversed;n.logarithmic=p.logarithmic;n.gridAlpha=
0;n.axisAlpha=0;m.push(n.set);e?(n.y=g,n.x=0):(n.x=f,n.y=0);var f=Infinity,g=-Infinity,r;for(r=0;r<c.length;r++){var q=c[r].axes[p.id].graphs[l.id].values,u;for(u in q)if(q.hasOwnProperty(u)&&"percents"!=u&&"total"!=u){var z=q[u];z<f&&(f=z);z>g&&(g=z)}}Infinity!=f&&(n.minimum=f);-Infinity!=g&&(n.maximum=g+.1*(g-f));f==g&&(--n.minimum,n.maximum+=1);void 0!==a.minimum&&(n.minimum=a.minimum);void 0!==a.maximum&&(n.maximum=a.maximum);n.zoom(0,c.length-1);u=a.unselectedGraph;u.id=l.id;u.rotate=e;u.chart=
b;u.data=c;u.valueAxis=n;u.chart=l.chart;u.categoryAxis=a.categoryAxis;u.periodSpan=l.periodSpan;u.valueField=l.valueField;u.openField=l.openField;u.closeField=l.closeField;u.highField=l.highField;u.lowField=l.lowField;u.lineAlpha=a.graphLineAlpha;u.lineColorR=a.graphLineColor;u.fillAlphas=a.graphFillAlpha;u.fillColorsR=a.graphFillColor;u.connect=l.connect;u.hidden=l.hidden;u.width=h;u.height=k;u.pointPosition=l.pointPosition;u.stepDirection=l.stepDirection;u.periodSpan=l.periodSpan;p=a.selectedGraph;
p.id=l.id;p.rotate=e;p.chart=b;p.data=c;p.valueAxis=n;p.chart=l.chart;p.categoryAxis=d;p.periodSpan=l.periodSpan;p.valueField=l.valueField;p.openField=l.openField;p.closeField=l.closeField;p.highField=l.highField;p.lowField=l.lowField;p.lineAlpha=a.selectedGraphLineAlpha;p.lineColorR=a.selectedGraphLineColor;p.fillAlphas=a.selectedGraphFillAlpha;p.fillColorsR=a.selectedGraphFillColor;p.connect=l.connect;p.hidden=l.hidden;p.width=h;p.height=k;p.pointPosition=l.pointPosition;p.stepDirection=l.stepDirection;
p.periodSpan=l.periodSpan;b=a.graphType;b||(b=l.type);u.type=b;p.type=b;c=c.length-1;u.zoom(0,c);p.zoom(0,c);p.set.click(function(){a.handleBackgroundClick()}).mouseover(function(){a.handleMouseOver()}).mouseout(function(){a.handleMouseOut()});u.set.click(function(){a.handleBackgroundClick()}).mouseover(function(){a.handleMouseOver()}).mouseout(function(){a.handleMouseOut()});m.push(u.set);m.push(p.set)}m.push(d.set);m.push(d.labelsSet);a.bg.toBack();a.invisibleBg.toFront();a.dragger.toFront();a.iconLeft.toFront();
a.iconRight.toFront()},timeZoom:function(a,b,c){this.startTime=a;this.endTime=b;this.timeDifference=b-a;this.skipEvent=!AmCharts.toBoolean(c);this.zoomScrollbar();this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(a,b){this.start=a;this.end=b;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var a=this.chart.chartData,b,c,d=this.dragger.getBBox();b=d.x;var e=d.y,f=d.width,d=d.height,g=this.chart;this.rotate?(b=e,c=d):c=f;f=
{type:"zoomed",target:this};f.chart=g;var h=this.categoryAxis,k=this.stepWidth,e=g.minSelectedTime,d=!1;if(h.parseDates&&!h.equalSpacing){if(a=g.lastTime,g=g.firstTime,h.minDuration(),h=Math.round(b/k)+g,b=this.dragging?h+this.timeDifference:Math.round((b+c)/k)+g,h>b&&(h=b),0<e&&b-h<e&&(b=Math.round(h+(b-h)/2),d=Math.round(e/2),h=b-d,b+=d,d=!0),b>a&&(b=a),b-e<h&&(h=b-e),h<g&&(h=g),h+e>b&&(b=h+e),h!=this.startTime||b!=this.endTime)this.startTime=h,this.endTime=b,f.start=h,f.end=b,f.startDate=new Date(h),
f.endDate=new Date(b),this.fire(f.type,f)}else if(h.startOnAxis||(b+=k/2),c-=this.stepWidth/2,e=h.xToIndex(b),b=h.xToIndex(b+c),e!=this.start||this.end!=b)h.startOnAxis&&(this.resizingRight&&e==b&&b++,this.resizingLeft&&e==b&&(0<e?e--:b=1)),this.start=e,this.end=this.dragging?this.start+this.difference:b,f.start=this.start,f.end=this.end,h.parseDates&&(a[this.start]&&(f.startDate=new Date(a[this.start].time)),a[this.end]&&(f.endDate=new Date(a[this.end].time))),this.fire(f.type,f);d&&this.zoomScrollbar()}},
zoomScrollbar:function(){var a,b;a=this.chart;var c=a.chartData,d=this.categoryAxis;d.parseDates&&!d.equalSpacing?(c=d.stepWidth,d=a.firstTime,a=c*(this.startTime-d),b=c*(this.endTime-d)):(a=c[this.start].x[d.id],b=c[this.end].x[d.id],c=d.stepWidth,d.startOnAxis||(d=c/2,a-=d,b+=d));this.stepWidth=c;this.updateScrollbarSize(a,b)},maskGraphs:function(a,b,c,d){var e=this.selectedGraph;e&&e.set.clipRect(a,b,c,d)},handleDragStart:function(){AmCharts.ChartScrollbar.base.handleDragStart.call(this);this.difference=
this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){AmCharts.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}});AmCharts.AmBalloon=AmCharts.Class({construct:function(a){this.cname="AmBalloon";this.enabled=!0;this.fillColor="#FFFFFF";this.fillAlpha=.8;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=0;this.maxWidth=220;this.horizontalPadding=8;this.verticalPadding=4;this.pointerWidth=6;this.pointerOrientation="V";this.color="#000000";this.adjustBorderColor=!0;this.show=this.follow=this.showBullet=!1;this.bulletSize=3;this.shadowAlpha=.4;this.shadowColor="#000000";this.fadeOutDuration=
this.animationDuration=.3;this.fixedPosition=!1;this.offsetY=6;this.offsetX=1;this.textAlign="center";AmCharts.isModern||(this.offsetY*=1.5);AmCharts.applyTheme(this,a,this.cname)},draw:function(){var a=this.pointToX,b=this.pointToY;this.deltaSignX=this.deltaSignY=1;var c=this.chart;AmCharts.VML&&(this.fadeOutDuration=0);this.xAnim&&c.stopAnim(this.xAnim);this.yAnim&&c.stopAnim(this.yAnim);if(!isNaN(a)){var d=this.follow,e=c.container,f=this.set;AmCharts.remove(f);this.removeDiv();f=e.set();f.node.style.pointerEvents=
"none";this.set=f;c.balloonsSet.push(f);if(this.show){var g=this.l,h=this.t,k=this.r,l=this.b,m=this.balloonColor,n=this.fillColor,p=this.borderColor,r=n;void 0!=m&&(this.adjustBorderColor?r=p=m:n=m);var q=this.horizontalPadding,u=this.verticalPadding,z=this.pointerWidth,x=this.pointerOrientation,t=this.cornerRadius,w=c.fontFamily,y=this.fontSize;void 0==y&&(y=c.fontSize);var m=document.createElement("div"),A=c.classNamePrefix;m.className=A+"-balloon-div";this.className&&(m.className=m.className+
" "+A+"-balloon-div-"+this.className);A=m.style;A.pointerEvents="none";A.position="absolute";var C=this.minWidth,B="";isNaN(C)||(B="min-width:"+(C-2*q)+"px; ");m.innerHTML='<div style="text-align:'+this.textAlign+"; "+B+"max-width:"+this.maxWidth+"px; font-size:"+y+"px; color:"+this.color+"; font-family:"+w+'">'+this.text+"</div>";c.chartDiv.appendChild(m);this.textDiv=m;y=m.offsetWidth;w=m.offsetHeight;m.clientHeight&&(y=m.clientWidth,w=m.clientHeight);w+=2*u;B=y+2*q;!isNaN(C)&&B<C&&(B=C);window.opera&&
(w+=2);var H=!1,y=this.offsetY;c.handDrawn&&(y+=c.handDrawScatter+2);"H"!=x?(C=a-B/2,b<h+w+10&&"down"!=x?(H=!0,d&&(b+=y),y=b+z,this.deltaSignY=-1):(d&&(b-=y),y=b-w-z,this.deltaSignY=1)):(2*z>w&&(z=w/2),y=b-w/2,a<g+(k-g)/2?(C=a+z,this.deltaSignX=-1):(C=a-B-z,this.deltaSignX=1));y+w>=l&&(y=l-w);y<h&&(y=h);C<g&&(C=g);C+B>k&&(C=k-B);var h=y+u,l=C+q,u=this.shadowAlpha,D=this.shadowColor,q=this.borderThickness,I=this.bulletSize,X;0<t||0===z?(0<u&&(a=AmCharts.rect(e,B,w,n,0,q+1,D,u,this.cornerRadius),AmCharts.isModern?
a.translate(1,1):a.translate(4,4),f.push(a)),n=AmCharts.rect(e,B,w,n,this.fillAlpha,q,p,this.borderAlpha,this.cornerRadius),this.showBullet&&(X=AmCharts.circle(e,I,r,this.fillAlpha),f.push(X))):(r=[],t=[],"H"!=x?(g=a-C,g>B-z&&(g=B-z),g<z&&(g=z),r=[0,g-z,a-C,g+z,B,B,0,0],t=H?[0,0,b-y,0,0,w,w,0]:[w,w,b-y,w,w,0,0,w]):(r=b-y,r>w-z&&(r=w-z),r<z&&(r=z),t=[0,r-z,b-y,r+z,w,w,0,0],r=a<g+(k-g)/2?[0,0,C<a?0:a-C,0,0,B,B,0]:[B,B,C+B>a?B:a-C,B,B,0,0,B]),0<u&&(a=AmCharts.polygon(e,r,t,n,0,q,D,u),a.translate(1,1),
f.push(a)),n=AmCharts.polygon(e,r,t,n,this.fillAlpha,q,p,this.borderAlpha));this.bg=n;f.push(n);n.toFront();AmCharts.setCN(c,n,"balloon-bg");this.className&&AmCharts.setCN(c,n,"balloon-bg-"+this.className);e=1*this.deltaSignX;A.left=l+"px";A.top=h+"px";f.translate(C-e,y);n=n.getBBox();this.bottom=y+w+1;this.yPos=n.y+y;X&&X.translate(this.pointToX-C+e,b-y);b=this.animationDuration;0<this.animationDuration&&!d&&!isNaN(this.prevX)&&(f.translate(this.prevX,this.prevY),f.animate({translate:C-e+","+y},
b,"easeOutSine"),m&&(A.left=this.prevTX+"px",A.top=this.prevTY+"px",this.xAnim=c.animate({node:m},"left",this.prevTX,l,b,"easeOutSine","px"),this.yAnim=c.animate({node:m},"top",this.prevTY,h,b,"easeOutSine","px")));this.prevX=C-e;this.prevY=y;this.prevTX=l;this.prevTY=h}}},followMouse:function(){if(this.follow&&this.show){var a=this.chart.mouseX-this.offsetX*this.deltaSignX,b=this.chart.mouseY;this.pointToX=a;this.pointToY=b;if(a!=this.previousX||b!=this.previousY)if(this.previousX=a,this.previousY=
b,0===this.cornerRadius)this.draw();else{var c=this.set;if(c){var d=c.getBBox(),a=a-d.width/2,e=b-d.height-10;a<this.l&&(a=this.l);a>this.r-d.width&&(a=this.r-d.width);e<this.t&&(e=b+10);c.translate(a,e);b=this.textDiv.style;b.left=a+this.horizontalPadding+"px";b.top=e+this.verticalPadding+"px"}}}},changeColor:function(a){this.balloonColor=a},setBounds:function(a,b,c,d){this.l=a;this.t=b;this.r=c;this.b=d;this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(a){this.text=a;this.show=
!0;this.destroyTO&&clearTimeout(this.destroyTO);a=this.chart;this.fadeAnim1&&a.stopAnim(this.fadeAnim1);this.fadeAnim2&&a.stopAnim(this.fadeAnim2);this.draw()},hide:function(){var a=this,b=a.fadeOutDuration,c=a.chart;if(0<b){a.destroyTO=setTimeout(function(){a.destroy.call(a)},1E3*b);a.follow=!1;a.show=!1;var d=a.set;d&&(d.setAttr("opacity",a.fillAlpha),a.fadeAnim1=d.animate({opacity:0},b,"easeInSine"));a.textDiv&&(a.fadeAnim2=c.animate({node:a.textDiv},"opacity",1,0,b,"easeInSine",""))}else a.show=
!1,a.follow=!1,a.destroy()},setPosition:function(a,b,c){this.pointToX=a;this.pointToY=b;c&&(a==this.previousX&&b==this.previousY||this.draw());this.previousX=a;this.previousY=b},followCursor:function(a){var b=this;(b.follow=a)?(b.pShowBullet=b.showBullet,b.showBullet=!1):void 0!==b.pShowBullet&&(b.showBullet=b.pShowBullet);clearInterval(b.interval);var c=b.chart.mouseX,d=b.chart.mouseY;!isNaN(c)&&a&&(b.pointToX=c-b.offsetX*b.deltaSignX,b.pointToY=d,b.followMouse(),b.interval=setInterval(function(){b.followMouse.call(b)},
40))},removeDiv:function(){if(this.textDiv){var a=this.textDiv.parentNode;a&&a.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval);AmCharts.remove(this.set);this.removeDiv();this.set=null}});AmCharts.AmCoordinateChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(a){AmCharts.AmCoordinateChart.base.construct.call(this,a);this.theme=a;this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.startAlpha=1;this.startDuration=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");
this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[];this.guides=[];this.gridAboveGraphs=!1;AmCharts.applyTheme(this,a,"AmCoordinateChart")},initChart:function(){AmCharts.AmCoordinateChart.base.initChart.call(this);var a=this.categoryAxis;a&&(this.categoryAxis=AmCharts.processObject(a,AmCharts.CategoryAxis,this.theme));this.processValueAxes();this.createValueAxes();this.processGraphs();this.processGuides();AmCharts.VML&&(this.startAlpha=1);this.setLegendData(this.graphs);this.gridAboveGraphs&&
this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var a=new AmCharts.ValueAxis;this.addValueAxis(a)}},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(){var a=this.graphs,b,c={},d=this.seriesIdField;d||(d=this.categoryField);this.chartData=[];var e=this.dataProvider;if(e){var f=!1,g,h=this.categoryAxis,k,l,m;h&&(f=h.parseDates,k=h.forceShowField,m=h.classNameField,l=h.labelColorField,g=h.categoryFunction);var n,p,r={},q;f&&
(b=AmCharts.extractPeriod(h.minPeriod),n=b.period,p=b.count,q=AmCharts.getPeriodDuration(n,p));var u={};this.lookupTable=u;var z,x=this.dataDateFormat,t={};for(z=0;z<e.length;z++){var w={},y=e[z];b=y[this.categoryField];w.dataContext=y;w.category=g?g(b,y,h):String(b);k&&(w.forceShow=y[k]);m&&(w.className=y[m]);l&&(w.labelColor=y[l]);u[y[d]]=w;if(f&&(b=h.categoryFunction?h.categoryFunction(b,y,h):b instanceof Date?AmCharts.newDate(b,h.minPeriod):x?AmCharts.stringToDate(b,x):new Date(b),b=AmCharts.resetDateToMin(b,
n,p,h.firstDayOfWeek),w.category=b,w.time=b.getTime(),isNaN(w.time)))continue;var A=this.valueAxes;w.axes={};w.x={};var C;for(C=0;C<A.length;C++){var B=A[C].id;w.axes[B]={};w.axes[B].graphs={};var H;for(H=0;H<a.length;H++){b=a[H];var D=b.id,I=1.1;isNaN(b.gapPeriod)||(I=b.gapPeriod);var X=b.periodValue;if(b.valueAxis.id==B){w.axes[B].graphs[D]={};var ca={};ca.index=z;var oa=y;b.dataProvider&&(oa=c);ca.values=this.processValues(oa,b,X);!b.connect&&t&&t[D]&&w.time-r[D]>=q*I&&(t[D].gap=!0);this.processFields(b,
ca,oa);ca.category=w.category;ca.serialDataItem=w;ca.graph=b;w.axes[B].graphs[D]=ca;r[D]=w.time;t[D]=ca}}}this.chartData[z]=w}}for(c=0;c<a.length;c++)b=a[c],b.dataProvider&&this.parseGraphData(b)},processValues:function(a,b,c){var d={},e,f=!1;"candlestick"!=b.type&&"ohlc"!=b.type||""===c||(f=!0);e=Number(a[b.valueField+c]);isNaN(e)||(d.value=e);e=Number(a[b.errorField+c]);isNaN(e)||(d.error=e);f&&(c="Open");e=Number(a[b.openField+c]);isNaN(e)||(d.open=e);f&&(c="Close");e=Number(a[b.closeField+c]);
isNaN(e)||(d.close=e);f&&(c="Low");e=Number(a[b.lowField+c]);isNaN(e)||(d.low=e);f&&(c="High");e=Number(a[b.highField+c]);isNaN(e)||(d.high=e);return d},parseGraphData:function(a){var b=a.dataProvider,c=a.seriesIdField;c||(c=this.seriesIdField);c||(c=this.categoryField);var d;for(d=0;d<b.length;d++){var e=b[d],f=this.lookupTable[String(e[c])],g=a.valueAxis.id;f&&(g=f.axes[g].graphs[a.id],g.serialDataItem=f,g.values=this.processValues(e,a,a.periodValue),this.processFields(a,g,e))}},addValueAxis:function(a){a.chart=
this;this.valueAxes.push(a);this.validateData()},removeValueAxesAndGraphs:function(){var a=this.valueAxes,b;for(b=a.length-1;-1<b;b--)this.removeValueAxis(a[b])},removeValueAxis:function(a){var b=this.graphs,c;for(c=b.length-1;0<=c;c--){var d=b[c];d&&d.valueAxis==a&&this.removeGraph(d)}b=this.valueAxes;for(c=b.length-1;0<=c;c--)b[c]==a&&b.splice(c,1);this.validateData()},addGraph:function(a){this.graphs.push(a);this.chooseGraphColor(a,this.graphs.length-1);this.validateData()},removeGraph:function(a){var b=
this.graphs,c;for(c=b.length-1;0<=c;c--)b[c]==a&&(b.splice(c,1),a.destroy());this.validateData()},processValueAxes:function(){var a=this.valueAxes,b;for(b=0;b<a.length;b++){var c=a[b],c=AmCharts.processObject(c,AmCharts.ValueAxis,this.theme);a[b]=c;c.chart=this;c.id||(c.id="valueAxisAuto"+b+"_"+(new Date).getTime());void 0===c.usePrefixes&&(c.usePrefixes=this.usePrefixes)}},processGuides:function(){var a=this.guides,b=this.categoryAxis;if(a)for(var c=0;c<a.length;c++){var d=a[c];(void 0!==d.category||
void 0!==d.date)&&b&&b.addGuide(d);d.id||(d.id="guideAuto"+c+"_"+(new Date).getTime());var e=d.valueAxis;e?(AmCharts.isString(e)&&(e=this.getValueAxisById(e)),e?e.addGuide(d):this.valueAxes[0].addGuide(d)):isNaN(d.value)||this.valueAxes[0].addGuide(d)}},processGraphs:function(){var a=this.graphs,b;for(b=0;b<a.length;b++){var c=a[b],c=AmCharts.processObject(c,AmCharts.AmGraph,this.theme);a[b]=c;this.chooseGraphColor(c,b);c.chart=this;AmCharts.isString(c.valueAxis)&&(c.valueAxis=this.getValueAxisById(c.valueAxis));
c.valueAxis||(c.valueAxis=this.valueAxes[0]);c.id||(c.id="graphAuto"+b+"_"+(new Date).getTime())}},formatString:function(a,b,c){var d=b.graph,e=d.valueAxis;e.duration&&b.values.value&&(e=AmCharts.formatDuration(b.values.value,e.duration,"",e.durationUnits,e.maxInterval,e.numberFormatter),a=a.split("[[value]]").join(e));a=AmCharts.massReplace(a,{"[[title]]":d.title,"[[description]]":b.description});a=c?AmCharts.fixNewLines(a):AmCharts.fixBrakes(a);return a=AmCharts.cleanFromEmpty(a)},getBalloonColor:function(a,
b,c){var d=a.lineColor,e=a.balloonColor;c&&(e=d);c=a.fillColorsR;"object"==typeof c?d=c[0]:void 0!==c&&(d=c);b.isNegative&&(c=a.negativeLineColor,a=a.negativeFillColors,"object"==typeof a?c=a[0]:void 0!==a&&(c=a),void 0!==c&&(d=c));void 0!==b.color&&(d=b.color);void 0===e&&(e=d);return e},getGraphById:function(a){return AmCharts.getObjById(this.graphs,a)},getValueAxisById:function(a){return AmCharts.getObjById(this.valueAxes,a)},processFields:function(a,b,c){if(a.itemColors){var d=a.itemColors,e=
b.index;b.color=e<d.length?d[e]:AmCharts.randomColor()}d="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" ");for(e=0;e<d.length;e++){var f=d[e],g=a[f+"Field"];g&&(g=c[g],AmCharts.isDefined(g)&&(b[f]=g))}b.dataContext=c},chooseGraphColor:function(a,b){if(a.lineColor)a.lineColorR=a.lineColor;else{var c;c=this.colors.length>b?this.colors[b]:AmCharts.randomColor();a.lineColorR=c}a.fillColorsR=a.fillColors?
a.fillColors:a.lineColorR;a.bulletBorderColorR=a.bulletBorderColor?a.bulletBorderColor:a.useLineColorForBulletBorder?a.lineColorR:a.bulletColor;a.bulletColorR=a.bulletColor?a.bulletColor:a.lineColorR;if(c=this.patterns)a.pattern=c[b]},handleLegendEvent:function(a){var b=a.type;a=a.dataItem;if(!this.legend.data&&a){var c=a.hidden,d=a.showBalloon;switch(b){case "clickMarker":this.textClickEnabled&&(d?this.hideGraphsBalloon(a):this.showGraphsBalloon(a));break;case "clickLabel":d?this.hideGraphsBalloon(a):
this.showGraphsBalloon(a);break;case "rollOverItem":c||this.highlightGraph(a);break;case "rollOutItem":c||this.unhighlightGraph();break;case "hideItem":this.hideGraph(a);break;case "showItem":this.showGraph(a)}}},highlightGraph:function(a){var b=this.graphs,c,d=.2;this.legend&&(d=this.legend.rollOverGraphAlpha);if(1!=d)for(c=0;c<b.length;c++){var e=b[c];e!=a&&e.changeOpacity(d)}},unhighlightGraph:function(){var a;this.legend&&(a=this.legend.rollOverGraphAlpha);if(1!=a){a=this.graphs;var b;for(b=0;b<
a.length;b++)a[b].changeOpacity(1)}},showGraph:function(a){a.switchable&&(a.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(a){a.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),a.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(a){a.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(a){a.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&
this.legend.invalidateSize()},resetAnimation:function(){var a=this.graphs;if(a){var b;for(b=0;b<a.length;b++)a[b].animationPlayed=!1}},animateAgain:function(){this.resetAnimation();this.validateNow()}});AmCharts.AmSlicedChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(a){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");AmCharts.AmSlicedChart.base.construct.call(this,a);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=
!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=
10;this.gradientRatio=[];this.maxLabelWidth=200;AmCharts.applyTheme(this,a,"AmSlicedChart")},initChart:function(){AmCharts.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(a){var b=a.type,c=a.dataItem,d=this.legend;if(!d.data&&c){var e=c.hidden;a=a.event;switch(b){case "clickMarker":e||d.switchable||this.clickSlice(c,a);break;case "clickLabel":e||
this.clickSlice(c,a,!1);break;case "rollOverItem":e||this.rollOverSlice(c,!1,a);break;case "rollOutItem":e||this.rollOutSlice(c,a);break;case "hideItem":this.hideSlice(c,a);break;case "showItem":this.showSlice(c,a)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var a=this.legend;a&&a.invalidateSize()},addEventListeners:function(a,b){var c=this;a.mouseover(function(a){c.rollOverSlice(b,!0,a)}).mouseout(function(a){c.rollOutSlice(b,a)}).touchend(function(a){c.rollOverSlice(b,
a);c.panEventsEnabled&&c.clickSlice(b,a)}).touchstart(function(a){c.rollOverSlice(b,a)}).click(function(a){c.clickSlice(b,a)}).contextmenu(function(a){c.handleRightClick(b,a)})},formatString:function(a,b,c){a=AmCharts.formatValue(a,b,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);a=AmCharts.formatValue(a,b,["percents"],this.pf);a=AmCharts.massReplace(a,{"[[title]]":b.title,"[[description]]":b.description});-1!=a.indexOf("[[")&&(a=AmCharts.formatDataContextValue(a,
b.dataContext));a=c?AmCharts.fixNewLines(a):AmCharts.fixBrakes(a);return a=AmCharts.cleanFromEmpty(a)},startSlices:function(){var a;for(a=0;a<this.chartData.length;a++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(a):this.startSlice(this.chartData[a])},setStartTO:function(a){var b=this;a=setTimeout(function(){b.startSequenced.call(b)},b.startDuration/b.chartData.length*500*a);b.timeOuts.push(a)},pullSlices:function(a){var b=this.chartData,c;for(c=0;c<b.length;c++){var d=b[c];d.pulled&&
this.pullSlice(d,1,a)}},startSequenced:function(){var a=this.chartData,b;for(b=0;b<a.length;b++)if(!a[b].started){this.startSlice(this.chartData[b]);break}},startSlice:function(a){a.started=!0;var b=a.wedge,c=this.startDuration;b&&0<c&&(0<a.alpha&&b.show(),b.translate(a.startX,a.startY),b.animate({opacity:1,translate:"0,0"},c,this.startEffect))},showLabels:function(){var a=this.chartData,b;for(b=0;b<a.length;b++){var c=a[b];if(0<c.alpha){var d=c.label;d&&d.show();(c=c.tick)&&c.show()}}},showSlice:function(a){isNaN(a)?
a.hidden=!1:this.chartData[a].hidden=!1;this.invalidateVisibility()},hideSlice:function(a){isNaN(a)?a.hidden=!0:this.chartData[a].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(a,b,c){isNaN(a)||(a=this.chartData[a]);clearTimeout(this.hoverInt);if(!a.hidden){this.pullOnHover&&this.pullSlice(a,1);1>this.hoverAlpha&&a.wedge&&a.wedge.attr({opacity:this.hoverAlpha});var d=a.balloonX,e=a.balloonY;a.pulled&&(d+=a.pullX,e+=a.pullY);var f=this.formatString(this.balloonText,
a,!0),g=this.balloonFunction;g&&(f=g(a,f));g=AmCharts.adjustLuminosity(a.color,-.15);f?this.showBalloon(f,g,b,d,e):this.hideBalloon();a={type:"rollOverSlice",dataItem:a,chart:this,event:c};this.fire(a.type,a)}},rollOutSlice:function(a,b){isNaN(a)||(a=this.chartData[a]);a.wedge&&a.wedge.attr({opacity:1});this.hideBalloon();var c={type:"rollOutSlice",dataItem:a,chart:this,event:b};this.fire(c.type,c)},clickSlice:function(a,b,c){isNaN(a)||(a=this.chartData[a]);a.pulled?this.pullSlice(a,0):this.pullSlice(a,
1);AmCharts.getURL(a.url,this.urlTarget);c||(a={type:"clickSlice",dataItem:a,chart:this,event:b},this.fire(a.type,a))},handleRightClick:function(a,b){isNaN(a)||(a=this.chartData[a]);var c={type:"rightClickSlice",dataItem:a,chart:this,event:b};this.fire(c.type,c)},drawTicks:function(){var a=this.chartData,b;for(b=0;b<a.length;b++){var c=a[b];if(c.label){var d=c.ty,d=AmCharts.line(this.container,[c.tx0,c.tx,c.tx2],[c.ty0,d,d],this.labelTickColor,this.labelTickAlpha);AmCharts.setCN(this,d,this.type+
"-tick");AmCharts.setCN(this,d,c.className,!0);c.tick=d;c.wedge.push(d)}}},initialStart:function(){var a=this,b=a.startDuration,c=setTimeout(function(){a.showLabels.call(a)},1E3*b);a.timeOuts.push(c);a.chartCreated?a.pullSlices(!0):(a.startSlices(),0<b?(b=setTimeout(function(){a.pullSlices.call(a)},1200*b),a.timeOuts.push(b)):a.pullSlices(!0))},pullSlice:function(a,b,c){var d=this.pullOutDuration;!0===c&&(d=0);(c=a.wedge)&&(0<d?c.animate({translate:b*a.pullX+","+b*a.pullY},d,this.pullOutEffect):c.translate(b*
a.pullX,b*a.pullY));1==b?(a.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(a.index),a={type:"pullOutSlice",dataItem:a,chart:this}):(a.pulled=!1,a={type:"pullInSlice",dataItem:a,chart:this});this.fire(a.type,a)},pullInAll:function(a){var b=this.chartData,c;for(c=0;c<this.chartData.length;c++)c!=a&&b[c].pulled&&this.pullSlice(b[c],0)},pullOutAll:function(a){a=this.chartData;var b;for(b=0;b<a.length;b++)a[b].pulled||this.pullSlice(a[b],1)},parseData:function(){var a=[];this.chartData=a;var b=this.dataProvider;
isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha);if(void 0!==b){var c=b.length,d=0,e,f,g;for(e=0;e<c;e++){f={};var h=b[e];f.dataContext=h;f.value=Number(h[this.valueField]);(g=h[this.titleField])||(g="");f.title=g;f.pulled=AmCharts.toBoolean(h[this.pulledField],!1);(g=h[this.descriptionField])||(g="");f.description=g;f.labelRadius=Number(h[this.labelRadiusField]);f.switchable=!0;f.className=h[this.classNameField];f.url=h[this.urlField];g=h[this.patternField];!g&&this.patterns&&(g=this.patterns[e]);
f.pattern=g;f.visibleInLegend=AmCharts.toBoolean(h[this.visibleInLegendField],!0);g=h[this.alphaField];f.alpha=void 0!==g?Number(g):this.alpha;g=h[this.colorField];void 0!==g&&(f.color=AmCharts.toColor(g));f.labelColor=AmCharts.toColor(h[this.labelColorField]);d+=f.value;f.hidden=!1;a[e]=f}for(e=b=0;e<c;e++)f=a[e],f.percents=f.value/d*100,f.percents<this.groupPercent&&b++;1<b&&(this.groupValue=0,this.removeSmallSlices(),a.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/
d*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}}));c=this.baseColor;c||(c=this.pieBaseColor);d=this.brightnessStep;d||(d=this.pieBrightnessStep);for(e=0;e<a.length;e++)c?g=AmCharts.adjustLuminosity(c,e*d/100):(g=this.colors[e],void 0===g&&(g=AmCharts.randomColor())),void 0===a[e].color&&(a[e].color=g);this.recalculatePercents()}},recalculatePercents:function(){var a=
this.chartData,b=0,c,d;for(c=0;c<a.length;c++)d=a[c],!d.hidden&&0<d.value&&(b+=d.value);for(c=0;c<a.length;c++)d=this.chartData[c],d.percents=!d.hidden&&0<d.value?100*d.value/b:0},removeSmallSlices:function(){var a=this.chartData,b;for(b=a.length-1;0<=b;b--)a[b].percents<this.groupPercent&&(this.groupValue+=a[b].value,a.splice(b,1))},animateAgain:function(){var a=this;a.startSlices();for(var b=0;b<a.chartData.length;b++){var c=a.chartData[b];c.started=!1;var d=c.wedge;d&&d.translate(c.startX,c.startY)}b=
a.startDuration;0<b?(b=setTimeout(function(){a.pullSlices.call(a)},1200*b),a.timeOuts.push(b)):a.pullSlices()},measureMaxLabel:function(){var a=this.chartData,b=0,c;for(c=0;c<a.length;c++){var d=a[c],e=this.formatString(this.labelText,d),f=this.labelFunction;f&&(e=f(d,e));d=AmCharts.text(this.container,e,this.color,this.fontFamily,this.fontSize);e=d.getBBox().width;e>b&&(b=e);d.remove()}return b}});AmCharts.AmRectangularChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(a){AmCharts.AmRectangularChart.base.construct.call(this,a);this.theme=a;this.createEvents("zoomed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0;this.heightMultiplier=this.widthMultiplier=1;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=
0;this.zoomOutButtonImageSize=17;this.zoomOutButtonImage="lens.png";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;AmCharts.applyTheme(this,a,"AmRectangularChart")},initChart:function(){AmCharts.AmRectangularChart.base.initChart.call(this);this.updateDxy();var a=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),
a=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();a&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){AmCharts.AmRectangularChart.base.drawChart.call(this);this.drawPlotArea();if(AmCharts.ifArray(this.chartData)){var a=this.chartCursor;a&&a.draw();a=this.zoomOutText;""!==a&&a&&this.drawZoomOutButton()}},resetMargins:function(){var a={},b;if("serial"==this.type){var c=
this.valueAxes;for(b=0;b<c.length;b++){var d=c[b];d.ignoreAxisWidth||(d.setOrientation(this.rotate),d.fixAxisPosition(),a[d.position]=!0)}(b=this.categoryAxis)&&!b.ignoreAxisWidth&&(b.setOrientation(!this.rotate),b.fixAxisPosition(),b.fixAxisPosition(),a[b.position]=!0)}else{d=this.xAxes;c=this.yAxes;for(b=0;b<d.length;b++){var e=d[b];e.ignoreAxisWidth||(e.setOrientation(!0),e.fixAxisPosition(),a[e.position]=!0)}for(b=0;b<c.length;b++)d=c[b],d.ignoreAxisWidth||(d.setOrientation(!1),d.fixAxisPosition(),
a[d.position]=!0)}a.left&&(this.marginLeft=0);a.right&&(this.marginRight=0);a.top&&(this.marginTop=0);a.bottom&&(this.marginBottom=0);this.fixMargins=a},measureMargins:function(){var a=this.valueAxes,b,c=this.autoMarginOffset,d=this.fixMargins,e=this.realWidth,f=this.realHeight,g=c,h=c,k=e;b=f;var l;for(l=0;l<a.length;l++)b=this.getAxisBounds(a[l],g,k,h,b),g=Math.round(b.l),k=Math.round(b.r),h=Math.round(b.t),b=Math.round(b.b);if(a=this.categoryAxis)b=this.getAxisBounds(a,g,k,h,b),g=Math.round(b.l),
k=Math.round(b.r),h=Math.round(b.t),b=Math.round(b.b);d.left&&g<c&&(this.marginLeft=Math.round(-g+c));d.right&&k>=e-c&&(this.marginRight=Math.round(k-e+c));d.top&&h<c+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-h+c+this.titleHeight));d.bottom&&b>f-c&&(this.marginBottom=Math.round(this.marginBottom+b-f+c));this.initChart()},getAxisBounds:function(a,b,c,d,e){if(!a.ignoreAxisWidth){var f=a.labelsSet,g=a.tickLength;a.inside&&(g=0);if(f)switch(f=a.getBBox(),a.position){case "top":a=f.y;
d>a&&(d=a);break;case "bottom":a=f.y+f.height;e<a&&(e=a);break;case "right":a=f.x+f.width+g+3;c<a&&(c=a);break;case "left":a=f.x-g,b>a&&(b=a)}}return{l:b,t:d,r:c,b:e}},drawZoomOutButton:function(){var a=this,b=a.container.set();a.zoomButtonSet.push(b);var c=a.color,d=a.fontSize,e=a.zoomOutButtonImageSize,f=a.zoomOutButtonImage,g=AmCharts.lang.zoomOutText||a.zoomOutText,h=a.zoomOutButtonColor,k=a.zoomOutButtonAlpha,l=a.zoomOutButtonFontSize,m=a.zoomOutButtonPadding;isNaN(l)||(d=l);(l=a.zoomOutButtonFontColor)&&
(c=l);var l=a.zoomOutButton,n;l&&(l.fontSize&&(d=l.fontSize),l.color&&(c=l.color),l.backgroundColor&&(h=l.backgroundColor),isNaN(l.backgroundAlpha)||(a.zoomOutButtonRollOverAlpha=l.backgroundAlpha));var p=l=0;void 0!==a.pathToImages&&f&&(n=a.container.image(a.pathToImages+f,0,0,e,e),AmCharts.setCN(a,n,"zoom-out-image"),b.push(n),n=n.getBBox(),l=n.width+5);void 0!==g&&(c=AmCharts.text(a.container,g,c,a.fontFamily,d,"start"),AmCharts.setCN(a,c,"zoom-out-label"),d=c.getBBox(),p=n?n.height/2-3:d.height/
2,c.translate(l,p),b.push(c));n=b.getBBox();c=1;AmCharts.isModern||(c=0);h=AmCharts.rect(a.container,n.width+2*m+5,n.height+2*m-2,h,1,1,h,c);h.setAttr("opacity",k);h.translate(-m,-m);AmCharts.setCN(a,h,"zoom-out-bg");b.push(h);h.toBack();a.zbBG=h;n=h.getBBox();b.translate(a.marginLeftReal+a.plotAreaWidth-n.width+m,a.marginTopReal+m);b.hide();b.mouseover(function(){a.rollOverZB()}).mouseout(function(){a.rollOutZB()}).click(function(){a.clickZB()}).touchstart(function(){a.rollOverZB()}).touchend(function(){a.rollOutZB();
a.clickZB()});for(k=0;k<b.length;k++)b[k].attr({cursor:"pointer"});a.zbSet=b},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0;this.zoom()},drawPlotArea:function(){var a=this.dx,b=this.dy,c=this.marginLeftReal,d=this.marginTopReal,e=this.plotAreaWidth-1,f=this.plotAreaHeight-1,g=this.plotAreaFillColors,h=this.plotAreaFillAlphas,
k=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;this.trendLinesSet.clipRect(c,d,e,f);"object"==typeof h&&(h=h[0]);g=AmCharts.polygon(this.container,[0,e,e,0,0],[0,0,f,f,0],g,h,1,k,l,this.plotAreaGradientAngle);AmCharts.setCN(this,g,"plot-area");g.translate(c+a,d+b);this.set.push(g);0!==a&&0!==b&&(g=this.plotAreaFillColors,"object"==typeof g&&(g=g[0]),g=AmCharts.adjustLuminosity(g,-.15),e=AmCharts.polygon(this.container,[0,a,e+a,e,0],[0,b,b,0,0],g,h,1,k,l),AmCharts.setCN(this,e,"plot-area-bottom"),
e.translate(c,d+f),this.set.push(e),a=AmCharts.polygon(this.container,[0,0,a,a,0],[0,f,f+b,b,0],g,h,1,k,l),AmCharts.setCN(this,a,"plot-area-left"),a.translate(c,d),this.set.push(a));(c=this.bbset)&&this.scrollbarOnly&&c.remove()},updatePlotArea:function(){var a=this.updateWidth(),b=this.updateHeight(),c=this.container;this.realWidth=a;this.realWidth=b;c&&this.container.setSize(a,b);a=a-this.marginLeftReal-this.marginRightReal-this.dx;b=b-this.marginTopReal-this.marginBottomReal;1>a&&(a=1);1>b&&(b=
1);this.plotAreaWidth=Math.round(a);this.plotAreaHeight=Math.round(b)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var a=this.getTitleHeight();this.titleHeight=a;this.marginTopReal=this.marginTop-this.dy+a;this.marginBottomReal=
this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){var a=this.valueAxes,b=this.marginLeftReal,c=this.marginTopReal,d=this.plotAreaHeight,e=this.plotAreaWidth,f;for(f=0;f<a.length;f++){var g=a[f];g.axisRenderer=AmCharts.RecAxis;g.guideFillRenderer=AmCharts.RecFill;g.axisItemRenderer=AmCharts.RecItem;g.dx=this.dx;g.dy=this.dy;g.viW=e-1;g.viH=d-1;g.marginsChanged=!0;g.viX=b;g.viY=c;this.updateObjectSize(g)}},updateObjectSize:function(a){a.width=
(this.plotAreaWidth-1)*this.widthMultiplier;a.height=(this.plotAreaHeight-1)*this.heightMultiplier;a.x=this.marginLeftReal+this.horizontalPosition;a.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var a=this.graphs,b;for(b=0;b<a.length;b++){var c=a[b];c.x=this.marginLeftReal+this.horizontalPosition;c.y=this.marginTopReal+this.verticalPosition;c.width=this.plotAreaWidth*this.widthMultiplier;c.height=this.plotAreaHeight*this.heightMultiplier;c.index=b;c.dx=this.dx;c.dy=this.dy;c.rotate=
this.rotate}},updateChartCursor:function(){var a=this.chartCursor;a&&(a=AmCharts.processObject(a,AmCharts.ChartCursor,this.theme),this.addChartCursor(a),a.x=this.marginLeftReal,a.y=this.marginTopReal,a.width=this.plotAreaWidth-1,a.height=this.plotAreaHeight-1,a.chart=this)},processScrollbars:function(){var a=this.chartScrollbar;a&&(a=AmCharts.processObject(a,AmCharts.ChartScrollbar,this.theme),this.addChartScrollbar(a))},updateScrollbars:function(){},addChartCursor:function(a){AmCharts.callMethod("destroy",
[this.chartCursor]);a&&(this.listenTo(a,"changed",this.handleCursorChange),this.listenTo(a,"zoomed",this.handleCursorZoom));this.chartCursor=a},removeChartCursor:function(){AmCharts.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){var a=this.trendLines,b;for(b=0;b<a.length;b++){var c=a[b];c.valueAxis.recalculateToPercents?c.set&&c.set.hide():(c.x=this.marginLeftReal+this.horizontalPosition,c.y=this.marginTopReal+this.verticalPosition,c.draw())}},addTrendLine:function(a){this.trendLines.push(a)},
removeTrendLine:function(a){var b=this.trendLines,c;for(c=b.length-1;0<=c;c--)b[c]==a&&b.splice(c,1)},adjustMargins:function(a,b){var c=a.scrollbarHeight+a.offset;"top"==a.position?b?this.marginLeftReal+=c:this.marginTopReal+=c:b?this.marginRightReal+=c:this.marginBottomReal+=c},getScrollbarPosition:function(a,b,c){a.position=b?"bottom"==c||"left"==c?"bottom":"top":"top"==c||"right"==c?"bottom":"top"},updateChartScrollbar:function(a,b){if(a){a.rotate=b;var c=this.marginTopReal,d=this.marginLeftReal,
e=a.scrollbarHeight,f=this.dx,g=this.dy,h=a.offset;"top"==a.position?b?(a.y=c,a.x=d-e-h):(a.y=c-e+g-1-h,a.x=d+f):b?(a.y=c+g,a.x=d+this.plotAreaWidth+f+h):(a.y=c+this.plotAreaHeight+h,a.x=this.marginLeftReal)}},showZB:function(a){var b=this.zbSet;b&&(a?b.show():b.hide(),this.rollOutZB())},handleReleaseOutside:function(a){AmCharts.AmRectangularChart.base.handleReleaseOutside.call(this,a);(a=this.chartCursor)&&a.handleReleaseOutside()},handleMouseDown:function(a){AmCharts.AmRectangularChart.base.handleMouseDown.call(this,
a);var b=this.chartCursor;b&&b.handleMouseDown(a)},handleCursorChange:function(a){}});AmCharts.TrendLine=AmCharts.Class({construct:function(a){this.cname="TrendLine";this.createEvents("click");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1;AmCharts.applyTheme(this,a,this.cname)},draw:function(){var a=this;a.destroy();var b=a.chart,c=b.container,d,e,f,g,h=a.categoryAxis,k=a.initialDate,l=a.initialCategory,m=a.finalDate,n=a.finalCategory,p=a.valueAxis,r=a.valueAxisX,q=a.initialXValue,u=a.finalXValue,z=a.initialValue,x=a.finalValue,
t=p.recalculateToPercents,w=b.dataDateFormat;h&&(k&&(k instanceof Date||(k=w?AmCharts.stringToDate(k,w):new Date(k)),a.initialDate=k,d=h.dateToCoordinate(k)),l&&(d=h.categoryToCoordinate(l)),m&&(m instanceof Date||(m=w?AmCharts.stringToDate(m,w):new Date(m)),a.finalDate=m,e=h.dateToCoordinate(m)),n&&(e=h.categoryToCoordinate(n)));r&&!t&&(isNaN(q)||(d=r.getCoordinate(q)),isNaN(u)||(e=r.getCoordinate(u)));p&&!t&&(isNaN(z)||(f=p.getCoordinate(z)),isNaN(x)||(g=p.getCoordinate(x)));isNaN(d)||isNaN(e)||
isNaN(f)||isNaN(f)||(b.rotate?(h=[f,g],e=[d,e]):(h=[d,e],e=[f,g]),f=a.lineColor,d=AmCharts.line(c,h,e,f,a.lineAlpha,a.lineThickness,a.dashLength),g=h,k=e,n=h[1]-h[0],p=e[1]-e[0],0===n&&(n=.01),0===p&&(p=.01),l=n/Math.abs(n),m=p/Math.abs(p),p=n*p/Math.abs(n*p)*Math.sqrt(Math.pow(n,2)+Math.pow(p,2)),n=Math.asin(n/p),p=90*Math.PI/180-n,n=Math.abs(5*Math.cos(p)),p=Math.abs(5*Math.sin(p)),g.push(h[1]-l*p,h[0]-l*p),k.push(e[1]+m*n,e[0]+m*n),h=AmCharts.polygon(c,g,k,f,.005,0),c=c.set([h,d]),c.translate(b.marginLeftReal,
b.marginTopReal),b.trendLinesSet.push(c),AmCharts.setCN(b,d,"trend-line"),AmCharts.setCN(b,d,"trend-line-"+a.id),a.line=d,a.set=c,h.mouseup(function(){a.handleLineClick()}).mouseover(function(){a.handleLineOver()}).mouseout(function(){a.handleLineOut()}),h.touchend&&h.touchend(function(){a.handleLineClick()}))},handleLineClick:function(){var a={type:"click",trendLine:this,chart:this.chart};this.fire(a.type,a)},handleLineOver:function(){var a=this.rollOverColor;void 0!==a&&this.line.attr({stroke:a})},
handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){AmCharts.remove(this.set)}});AmCharts.circle=function(a,b,c,d,e,f,g,h,k){if(void 0==e||0===e)e=.01;void 0===f&&(f="#000000");void 0===g&&(g=0);d={fill:c,stroke:f,"fill-opacity":d,"stroke-width":e,"stroke-opacity":g};a=isNaN(k)?a.circle(0,0,b).attr(d):a.ellipse(0,0,b,k).attr(d);h&&a.gradient("radialGradient",[c,AmCharts.adjustLuminosity(c,-.6)]);return a};
AmCharts.text=function(a,b,c,d,e,f,g,h){f||(f="middle");"right"==f&&(f="end");"left"==f&&(f="start");isNaN(h)&&(h=1);void 0!==b&&(b=String(b),AmCharts.isIE&&!AmCharts.isModern&&(b=b.replace("&amp;","&"),b=b.replace("&","&amp;")));c={fill:c,"font-family":d,"font-size":e,opacity:h};!0===g&&(c["font-weight"]="bold");c["text-anchor"]=f;return a.text(b,c)};
AmCharts.polygon=function(a,b,c,d,e,f,g,h,k,l,m){isNaN(f)&&(f=.01);isNaN(h)&&(h=e);var n=d,p=!1;"object"==typeof n&&1<n.length&&(p=!0,n=n[0]);void 0===g&&(g=n);e={fill:n,stroke:g,"fill-opacity":e,"stroke-width":f,"stroke-opacity":h};void 0!==m&&0<m&&(e["stroke-dasharray"]=m);m=AmCharts.dx;f=AmCharts.dy;a.handDrawn&&(c=AmCharts.makeHD(b,c,a.handDrawScatter),b=c[0],c=c[1]);g=Math.round;l&&(g=AmCharts.doNothing);l="M"+(g(b[0])+m)+","+(g(c[0])+f);for(h=1;h<b.length;h++)l+=" L"+(g(b[h])+m)+","+(g(c[h])+
f);a=a.path(l+" Z").attr(e);p&&a.gradient("linearGradient",d,k);return a};
AmCharts.rect=function(a,b,c,d,e,f,g,h,k,l,m){isNaN(f)&&(f=0);void 0===k&&(k=0);void 0===l&&(l=270);isNaN(e)&&(e=0);var n=d,p=!1;"object"==typeof n&&(n=n[0],p=!0);void 0===g&&(g=n);void 0===h&&(h=e);b=Math.round(b);c=Math.round(c);var r=0,q=0;0>b&&(b=Math.abs(b),r=-b);0>c&&(c=Math.abs(c),q=-c);r+=AmCharts.dx;q+=AmCharts.dy;e={fill:n,stroke:g,"fill-opacity":e,"stroke-opacity":h};void 0!==m&&0<m&&(e["stroke-dasharray"]=m);a=a.rect(r,q,b,c,k,f).attr(e);p&&a.gradient("linearGradient",d,l);return a};
AmCharts.bullet=function(a,b,c,d,e,f,g,h,k,l,m){var n;"circle"==b&&(b="round");switch(b){case "round":n=AmCharts.circle(a,c/2,d,e,f,g,h);break;case "square":n=AmCharts.polygon(a,[-c/2,c/2,c/2,-c/2],[c/2,c/2,-c/2,-c/2],d,e,f,g,h,l-180);break;case "rectangle":n=AmCharts.polygon(a,[-c,c,c,-c],[c/2,c/2,-c/2,-c/2],d,e,f,g,h,l-180);break;case "diamond":n=AmCharts.polygon(a,[-c/2,0,c/2,0],[0,-c/2,0,c/2],d,e,f,g,h);break;case "triangleUp":n=AmCharts.triangle(a,c,0,d,e,f,g,h);break;case "triangleDown":n=AmCharts.triangle(a,
c,180,d,e,f,g,h);break;case "triangleLeft":n=AmCharts.triangle(a,c,270,d,e,f,g,h);break;case "triangleRight":n=AmCharts.triangle(a,c,90,d,e,f,g,h);break;case "bubble":n=AmCharts.circle(a,c/2,d,e,f,g,h,!0);break;case "line":n=AmCharts.line(a,[-c/2,c/2],[0,0],d,e,f,g,h);break;case "yError":n=a.set();n.push(AmCharts.line(a,[0,0],[-c/2,c/2],d,e,f));n.push(AmCharts.line(a,[-k,k],[-c/2,-c/2],d,e,f));n.push(AmCharts.line(a,[-k,k],[c/2,c/2],d,e,f));break;case "xError":n=a.set(),n.push(AmCharts.line(a,[-c/
2,c/2],[0,0],d,e,f)),n.push(AmCharts.line(a,[-c/2,-c/2],[-k,k],d,e,f)),n.push(AmCharts.line(a,[c/2,c/2],[-k,k],d,e,f))}n&&n.pattern(m);return n};
AmCharts.triangle=function(a,b,c,d,e,f,g,h){if(void 0===f||0===f)f=1;void 0===g&&(g="#000");void 0===h&&(h=0);d={fill:d,stroke:g,"fill-opacity":e,"stroke-width":f,"stroke-opacity":h};b/=2;var k;0===c&&(k=" M"+-b+","+b+" L0,"+-b+" L"+b+","+b+" Z");180==c&&(k=" M"+-b+","+-b+" L0,"+b+" L"+b+","+-b+" Z");90==c&&(k=" M"+-b+","+-b+" L"+b+",0 L"+-b+","+b+" Z");270==c&&(k=" M"+-b+",0 L"+b+","+b+" L"+b+","+-b+" Z");return a.path(k).attr(d)};
AmCharts.line=function(a,b,c,d,e,f,g,h,k,l,m){if(a.handDrawn&&!m)return AmCharts.handDrawnLine(a,b,c,d,e,f,g,h,k,l,m);f={fill:"none","stroke-width":f};void 0!==g&&0<g&&(f["stroke-dasharray"]=g);isNaN(e)||(f["stroke-opacity"]=e);d&&(f.stroke=d);d=Math.round;l&&(d=AmCharts.doNothing);l=AmCharts.dx;e=AmCharts.dy;g="M"+(d(b[0])+l)+","+(d(c[0])+e);for(h=1;h<b.length;h++)g+=" L"+(d(b[h])+l)+","+(d(c[h])+e);if(AmCharts.VML)return a.path(g,void 0,!0).attr(f);k&&(g+=" M0,0 L0,0");return a.path(g).attr(f)};
AmCharts.makeHD=function(a,b,c){for(var d=[],e=[],f=1;f<a.length;f++)for(var g=Number(a[f-1]),h=Number(b[f-1]),k=Number(a[f]),l=Number(b[f]),m=Math.sqrt(Math.pow(k-g,2)+Math.pow(l-h,2)),m=Math.round(m/50)+1,k=(k-g)/m,l=(l-h)/m,n=0;n<=m;n++){var p=g+n*k+Math.random()*c,r=h+n*l+Math.random()*c;d.push(p);e.push(r)}return[d,e]};
AmCharts.handDrawnLine=function(a,b,c,d,e,f,g,h,k,l,m){var n=a.set();for(m=1;m<b.length;m++)for(var p=[b[m-1],b[m]],r=[c[m-1],c[m]],r=AmCharts.makeHD(p,r,a.handDrawScatter),p=r[0],r=r[1],q=1;q<p.length;q++)n.push(AmCharts.line(a,[p[q-1],p[q]],[r[q-1],r[q]],d,e,f+Math.random()*a.handDrawThickness-a.handDrawThickness/2,g,h,k,l,!0));return n};AmCharts.doNothing=function(a){return a};
AmCharts.wedge=function(a,b,c,d,e,f,g,h,k,l,m,n){var p=Math.round;f=p(f);g=p(g);h=p(h);var r=p(g/f*h),q=AmCharts.VML,u=359.5+f/100;359.94<u&&(u=359.94);e>=u&&(e=u);var z=1/180*Math.PI,u=b+Math.sin(d*z)*h,x=c-Math.cos(d*z)*r,t=b+Math.sin(d*z)*f,w=c-Math.cos(d*z)*g,y=b+Math.sin((d+e)*z)*f,A=c-Math.cos((d+e)*z)*g,C=b+Math.sin((d+e)*z)*h,z=c-Math.cos((d+e)*z)*r,B={fill:AmCharts.adjustLuminosity(l.fill,-.2),"stroke-opacity":0,"fill-opacity":l["fill-opacity"]},H=0;180<Math.abs(e)&&(H=1);d=a.set();var D;
q&&(u=p(10*u),t=p(10*t),y=p(10*y),C=p(10*C),x=p(10*x),w=p(10*w),A=p(10*A),z=p(10*z),b=p(10*b),k=p(10*k),c=p(10*c),f*=10,g*=10,h*=10,r*=10,1>Math.abs(e)&&1>=Math.abs(y-t)&&1>=Math.abs(A-w)&&(D=!0));e="";var I;n&&(B["fill-opacity"]=0,B["stroke-opacity"]=l["stroke-opacity"]/2,B.stroke=l.stroke);0<k&&(I=" M"+u+","+(x+k)+" L"+t+","+(w+k),q?(D||(I+=" A"+(b-f)+","+(k+c-g)+","+(b+f)+","+(k+c+g)+","+t+","+(w+k)+","+y+","+(A+k)),I+=" L"+C+","+(z+k),0<h&&(D||(I+=" B"+(b-h)+","+(k+c-r)+","+(b+h)+","+(k+c+r)+
","+C+","+(k+z)+","+u+","+(k+x)))):(I+=" A"+f+","+g+",0,"+H+",1,"+y+","+(A+k)+" L"+C+","+(z+k),0<h&&(I+=" A"+h+","+r+",0,"+H+",0,"+u+","+(x+k))),I=a.path(I+" Z",void 0,void 0,"1000,1000").attr(B),d.push(I),I=a.path(" M"+u+","+x+" L"+u+","+(x+k)+" L"+t+","+(w+k)+" L"+t+","+w+" L"+u+","+x+" Z",void 0,void 0,"1000,1000").attr(B),k=a.path(" M"+y+","+A+" L"+y+","+(A+k)+" L"+C+","+(z+k)+" L"+C+","+z+" L"+y+","+A+" Z",void 0,void 0,"1000,1000").attr(B),d.push(I),d.push(k));q?(D||(e=" A"+p(b-f)+","+p(c-g)+
","+p(b+f)+","+p(c+g)+","+p(t)+","+p(w)+","+p(y)+","+p(A)),f=" M"+p(u)+","+p(x)+" L"+p(t)+","+p(w)+e+" L"+p(C)+","+p(z)):f=" M"+u+","+x+" L"+t+","+w+(" A"+f+","+g+",0,"+H+",1,"+y+","+A)+" L"+C+","+z;0<h&&(q?D||(f+=" B"+(b-h)+","+(c-r)+","+(b+h)+","+(c+r)+","+C+","+z+","+u+","+x):f+=" A"+h+","+r+",0,"+H+",0,"+u+","+x);a.handDrawn&&(b=AmCharts.line(a,[u,t],[x,w],l.stroke,l.thickness*Math.random()*a.handDrawThickness,l["stroke-opacity"]),d.push(b));a=a.path(f+" Z",void 0,void 0,"1000,1000").attr(l);
if(m){b=[];for(c=0;c<m.length;c++)b.push(AmCharts.adjustLuminosity(l.fill,m[c]));0<b.length&&a.gradient("linearGradient",b)}a.pattern(n);d.wedge=a;d.push(a);return d};AmCharts.adjustLuminosity=function(a,b){a=String(a).replace(/[^0-9a-f]/gi,"");6>a.length&&(a=String(a[0])+String(a[0])+String(a[1])+String(a[1])+String(a[2])+String(a[2]));b=b||0;var c="#",d,e;for(e=0;3>e;e++)d=parseInt(a.substr(2*e,2),16),d=Math.round(Math.min(Math.max(0,d+d*b),255)).toString(16),c+=("00"+d).substr(d.length);return c};AmCharts.Bezier=AmCharts.Class({construct:function(a,b,c,d,e,f,g,h,k,l){"object"==typeof g&&(g=g[0]);"object"==typeof h&&(h=h[0]);f={fill:g,"fill-opacity":h,"stroke-width":f};void 0!==k&&0<k&&(f["stroke-dasharray"]=k);isNaN(e)||(f["stroke-opacity"]=e);d&&(f.stroke=d);d="M"+Math.round(b[0])+","+Math.round(c[0]);e=[];for(k=0;k<b.length;k++)e.push({x:Number(b[k]),y:Number(c[k])});1<e.length&&(b=this.interpolate(e),d+=this.drawBeziers(b));l?d+=l:AmCharts.VML||(d+="M0,0 L0,0");this.path=a.path(d).attr(f);
this.node=this.path.node},interpolate:function(a){var b=[];b.push({x:a[0].x,y:a[0].y});var c=a[1].x-a[0].x,d=a[1].y-a[0].y,e=AmCharts.bezierX,f=AmCharts.bezierY;b.push({x:a[0].x+c/e,y:a[0].y+d/f});var g;for(g=1;g<a.length-1;g++){var h=a[g-1],k=a[g],d=a[g+1];isNaN(d.x)&&(d=k);isNaN(k.x)&&(k=h);isNaN(h.x)&&(h=k);c=d.x-k.x;d=d.y-h.y;h=k.x-h.x;h>c&&(h=c);b.push({x:k.x-h/e,y:k.y-d/f});b.push({x:k.x,y:k.y});b.push({x:k.x+h/e,y:k.y+d/f})}d=a[a.length-1].y-a[a.length-2].y;c=a[a.length-1].x-a[a.length-2].x;
b.push({x:a[a.length-1].x-c/e,y:a[a.length-1].y-d/f});b.push({x:a[a.length-1].x,y:a[a.length-1].y});return b},drawBeziers:function(a){var b="",c;for(c=0;c<(a.length-1)/3;c++)b+=this.drawBezierMidpoint(a[3*c],a[3*c+1],a[3*c+2],a[3*c+3]);return b},drawBezierMidpoint:function(a,b,c,d){var e=Math.round,f=this.getPointOnSegment(a,b,.75),g=this.getPointOnSegment(d,c,.75),h=(d.x-a.x)/16,k=(d.y-a.y)/16,l=this.getPointOnSegment(a,b,.375);a=this.getPointOnSegment(f,g,.375);a.x-=h;a.y-=k;b=this.getPointOnSegment(g,
f,.375);b.x+=h;b.y+=k;c=this.getPointOnSegment(d,c,.375);h=this.getMiddle(l,a);f=this.getMiddle(f,g);g=this.getMiddle(b,c);l=" Q"+e(l.x)+","+e(l.y)+","+e(h.x)+","+e(h.y);l+=" Q"+e(a.x)+","+e(a.y)+","+e(f.x)+","+e(f.y);l+=" Q"+e(b.x)+","+e(b.y)+","+e(g.x)+","+e(g.y);return l+=" Q"+e(c.x)+","+e(c.y)+","+e(d.x)+","+e(d.y)},getMiddle:function(a,b){return{x:(a.x+b.x)/2,y:(a.y+b.y)/2}},getPointOnSegment:function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}}});AmCharts.AmDraw=AmCharts.Class({construct:function(a,b,c,d){AmCharts.SVG_NS="http://www.w3.org/2000/svg";AmCharts.SVG_XLINK="http://www.w3.org/1999/xlink";AmCharts.hasSVG=!!document.createElementNS&&!!document.createElementNS(AmCharts.SVG_NS,"svg").createSVGRect;1>b&&(b=10);1>c&&(c=10);this.div=a;this.width=b;this.height=c;this.rBin=document.createElement("div");if(AmCharts.hasSVG){AmCharts.SVG=!0;var e=this.createSvgElement("svg");e.style.position="absolute";e.style.width=b+"px";e.style.height=c+
"px";b=this.createSvgElement("desc");b.appendChild(document.createTextNode("JavaScript chart by amCharts "+d.version));e.appendChild(b);AmCharts.rtl&&(e.setAttribute("direction","rtl"),e.style.left="auto",e.style.right="0px");e.setAttribute("version","1.1");a.appendChild(e);this.container=e;this.R=new AmCharts.SVGRenderer(this)}else AmCharts.isIE&&AmCharts.VMLRenderer&&(AmCharts.VML=!0,AmCharts.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?
(e=document.createStyleSheet(),e.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),AmCharts.vmlStyleSheet=e):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=a,this.R=new AmCharts.VMLRenderer(this,d),this.R.disableSelection(a))},createSvgElement:function(a){return document.createElementNS(AmCharts.SVG_NS,a)},circle:function(a,b,c,d){var e=new AmCharts.AmDObject("circle",this);e.attr({r:c,
cx:a,cy:b});this.addToContainer(e.node,d);return e},ellipse:function(a,b,c,d,e){var f=new AmCharts.AmDObject("ellipse",this);f.attr({rx:c,ry:d,cx:a,cy:b});this.addToContainer(f.node,e);return f},setSize:function(a,b){0<a&&0<b&&(this.container.style.width=a+"px",this.container.style.height=b+"px")},rect:function(a,b,c,d,e,f,g){var h=new AmCharts.AmDObject("rect",this);AmCharts.VML&&(e=Math.round(100*e/Math.min(c,d)),c+=2*f,d+=2*f,h.bw=f,h.node.style.marginLeft=-f,h.node.style.marginTop=-f);1>c&&(c=
1);1>d&&(d=1);h.attr({x:a,y:b,width:c,height:d,rx:e,ry:e,"stroke-width":f});this.addToContainer(h.node,g);return h},image:function(a,b,c,d,e,f){var g=new AmCharts.AmDObject("image",this);g.attr({x:b,y:c,width:d,height:e});this.R.path(g,a);this.addToContainer(g.node,f);return g},addToContainer:function(a,b){b||(b=this.container);b.appendChild(a)},text:function(a,b,c){return this.R.text(a,b,c)},path:function(a,b,c,d){var e=new AmCharts.AmDObject("path",this);d||(d="100,100");e.attr({cs:d});c?e.attr({dd:a}):
e.attr({d:a});this.addToContainer(e.node,b);return e},set:function(a){return this.R.set(a)},remove:function(a){if(a){var b=this.rBin;b.appendChild(a);b.innerHTML=""}},renderFix:function(){var a=this.container,b=a.style,c;try{c=a.getScreenCTM()||a.createSVGMatrix()}catch(d){c=a.createSVGMatrix()}a=1-c.e%1;c=1-c.f%1;.5<a&&--a;.5<c&&--c;a&&(b.left=a+"px");c&&(b.top=c+"px")},update:function(){this.R.update()}});AmCharts.AmDObject=AmCharts.Class({construct:function(a,b){this.D=b;this.R=b.R;this.node=this.R.create(this,a);this.y=this.x=0;this.scale=1},attr:function(a){this.R.attr(this,a);return this},getAttr:function(a){return this.node.getAttribute(a)},setAttr:function(a,b){this.R.setAttr(this,a,b);return this},clipRect:function(a,b,c,d){this.R.clipRect(this,a,b,c,d)},translate:function(a,b,c,d){d||(a=Math.round(a),b=Math.round(b));this.R.move(this,a,b,c);this.x=a;this.y=b;this.scale=c;this.angle&&this.rotate(this.angle)},
rotate:function(a,b){this.R.rotate(this,a,b);this.angle=a},animate:function(a,b,c){for(var d in a)if(a.hasOwnProperty(d)){var e=d,f=a[d];c=AmCharts.getEffect(c);this.R.animate(this,e,f,b,c)}},push:function(a){if(a){var b=this.node;b.appendChild(a.node);var c=a.clipPath;c&&b.appendChild(c);(a=a.grad)&&b.appendChild(a)}},text:function(a){this.R.setText(this,a)},remove:function(){this.R.remove(this)},clear:function(){var a=this.node;if(a.hasChildNodes())for(;1<=a.childNodes.length;)a.removeChild(a.firstChild)},
hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var a=this.node;if(a){this.prevNextNode=a.nextSibling;var b=a.parentNode;b&&b.appendChild(a)}},toPrevious:function(){var a=this.node;a&&this.prevNextNode&&(a=a.parentNode)&&a.insertBefore(this.prevNextNode,null)},toBack:function(){var a=this.node;if(a){this.prevNextNode=a.nextSibling;var b=a.parentNode;if(b){var c=b.firstChild;
c&&b.insertBefore(a,c)}}},mouseover:function(a){this.R.addListener(this,"mouseover",a);return this},mouseout:function(a){this.R.addListener(this,"mouseout",a);return this},click:function(a){this.R.addListener(this,"click",a);return this},dblclick:function(a){this.R.addListener(this,"dblclick",a);return this},mousedown:function(a){this.R.addListener(this,"mousedown",a);return this},mouseup:function(a){this.R.addListener(this,"mouseup",a);return this},touchstart:function(a){this.R.addListener(this,
"touchstart",a);return this},touchend:function(a){this.R.addListener(this,"touchend",a);return this},contextmenu:function(a){this.node.addEventListener?this.node.addEventListener("contextmenu",a,!0):this.R.addListener(this,"contextmenu",a);return this},stop:function(a){AmCharts.removeFromArray(this.R.animations,this.an_x);AmCharts.removeFromArray(this.R.animations,this.an_y)},length:function(){return this.node.childNodes.length},gradient:function(a,b,c){this.R.gradient(this,a,b,c)},pattern:function(a,
b){a&&this.R.pattern(this,a,b)}});AmCharts.VMLRenderer=AmCharts.Class({construct:function(a,b){this.chart=b;this.D=a;this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"};this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(a,b){var c;if("group"==b)c=document.createElement("div"),a.type="div";else if("text"==b)c=document.createElement("div"),a.type="text";else if("image"==b)c=document.createElement("img"),a.type=
"image";else{a.type="shape";a.shapeType=this.cNames[b];c=document.createElement("amvml:"+this.cNames[b]);var d=document.createElement("amvml:stroke");c.appendChild(d);a.stroke=d;var e=document.createElement("amvml:fill");c.appendChild(e);a.fill=e;e.className="amvml";d.className="amvml";c.className="amvml"}c.style.position="absolute";c.style.top=0;c.style.left=0;return c},path:function(a,b){a.node.setAttribute("src",b)},setAttr:function(a,b,c){if(void 0!==c){var d;8===document.documentMode&&(d=!0);
var e=a.node,f=a.type,g=e.style;"r"==b&&(g.width=2*c,g.height=2*c);"oval"==a.shapeType&&("rx"==b&&(g.width=2*c),"ry"==b&&(g.height=2*c));"roundrect"==a.shapeType&&("width"!=b&&"height"!=b||--c);"cursor"==b&&(g.cursor=c);"cx"==b&&(g.left=c-AmCharts.removePx(g.width)/2);"cy"==b&&(g.top=c-AmCharts.removePx(g.height)/2);var h=this.styleMap[b];void 0!==h&&(g[h]=c);"text"==f&&("text-anchor"==b&&(a.anchor=c,h=e.clientWidth,"end"==c&&(g.marginLeft=-h+"px"),"middle"==c&&(g.marginLeft=-(h/2)+"px",g.textAlign=
"center"),"start"==c&&(g.marginLeft="0px")),"fill"==b&&(g.color=c),"font-weight"==b&&(g.fontWeight=c));if(g=a.children)for(h=0;h<g.length;h++)g[h].setAttr(b,c);if("shape"==f){"cs"==b&&(e.style.width="100px",e.style.height="100px",e.setAttribute("coordsize",c));"d"==b&&e.setAttribute("path",this.svgPathToVml(c));"dd"==b&&e.setAttribute("path",c);f=a.stroke;a=a.fill;"stroke"==b&&(d?f.color=c:f.setAttribute("color",c));"stroke-width"==b&&(d?f.weight=c:f.setAttribute("weight",c));"stroke-opacity"==b&&
(d?f.opacity=c:f.setAttribute("opacity",c));"stroke-dasharray"==b&&(g="solid",0<c&&3>c&&(g="dot"),3<=c&&6>=c&&(g="dash"),6<c&&(g="longdash"),d?f.dashstyle=g:f.setAttribute("dashstyle",g));if("fill-opacity"==b||"opacity"==b)0===c?d?a.on=!1:a.setAttribute("on",!1):d?a.opacity=c:a.setAttribute("opacity",c);"fill"==b&&(d?a.color=c:a.setAttribute("color",c));"rx"==b&&(d?e.arcSize=c+"%":e.setAttribute("arcsize",c+"%"))}}},attr:function(a,b){for(var c in b)b.hasOwnProperty(c)&&this.setAttr(a,c,b[c])},text:function(a,
b,c){var d=new AmCharts.AmDObject("text",this.D),e=d.node;e.style.whiteSpace="pre";e.innerHTML=a;this.D.addToContainer(e,c);this.attr(d,b);return d},getBBox:function(a){return this.getBox(a.node)},getBox:function(a){var b=a.offsetLeft,c=a.offsetTop,d=a.offsetWidth,e=a.offsetHeight,f;if(a.hasChildNodes()){var g,h,k;for(k=0;k<a.childNodes.length;k++){f=this.getBox(a.childNodes[k]);var l=f.x;isNaN(l)||(isNaN(g)?g=l:l<g&&(g=l));var m=f.y;isNaN(m)||(isNaN(h)?h=m:m<h&&(h=m));l=f.width+l;isNaN(l)||(d=Math.max(d,
l));f=f.height+m;isNaN(f)||(e=Math.max(e,f))}0>g&&(b+=g);0>h&&(c+=h)}return{x:b,y:c,width:d,height:e}},setText:function(a,b){var c=a.node;c&&(c.innerHTML=b);this.setAttr(a,"text-anchor",a.anchor)},addListener:function(a,b,c){a.node["on"+b]=c},move:function(a,b,c){var d=a.node,e=d.style;"text"==a.type&&(c-=AmCharts.removePx(e.fontSize)/2-1);"oval"==a.shapeType&&(b-=AmCharts.removePx(e.width)/2,c-=AmCharts.removePx(e.height)/2);a=a.bw;isNaN(a)||(b-=a,c-=a);isNaN(b)||isNaN(c)||(d.style.left=b+"px",d.style.top=
c+"px")},svgPathToVml:function(a){var b=a.split(" ");a="";var c,d=Math.round,e;for(e=0;e<b.length;e++){var f=b[e],g=f.substring(0,1),f=f.substring(1),h=f.split(","),k=d(h[0])+","+d(h[1]);"M"==g&&(a+=" m "+k);"L"==g&&(a+=" l "+k);"Z"==g&&(a+=" x e");if("Q"==g){var l=c.length,m=c[l-1],n=h[0],p=h[1],k=h[2],r=h[3];c=d(c[l-2]/3+2/3*n);m=d(m/3+2/3*p);n=d(2/3*n+k/3);p=d(2/3*p+r/3);a+=" c "+c+","+m+","+n+","+p+","+k+","+r}"A"==g&&(a+=" wa "+f);"B"==g&&(a+=" at "+f);c=h}return a},animate:function(a,b,c,d,
e){var f=a.node,g=this.chart;if("translate"==b){b=c.split(",");c=b[1];var h=f.offsetTop;g.animate(a,"left",f.offsetLeft,b[0],d,e,"px");g.animate(a,"top",h,c,d,e,"px")}},clipRect:function(a,b,c,d,e){a=a.node;0===b&&0===c?(a.style.width=d+"px",a.style.height=e+"px",a.style.overflow="hidden"):a.style.clip="rect("+c+"px "+(b+d)+"px "+(c+e)+"px "+b+"px)"},rotate:function(a,b,c){if(0!==Number(b)){var d=a.node;a=d.style;c||(c=this.getBGColor(d.parentNode));a.backgroundColor=c;a.paddingLeft=1;c=b*Math.PI/
180;var e=Math.cos(c),f=Math.sin(c),g=AmCharts.removePx(a.left),h=AmCharts.removePx(a.top),k=d.offsetWidth,d=d.offsetHeight;b/=Math.abs(b);a.left=g+k/2-k/2*Math.cos(c)-b*d/2*Math.sin(c)+3;a.top=h-b*k/2*Math.sin(c)+b*d/2*Math.sin(c);a.cssText=a.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+e+"', M12='"+-f+"', M21='"+f+"', M22='"+e+"', sizingmethod='auto expand');"}},getBGColor:function(a){var b="#FFFFFF";if(a.style){var c=a.style.backgroundColor;""!==c?b=c:a.parentNode&&(b=this.getBGColor(a.parentNode))}return b},
set:function(a){var b=new AmCharts.AmDObject("group",this.D);this.D.container.appendChild(b.node);if(a){var c;for(c=0;c<a.length;c++)b.push(a[c])}return b},gradient:function(a,b,c,d){var e="";"radialGradient"==b&&(b="gradientradial",c.reverse());"linearGradient"==b&&(b="gradient");var f;for(f=0;f<c.length;f++){var g=Math.round(100*f/(c.length-1)),e=e+(g+"% "+c[f]);f<c.length-1&&(e+=",")}a=a.fill;90==d?d=0:270==d?d=180:180==d?d=90:0===d&&(d=270);8===document.documentMode?(a.type=b,a.angle=d):(a.setAttribute("type",
b),a.setAttribute("angle",d));e&&(a.colors.value=e)},remove:function(a){a.clipPath&&this.D.remove(a.clipPath);this.D.remove(a.node)},disableSelection:function(a){void 0!==typeof a.onselectstart&&(a.onselectstart=function(){return!1});a.style.cursor="default"},pattern:function(a,b){var c=a.node,d=a.fill,e="none";b.color&&(e=b.color);c.fillColor=e;8===document.documentMode?(d.type="tile",d.src=b.url):(d.setAttribute("type","tile"),d.setAttribute("src",b.url))},update:function(){}});AmCharts.SVGRenderer=AmCharts.Class({construct:function(a){this.D=a;this.animations=[]},create:function(a,b){return document.createElementNS(AmCharts.SVG_NS,b)},attr:function(a,b){for(var c in b)b.hasOwnProperty(c)&&this.setAttr(a,c,b[c])},setAttr:function(a,b,c){void 0!==c&&a.node.setAttribute(b,c)},animate:function(a,b,c,d,e){var f=a.node;a["an_"+b]&&AmCharts.removeFromArray(this.animations,a["an_"+b]);"translate"==b?(f=(f=f.getAttribute("transform"))?String(f).substring(10,f.length-1):"0,0",f=
f.split(", ").join(" "),f=f.split(" ").join(","),0===f&&(f="0,0")):f=Number(f.getAttribute(b));c={obj:a,frame:0,attribute:b,from:f,to:c,time:d,effect:e};this.animations.push(c);a["an_"+b]=c},update:function(){var a,b=this.animations;for(a=b.length-1;0<=a;a--){var c=b[a],d=1E3*c.time/AmCharts.updateRate,e=c.frame+1,f=c.obj,g=c.attribute,h,k,l;e<=d?(c.frame++,"translate"==g?(h=c.from.split(","),g=Number(h[0]),h=Number(h[1]),isNaN(h)&&(h=0),k=c.to.split(","),l=Number(k[0]),k=Number(k[1]),l=0===l-g?l:
Math.round(AmCharts[c.effect](0,e,g,l-g,d)),c=0===k-h?k:Math.round(AmCharts[c.effect](0,e,h,k-h,d)),g="transform",c="translate("+l+","+c+")"):(k=Number(c.from),h=Number(c.to),l=h-k,c=AmCharts[c.effect](0,e,k,l,d),isNaN(c)&&(c=h),0===l&&this.animations.splice(a,1)),this.setAttr(f,g,c)):("translate"==g?(k=c.to.split(","),l=Number(k[0]),k=Number(k[1]),f.translate(l,k)):(h=Number(c.to),this.setAttr(f,g,h)),this.animations.splice(a,1))}},getBBox:function(a){if(a=a.node)try{return a.getBBox()}catch(b){}return{width:0,
height:0,x:0,y:0}},path:function(a,b){a.node.setAttributeNS(AmCharts.SVG_XLINK,"xlink:href",b)},clipRect:function(a,b,c,d,e){var f=a.node,g=a.clipPath;g&&this.D.remove(g);var h=f.parentNode;h&&(f=document.createElementNS(AmCharts.SVG_NS,"clipPath"),g=AmCharts.getUniqueId(),f.setAttribute("id",g),this.D.rect(b,c,d,e,0,0,f),h.appendChild(f),b="#",AmCharts.baseHref&&!AmCharts.isIE&&(b=this.removeTarget(window.location.href)+b),this.setAttr(a,"clip-path","url("+b+g+")"),this.clipPathC++,a.clipPath=f)},
text:function(a,b,c){var d=new AmCharts.AmDObject("text",this.D);a=String(a).split("\n");var e=b["font-size"],f;for(f=0;f<a.length;f++){var g=this.create(null,"tspan");g.appendChild(document.createTextNode(a[f]));g.setAttribute("y",(e+2)*f+Math.round(e/2));g.setAttribute("x",0);g.style.fontSize=e+"px";d.node.appendChild(g)}d.node.setAttribute("y",Math.round(e/2));this.attr(d,b);this.D.addToContainer(d.node,c);return d},setText:function(a,b){var c=a.node;c&&(c.removeChild(c.firstChild),c.appendChild(document.createTextNode(b)))},
move:function(a,b,c,d){isNaN(b)&&(b=0);isNaN(c)&&(c=0);b="translate("+b+","+c+")";d&&(b=b+" scale("+d+")");this.setAttr(a,"transform",b)},rotate:function(a,b){var c=a.node.getAttribute("transform"),d="rotate("+b+")";c&&(d=c+" "+d);this.setAttr(a,"transform",d)},set:function(a){var b=new AmCharts.AmDObject("g",this.D);this.D.container.appendChild(b.node);if(a){var c;for(c=0;c<a.length;c++)b.push(a[c])}return b},addListener:function(a,b,c){a.node["on"+b]=c},gradient:function(a,b,c,d){var e=a.node,f=
a.grad;f&&this.D.remove(f);b=document.createElementNS(AmCharts.SVG_NS,b);f=AmCharts.getUniqueId();b.setAttribute("id",f);if(!isNaN(d)){var g=0,h=0,k=0,l=0;90==d?k=100:270==d?l=100:180==d?g=100:0===d&&(h=100);b.setAttribute("x1",g+"%");b.setAttribute("x2",h+"%");b.setAttribute("y1",k+"%");b.setAttribute("y2",l+"%")}for(d=0;d<c.length;d++)g=document.createElementNS(AmCharts.SVG_NS,"stop"),h=100*d/(c.length-1),0===d&&(h=0),g.setAttribute("offset",h+"%"),g.setAttribute("stop-color",c[d]),b.appendChild(g);
e.parentNode.appendChild(b);c="#";AmCharts.baseHref&&!AmCharts.isIE&&(c=this.removeTarget(window.location.href)+c);e.setAttribute("fill","url("+c+f+")");a.grad=b},removeTarget:function(a){urlArr=a.split("#");return urlArr[0]},pattern:function(a,b,c){var d=a.node;isNaN(c)&&(c=1);var e=a.patternNode;e&&this.D.remove(e);var e=document.createElementNS(AmCharts.SVG_NS,"pattern"),f=AmCharts.getUniqueId(),g=b;b.url&&(g=b.url);var h=Number(b.width);isNaN(h)&&(h=4);var k=Number(b.height);isNaN(k)&&(k=4);h/=
c;k/=c;c=b.x;isNaN(c)&&(c=0);var l=-Math.random()*Number(b.randomX);isNaN(l)||(c=l);l=b.y;isNaN(l)&&(l=0);var m=-Math.random()*Number(b.randomY);isNaN(m)||(l=m);e.setAttribute("id",f);e.setAttribute("width",h);e.setAttribute("height",k);e.setAttribute("patternUnits","userSpaceOnUse");e.setAttribute("xlink:href",g);b.color&&(m=document.createElementNS(AmCharts.SVG_NS,"rect"),m.setAttributeNS(null,"height",h),m.setAttributeNS(null,"width",k),m.setAttributeNS(null,"fill",b.color),e.appendChild(m));this.D.image(g,
0,0,h,k,e).translate(c,l);g="#";AmCharts.baseHref&&!AmCharts.isIE&&(g=this.removeTarget(window.location.href)+g);d.setAttribute("fill","url("+g+f+")");a.patternNode=e;d.parentNode.appendChild(e)},remove:function(a){a.clipPath&&this.D.remove(a.clipPath);a.grad&&this.D.remove(a.grad);a.patternNode&&this.D.remove(a.patternNode);this.D.remove(a.node)}});AmCharts.AmDSet=AmCharts.Class({construct:function(a){this.create("g")},attr:function(a){this.R.attr(this.node,a)},move:function(a,b){this.R.move(this.node,a,b)}});AmCharts.AmLegend=AmCharts.Class({construct:function(a){this.cname="AmLegend";this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType="square";this.markerSize=16;this.markerBorderThickness=
this.markerBorderAlpha=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.dateFormat="DD-MM-YYYY";this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.useGraphSettings=
!1;this.showEntries=!0;AmCharts.applyTheme(this,a,this.cname)},setData:function(a){this.legendData=a;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];(AmCharts.ifArray(this.legendData)||AmCharts.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var a=this.chart,b=this.position,c=this.width,d=a.divRealWidth,e=a.divRealHeight,f=this.div,g=this.legendData;this.data&&(g=this.data);isNaN(this.fontSize)&&(this.fontSize=a.fontSize);if("right"==
b||"left"==b)this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=a.marginRight;this.marginLeft=a.marginLeft;var h=a.autoMarginOffset;"bottom"==b?(this.marginBottom=h,this.marginTop=0):(this.marginTop=h,this.marginBottom=0)}var k;void 0!==c?k=AmCharts.toCoordinate(c,d):"right"!=b&&"left"!=b&&(k=a.realWidth);"outside"==b?(k=f.offsetWidth,e=f.offsetHeight,f.clientHeight&&(k=f.clientWidth,e=f.clientHeight)):(isNaN(k)||(f.style.width=k+"px"),
f.className="amChartsLegend "+a.classNamePrefix+"-legend-div");this.divWidth=k;(b=this.container)?(b.container.innerHTML="",f.appendChild(b.container),b.setSize(k,e)):b=new AmCharts.AmDraw(f,k,e,a);this.container=b;this.lx=0;this.ly=8;e=this.markerSize;e>this.fontSize&&(this.ly=e/2-1);0<e&&(this.lx+=e+this.markerLabelGap);this.titleWidth=0;if(e=this.title)e=AmCharts.text(this.container,e,this.color,a.fontFamily,this.fontSize,"start",!0),AmCharts.setCN(a,e,"legend-title"),e.translate(this.marginLeft,
this.marginTop+this.verticalGap+this.ly+1),a=e.getBBox(),this.titleWidth=a.width+15,this.titleHeight=a.height+6;this.index=this.maxLabelWidth=0;if(this.showEntries){for(a=0;a<g.length;a++)this.createEntry(g[a]);for(a=this.index=0;a<g.length;a++)this.createValue(g[a])}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var a=this.position,b=this.marginLeft+this.titleWidth,c=this.marginRight,d=this.marginTop,e=this.marginBottom,f=this.horizontalGap,g=this.div,h=this.divWidth,k=this.maxColumns,
l=this.verticalGap,m=this.spacing,n=h-c-b,p=0,r=0,q=this.container;this.set&&this.set.remove();var u=q.set();this.set=u;var z=q.set();u.push(z);var x=this.entries,t,w;for(w=0;w<x.length;w++){t=x[w].getBBox();var y=t.width;y>p&&(p=y);t=t.height;t>r&&(r=t)}var y=r=0,A=f,C=0,B=0;for(w=0;w<x.length;w++){var H=x[w];this.reversedOrder&&(H=x[x.length-w-1]);t=H.getBBox();var D;this.equalWidths?D=f+y*(p+m+this.markerLabelGap):(D=A,A=A+t.width+f+m);t.height>B&&(B=t.height);D+t.width>n&&0<w&&0!==y&&(r++,y=0,
D=f,A=D+t.width+f+m,C=C+B+l,B=0);H.translate(D,C);y++;!isNaN(k)&&y>=k&&(y=0,r++,C=C+B+l,B=0);z.push(H)}t=z.getBBox();k=t.height+2*l-1;"left"==a||"right"==a?(h=t.width+2*f,g.style.width=h+b+c+"px"):h=h-b-c-1;c=AmCharts.polygon(this.container,[0,h,h,0],[0,0,k,k],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);AmCharts.setCN(this.chart,c,"legend-bg");u.push(c);u.translate(b,d);c.toBack();b=f;if("top"==a||"bottom"==a||"absolute"==a||"outside"==a)"center"==this.align?b=f+
(h-t.width)/2:"right"==this.align&&(b=f+h-t.width);z.translate(b,l+1);this.titleHeight>k&&(k=this.titleHeight);a=k+d+e+1;0>a&&(a=0);a>this.chart.divRealHeight&&(g.style.top="0px");g.style.height=Math.round(a)+"px";q.setSize(this.divWidth,a)},createEntry:function(a){if(!1!==a.visibleInLegend){var b=this.chart,c=a.markerType;a.legendEntryWidth=this.markerSize;c||(c=this.markerType);var d=a.color,e=a.alpha;a.legendKeyColor&&(d=a.legendKeyColor());a.legendKeyAlpha&&(e=a.legendKeyAlpha());var f;!0===a.hidden&&
(f=d=this.markerDisabledColor);var g=a.pattern,h=a.customMarker;h||(h=this.customMarker);var k=this.container,l=this.markerSize,m=0,n=0,p=l/2;if(this.useGraphSettings){c=a.type;this.switchType=void 0;if("line"==c||"step"==c||"smoothedLine"==c||"ohlc"==c)g=k.set(),a.hidden||(d=a.lineColorR,f=a.bulletBorderColorR),m=AmCharts.line(k,[0,2*l],[l/2,l/2],d,a.lineAlpha,a.lineThickness,a.dashLength),AmCharts.setCN(b,m,"graph-line"),g.push(m),a.bullet&&(a.hidden||(d=a.bulletColorR),m=AmCharts.bullet(k,a.bullet,
a.bulletSize,d,a.bulletAlpha,a.bulletBorderThickness,f,a.bulletBorderAlpha))&&(AmCharts.setCN(b,m,"graph-bullet"),m.translate(l+1,l/2),g.push(m)),p=0,m=l,n=l/3;else{var r;a.getGradRotation&&(r=a.getGradRotation());m=a.fillColorsR;!0===a.hidden&&(m=d);if(g=this.createMarker("rectangle",m,a.fillAlphas,a.lineThickness,d,a.lineAlpha,r,g))p=l,g.translate(p,l/2);m=l}AmCharts.setCN(b,g,"graph-"+c);AmCharts.setCN(b,g,"graph-"+a.id)}else h?(b.path&&(h=b.path+h),g=k.image(h,0,0,l,l)):(g=this.createMarker(c,
d,e,void 0,void 0,void 0,void 0,g))&&g.translate(l/2,l/2);AmCharts.setCN(b,g,"legend-marker");this.addListeners(g,a);k=k.set([g]);this.switchable&&a.switchable&&k.setAttr("cursor","pointer");void 0!=a.id&&AmCharts.setCN(b,k,"legend-item-"+a.id);AmCharts.setCN(b,k,a.className,!0);(f=this.switchType)&&"none"!=f&&("x"==f?(c=this.createX(),c.translate(l/2,l/2)):c=this.createV(),c.dItem=a,!0!==a.hidden?"x"==f?c.hide():c.show():"x"!=f&&c.hide(),this.switchable||c.hide(),this.addListeners(c,a),a.legendSwitch=
c,k.push(c),AmCharts.setCN(b,c,"legend-switch"));f=this.color;a.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(f=this.selectedColor);this.useMarkerColorForLabels&&(f=d);!0===a.hidden&&(f=this.markerDisabledColor);d=AmCharts.massReplace(this.labelText,{"[[title]]":a.title});c=this.fontSize;g&&(l<=c&&g.translate(p,l/2+this.ly-c/2+(c+2-l)/2-n),a.legendEntryWidth=g.getBBox().width);var q;d&&(d=AmCharts.fixBrakes(d),a.legendTextReal=d,q=this.labelWidth,q=isNaN(q)?AmCharts.text(this.container,
d,f,b.fontFamily,c,"start"):AmCharts.wrappedText(this.container,d,f,b.fontFamily,c,"start",!1,q,0),AmCharts.setCN(b,q,"legend-label"),q.translate(this.lx+m,this.ly),k.push(q),b=q.getBBox().width,this.maxLabelWidth<b&&(this.maxLabelWidth=b));this.entries[this.index]=k;a.legendEntry=this.entries[this.index];a.legendLabel=q;this.index++}},addListeners:function(a,b){var c=this;a&&a.mouseover(function(a){c.rollOverMarker(b,a)}).mouseout(function(a){c.rollOutMarker(b,a)}).click(function(a){c.clickMarker(b,
a)})},rollOverMarker:function(a,b){this.switchable&&this.dispatch("rollOverMarker",a,b);this.dispatch("rollOverItem",a,b)},rollOutMarker:function(a,b){this.switchable&&this.dispatch("rollOutMarker",a,b);this.dispatch("rollOutItem",a,b)},clickMarker:function(a,b){this.switchable&&(!0===a.hidden?this.dispatch("showItem",a,b):this.dispatch("hideItem",a,b));this.dispatch("clickMarker",a,b)},rollOverLabel:function(a,b){a.hidden||(this.textClickEnabled&&a.legendLabel&&a.legendLabel.attr({fill:this.rollOverColor}),
this.dispatch("rollOverItem",a,b))},rollOutLabel:function(a,b){if(!a.hidden){if(this.textClickEnabled&&a.legendLabel){var c=this.color;void 0!==this.selectedColor&&a.showBalloon&&(c=this.selectedColor);this.useMarkerColorForLabels&&(c=a.lineColor,void 0===c&&(c=a.color));a.legendLabel.attr({fill:c})}this.dispatch("rollOutItem",a,b)}},clickLabel:function(a,b){this.textClickEnabled?a.hidden||this.dispatch("clickLabel",a,b):this.switchable&&(!0===a.hidden?this.dispatch("showItem",a,b):this.dispatch("hideItem",
a,b))},dispatch:function(a,b,c){this.fire(a,{type:a,dataItem:b,target:this,event:c,chart:this.chart})},createValue:function(a){var b=this,c=b.fontSize,d=b.chart;if(!1!==a.visibleInLegend){var e=b.maxLabelWidth;b.equalWidths||(b.valueAlign="left");"left"==b.valueAlign&&(e=a.legendEntry.getBBox().width);var f=e;if(b.valueText&&0<b.valueWidth){var g=b.color;b.useMarkerColorForValues&&(g=a.color,a.legendKeyColor&&(g=a.legendKeyColor()));!0===a.hidden&&(g=b.markerDisabledColor);var h=b.valueText,e=e+b.lx+
b.markerLabelGap+b.valueWidth,k="end";"left"==b.valueAlign&&(e-=b.valueWidth,k="start");g=AmCharts.text(b.container,h,g,b.chart.fontFamily,c,k);AmCharts.setCN(d,g,"legend-value");g.translate(e,b.ly);b.entries[b.index].push(g);f+=b.valueWidth+2*b.markerLabelGap;g.dItem=a;b.valueLabels.push(g)}b.index++;d=b.markerSize;d<c+7&&(d=c+7,AmCharts.VML&&(d+=3));c=b.container.rect(a.legendEntryWidth,0,f,d,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005});c.dItem=a;b.entries[b.index-1].push(c);c.mouseover(function(c){b.rollOverLabel(a,
c)}).mouseout(function(c){b.rollOutLabel(a,c)}).click(function(c){b.clickLabel(a,c)})}},createV:function(){var a=this.markerSize;return AmCharts.polygon(this.container,[a/5,a/2,a-a/5,a/2],[a/3,a-a/5,a/5,a/1.7],this.switchColor)},createX:function(){var a=(this.markerSize-4)/2,b={stroke:this.switchColor,"stroke-width":3},c=this.container,d=AmCharts.line(c,[-a,a],[-a,a]).attr(b),a=AmCharts.line(c,[-a,a],[a,-a]).attr(b);return this.container.set([d,a])},createMarker:function(a,b,c,d,e,f,g,h){var k=this.markerSize,
l=this.container;e||(e=this.markerBorderColor);e||(e=b);isNaN(d)&&(d=this.markerBorderThickness);isNaN(f)&&(f=this.markerBorderAlpha);return AmCharts.bullet(l,a,k,b,c,d,e,f,k,g,h)},validateNow:function(){this.invalidateSize()},updateValues:function(){var a=this.valueLabels,b=this.chart,c,d=this.data;for(c=0;c<a.length;c++){var e=a[c],f=e.dItem,g=" ";if(d)f.value?e.text(f.value):e.text("");else{if(void 0!==f.type){var h=f.currentDataItem,k=this.periodValueText;f.legendPeriodValueText&&(k=f.legendPeriodValueText);
h?(g=this.valueText,f.legendValueText&&(g=f.legendValueText),g=b.formatString(g,h)):k&&(g=b.formatPeriodString(k,f))}else g=b.formatString(this.valueText,f);if(k=this.valueFunction)h&&(f=h),g=k(f,g);e.text(g)}}},renderFix:function(){if(!AmCharts.VML){var a=this.container;a&&a.renderFix()}},destroy:function(){this.div.innerHTML="";AmCharts.remove(this.set)}});AmCharts.formatMilliseconds=function(a,b){if(-1!=a.indexOf("fff")){var c=b.getMilliseconds(),d=String(c);10>c&&(d="00"+c);10<=c&&100>c&&(d="0"+c);a=a.replace(/fff/g,d)}return a};AmCharts.extractPeriod=function(a){var b=AmCharts.stripNumbers(a),c=1;b!=a&&(c=Number(a.slice(0,a.indexOf(b))));return{period:b,count:c}};
AmCharts.newDate=function(a,b){return"fff"==b?AmCharts.useUTC?new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()):new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()):new Date(a)};
AmCharts.resetDateToMin=function(a,b,c,d){void 0===d&&(d=1);var e,f,g,h,k,l,m;AmCharts.useUTC?(e=a.getUTCFullYear(),f=a.getUTCMonth(),g=a.getUTCDate(),h=a.getUTCHours(),k=a.getUTCMinutes(),l=a.getUTCSeconds(),m=a.getUTCMilliseconds(),a=a.getUTCDay()):(e=a.getFullYear(),f=a.getMonth(),g=a.getDate(),h=a.getHours(),k=a.getMinutes(),l=a.getSeconds(),m=a.getMilliseconds(),a=a.getDay());switch(b){case "YYYY":e=Math.floor(e/c)*c;f=0;g=1;m=l=k=h=0;break;case "MM":f=Math.floor(f/c)*c;g=1;m=l=k=h=0;break;case "WW":0===
a&&0<d&&(a=7);g=g-a+d;m=l=k=h=0;break;case "DD":m=l=k=h=0;break;case "hh":h=Math.floor(h/c)*c;m=l=k=0;break;case "mm":k=Math.floor(k/c)*c;m=l=0;break;case "ss":l=Math.floor(l/c)*c;m=0;break;case "fff":m=Math.floor(m/c)*c}AmCharts.useUTC?(a=new Date,a.setUTCFullYear(e,f,g),a.setUTCHours(h,k,l,m)):a=new Date(e,f,g,h,k,l,m);return a};
AmCharts.getPeriodDuration=function(a,b){void 0===b&&(b=1);var c;switch(a){case "YYYY":c=316224E5;break;case "MM":c=26784E5;break;case "WW":c=6048E5;break;case "DD":c=864E5;break;case "hh":c=36E5;break;case "mm":c=6E4;break;case "ss":c=1E3;break;case "fff":c=1}return c*b};AmCharts.intervals={s:{nextInterval:"ss",contains:1E3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}};
AmCharts.getMaxInterval=function(a,b){var c=AmCharts.intervals;return a>=c[b].contains?(a=Math.round(a/c[b].contains),b=c[b].nextInterval,AmCharts.getMaxInterval(a,b)):"ss"==b?c[b].nextInterval:b};AmCharts.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");AmCharts.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");AmCharts.monthNames="January February March April May June July August September October November December".split(" ");AmCharts.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");
AmCharts.getWeekNumber=function(a){a=new Date(a);a.setHours(0,0,0);a.setDate(a.getDate()+4-(a.getDay()||7));var b=new Date(a.getFullYear(),0,1);return Math.ceil(((a-b)/864E5+1)/7)};
AmCharts.stringToDate=function(a,b){var c={},d=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",
period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],e=!0,f=b.indexOf("AA");-1!=f&&(a.substr(f,2),"pm"==a.toLowerCase&&(e=!1));var f=b,g,h,k;for(k=0;k<d.length;k++)h=d[k].period,c[h]=0,"date"==h&&(c[h]=1);for(k=0;k<d.length;k++)if(g=d[k].pattern,h=d[k].period,-1!=b.indexOf(g)){var l=AmCharts.getFromDateString(g,a,f);b=b.replace(g,"");if("KK"==g||"K"==g||"LL"==
g||"L"==g)e||(l+=12);c[h]=l}AmCharts.useUTC?(d=new Date,d.setUTCFullYear(c.year,c.month,c.date),d.setUTCHours(c.hours,c.minutes,c.seconds,c.milliseconds)):d=new Date(c.year,c.month,c.date,c.hours,c.minutes,c.seconds,c.milliseconds);return d};AmCharts.getFromDateString=function(a,b,c){if(void 0!==b)return c=c.indexOf(a),b=b.substr(c,a.length),"0"==b.charAt(0)&&(b=b.substr(1,b.length-1)),b=Number(b),isNaN(b)&&(b=0),-1!=a.indexOf("M")&&b--,b};
AmCharts.formatDate=function(a,b,c){c||(c=AmCharts);var d,e,f,g,h,k,l,m=AmCharts.getWeekNumber(a);AmCharts.useUTC?(d=a.getUTCFullYear(),e=a.getUTCMonth(),f=a.getUTCDate(),g=a.getUTCDay(),h=a.getUTCHours(),k=a.getUTCMinutes(),l=a.getUTCSeconds(),a=a.getUTCMilliseconds()):(d=a.getFullYear(),e=a.getMonth(),f=a.getDate(),g=a.getDay(),h=a.getHours(),k=a.getMinutes(),l=a.getSeconds(),a=a.getMilliseconds());var n=String(d).substr(2,2),p=e+1;9>e&&(p="0"+p);var r="0"+g;b=b.replace(/W/g,m);m=h;24==m&&(m=0);
var q=m;10>q&&(q="0"+q);b=b.replace(/JJ/g,q);b=b.replace(/J/g,m);q=h;0===q&&(q=24,-1!=b.indexOf("H")&&f--);m=f;10>f&&(m="0"+f);var u=q;10>u&&(u="0"+u);b=b.replace(/HH/g,u);b=b.replace(/H/g,q);q=h;11<q&&(q-=12);u=q;10>u&&(u="0"+u);b=b.replace(/KK/g,u);b=b.replace(/K/g,q);q=h;0===q&&(q=12);12<q&&(q-=12);u=q;10>u&&(u="0"+u);b=b.replace(/LL/g,u);b=b.replace(/L/g,q);q=k;10>q&&(q="0"+q);b=b.replace(/NN/g,q);b=b.replace(/N/g,k);k=l;10>k&&(k="0"+k);b=b.replace(/SS/g,k);b=b.replace(/S/g,l);l=a;10>l&&(l="00"+
l);100>l&&(l="0"+l);k=a;10>k&&(k="00"+k);b=b.replace(/QQQ/g,l);b=b.replace(/QQ/g,k);b=b.replace(/Q/g,a);b=12>h?b.replace(/A/g,"am"):b.replace(/A/g,"pm");b=b.replace(/YYYY/g,"@IIII@");b=b.replace(/YY/g,"@II@");b=b.replace(/MMMM/g,"@XXXX@");b=b.replace(/MMM/g,"@XXX@");b=b.replace(/MM/g,"@XX@");b=b.replace(/M/g,"@X@");b=b.replace(/DD/g,"@RR@");b=b.replace(/D/g,"@R@");b=b.replace(/EEEE/g,"@PPPP@");b=b.replace(/EEE/g,"@PPP@");b=b.replace(/EE/g,"@PP@");b=b.replace(/E/g,"@P@");b=b.replace(/@IIII@/g,d);b=
b.replace(/@II@/g,n);b=b.replace(/@XXXX@/g,c.monthNames[e]);b=b.replace(/@XXX@/g,c.shortMonthNames[e]);b=b.replace(/@XX@/g,p);b=b.replace(/@X@/g,e+1);b=b.replace(/@RR@/g,m);b=b.replace(/@R@/g,f);b=b.replace(/@PPPP@/g,c.dayNames[g]);b=b.replace(/@PPP@/g,c.shortDayNames[g]);b=b.replace(/@PP@/g,r);return b=b.replace(/@P@/g,g)};
AmCharts.changeDate=function(a,b,c,d,e){if(AmCharts.useUTC)return AmCharts.changeUTCDate(a,b,c,d,e);var f=-1;void 0===d&&(d=!0);void 0===e&&(e=!1);!0===d&&(f=1);switch(b){case "YYYY":a.setFullYear(a.getFullYear()+c*f);d||e||a.setDate(a.getDate()+1);break;case "MM":b=a.getMonth();a.setMonth(a.getMonth()+c*f);a.getMonth()>b+c*f&&a.setDate(a.getDate()-1);d||e||a.setDate(a.getDate()+1);break;case "DD":a.setDate(a.getDate()+c*f);break;case "WW":a.setDate(a.getDate()+c*f*7);break;case "hh":a.setHours(a.getHours()+
c*f);break;case "mm":a.setMinutes(a.getMinutes()+c*f);break;case "ss":a.setSeconds(a.getSeconds()+c*f);break;case "fff":a.setMilliseconds(a.getMilliseconds()+c*f)}return a};
AmCharts.changeUTCDate=function(a,b,c,d,e){var f=-1;void 0===d&&(d=!0);void 0===e&&(e=!1);!0===d&&(f=1);switch(b){case "YYYY":a.setUTCFullYear(a.getUTCFullYear()+c*f);d||e||a.setUTCDate(a.getUTCDate()+1);break;case "MM":b=a.getUTCMonth();a.setUTCMonth(a.getUTCMonth()+c*f);a.getUTCMonth()>b+c*f&&a.setUTCDate(a.getUTCDate()-1);d||e||a.setUTCDate(a.getUTCDate()+1);break;case "DD":a.setUTCDate(a.getUTCDate()+c*f);break;case "WW":a.setUTCDate(a.getUTCDate()+c*f*7);break;case "hh":a.setUTCHours(a.getUTCHours()+
c*f);break;case "mm":a.setUTCMinutes(a.getUTCMinutes()+c*f);break;case "ss":a.setUTCSeconds(a.getUTCSeconds()+c*f);break;case "fff":a.setUTCMilliseconds(a.getUTCMilliseconds()+c*f)}return a};
AmCharts.AmSerialChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(a){this.type="serial";AmCharts.AmSerialChart.base.construct.call(this,a);this.cname="AmSerialChart";this.theme=a;this.createEvents("changed");this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=.8;this.updateScrollbar=!0;var b=new AmCharts.CategoryAxis(a);b.chart=this;this.categoryAxis=b;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=
!1;this.minSelectedTime=0;AmCharts.applyTheme(this,a,this.cname)},initChart:function(){AmCharts.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);var a=this.chartCursor;a&&(a.updateData(),a.fullWidth&&(a.fullRectSet=this.cursorLineSet));var a=this.countColumns(),b=this.graphs,d;for(d=0;d<b.length;d++)b[d].columnCount=a;this.updateScrollbar=!0;this.drawChart();
this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},handleWheelReal:function(a,b){if(!this.wheelBusy){var d=this.categoryAxis,c=d.parseDates,e=d.minDuration(),f=d=1;this.mouseWheelZoomEnabled?b||(d=-1):b&&(d=-1);var h=this.chartData.length,n=this.lastTime,g=this.firstTime;0>a?c?(h=this.endTime-this.startTime,c=this.startTime+d*e,e=this.endTime+f*e,0<f&&0<d&&e>=n&&(e=n,c=n-h),this.zoomToDates(new Date(c),new Date(e))):(0<f&&0<d&&this.end>=h-1&&(d=f=0),c=this.start+
d,e=this.end+f,this.zoomToIndexes(c,e)):c?(h=this.endTime-this.startTime,c=this.startTime-d*e,e=this.endTime-f*e,0<f&&0<d&&c<=g&&(c=g,e=g+h),this.zoomToDates(new Date(c),new Date(e))):(0<f&&0<d&&1>this.start&&(d=f=0),c=this.start-d,e=this.end-f,this.zoomToIndexes(c,e))}},validateData:function(a){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!a&&(this.endTime=this.end=this.startTime=this.start=NaN);AmCharts.AmSerialChart.base.validateData.call(this)},drawChart:function(){AmCharts.AmSerialChart.base.drawChart.call(this);
var a=this.chartData;if(AmCharts.ifArray(a)){var b=this.chartScrollbar;b&&b.draw();if(0<this.realWidth&&0<this.realHeight){var a=a.length-1,d,b=this.categoryAxis;if(b.parseDates&&!b.equalSpacing){if(b=this.startTime,d=this.endTime,isNaN(b)||isNaN(d))b=this.firstTime,d=this.lastTime}else if(b=this.start,d=this.end,isNaN(b)||isNaN(d))b=0,d=a;this.endTime=this.startTime=this.end=this.start=void 0;this.zoom(b,d)}}else this.cleanChart();this.dispDUpd();this.chartCreated=!0},cleanChart:function(){AmCharts.callMethod("destroy",
[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(a,b,d){a.chart=this;a.id=d;a.rotate=b;a.axisRenderer=AmCharts.RecAxis;a.guideFillRenderer=AmCharts.RecFill;a.axisItemRenderer=AmCharts.RecItem;a.setOrientation(!this.rotate);a.x=this.marginLeftReal;a.y=this.marginTopReal;a.dx=this.dx;a.dy=this.dy;a.width=this.plotAreaWidth-1;a.height=this.plotAreaHeight-1;a.viW=this.plotAreaWidth-1;a.viH=this.plotAreaHeight-1;a.viX=this.marginLeftReal;
a.viY=this.marginTopReal;a.marginsChanged=!0},updateValueAxes:function(){AmCharts.AmSerialChart.base.updateValueAxes.call(this);var a=this.valueAxes,b;for(b=0;b<a.length;b++){var d=a[b],c=this.rotate;d.rotate=c;d.setOrientation(c);c=this.categoryAxis;if(!c.startOnAxis||c.parseDates)d.expandMinMax=!0}},updateData:function(){this.parseData();var a=this.graphs,b,d=this.chartData;for(b=0;b<a.length;b++)a[b].data=d;0<d.length&&(this.firstTime=this.getStartTime(d[0].time),this.lastTime=this.getEndTime(d[d.length-
1].time))},getStartTime:function(a){var b=this.categoryAxis;return AmCharts.resetDateToMin(new Date(a),b.minPeriod,1,b.firstDayOfWeek).getTime()},getEndTime:function(a){var b=AmCharts.extractPeriod(this.categoryAxis.minPeriod);return AmCharts.changeDate(new Date(a),b.period,b.count,!0).getTime()-1},updateMargins:function(){AmCharts.AmSerialChart.base.updateMargins.call(this);var a=this.chartScrollbar;a&&(this.getScrollbarPosition(a,this.rotate,this.categoryAxis.position),this.adjustMargins(a,this.rotate))},
updateScrollbars:function(){AmCharts.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(a,b){var d=this.categoryAxis;d.parseDates&&!d.equalSpacing?this.timeZoom(a,b):this.indexZoom(a,b);this.updateLegendValues()},timeZoom:function(a,b){var d=this.maxSelectedTime;isNaN(d)||(b!=this.endTime&&b-a>d&&(a=b-d,this.updateScrollbar=!0),a!=this.startTime&&b-a>d&&(b=a+d,this.updateScrollbar=!0));var c=this.minSelectedTime;if(0<c&&b-a<c){var e=
Math.round(a+(b-a)/2),c=Math.round(c/2);a=e-c;b=e+c}var f=this.chartData,e=this.categoryAxis;if(AmCharts.ifArray(f)&&(a!=this.startTime||b!=this.endTime)){var h=e.minDuration(),c=this.firstTime,n=this.lastTime;a||(a=c,isNaN(d)||(a=n-d));b||(b=n);a>n&&(a=n);b<c&&(b=c);a<c&&(a=c);b>n&&(b=n);b<a&&(b=a+h);b-a<h/5&&(b<n?b=a+h/5:a=b-h/5);this.startTime=a;this.endTime=b;d=f.length-1;h=this.getClosestIndex(f,"time",a,!0,0,d);f=this.getClosestIndex(f,"time",b,!1,h,d);e.timeZoom(a,b);e.zoom(h,f);this.start=
AmCharts.fitToBounds(h,0,d);this.end=AmCharts.fitToBounds(f,0,d);this.zoomAxesAndGraphs();this.zoomScrollbar();a!=c||b!=n?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},indexZoom:function(a,b){var d=this.maxSelectedSeries;isNaN(d)||(b!=this.end&&b-a>d&&(a=b-d,this.updateScrollbar=!0),a!=this.start&&b-a>d&&(b=a+d,this.updateScrollbar=!0));if(a!=this.start||b!=this.end){var c=this.chartData.length-1;isNaN(a)&&(a=0,isNaN(d)||(a=c-d));isNaN(b)&&(b=c);b<a&&(b=
a);b>c&&(b=c);a>c&&(a=c-1);0>a&&(a=0);this.start=a;this.end=b;this.categoryAxis.zoom(a,b);this.zoomAxesAndGraphs();this.zoomScrollbar();0!==a||b!=this.chartData.length-1?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchIndexZoomEvent()}},updateGraphs:function(){AmCharts.AmSerialChart.base.updateGraphs.call(this);var a=this.graphs,b;for(b=0;b<a.length;b++){var d=a[b];d.columnWidthReal=this.columnWidth;d.categoryAxis=this.categoryAxis;AmCharts.isString(d.fillToGraph)&&(d.fillToGraph=
this.getGraphById(d.fillToGraph))}},updateColumnsDepth:function(){var a,b=this.graphs,d;AmCharts.remove(this.columnsSet);this.columnsArray=[];for(a=0;a<b.length;a++){d=b[a];var c=d.columnsArray;if(c){var e;for(e=0;e<c.length;e++)this.columnsArray.push(c[e])}}this.columnsArray.sort(this.compareDepth);if(0<this.columnsArray.length){b=this.container.set();this.columnSet.push(b);for(a=0;a<this.columnsArray.length;a++)b.push(this.columnsArray[a].column.set);d&&b.translate(d.x,d.y);this.columnsSet=b}},
compareDepth:function(a,b){return a.depth>b.depth?1:-1},zoomScrollbar:function(){var a=this.chartScrollbar,b=this.categoryAxis;a&&this.updateScrollbar&&(a.dragger.stop(),b.parseDates&&!b.equalSpacing?a.timeZoom(this.startTime,this.endTime):a.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var a=this.trendLines,b;for(b=0;b<a.length;b++){var d=a[b],d=AmCharts.processObject(d,AmCharts.TrendLine,this.theme);a[b]=d;d.chart=this;d.id||(d.id="trendLineAuto"+b+"_"+(new Date).getTime());
AmCharts.isString(d.valueAxis)&&(d.valueAxis=this.getValueAxisById(d.valueAxis));d.valueAxis||(d.valueAxis=this.valueAxes[0]);d.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var a=this.valueAxes,b;for(b=0;b<a.length;b++)a[b].zoom(this.start,this.end);a=this.graphs;for(b=0;b<a.length;b++)a[b].zoom(this.start,this.end);this.zoomTrendLines();(b=this.chartCursor)&&b.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var a=0,b=this.valueAxes.length,
d=this.graphs.length,c,e,f=!1,h,n;for(n=0;n<b;n++){e=this.valueAxes[n];var g=e.stackType;if("100%"==g||"regular"==g)for(f=!1,h=0;h<d;h++)c=this.graphs[h],c.tcc=1,c.valueAxis==e&&"column"==c.type&&(!f&&c.stackable&&(a++,f=!0),(!c.stackable&&c.clustered||c.newStack)&&a++,c.columnIndex=a-1,c.clustered||(c.columnIndex=0));if("none"==g||"3d"==g){f=!1;for(h=0;h<d;h++)c=this.graphs[h],c.valueAxis==e&&"column"==c.type&&(c.clustered?(c.tcc=1,c.newStack&&(a=0),c.hidden||(c.columnIndex=a,a++)):c.hidden||(f=
!0,c.tcc=1,c.columnIndex=0));f&&0==a&&(a=1)}if("3d"==g){e=1;for(n=0;n<d;n++)c=this.graphs[n],c.newStack&&e++,c.depthCount=e,c.tcc=a;a=e}}return a},parseData:function(){AmCharts.AmSerialChart.base.parseData.call(this);this.parseSerialData()},getCategoryIndexByValue:function(a){var b=this.chartData,d,c;for(c=0;c<b.length;c++)b[c].category==a&&(d=c);return d},handleCursorChange:function(a){this.updateLegendValues(a.index)},handleCursorZoom:function(a){this.updateScrollbar=!0;this.zoom(a.start,a.end)},
handleScrollbarZoom:function(a){this.updateScrollbar=!1;this.zoom(a.start,a.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var a={type:"zoomed"};a.startDate=new Date(this.startTime);a.endDate=new Date(this.endTime);a.startIndex=this.start;a.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=a.startDate;this.endDate=a.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var b=this.categoryAxis,
d=AmCharts.extractPeriod(b.minPeriod).period,b=b.dateFormatsObject[d];a.startValue=AmCharts.formatDate(a.startDate,b,this);a.endValue=AmCharts.formatDate(a.endDate,b,this);a.chart=this;a.target=this;this.fire(a.type,a)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start;this.endIndex=this.end;var a=this.chartData;if(AmCharts.ifArray(a)&&!isNaN(this.start)&&!isNaN(this.end)){var b={chart:this,target:this,type:"zoomed"};b.startIndex=
this.start;b.endIndex=this.end;b.startValue=a[this.start].category;b.endValue=a[this.end].category;this.categoryAxis.parseDates&&(this.startTime=a[this.start].time,this.endTime=a[this.end].time,b.startDate=new Date(this.startTime),b.endDate=new Date(this.endTime));this.prevStartIndex=this.start;this.prevEndIndex=this.end;this.fire(b.type,b)}}},updateLegendValues:function(a){var b=this.graphs,d;for(d=0;d<b.length;d++){var c=b[d];isNaN(a)?c.currentDataItem=void 0:c.currentDataItem=this.chartData[a].axes[c.valueAxis.id].graphs[c.id]}this.legend&&
this.legend.updateValues()},getClosestIndex:function(a,b,d,c,e,f){0>e&&(e=0);f>a.length-1&&(f=a.length-1);var h=e+Math.round((f-e)/2),n=a[h][b];if(1>=f-e){if(c)return e;c=a[f][b];return Math.abs(a[e][b]-d)<Math.abs(c-d)?e:f}return d==n?h:d<n?this.getClosestIndex(a,b,d,c,e,h):this.getClosestIndex(a,b,d,c,h,f)},zoomToIndexes:function(a,b){this.updateScrollbar=!0;var d=this.chartData;if(d){var c=d.length;0<c&&(0>a&&(a=0),b>c-1&&(b=c-1),c=this.categoryAxis,c.parseDates&&!c.equalSpacing?this.zoom(d[a].time,
this.getEndTime(d[b].time)):this.zoom(a,b))}},zoomToDates:function(a,b){this.updateScrollbar=!0;var d=this.chartData;if(this.categoryAxis.equalSpacing){var c=this.getClosestIndex(d,"time",a.getTime(),!0,0,d.length);b=AmCharts.resetDateToMin(b,this.categoryAxis.minPeriod,1);d=this.getClosestIndex(d,"time",b.getTime(),!1,0,d.length);this.zoom(c,d)}else this.zoom(a.getTime(),b.getTime())},zoomToCategoryValues:function(a,b){this.updateScrollbar=!0;this.zoom(this.getCategoryIndexByValue(a),this.getCategoryIndexByValue(b))},
formatPeriodString:function(a,b){if(b){var d=["value","open","low","high","close"],c="value open low high close average sum count".split(" "),e=b.valueAxis,f=this.chartData,h=b.numberFormatter;h||(h=this.nf);for(var n=0;n<d.length;n++){for(var g=d[n],k=0,l=0,m,u,w,t,p,x=0,r=0,A,q,v,y,C,D=this.start;D<=this.end;D++){var z=f[D];if(z&&(z=z.axes[e.id].graphs[b.id])){if(z.values){var B=z.values[g];if(this.rotate){if(0>z.x||z.x>z.graph.height)B=NaN}else if(0>z.x||z.x>z.graph.width)B=NaN;if(!isNaN(B)){isNaN(m)&&
(m=B);u=B;if(isNaN(w)||w>B)w=B;if(isNaN(t)||t<B)t=B;p=AmCharts.getDecimals(k);var F=AmCharts.getDecimals(B),k=k+B,k=AmCharts.roundTo(k,Math.max(p,F));l++;p=k/l}}if(z.percents&&(z=z.percents[g],!isNaN(z))){isNaN(A)&&(A=z);q=z;if(isNaN(v)||v>z)v=z;if(isNaN(y)||y<z)y=z;C=AmCharts.getDecimals(x);B=AmCharts.getDecimals(z);x+=z;x=AmCharts.roundTo(x,Math.max(C,B));r++;C=x/r}}}x={open:A,close:q,high:y,low:v,average:C,sum:x,count:r};a=AmCharts.formatValue(a,{open:m,close:u,high:t,low:w,average:p,sum:k,count:l},
c,h,g+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);a=AmCharts.formatValue(a,x,c,this.pf,"percents\\."+g+"\\.")}}return a=AmCharts.cleanFromEmpty(a)},formatString:function(a,b,d){var c=b.graph;if(-1!=a.indexOf("[[category]]")){var e=b.serialDataItem.category;if(this.categoryAxis.parseDates){var f=this.balloonDateFormat,h=this.chartCursor;h&&(f=h.categoryBalloonDateFormat);-1!=a.indexOf("[[category]]")&&(f=AmCharts.formatDate(e,f,this),-1!=f.indexOf("fff")&&(f=AmCharts.formatMilliseconds(f,
e)),e=f)}a=a.replace(/\[\[category\]\]/g,String(e))}c=c.numberFormatter;c||(c=this.nf);e=b.graph.valueAxis;(f=e.duration)&&!isNaN(b.values.value)&&(e=AmCharts.formatDuration(b.values.value,f,"",e.durationUnits,e.maxInterval,c),a=a.replace(RegExp("\\[\\[value\\]\\]","g"),e));e="value open low high close total".split(" ");f=this.pf;a=AmCharts.formatValue(a,b.percents,e,f,"percents\\.");a=AmCharts.formatValue(a,b.values,e,c,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);a=
AmCharts.formatValue(a,b.values,["percents"],f);-1!=a.indexOf("[[")&&(a=AmCharts.formatDataContextValue(a,b.dataContext));return a=AmCharts.AmSerialChart.base.formatString.call(this,a,b,d)},addChartScrollbar:function(a){AmCharts.callMethod("destroy",[this.chartScrollbar]);a&&(a.chart=this,this.listenTo(a,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===a.width&&(a.width=a.scrollbarHeight):void 0===a.height&&(a.height=a.scrollbarHeight);this.chartScrollbar=a},removeChartScrollbar:function(){AmCharts.callMethod("destroy",
[this.chartScrollbar]);this.chartScrollbar=null},handleReleaseOutside:function(a){AmCharts.AmSerialChart.base.handleReleaseOutside.call(this,a);AmCharts.callMethod("handleReleaseOutside",[this.chartScrollbar])}});AmCharts.Cuboid=AmCharts.Class({construct:function(a,b,d,c,e,f,h,n,g,k,l,m,u,w,t,p,x){this.set=a.set();this.container=a;this.h=Math.round(d);this.w=Math.round(b);this.dx=c;this.dy=e;this.colors=f;this.alpha=h;this.bwidth=n;this.bcolor=g;this.balpha=k;this.dashLength=w;this.topRadius=p;this.pattern=t;this.rotate=u;this.bcn=x;u?0>b&&0===l&&(l=180):0>d&&270==l&&(l=90);this.gradientRotation=l;0===c&&0===e&&(this.cornerRadius=m);this.draw()},draw:function(){var a=this.set;a.clear();var b=this.container,
d=b.chart,c=this.w,e=this.h,f=this.dx,h=this.dy,n=this.colors,g=this.alpha,k=this.bwidth,l=this.bcolor,m=this.balpha,u=this.gradientRotation,w=this.cornerRadius,t=this.dashLength,p=this.pattern,x=this.topRadius,r=this.bcn,A=n,q=n;"object"==typeof n&&(A=n[0],q=n[n.length-1]);var v,y,C,D,z,B,F,K,L,P=g;p&&(g=0);var E,G,H,I,J=this.rotate;if(0<Math.abs(f)||0<Math.abs(h))if(isNaN(x))F=q,q=AmCharts.adjustLuminosity(A,-.2),q=AmCharts.adjustLuminosity(A,-.2),v=AmCharts.polygon(b,[0,f,c+f,c,0],[0,h,h,0,0],
q,g,1,l,0,u),0<m&&(L=AmCharts.line(b,[0,f,c+f],[0,h,h],l,m,k,t)),y=AmCharts.polygon(b,[0,0,c,c,0],[0,e,e,0,0],q,g,1,l,0,u),y.translate(f,h),0<m&&(C=AmCharts.line(b,[f,f],[h,h+e],l,m,k,t)),D=AmCharts.polygon(b,[0,0,f,f,0],[0,e,e+h,h,0],q,g,1,l,0,u),z=AmCharts.polygon(b,[c,c,c+f,c+f,c],[0,e,e+h,h,0],q,g,1,l,0,u),0<m&&(B=AmCharts.line(b,[c,c+f,c+f,c],[0,h,e+h,e],l,m,k,t)),q=AmCharts.adjustLuminosity(F,.2),F=AmCharts.polygon(b,[0,f,c+f,c,0],[e,e+h,e+h,e,e],q,g,1,l,0,u),0<m&&(K=AmCharts.line(b,[0,f,c+
f],[e,e+h,e+h],l,m,k,t));else{var M,N,O;J?(M=e/2,q=f/2,O=e/2,N=c+f/2,G=Math.abs(e/2),E=Math.abs(f/2)):(q=c/2,M=h/2,N=c/2,O=e+h/2+1,E=Math.abs(c/2),G=Math.abs(h/2));H=E*x;I=G*x;.1<E&&.1<E&&(v=AmCharts.circle(b,E,A,g,k,l,m,!1,G),v.translate(q,M));.1<H&&.1<H&&(F=AmCharts.circle(b,H,AmCharts.adjustLuminosity(A,.5),g,k,l,m,!1,I),F.translate(N,O))}g=P;1>Math.abs(e)&&(e=0);1>Math.abs(c)&&(c=0);!isNaN(x)&&(0<Math.abs(f)||0<Math.abs(h))?(n=[A],n={fill:n,stroke:l,"stroke-width":k,"stroke-opacity":m,"fill-opacity":g},
J?(g="M0,0 L"+c+","+(e/2-e/2*x),k=" B",0<c&&(k=" A"),AmCharts.VML?(g+=k+Math.round(c-H)+","+Math.round(e/2-I)+","+Math.round(c+H)+","+Math.round(e/2+I)+","+c+",0,"+c+","+e,g=g+(" L0,"+e)+(k+Math.round(-E)+","+Math.round(e/2-G)+","+Math.round(E)+","+Math.round(e/2+G)+",0,"+e+",0,0")):(g+="A"+H+","+I+",0,0,0,"+c+","+(e-e/2*(1-x))+"L0,"+e,g+="A"+E+","+G+",0,0,1,0,0"),E=90):(k=c/2-c/2*x,g="M0,0 L"+k+","+e,AmCharts.VML?(g="M0,0 L"+k+","+e,k=" B",0>e&&(k=" A"),g+=k+Math.round(c/2-H)+","+Math.round(e-I)+
","+Math.round(c/2+H)+","+Math.round(e+I)+",0,"+e+","+c+","+e,g+=" L"+c+",0",g+=k+Math.round(c/2+E)+","+Math.round(G)+","+Math.round(c/2-E)+","+Math.round(-G)+","+c+",0,0,0"):(g+="A"+H+","+I+",0,0,0,"+(c-c/2*(1-x))+","+e+"L"+c+",0",g+="A"+E+","+G+",0,0,1,0,0"),E=180),b=b.path(g).attr(n),b.gradient("linearGradient",[A,AmCharts.adjustLuminosity(A,-.3),AmCharts.adjustLuminosity(A,-.3),A],E),J?b.translate(f/2,0):b.translate(0,h/2)):b=0===e?AmCharts.line(b,[0,c],[0,0],l,m,k,t):0===c?AmCharts.line(b,[0,
0],[0,e],l,m,k,t):0<w?AmCharts.rect(b,c,e,n,g,k,l,m,w,u,t):AmCharts.polygon(b,[0,0,c,c,0],[0,e,e,0,0],n,g,k,l,m,u,!1,t);c=isNaN(x)?0>e?[v,L,y,C,D,z,B,F,K,b]:[F,K,y,C,D,z,v,L,B,b]:J?0<c?[v,b,F]:[F,b,v]:0>e?[v,b,F]:[F,b,v];AmCharts.setCN(d,b,r+"front");AmCharts.setCN(d,y,r+"back");AmCharts.setCN(d,F,r+"top");AmCharts.setCN(d,v,r+"bottom");AmCharts.setCN(d,D,r+"left");AmCharts.setCN(d,z,r+"right");for(v=0;v<c.length;v++)if(y=c[v])a.push(y),AmCharts.setCN(d,y,r+"element");p&&b.pattern(p)},width:function(a){isNaN(a)&&
(a=0);this.w=Math.round(a);this.draw()},height:function(a){isNaN(a)&&(a=0);this.h=Math.round(a);this.draw()},animateHeight:function(a,b){var d=this;d.easing=b;d.totalFrames=Math.round(1E3*a/AmCharts.updateRate);d.rh=d.h;d.frame=0;d.height(1);setTimeout(function(){d.updateHeight.call(d)},AmCharts.updateRate)},updateHeight:function(){var a=this;a.frame++;var b=a.totalFrames;a.frame<=b&&(b=a.easing(0,a.frame,1,a.rh-1,b),a.height(b),setTimeout(function(){a.updateHeight.call(a)},AmCharts.updateRate))},
animateWidth:function(a,b){var d=this;d.easing=b;d.totalFrames=Math.round(1E3*a/AmCharts.updateRate);d.rw=d.w;d.frame=0;d.width(1);setTimeout(function(){d.updateWidth.call(d)},AmCharts.updateRate)},updateWidth:function(){var a=this;a.frame++;var b=a.totalFrames;a.frame<=b&&(b=a.easing(0,a.frame,1,a.rw-1,b),a.width(b),setTimeout(function(){a.updateWidth.call(a)},AmCharts.updateRate))}});AmCharts.CategoryAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(a){this.cname="CategoryAxis";AmCharts.CategoryAxis.base.construct.call(this,a);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.firstDayOfWeek=1;this.gridPosition="middle";this.markPeriodChange=this.boldPeriodBeginning=!0;this.safeDistance=30;this.centerLabelOnFullPeriod=!0;this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",
count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},
{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={};this.nextPeriod.fff="ss";this.nextPeriod.ss="mm";this.nextPeriod.mm="hh";this.nextPeriod.hh="DD";this.nextPeriod.DD="MM";this.nextPeriod.MM="YYYY";AmCharts.applyTheme(this,
a,this.cname)},draw:function(){AmCharts.CategoryAxis.base.draw.call(this);this.generateDFObject();var a=this.chart.chartData;this.data=a;if(AmCharts.ifArray(a)){var b,d=this.chart;"scrollbar"!=this.id?(AmCharts.setCN(d,this.set,"category-axis"),AmCharts.setCN(d,this.labelsSet,"category-axis"),AmCharts.setCN(d,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var c=this.start,e=this.labelFrequency,f=0;b=this.end-c+1;var h=this.gridCountR,n=this.showFirstLabel,g=this.showLastLabel,k,l="",
m=AmCharts.extractPeriod(this.minPeriod);k=AmCharts.getPeriodDuration(m.period,m.count);var u,w,t,p,x,r;u=this.rotate;var A=this.firstDayOfWeek,q=this.boldPeriodBeginning,a=AmCharts.resetDateToMin(new Date(a[a.length-1].time+1.05*k),this.minPeriod,1,A).getTime(),v;this.endTime>a&&(this.endTime=a);r=this.minorGridEnabled;var y,a=this.gridAlpha,C;if(this.parseDates&&!this.equalSpacing){this.timeDifference=this.endTime-this.startTime;c=this.choosePeriod(0);e=c.period;u=c.count;w=AmCharts.getPeriodDuration(e,
u);w<k&&(e=m.period,u=m.count,w=k);t=e;"WW"==t&&(t="DD");this.stepWidth=this.getStepWidth(this.timeDifference);var h=Math.ceil(this.timeDifference/w)+5,D=l=AmCharts.resetDateToMin(new Date(this.startTime-w),e,u,A).getTime();t==e&&1==u&&this.centerLabelOnFullPeriod&&(x=w*this.stepWidth);this.cellWidth=k*this.stepWidth;b=Math.round(l/w);c=-1;b/2==Math.round(b/2)&&(c=-2,l-=w);var z=d.firstTime,B=0;r&&1<u&&(y=this.chooseMinorFrequency(u),C=AmCharts.getPeriodDuration(e,y));if(0<this.gridCountR)for(b=c;b<=
h;b++){m=z+w*(b+Math.floor((D-z)/w))-B;"DD"==e&&(m+=36E5);m=AmCharts.resetDateToMin(new Date(m),e,u,A).getTime();"MM"==e&&(r=(m-l)/w,1.5<=(m-l)/w&&(m=m-(r-1)*w+AmCharts.getPeriodDuration("DD",3),m=AmCharts.resetDateToMin(new Date(m),e,1).getTime(),B+=w));k=(m-this.startTime)*this.stepWidth;r=!1;this.nextPeriod[t]&&(r=this.checkPeriodChange(this.nextPeriod[t],1,m,l,t));v=!1;r&&this.markPeriodChange?(r=this.dateFormatsObject[this.nextPeriod[t]],this.twoLineMode&&(r=this.dateFormatsObject[t]+"\n"+r,
r=AmCharts.fixBrakes(r)),v=!0):r=this.dateFormatsObject[t];q||(v=!1);l=AmCharts.formatDate(new Date(m),r,d);if(b==c&&!n||b==h&&!g)l=" ";this.labelFunction&&(l=this.labelFunction(l,new Date(m),this,e,u,p).toString());this.boldLabels&&(v=!0);p=new this.axisItemRenderer(this,k,l,!1,x,0,!1,v);this.pushAxisItem(p);p=l=m;if(!isNaN(y))for(k=1;k<u;k+=y)this.gridAlpha=this.minorGridAlpha,r=m+C*k,r=AmCharts.resetDateToMin(new Date(r),e,y,A).getTime(),r=new this.axisItemRenderer(this,(r-this.startTime)*this.stepWidth),
this.pushAxisItem(r);this.gridAlpha=a}}else if(!this.parseDates){if(this.cellWidth=this.getStepWidth(b),b<h&&(h=b),f+=this.start,this.stepWidth=this.getStepWidth(b),0<h)for(q=Math.floor(b/h),y=this.chooseMinorFrequency(q),k=f,k/2==Math.round(k/2)&&k--,0>k&&(k=0),h=0,this.end-k+1>=this.autoRotateCount&&(this.labelRotation=this.autoRotateAngle),b=k;b<=this.end+2;b++){p=!1;0<=b&&b<this.data.length?(t=this.data[b],l=t.category,p=t.forceShow):l="";if(r&&!isNaN(y))if(b/y==Math.round(b/y)||p)b/q==Math.round(b/
q)||p||(this.gridAlpha=this.minorGridAlpha,l=void 0);else continue;else if(b/q!=Math.round(b/q)&&!p)continue;k=this.getCoordinate(b-f);p=0;"start"==this.gridPosition&&(k-=this.cellWidth/2,p=this.cellWidth/2);A=!0;D=p;"start"==this.tickPosition&&(D=0,A=!1,p=0);if(b==c&&!n||b==this.end&&!g)l=void 0;Math.round(h/e)!=h/e&&(l=void 0);h++;x=this.cellWidth;u&&(x=NaN);this.labelFunction&&t&&(l=this.labelFunction(l,t,this));l=AmCharts.fixBrakes(l);v=!1;this.boldLabels&&(v=!0);b>this.end&&"start"==this.tickPosition&&
(l=" ");p=new this.axisItemRenderer(this,k,l,A,x,p,void 0,v,D,!1,t.labelColor,t.className);p.serialDataItem=t;this.pushAxisItem(p);this.gridAlpha=a}}else if(this.parseDates&&this.equalSpacing){f=this.start;this.startTime=this.data[this.start].time;this.endTime=this.data[this.end].time;this.timeDifference=this.endTime-this.startTime;c=this.choosePeriod(0);e=c.period;u=c.count;w=AmCharts.getPeriodDuration(e,u);w<k&&(e=m.period,u=m.count,w=k);t=e;"WW"==t&&(t="DD");this.stepWidth=this.getStepWidth(b);
h=Math.ceil(this.timeDifference/w)+1;l=AmCharts.resetDateToMin(new Date(this.startTime-w),e,u,A).getTime();this.cellWidth=this.getStepWidth(b);b=Math.round(l/w);c=-1;b/2==Math.round(b/2)&&(c=-2,l-=w);k=this.start;k/2==Math.round(k/2)&&k--;0>k&&(k=0);x=this.end+2;x>=this.data.length&&(x=this.data.length);C=!1;C=!n;this.previousPos=-1E3;20<this.labelRotation&&(this.safeDistance=5);w=k;if(this.data[k].time!=AmCharts.resetDateToMin(new Date(this.data[k].time),e,u,A).getTime())for(A=0,v=l,b=k;b<x;b++)m=
this.data[b].time,this.checkPeriodChange(e,u,m,v)&&(A++,2<=A&&(w=b,b=x),v=m);r&&1<u&&(y=this.chooseMinorFrequency(u),AmCharts.getPeriodDuration(e,y));if(0<this.gridCountR)for(b=k;b<x;b++)if(m=this.data[b].time,this.checkPeriodChange(e,u,m,l)&&b>=w){k=this.getCoordinate(b-this.start);r=!1;this.nextPeriod[t]&&(r=this.checkPeriodChange(this.nextPeriod[t],1,m,l,t));v=!1;r&&this.markPeriodChange?(r=this.dateFormatsObject[this.nextPeriod[t]],v=!0):r=this.dateFormatsObject[t];l=AmCharts.formatDate(new Date(m),
r,d);if(b==c&&!n||b==h&&!g)l=" ";C?C=!1:(q||(v=!1),k-this.previousPos>this.safeDistance*Math.cos(this.labelRotation*Math.PI/180)&&(this.labelFunction&&(l=this.labelFunction(l,new Date(m),this,e,u,p)),this.boldLabels&&(v=!0),p=new this.axisItemRenderer(this,k,l,void 0,void 0,void 0,void 0,v),r=p.graphics(),this.pushAxisItem(p),p=r.getBBox().width,AmCharts.isModern||(p-=k),this.previousPos=k+p));p=l=m}else isNaN(y)||(this.checkPeriodChange(e,y,m,D)&&(this.gridAlpha=this.minorGridAlpha,k=this.getCoordinate(b-
this.start),r=new this.axisItemRenderer(this,k),this.pushAxisItem(r),D=m),this.gridAlpha=a)}for(b=0;b<this.data.length;b++)if(n=this.data[b])g=this.parseDates&&!this.equalSpacing?Math.round((n.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(b-f),n.x[this.id]=g;n=this.guides.length;for(b=0;b<n;b++)g=this.guides[b],q=q=q=a=c=NaN,y=g.above,g.toCategory&&(q=d.getCategoryIndexByValue(g.toCategory),isNaN(q)||(c=this.getCoordinate(q-f),g.expand&&(c+=this.cellWidth/2),p=new this.axisItemRenderer(this,
c,"",!0,NaN,NaN,g),this.pushAxisItem(p,y))),g.category&&(q=d.getCategoryIndexByValue(g.category),isNaN(q)||(a=this.getCoordinate(q-f),g.expand&&(a-=this.cellWidth/2),q=(c-a)/2,p=new this.axisItemRenderer(this,a,g.label,!0,NaN,q,g),this.pushAxisItem(p,y))),g.toDate&&(g.toDate instanceof Date||(g.toDate=AmCharts.stringToDate(g.toDate,d.dataDateFormat)),this.equalSpacing?(q=d.getClosestIndex(this.data,"time",g.toDate.getTime(),!1,0,this.data.length-1),isNaN(q)||(c=this.getCoordinate(q-f))):c=(g.toDate.getTime()-
this.startTime)*this.stepWidth,p=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,g),this.pushAxisItem(p,y)),g.date&&(g.date instanceof Date||(g.date=AmCharts.stringToDate(g.date,d.dataDateFormat)),this.equalSpacing?(q=d.getClosestIndex(this.data,"time",g.date.getTime(),!1,0,this.data.length-1),isNaN(q)||(a=this.getCoordinate(q-f))):a=(g.date.getTime()-this.startTime)*this.stepWidth,q=(c-a)/2,p="H"==this.orientation?new this.axisItemRenderer(this,a,g.label,!1,2*q,NaN,g):new this.axisItemRenderer(this,
a,g.label,!1,NaN,q,g),this.pushAxisItem(p,y)),(0<c||0<a)&&(c<this.width||a<this.width)&&(c=new this.guideFillRenderer(this,a,c,g),a=c.graphics(),this.pushAxisItem(c,y),g.graphics=a,a.index=b,g.balloonText&&this.addEventListeners(a,g))}this.axisCreated=!0;d=this.x;f=this.y;this.set.translate(d,f);this.labelsSet.translate(d,f);this.positionTitle();(d=this.axisLine.set)&&d.toFront();d=this.getBBox().height;2<d-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=
!1);this.previousHeight=d},chooseMinorFrequency:function(a){for(var b=10;0<b;b--)if(a/b==Math.round(a/b))return a/b},choosePeriod:function(a){var b=AmCharts.getPeriodDuration(this.periods[a].period,this.periods[a].count),d=Math.ceil(this.timeDifference/b),c=this.periods;return this.timeDifference<b&&0<a?c[a-1]:d<=this.gridCountR?c[a]:a+1<c.length?this.choosePeriod(a+1):c[a]},getStepWidth:function(a){var b;this.startOnAxis?(b=this.axisWidth/(a-1),1==a&&(b=this.axisWidth)):b=this.axisWidth/a;return b},
getCoordinate:function(a){a*=this.stepWidth;this.startOnAxis||(a+=this.stepWidth/2);return Math.round(a)},timeZoom:function(a,b){this.startTime=a;this.endTime=b},minDuration:function(){var a=AmCharts.extractPeriod(this.minPeriod);return AmCharts.getPeriodDuration(a.period,a.count)},checkPeriodChange:function(a,b,d,c,e){d=new Date(d);var f=new Date(c),h=this.firstDayOfWeek;c=b;"DD"==a&&(b=1);d=AmCharts.resetDateToMin(d,a,b,h).getTime();b=AmCharts.resetDateToMin(f,a,b,h).getTime();return"DD"==a&&"hh"!=
e&&d-b<=AmCharts.getPeriodDuration(a,c)?!1:d!=b?!0:!1},generateDFObject:function(){this.dateFormatsObject={};var a;for(a=0;a<this.dateFormats.length;a++){var b=this.dateFormats[a];this.dateFormatsObject[b.period]=b.format}},xToIndex:function(a){var b=this.data,d=this.chart,c=d.rotate,e=this.stepWidth;this.parseDates&&!this.equalSpacing?(a=this.startTime+Math.round(a/e)-this.minDuration()/2,d=d.getClosestIndex(b,"time",a,!1,this.start,this.end+1)):(this.startOnAxis||(a-=e/2),d=this.start+Math.round(a/
e));var d=AmCharts.fitToBounds(d,0,b.length-1),f;b[d]&&(f=b[d].x[this.id]);c?f>this.height+1&&d--:f>this.width+1&&d--;0>f&&d++;return d=AmCharts.fitToBounds(d,0,b.length-1)},dateToCoordinate:function(a){return this.parseDates&&!this.equalSpacing?(a.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(a=this.chart.getClosestIndex(this.data,"time",a.getTime(),!1,0,this.data.length-1),this.getCoordinate(a-this.start)):NaN},categoryToCoordinate:function(a){return this.chart?(a=
this.chart.getCategoryIndexByValue(a),this.getCoordinate(a-this.start)):NaN},coordinateToDate:function(a){return this.equalSpacing?(a=this.xToIndex(a),new Date(this.data[a].time)):new Date(this.startTime+a/this.stepWidth)}});
AmCharts.themes.light = {

	themeName:"light",

	AmChart: {
		color: "#000000", backgroundColor: "#FFFFFF"
	},

	AmCoordinateChart: {
		colors: ["#67b7dc", "#fdd400", "#84b761", "#cc4748", "#cd82ad", "#2f4074", "#448e4d", "#b7b83f", "#b9783f", "#b93e3d", "#913167"]
	},

	AmStockChart: {
		colors: ["#67b7dc", "#fdd400", "#84b761", "#cc4748", "#cd82ad", "#2f4074", "#448e4d", "#b7b83f", "#b9783f", "#b93e3d", "#913167"]
	},

	AmSlicedChart: {
		colors: ["#67b7dc", "#fdd400", "#84b761", "#cc4748", "#cd82ad", "#2f4074", "#448e4d", "#b7b83f", "#b9783f", "#b93e3d", "#913167"],
		outlineAlpha: 1,
		outlineThickness: 2,
		labelTickColor: "#000000",
		labelTickAlpha: 0.3
	},

	AmRectangularChart: {
		zoomOutButtonColor: '#000000',
		zoomOutButtonRollOverAlpha: 0.15,
		zoomOutButtonImage: "lens.png"
	},

	AxisBase: {
		axisColor: "#000000",
		axisAlpha: 0.3,
		gridAlpha: 0.1,
		gridColor: "#000000"
	},

	ChartScrollbar: {
		backgroundColor: "#000000",
		backgroundAlpha: 0.12,
		graphFillAlpha: 0.5,
		graphLineAlpha: 0,
		selectedBackgroundColor: "#FFFFFF",
		selectedBackgroundAlpha: 0.4,
		gridAlpha: 0.15
	},

	ChartCursor: {
		cursorColor: "#000000",
		color: "#FFFFFF",
		cursorAlpha: 0.5
	},

	AmLegend: {
		color: "#000000"
	},

	AmGraph: {
		lineAlpha: 0.9
	},
	GaugeArrow: {
		color: "#000000",
		alpha: 0.8,
		nailAlpha: 0,
		innerRadius: "40%",
		nailRadius: 15,
		startWidth: 15,
		borderAlpha: 0.8,
		nailBorderAlpha: 0
	},

	GaugeAxis: {
		tickColor: "#000000",
		tickAlpha: 1,
		tickLength: 15,
		minorTickLength: 8,
		axisThickness: 3,
		axisColor: '#000000',
		axisAlpha: 1,
		bandAlpha: 0.8
	},

	TrendLine: {
		lineColor: "#c03246",
		lineAlpha: 0.8
	},

	// ammap
	AreasSettings: {
		alpha: 0.8,
		color: "#67b7dc",
		colorSolid: "#003767",
		unlistedAreasAlpha: 0.4,
		unlistedAreasColor: "#000000",
		outlineColor: "#FFFFFF",
		outlineAlpha: 0.5,
		outlineThickness: 0.5,
		rollOverColor: "#3c5bdc",
		rollOverOutlineColor: "#FFFFFF",
		selectedOutlineColor: "#FFFFFF",
		selectedColor: "#f15135",
		unlistedAreasOutlineColor: "#FFFFFF",
		unlistedAreasOutlineAlpha: 0.5
	},

	LinesSettings: {
		color: "#000000",
		alpha: 0.8
	},

	ImagesSettings: {
		alpha: 0.8,
		labelColor: "#000000",
		color: "#000000",
		labelRollOverColor: "#3c5bdc"
	},

	ZoomControl: {
		buttonRollOverColor: "#3c5bdc",
		buttonFillColor: "#3994e2",
		buttonBorderColor: "#3994e2",
		buttonFillAlpha: 0.8,
		gridBackgroundColor: "#FFFFFF",
		buttonBorderAlpha:0,
		buttonCornerRadius:2,
		gridColor:"#FFFFFF",
		gridBackgroundColor:"#000000",
		buttonIconAlpha:0.6,
		gridAlpha: 0.6,
		buttonSize:20
	},

	SmallMap: {
		mapColor: "#000000",
		rectangleColor: "#f15135",
		backgroundColor: "#FFFFFF",
		backgroundAlpha: 0.7,
		borderThickness: 1,
		borderAlpha: 0.8
	},

	// the defaults below are set using CSS syntax, you can use any existing css property
	// if you don't use Stock chart, you can delete lines below
	PeriodSelector: {
		color: "#000000"
	},

	PeriodButton: {
		color: "#000000",
		background: "transparent",
		opacity: 0.7,
		border: "1px solid rgba(0, 0, 0, .3)",
		MozBorderRadius: "5px",
		borderRadius: "5px",
		margin: "1px",
		outline: "none",
		boxSizing: "border-box"
	},

	PeriodButtonSelected: {
		color: "#000000",
		backgroundColor: "#b9cdf5",
		border: "1px solid rgba(0, 0, 0, .3)",
		MozBorderRadius: "5px",
		borderRadius: "5px",
		margin: "1px",
		outline: "none",
		opacity: 1,
		boxSizing: "border-box"
	},

	PeriodInputField: {
		color: "#000000",
		background: "transparent",
		border: "1px solid rgba(0, 0, 0, .3)",
		outline: "none"
	},

	DataSetSelector: {

		color: "#000000",
		selectedBackgroundColor: "#b9cdf5",
		rollOverBackgroundColor: "#a8b0e4"
	},

	DataSetCompareList: {
		color: "#000000",
		lineHeight: "100%",
		boxSizing: "initial",
		webkitBoxSizing: "initial",
		border: "1px solid rgba(0, 0, 0, .3)"
	},

	DataSetSelect: {
		border: "1px solid rgba(0, 0, 0, .3)",
		outline: "none"
	}

};